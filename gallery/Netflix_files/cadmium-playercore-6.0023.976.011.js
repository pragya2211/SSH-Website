i4YY.X1f=function(p1f){return{r1f:function(){var O1f,j1f=arguments;switch(p1f){case 0:O1f=j1f[0]-j1f[1];break;case 1:O1f=j1f[2]+j1f[0]-j1f[1];break;case 2:O1f=j1f[1]+j1f[0];break;}return O1f;},F1f:function(V1f){p1f=V1f;}};}();i4YY.R1w=function (){return typeof i4YY.y8w.F1f==='function'?i4YY.y8w.F1f.apply(i4YY.y8w,arguments):i4YY.y8w.F1f;};i4YY.X63=function(A63){return{r1f:function(){var N63,L63=arguments;switch(A63){case 0:N63=L63[0]-L63[1];break;case 1:N63=L63[0]-L63[1]*L63[2];break;}return N63;},F1f:function(O63){A63=O63;}};}();i4YY.E7o=function (){return typeof i4YY.W7o.r1f==='function'?i4YY.W7o.r1f.apply(i4YY.W7o,arguments):i4YY.W7o.r1f;};i4YY.P5z=function (){return typeof i4YY.d5z.r1f==='function'?i4YY.d5z.r1f.apply(i4YY.d5z,arguments):i4YY.d5z.r1f;};i4YY.V1w=function (){return typeof i4YY.y8w.r1f==='function'?i4YY.y8w.r1f.apply(i4YY.y8w,arguments):i4YY.y8w.r1f;};i4YY.m5b=function(b5b){return{r1f:function(){var v5b,F5b=arguments;switch(b5b){case 0:v5b=F5b[0]-F5b[1];break;}return v5b;},F1f:function(N5b){b5b=N5b;}};}();i4YY.k6N=function(Q6N){return{r1f:function(){var M6N,R6N=arguments;switch(Q6N){case 2:M6N=R6N[0]/R6N[1];break;case 5:M6N=R6N[0]/R6N[2]|R6N[1];break;case 0:M6N=R6N[1]+R6N[0]/R6N[3]*R6N[2];break;case 3:M6N=(R6N[0]/R6N[3]|R6N[1])*R6N[2];break;case 4:M6N=R6N[1]-R6N[0];break;case 1:M6N=R6N[0]*R6N[1]/R6N[3]|R6N[2];break;}return M6N;},F1f:function(K6N){Q6N=K6N;}};}();i4YY.w5b=function (){return typeof i4YY.m5b.r1f==='function'?i4YY.m5b.r1f.apply(i4YY.m5b,arguments):i4YY.m5b.r1f;};i4YY.V4U=function (){return typeof i4YY.C4U.r1f==='function'?i4YY.C4U.r1f.apply(i4YY.C4U,arguments):i4YY.C4U.r1f;};i4YY.e93=function (){return typeof i4YY.E93.r1f==='function'?i4YY.E93.r1f.apply(i4YY.E93,arguments):i4YY.E93.r1f;};i4YY.f63=function (){return typeof i4YY.X63.F1f==='function'?i4YY.X63.F1f.apply(i4YY.X63,arguments):i4YY.X63.F1f;};i4YY.K1f=function (){return typeof i4YY.X1f.F1f==='function'?i4YY.X1f.F1f.apply(i4YY.X1f,arguments):i4YY.X1f.F1f;};i4YY.s63=function (){return typeof i4YY.X63.F1f==='function'?i4YY.X63.F1f.apply(i4YY.X63,arguments):i4YY.X63.F1f;};i4YY.h1f=function (){return typeof i4YY.X1f.r1f==='function'?i4YY.X1f.r1f.apply(i4YY.X1f,arguments):i4YY.X1f.r1f;};i4YY.D63=function (){return typeof i4YY.X63.r1f==='function'?i4YY.X63.r1f.apply(i4YY.X63,arguments):i4YY.X63.r1f;};i4YY.d3U=function (){return typeof i4YY.a3U.r1f==='function'?i4YY.a3U.r1f.apply(i4YY.a3U,arguments):i4YY.a3U.r1f;};i4YY.C8z=function(x8z){return{r1f:function(){var B8z,a8z=arguments;switch(x8z){case 0:B8z=-(a8z[3]*a8z[2])-a8z[4]+-a8z[0]+a8z[1];break;case 2:B8z=a8z[0]+a8z[1];break;case 1:B8z=a8z[2]-a8z[0]+a8z[1];break;}return B8z;},F1f:function(O8z){x8z=O8z;}};}();i4YY.q6N=function (){return typeof i4YY.k6N.F1f==='function'?i4YY.k6N.F1f.apply(i4YY.k6N,arguments):i4YY.k6N.F1f;};i4YY.j63=function (){return typeof i4YY.X63.r1f==='function'?i4YY.X63.r1f.apply(i4YY.X63,arguments):i4YY.X63.r1f;};i4YY.a3U=function(q3U){return{r1f:function(){var K3U,F3U=arguments;switch(q3U){case 2:K3U=F3U[1]-F3U[0];break;case 1:K3U=void F3U[0]!==F3U[1];break;case 0:K3U=F3U[0]+F3U[1];break;}return K3U;},F1f:function(D3U){q3U=D3U;}};}();i4YY.J6e=function (){return typeof i4YY.y6e.r1f==='function'?i4YY.y6e.r1f.apply(i4YY.y6e,arguments):i4YY.y6e.r1f;};i4YY.H1z=function (){return typeof i4YY.C8z.F1f==='function'?i4YY.C8z.F1f.apply(i4YY.C8z,arguments):i4YY.C8z.F1f;};i4YY.y6e=function(v6e){return{r1f:function(){var B6e,O6e=arguments;switch(v6e){case 0:B6e=O6e[1]>=O6e[0];break;case 2:B6e=O6e[0]+O6e[1];break;case 1:B6e=O6e[1]<=O6e[0];break;}return B6e;},F1f:function(W6e){v6e=W6e;}};}();i4YY.y8w=function(w8w){return{r1f:function(){var b8w,m8w=arguments;switch(w8w){case 1:b8w=m8w[1]+m8w[0]+m8w[2];break;case 0:b8w=m8w[0]+m8w[1];break;}return b8w;},F1f:function(j8w){w8w=j8w;}};}();i4YY.d1z=function (){return typeof i4YY.C8z.r1f==='function'?i4YY.C8z.r1f.apply(i4YY.C8z,arguments):i4YY.C8z.r1f;};i4YY.j4U=function (){return typeof i4YY.C4U.r1f==='function'?i4YY.C4U.r1f.apply(i4YY.C4U,arguments):i4YY.C4U.r1f;};i4YY.l3U=function (){return typeof i4YY.a3U.F1f==='function'?i4YY.a3U.F1f.apply(i4YY.a3U,arguments):i4YY.a3U.F1f;};i4YY.L7e=function (){return typeof i4YY.R7e.F1f==='function'?i4YY.R7e.F1f.apply(i4YY.R7e,arguments):i4YY.R7e.F1f;};i4YY.w6e=function (){return typeof i4YY.y6e.F1f==='function'?i4YY.y6e.F1f.apply(i4YY.y6e,arguments):i4YY.y6e.F1f;};i4YY.g3U=function (){return typeof i4YY.a3U.r1f==='function'?i4YY.a3U.r1f.apply(i4YY.a3U,arguments):i4YY.a3U.r1f;};i4YY.i4U=function (){return typeof i4YY.C4U.F1f==='function'?i4YY.C4U.F1f.apply(i4YY.C4U,arguments):i4YY.C4U.F1f;};i4YY.y5b=function (){return typeof i4YY.m5b.F1f==='function'?i4YY.m5b.F1f.apply(i4YY.m5b,arguments):i4YY.m5b.F1f;};i4YY.W7o=function(y7o){return{r1f:function(){var V7o,a7o=arguments;switch(y7o){case 1:V7o=a7o[1]-a7o[0];break;case 0:V7o=-(a7o[1]/-a7o[0]);break;}return V7o;},F1f:function(S7o){y7o=S7o;}};}();i4YY.C4U=function(K4U){return{r1f:function(){var s4U,S4U=arguments;switch(K4U){case 1:s4U=(S4U[4]/S4U[2]-S4U[1])*-S4U[0]/S4U[3];break;case 0:s4U=(S4U[4]+S4U[0]+S4U[3])*S4U[1]/S4U[2];break;case 2:s4U=S4U[1]-S4U[0]+S4U[2];break;}return s4U;},F1f:function(c4U){K4U=c4U;}};}();i4YY.E93=function(a93){return{r1f:function(){var t93,O93=arguments;switch(a93){case 0:t93=O93[1]+O93[0];break;case 2:t93=O93[2]+O93[0]+O93[1];break;case 1:t93=O93[3]+O93[1]+O93[4]+O93[2]+O93[0];break;}return t93;},F1f:function(o93){a93=o93;}};}();i4YY.O0R=function (){return typeof i4YY.K0R.F1f==='function'?i4YY.K0R.F1f.apply(i4YY.K0R,arguments):i4YY.K0R.F1f;};i4YY.J0R=function (){return typeof i4YY.K0R.F1f==='function'?i4YY.K0R.F1f.apply(i4YY.K0R,arguments):i4YY.K0R.F1f;};i4YY.R7e=function(c7e){return{r1f:function(){var B7e,W7e=arguments;switch(c7e){case 0:B7e=W7e[1]-W7e[0];break;}return B7e;},F1f:function(T7e){c7e=T7e;}};}();i4YY.K0R=function(B0R){return{r1f:function(){var V0R,D0R=arguments;switch(B0R){case 0:V0R=D0R[2]-D0R[1]*(D0R[0]+D0R[3])+D0R[4];break;}return V0R;},F1f:function(M0R){B0R=M0R;}};}();i4YY.k62=function (){return typeof i4YY.M62.F1f==='function'?i4YY.M62.F1f.apply(i4YY.M62,arguments):i4YY.M62.F1f;};i4YY.f0R=function (){return typeof i4YY.K0R.r1f==='function'?i4YY.K0R.r1f.apply(i4YY.K0R,arguments):i4YY.K0R.r1f;};i4YY.c1f=function (){return typeof i4YY.X1f.r1f==='function'?i4YY.X1f.r1f.apply(i4YY.X1f,arguments):i4YY.X1f.r1f;};i4YY.d5z=function(E5z){return{r1f:function(){var S5z,f5z=arguments;switch(E5z){case 0:S5z=(f5z[0]-f5z[2])*f5z[1];break;}return S5z;},F1f:function(V5z){E5z=V5z;}};}();i4YY.a6N=function (){return typeof i4YY.k6N.r1f==='function'?i4YY.k6N.r1f.apply(i4YY.k6N,arguments):i4YY.k6N.r1f;};i4YY.n7o=function (){return typeof i4YY.W7o.F1f==='function'?i4YY.W7o.F1f.apply(i4YY.W7o,arguments):i4YY.W7o.F1f;};i4YY.H3U=function (){return typeof i4YY.a3U.F1f==='function'?i4YY.a3U.F1f.apply(i4YY.a3U,arguments):i4YY.a3U.F1f;};i4YY.M5z=function (){return typeof i4YY.d5z.F1f==='function'?i4YY.d5z.F1f.apply(i4YY.d5z,arguments):i4YY.d5z.F1f;};i4YY.o4U=function (){return typeof i4YY.C4U.F1f==='function'?i4YY.C4U.F1f.apply(i4YY.C4U,arguments):i4YY.C4U.F1f;};i4YY.t7o=function (){return typeof i4YY.W7o.F1f==='function'?i4YY.W7o.F1f.apply(i4YY.W7o,arguments):i4YY.W7o.F1f;};i4YY.g62=function (){return typeof i4YY.M62.F1f==='function'?i4YY.M62.F1f.apply(i4YY.M62,arguments):i4YY.M62.F1f;};i4YY.f7e=function (){return typeof i4YY.R7e.F1f==='function'?i4YY.R7e.F1f.apply(i4YY.R7e,arguments):i4YY.R7e.F1f;};i4YY.V7e=function (){return typeof i4YY.R7e.r1f==='function'?i4YY.R7e.r1f.apply(i4YY.R7e,arguments):i4YY.R7e.r1f;};i4YY.c93=function (){return typeof i4YY.E93.F1f==='function'?i4YY.E93.F1f.apply(i4YY.E93,arguments):i4YY.E93.F1f;};i4YY.d93=function (){return typeof i4YY.E93.F1f==='function'?i4YY.E93.F1f.apply(i4YY.E93,arguments):i4YY.E93.F1f;};i4YY.N6e=function (){return typeof i4YY.y6e.r1f==='function'?i4YY.y6e.r1f.apply(i4YY.y6e,arguments):i4YY.y6e.r1f;};i4YY.F6e=function (){return typeof i4YY.y6e.F1f==='function'?i4YY.y6e.F1f.apply(i4YY.y6e,arguments):i4YY.y6e.F1f;};i4YY.e62=function (){return typeof i4YY.M62.r1f==='function'?i4YY.M62.r1f.apply(i4YY.M62,arguments):i4YY.M62.r1f;};i4YY.w6N=function (){return typeof i4YY.k6N.r1f==='function'?i4YY.k6N.r1f.apply(i4YY.k6N,arguments):i4YY.k6N.r1f;};i4YY.J1f=function (){return typeof i4YY.X1f.F1f==='function'?i4YY.X1f.F1f.apply(i4YY.X1f,arguments):i4YY.X1f.F1f;};i4YY.Z8w=function (){return typeof i4YY.y8w.r1f==='function'?i4YY.y8w.r1f.apply(i4YY.y8w,arguments):i4YY.y8w.r1f;};i4YY.M5b=function (){return typeof i4YY.m5b.F1f==='function'?i4YY.m5b.F1f.apply(i4YY.m5b,arguments):i4YY.m5b.F1f;};i4YY.y6N=function (){return typeof i4YY.k6N.F1f==='function'?i4YY.k6N.F1f.apply(i4YY.k6N,arguments):i4YY.k6N.F1f;};function i4YY(){}i4YY.Y7e=function (){return typeof i4YY.R7e.r1f==='function'?i4YY.R7e.r1f.apply(i4YY.R7e,arguments):i4YY.R7e.r1f;};i4YY.Z8z=function (){return typeof i4YY.C8z.r1f==='function'?i4YY.C8z.r1f.apply(i4YY.C8z,arguments):i4YY.C8z.r1f;};i4YY.e5z=function (){return typeof i4YY.d5z.r1f==='function'?i4YY.d5z.r1f.apply(i4YY.d5z,arguments):i4YY.d5z.r1f;};i4YY.N93=function (){return typeof i4YY.E93.r1f==='function'?i4YY.E93.r1f.apply(i4YY.E93,arguments):i4YY.E93.r1f;};i4YY.t0R=function (){return typeof i4YY.K0R.r1f==='function'?i4YY.K0R.r1f.apply(i4YY.K0R,arguments):i4YY.K0R.r1f;};i4YY.W1z=function (){return typeof i4YY.C8z.F1f==='function'?i4YY.C8z.F1f.apply(i4YY.C8z,arguments):i4YY.C8z.F1f;};i4YY.J5z=function (){return typeof i4YY.d5z.F1f==='function'?i4YY.d5z.F1f.apply(i4YY.d5z,arguments):i4YY.d5z.F1f;};i4YY.z7o=function (){return typeof i4YY.W7o.r1f==='function'?i4YY.W7o.r1f.apply(i4YY.W7o,arguments):i4YY.W7o.r1f;};i4YY.o1w=function (){return typeof i4YY.y8w.F1f==='function'?i4YY.y8w.F1f.apply(i4YY.y8w,arguments):i4YY.y8w.F1f;};i4YY.Q5b=function (){return typeof i4YY.m5b.r1f==='function'?i4YY.m5b.r1f.apply(i4YY.m5b,arguments):i4YY.m5b.r1f;};i4YY.M62=function(h62){return{r1f:function(){var o62,H62=arguments;switch(h62){case 0:o62=H62[0]+H62[1];break;}return o62;},F1f:function(p62){h62=p62;}};}();i4YY.r62=function (){return typeof i4YY.M62.r1f==='function'?i4YY.M62.r1f.apply(i4YY.M62,arguments):i4YY.M62.r1f;};(function(){(function(N,ja){var wb,Fb,Va,tc,pa,wa,bb,Cd,Dd,Ma,Na,Pb,Ed,uc,Fd,Gd,Uc,m,ma,hc,Hd,Vc,E,S,ia,yb,nb,Za,fa,cb,Ua,Rb,Ha,Da,Ka,eb,vc,zb,sb,tb,wc,Wc,Id,Ib,Jb,Sb,Xc,Zb,Ab,xc,Ob,Yc,Jd,$b,Zc,$c,ad,bd,Bb,cd,dd,ed,bc,Cb,Db,cc,yc,zc,Ac,lb,Me,Sa,Qb,Kd,Bc,pb,Ld,Ne,ub,Md,Nd,Cc,Od,Oe,gc,Pd,Le,Pe,fd,Dc,Qe,Re,zd,Se,Ad,Qd,ob,ic,Rd,jc,Sd,qb,Td,gd,Ud,id,Ec,Vd,Ue,Bd,Fc,Tc,Wd,Te,Xd,jd,Yd,Zd,$d,kd,Nb,be,ae,Ve,kc,ce,md,lc,de,ld,ee,fe,nd,he,ie,Ic,Vb,dc,Wb,je,ke,le,me,ne,oe,Jc,We,pe,qe,pd,re,kb,Tb,ac,Ub,Lb,Eb,Gc,db,Hb,ge,mc,Xb,se,Xe,nc,te,Ye,ec,ue,Kc,qd,oc,rd,ve,pc,we,xe,ye,Ze,qc,ze,$e,af,Ae,od,Hc,Be,Ke,Ce,bf,df,cf,fc,sc,ef,yd,ff,De;function Ya(g,m){if(!m||"utf-8"===m)return Nc(g);throw Error("unsupported encoding");}function Wa(g,m){if(!m||"utf-8"===m)return Oc(g);throw Error("unsupported encoding");}function Nc(g){for(var m=0,r,Pa=g.length,E="";m<Pa;){r=g[m++];if(r&128)if(192===(r&224))r=((r&31)<<6)+(g[m++]&63);else if(224===(r&240))r=((r&15)<<12)+((g[m++]&63)<<6)+(g[m++]&63);else throw Error("unsupported character");E+=String.fromCharCode(r);}return E;}function Oc(g){var m,r,Pa,E,u;m=g.length;r=0;E=0;for(Pa=m;Pa--;)u=g.charCodeAt(Pa),128>u?r++:r=2048>u?r+2:r+3;r=new Uint8Array(r);for(Pa=0;Pa<m;Pa++)u=g.charCodeAt(Pa),128>u?r[E++]=u:(2048>u?r[E++]=192|u>>>6:(r[E++]=224|u>>>12,r[E++]=128|u>>>6&63),r[E++]=128|u&63);return r;}function ab(g,r){if(g===r)return!0;if(!g||!r||g.length!=r.length)return!1;for(var m=0;m<g.length;++m)if(g[m]!=r[m])return!1;return!0;}function hb(g){var u;if(!(g&&g.constructor==Uint8Array||Array.isArray(g)))throw new TypeError("Cannot compute the hash code of "+g);for(var r=1,m=0;m<g.length;++m){u=g[m];if("number"!==typeof u)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+u);r=31*r+u&4294967295;}return r;}function td(g,r){var Aa;if(g===r)return!0;if(!g||!r)return!1;r instanceof Array||(r=[r]);for(var m=0;m<r.length;++m){for(var u=r[m],E=!1,Mb=0;Mb<g.length;++Mb){Aa=g[Mb];if(u.equals&&"function"===typeof u.equals&&u.equals(Aa)||u==Aa){E=!0;break;}}if(!E)return!1;}return!0;}function ud(g,r){return td(g,r)&&(g.length==r.length||td(r,g));}function r(g,r,m){var u,E;m&&(u=m);if("object"!==typeof g||"function"!==typeof g.result||"function"!==typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{E=r.call(u,g);E!==ja&&g.result(E);}catch(Pc){try{g.error(Pc);}catch(Aa){}}}function u(g,m,u){if("object"!==typeof g||"function"!==typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");r(g,m,u);}function g(g,r,m){1E5>g&&(g=1E5+g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:r,writable:!1,configurable:!1},message:{value:m,writable:!1,configurable:!1}});}function Qc(g){switch(g){case Sa.PSK:case Sa.MGK:return!0;default:return!1;}}function vd(g){switch(g){case Sa.PSK:case Sa.MGK:case Sa.X509:case Sa.RSA:case Sa.NPTICKET:case Sa.ECC:return!0;default:return!1;}}function He(g){return g.toJSON();}function wd(r,m){sc?m.result(sc):Promise.resolve().then(function(){return Ka.getKeyByName(r);})["catch"](function(){return Ka.generateKey({name:r},!1,["wrapKey","unwrapKey"]);}).then(function(g){sc=g;m.result(sc);})["catch"](function(r){m.error(new E(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function xd(g,r){var m,u,E;m=r.masterToken;u=r.userIdToken;E=r.serviceTokens;return{NccpMethod:g.method,UserId:g.userId,UT:u&&u.serialNumber,MT:m&&m.serialNumber+":"+m.sequenceNumber,STCount:E&&E.length};}function Ie(g){return g.uniqueKey();}function Je(u,N,rb,Pa,rc){var Ja;function Mb(g,M){g.errorCode===m.ENTITY_REAUTH||g.errorCode===m.ENTITYDATA_REAUTH?(Pa.clearCryptoContexts(),Xa()):g.errorCode!==m.USER_REAUTH&&g.errorCode!==m.USERDATA_REAUTH||Aa(M);}function Aa(g){if(g=Pa.getUserIdToken(g))Pa.removeUserIdToken(g),Xa();}function X(g,M,I){var w;w=[];(function B(){g.read(-1,M,{result:function(g){r(I,function(){var v,C,K,I,M;if(g)w.push(g),B();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:I=w.length,M=0;for(C=v=0;C<I;C++)v+=w[C].length;v=new Uint8Array(v);for(C=0;C<I;C++)K=w[C],v.set(K,M),M+=K.length;return v;}});},timeout:function(){I.timeout();},error:function(g){I.error(g);}});}());}function Xa(){Pa.getStoreState({result:function(g){for(var M=Ja.slice(),I=0;I<M.length;I++)M[I]({storeState:g});},timeout:function(){u.error("Timeout getting store state",""+e);},error:function(g){u.error("Error getting store state",""+g);}});}Ja=[];this.addEventHandler=function(g,M){switch(g){case"shouldpersist":Ja.push(M);}};this.send=function(r){return new Promise(function(M,I){var w,x,B;w=r.timeout;x=new yd(u,rb,r,Pa.getKeyRequestData());B=new zd(r.url);u.trace("Sending MSL request");N.request(rb,x,B,w,{result:function(x){var v;x&&x.getMessageHeader();u.trace("Received MSL response",{Method:r.method});if(x){r.allowTokenRefresh&&Xa();v=x.getErrorHeader();v?(Mb(v,r.userId),I({success:!1,error:v})):X(x,w,{result:function(g){M({success:!0,body:Ya(g)});},timeout:function(){I({success:!1,subCode:rc.MSL_READ_TIMEOUT});},error:function(g){I({success:!1,error:g});}});}else I({success:!1,error:new E(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){I({success:!1,subCode:rc.MSL_REQUEST_TIMEOUT});},error:function(g){I({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return!!Pa.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return Pa.getUserIdTokenKeys();};this.removeUserIdToken=Aa;this.clearUserIdTokens=function(){Pa.clearUserIdTokens();Xa();};this.isErrorReauth=function(g){return g&&g.errorCode==m.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Nb;};this.getErrorCode=function(g){return g&&g.errorCode;};this.getStateForMdx=function(g){var M,I;M=Pa.getMasterToken();g=Pa.getUserIdToken(g);I=Pa.getCryptoContext(M);return{masterToken:M,userIdToken:g,cryptoContext:I};};this.buildPlayDataRequest=function(g,M){var I;I=new Ad();N.request(rb,new yd(u,rb,g),I,g.timeout,{result:function(){M.result(I.getRequest());},error:function(){M.result(I.getRequest());},timeout:function(){M.timeout();}});};this.rekeyUserIdToken=function(g,M){Pa.rekeyUserIdToken(g,M);Xa();};this.getServiceTokens=function(g){var M;M=Pa.getMasterToken();(g=Pa.getUserIdToken(g))&&!g.isBoundTo(M)&&(g=ja);return Pa.getServiceTokens(M,g);};this.removeServiceToken=function(g){var M;M=Pa.getMasterToken();Pa.getServiceTokens(M).find(function(I){return I.name===g;})&&(Pa.removeServiceTokens(g,M),Xa());};}function Rc(r,m,u,Pa,N,S){function Aa(m){var X;return Promise.resolve().then(function(){X=r.authenticationKeyNames[m];if(!X)throw new E(g.KEY_IMPORT_ERROR,"Invalid config keyName "+m);return Ka.getKeyByName(X);}).then(function(r){return new Promise(function(m,M){Zb(r,{result:m,error:function(){M(new E(g.KEY_IMPORT_ERROR,"Unable to create "+X+" CipherKey"));}});});})["catch"](function(r){throw new E(g.KEY_IMPORT_ERROR,"Unable to import "+X,r);});}return Promise.resolve().then(function(){if(!Ka.getKeyByName)throw new E(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Aa("e"),Aa("h"),Aa("w")]);}).then(function(g){var X,Ja,La;X={};X[m]=new u(r.esn,g[0],g[1],g[2]);g=new Pa(r.esn);Ja=new Ke();Ja=[new N(Ja)];La=new S(m);return{entityAuthFactories:X,entityAuthData:g,keyExchangeFactories:Ja,keyRequestData:La};});}function Sc(r,m,u){var rb;function Pa(){return Promise.resolve().then(function(){return Ka.generateKey(m,!1,["wrapKey","unwrapKey"]);}).then(function(g){return N(g.publicKey,g.privateKey);});}function N(r,m){return Promise.all([new Promise(function(m,X){Ob(r,{result:m,error:function(r){X(new E(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",r));}});}),new Promise(function(r,X){$b(m,{result:r,error:function(r){X(new E(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",r));}});})]).then(function(g){g=new Tc("rsaKeypairId",u,g[0],g[1]);rb&&(g.storeData={keyxPublicKey:r,keyxPrivateKey:m});return g;});}rb=!r.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,m;g=r.storeState;m=g&&g.keyxPublicKey;g=g&&g.keyxPrivateKey;return rb&&m&&g?N(m,g):Pa();}).then(function(g){var m,Xa,Ja;m={};m[Sa.NONE]=new Le();Xa=new gc(r.esn);Ja=[new Bd()];return{entityAuthFactories:m,entityAuthData:Xa,keyExchangeFactories:Ja,keyRequestData:g,createKeyRequestData:rb?Pa:ja};});}Fb=N.nfCrypto||N.msCrypto||N.webkitCrypto||N.crypto;Va=Fb&&(Fb.webkitSubtle||Fb.subtle);tc=N.nfCryptokeys||N.msCryptokeys||N.webkitCryptokeys||N.cryptokeys;(function(g){var r,m;r=function(){function g(g,m){g instanceof r?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=m||0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,m,r){var X;X=new Uint8Array(this.abv.buffer,this.position,r);g=new Uint8Array(g.buffer,m,r);X.set(g);this.position+=r;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return g;}();m={};(function(){var K,v,C,Ba,Z,Ca,xa,Y,sa;function g(A,v){var w;v.writeByte(A.tagClass<<6|A.constructed<<5|A.tag);w=A.payloadLen;if(128>w)v.writeByte(w);else{for(var C=w,x=0;C;)++x,C>>=8;v.writeByte(128|x);for(C=0;C<x;++C)v.writeByte(w>>8*(x-C-1)&255);}if(A.child)for(A.tag==K.BIT_STRING&&v.writeByte(0),w=A._child;w;){if(!g(w,v))return!1;w=w.next;}else switch(A.tag){case K.INTEGER:A.backingStore[A.dataIdx]>>7&&v.writeByte(0);v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);break;case K.BIT_STRING:v.writeByte(0);v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);break;case K.OCTET_STRING:v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);break;case K.OBJECT_IDENTIFIER:v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);}return!0;}function u(g){var A,v;A=g.readByte();v=A&127;if(v==A)return v;if(3<v||0===v)return-1;for(var w=A=0;w<v;++w)A=A<<8|g.readByte();return A;}function E(g,w,C){var A,x,I,V,B,ha,M;A=g.backingStore;x=new r(A,w);w+=C;C=g;if(8<Z++)return ja;for(;x.getPosition()<w;){x.getPosition();B=x.readByte();if(31==(B&31)){for(V=0;B&128;)V<<=8,V|=B&127;B=V;}I=B;V=I&31;if(0>V||30<V)return ja;B=u(x);if(0>B||B>x.getRemaining())return ja;C.constructed=I&32;C.tagClass=(I&192)>>6;C.tag=V;C.dataLen=B;C.dataIdx=x.getPosition();V=x;ha=I;I=B;if(ha&32)V=!0;else if(ha<K.BIT_STRING||ha>K.OCTET_STRING)V=!1;else{M=new r(V);ha==K.BIT_STRING&&M.skip(1);M.readByte()>>6&1?V=!1:(ha=u(M),V=M.getPosition()-V.getPosition()+ha==I);}V&&(V=x.getPosition(),I=B,C.tag==K.BIT_STRING&&(C.dataIdx++,C.dataLen--,V++,I--),C.child=new v(A,C),E(C.child,V,I));C.tag==K.INTEGER&&(V=x.getPosition(),0==x.peekByte(V)&&x.peekByte(V+1)>>7&&(C.dataIdx++,C.dataLen--));x.skip(B);x.getPosition()<w&&(C.next=new v(A,C.parent),C=C.next);}Z--;return g;}function N(g,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(g[v++]!=Ca[w])return!1;return!0;}function X(g){var v;if(!(g&&g.child&&g.child.next&&g.child.child&&g.child.next.child))return!1;v=g.child.child;return N(v.backingStore,v.dataIdx,v.dataLen)&&2==g.nChildren&&2==g.child.nChildren&&2==g.child.next.child.nChildren?!0:!1;}function Xa(g){var v;if(!(g&&g.child&&g.child.next&&g.child.next.child&&g.child.next.next&&g.child.next.next.child))return!1;v=g.child.next.child;return N(v.backingStore,v.dataIdx,v.dataLen)&&3==g.nChildren&&2==g.child.next.nChildren&&9==g.child.next.next.child.nChildren?!0:!1;}function Ja(g){var v,A;v=C.createSequenceNode();A=new Ba(v);A.addChild(C.createSequenceNode());A.addChild(C.createOidNode(Ca));A.addSibling(C.createNullNode());A.addToParent(v,C.createBitStringNode(null));A.addChild(C.createSequenceNode());A.addChild(C.createIntegerNode(g.n));A.addSibling(C.createIntegerNode(g.e));return v;}function La(g){var v;g=g.child.next.child.child;v=g.data;g=g.next;return new xa(v,g.data,null,null);}function M(g){var v,A;v=C.createSequenceNode();A=new Ba(v);A.addChild(C.createIntegerNode(new Uint8Array([0])));A.addSibling(C.createSequenceNode());A.addChild(C.createOidNode(Ca));A.addSibling(C.createNullNode());A.addToParent(v,C.createOctetStringNode(null));A.addChild(C.createSequenceNode());A.addChild(C.createIntegerNode(new Uint8Array([0])));A.addSibling(C.createIntegerNode(g.n));A.addSibling(C.createIntegerNode(g.e));A.addSibling(C.createIntegerNode(g.d));A.addSibling(C.createIntegerNode(g.p));A.addSibling(C.createIntegerNode(g.q));A.addSibling(C.createIntegerNode(g.dp));A.addSibling(C.createIntegerNode(g.dq));A.addSibling(C.createIntegerNode(g.qi));return v;}function I(g){var v;v=[];g=g.child.next.next.child.child.next;for(var A=0;8>A;A++)v.push(g.data),g=g.next;return new Y(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(g,v,w,C){if(!(g instanceof xa||g instanceof Y))return ja;if(w)for(var A=0;A<w.length;++A)if(-1==sa.indexOf(w[A]))return ja;v={kty:"RSA",alg:v,key_ops:w||[],ext:C==ja?!1:C,n:pa(g.n,!0),e:pa(g.e,!0)};g instanceof Y&&(v.d=pa(g.d,!0),v.p=pa(g.p,!0),v.q=pa(g.q,!0),v.dp=pa(g.dp,!0),v.dq=pa(g.dq,!0),v.qi=pa(g.qi,!0));return v;}function x(g){var v,w,A,C,x,I,K,B,Z,M;if(!g.kty||"RSA"!=g.kty||!g.n||!g.e)return ja;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(g.alg&&-1==v.indexOf(g.alg))return ja;v=[];g.use?"enc"==g.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==g.use&&(v=["sign","verify"]):v=g.key_ops;w=g.ext;A=wa(g.n,!0);C=wa(g.e,!0);if(g.d){x=wa(g.d,!0);I=wa(g.p,!0);K=wa(g.q,!0);B=wa(g.dp,!0);Z=wa(g.dq,!0);M=wa(g.qi,!0);return new Y(A,C,x,I,K,B,Z,M,g.alg,v,w);}return new xa(A,C,w,v);}function B(g,v,w,C){this.der=g;this.type=v;this.keyOps=w;this.extractable=C;}K={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(g,v,w,C,x,I){this._data=g;this._parent=v||ja;this._constructed=w||!1;this._tagClass=0;this._tag=C||0;this._dataIdx=x||0;this._dataLen=I||0;};v.prototype={_child:ja,_next:ja,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(g){this._constructed=0!=g?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(g){this._tagClass=g;},get tag(){return this._tag;},set tag(g){this._tag=g;},get dataIdx(){return this._dataIdx;},set dataIdx(g){this._dataIdx=g;},get dataLen(){return this._dataLen;},set dataLen(g){this._dataLen=g;},get child(){return this._child;},set child(g){this._child=g;this._child.parent=this;},get next(){return this._next;},set next(g){this._next=g;},get parent(){return this._parent;},set parent(g){this._parent=g;},get payloadLen(){var g;g=0;if(this._child){for(var v=this._child;v;)g+=v.length,v=v.next;this._tag==K.BIT_STRING&&g++;}else switch(this._tag){case K.INTEGER:g=this._dataLen;this._data[this._dataIdx]>>7&&g++;break;case K.BIT_STRING:g=this._dataLen+1;break;case K.OCTET_STRING:g=this._dataLen;break;case K.NULL:g=0;break;case K.OBJECT_IDENTIFIER:N(this._data,this._dataIdx,this._dataLen)&&(g=9);}return g;},get length(){var g,v;g=this.payloadLen;if(127<g)for(v=g;v;)v>>=8,++g;return g+2;},get der(){var v,w;v=this.length;if(!v)return ja;v=new Uint8Array(v);w=new r(v);return g(this,w)?v:ja;},get nChildren(){for(var g=0,v=this._child;v;)g++,v=v.next;return g;}};C={createSequenceNode:function(){return new v(null,null,!0,K.SEQUENCE,null,null);},createOidNode:function(g){return new v(g,null,!1,K.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new v(null,null,!1,K.NULL,null,null);},createBitStringNode:function(g){return new v(g,null,!1,K.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new v(g,null,!1,K.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new v(g,null,!1,K.OCTET_STRING,0,g?g.length:0);}};Ba=function(g){this._currentNode=this._rootNode=g;};Ba.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,v){this._currentNode=v;this._currentNode.parent=g;if(g.child){for(var w=g.child;w.next;)w=w.next;w.next=v;}else g.child=v;},addToParent:function(g,v){this.findNode(g)&&this.addTo(g,v);},findNode:function(g){for(var v=this._currentNode;v;){if(g==v)return!0;v=v.parent;}return!1;}};Z=0;Ca=new Uint8Array([42,134,72,134,247,13,1,1,1]);xa=function(g,v,w,C){this.n=g;this.e=v;this.ext=w;this.keyOps=C;};Y=function(g,v,w,C,x,I,K,B,ha,Z,M){this.n=g;this.e=v;this.d=w;this.p=C;this.q=x;this.dp=I;this.dq=K;this.qi=B;this.alg=ha;this.keyOps=Z;this.ext=M;};sa="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");B.prototype.getDer=function(){return this.der;};B.prototype.getType=function(){return this.type;};B.prototype.getKeyOps=function(){return this.keyOps;};B.prototype.getExtractable=function(){return this.extractable;};m.parse=function(g){Z=0;return E(new v(g),0,g.length);};m.show=function(g,v){};m.isRsaSpki=X;m.isRsaPkcs8=Xa;m.NodeFactory=C;m.Builder=Ba;m.tagVal=K;m.RsaPublicKey=xa;m.RsaPrivateKey=Y;m.buildRsaSpki=Ja;m.parseRsaSpki=function(g){g=m.parse(g);return X?La(g):ja;};m.buildRsaPkcs8=M;m.parseRsaPkcs8=function(g){g=m.parse(g);return Xa(g)?I(g):ja;};m.buildRsaJwk=w;m.parseRsaJwk=x;m.RsaDer=B;m.rsaDerToJwk=function(g,v,C,x){g=m.parse(g);if(!g)return ja;if(X(g))g=La(g);else if(Xa(g))g=I(g);else return ja;return w(g,v,C,x);};m.jwkToRsaDer=function(g){var v,w;g=x(g);if(!g)return ja;if(g instanceof xa)v="spki",w=Ja(g).der;else if(g instanceof Y)v="pkcs8",w=M(g).der;else return ja;return new B(w,v,g.keyOps,g.ext);};m.webCryptoAlgorithmToJwkAlg=function(g){return"RSAES-PKCS1-v1_5"==g.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==g.name?"SHA-256"==g.hash.name?"RS256":"SHA-384"==g.hash.name?"RS384":"SHA-512"==g.hash.name?"RS512":ja:ja;};m.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return"wrapKey"==g?"wrap":"unwrapKey"==g?"unwrap":g;});};}());g.ASN1=m;}(N));(function(){for(var g={},m={},r={"=":0,".":0},u={"=":0,".":0},E=/\s+/g,N=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Aa=64;Aa--;)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=262144*Aa,m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=4096*Aa,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=64*Aa,u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=Aa;for(Aa=64;Aa--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa];)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=262144*Aa,m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=4096*Aa,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=64*Aa,u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=Aa;pa=function(g,m){for(var r="",X=0,M=g.length,I=M-2,w,x=m?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=m?"":"=";X<I;)w=65536*g[X++]+256*g[X++]+g[X++],r+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+x[w&63];X==I?(w=65536*g[X++]+256*g[X++],r+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+B):X==M-1&&(w=65536*g[X++],r+=x[w>>>18]+x[w>>>12&63]+B+B);return r;};wa=function(X,Xa){var Ja;X=X.replace(E,"");if(Xa){Ja=X.length%4;if(Ja)for(var Ja=4-Ja,La=0;La<Ja;++La)X+="=";}Ja=X.length;if(0!=Ja%4||!N.test(X))throw Error("bad base64: "+X);for(var M=Ja/4*3-("="==X[Ja-1]?1:0)-("="==X[Ja-2]?1:0),I=new Uint8Array(M),w=0,x=0;w<Ja;)La=g[X[w++]]+m[X[w++]]+r[X[w++]]+u[X[w++]],I[x++]=La>>>16,x<M&&(I[x++]=La>>>8&255,x<M&&(I[x++]=La&255));return I;};}());bb={};(function(){var N,Aa,X,Ja;function g(m){if(!(this instanceof g))return new g(m);for(var M=0,I=Aa.length;M<I;M++)this[Aa[M]]="";this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=m||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=X.BEGIN;this.stack=new N();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;r(this,"onready");}function r(g,M,I){if(g[M])g[M](I);}function m(g,M){var I,w;I=g.opt;w=g.textNode;I.trim&&(w=w.trim());I.normalize&&(w=w.replace(/\s+/g," "));g.textNode=w;g.textNode&&r(g,M?M:"onvalue",g.textNode);g.textNode="";}function u(g,M){m(g);M+="\nLine: "+g.line+"\nColumn: "+g.column+"\nChar: "+g.c;M=Error(M);g.error=M;r(g,"onerror",M);return g;}function E(La){La.state!==X.VALUE&&u(La,"Unexpected end");m(La);La.c="";La.closed=!0;r(La,"onend");g.call(La,La.opt);return La;}N=Array;bb.parser=function(r){return new g(r);};bb.CParser=g;bb.MAX_BUFFER_LENGTH=65536;bb.DEBUG=!1;bb.INFO=!1;bb.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Aa=["textNode","numberNode"];bb.EVENTS.filter(function(g){return"error"!==g&&"end"!==g;});X=0;bb.STATE={BEGIN:X++,VALUE:X++,OPEN_OBJECT:X++,CLOSE_OBJECT:X++,OPEN_ARRAY:X++,CLOSE_ARRAY:X++,TEXT_ESCAPE:X++,STRING:X++,BACKSLASH:X++,END:X++,OPEN_KEY:X++,CLOSE_KEY:X++,TRUE:X++,TRUE2:X++,TRUE3:X++,FALSE:X++,FALSE2:X++,FALSE3:X++,FALSE4:X++,NULL:X++,NULL2:X++,NULL3:X++,NUMBER_DECIMAL_POINT:X++,NUMBER_DIGIT:X++};for(var Xa in bb.STATE)bb.STATE[bb.STATE[Xa]]=Xa;X=bb.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(g){return g.__proto__;});Ja=/[\\"\n]/g;g.prototype={end:function(){E(this);},write:function(g){var w,x,B;if(this.error)throw this.error;if(this.closed)return u(this,"Cannot write after close. Assign an onready handler.");if(null===g)return E(this);for(var M=g[0],I;M;){I=M;this.c=M=g.charAt(this.index++);I!==M?this.p=I:I=this.p;if(!M)break;this.position++;"\n"===M?(this.line++,this.column=0):this.column++;switch(this.state){case X.BEGIN:"{"===M?this.state=X.OPEN_OBJECT:"["===M?this.state=X.OPEN_ARRAY:"\r"!==M&&"\n"!==M&&" "!==M&&"\t"!==M&&u(this,"Non-whitespace before {[.");continue;case X.OPEN_KEY:case X.OPEN_OBJECT:if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;if(this.state===X.OPEN_KEY)this.stack.push(X.CLOSE_KEY);else if("}"===M){r(this,"onopenobject");r(this,"oncloseobject");this.state=this.stack.pop()||X.VALUE;continue;}else this.stack.push(X.CLOSE_OBJECT);'"'===M?this.state=X.STRING:u(this,'Malformed object key should start with "');continue;case X.CLOSE_KEY:case X.CLOSE_OBJECT:if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;":"===M?(this.state===X.CLOSE_OBJECT?(this.stack.push(X.CLOSE_OBJECT),m(this,"onopenobject")):m(this,"onkey"),this.state=X.VALUE):"}"===M?(m(this),r(this,"oncloseobject",void 0),this.state=this.stack.pop()||X.VALUE):","===M?(this.state===X.CLOSE_OBJECT&&this.stack.push(X.CLOSE_OBJECT),m(this),this.state=X.OPEN_KEY):u(this,"Bad object");continue;case X.OPEN_ARRAY:case X.VALUE:if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;if(this.state===X.OPEN_ARRAY)if(r(this,"onopenarray"),this.state=X.VALUE,"]"===M){r(this,"onclosearray");this.state=this.stack.pop()||X.VALUE;continue;}else this.stack.push(X.CLOSE_ARRAY);'"'===M?this.state=X.STRING:"{"===M?this.state=X.OPEN_OBJECT:"["===M?this.state=X.OPEN_ARRAY:"t"===M?this.state=X.TRUE:"f"===M?this.state=X.FALSE:"n"===M?this.state=X.NULL:"-"===M?this.numberNode+=M:"0"===M?(this.numberNode+=M,this.state=X.NUMBER_DIGIT):-1!=="123456789".indexOf(M)?(this.numberNode+=M,this.state=X.NUMBER_DIGIT):u(this,"Bad value");continue;case X.CLOSE_ARRAY:if(","===M)this.stack.push(X.CLOSE_ARRAY),m(this,"onvalue"),this.state=X.VALUE;else if("]"===M)m(this),r(this,"onclosearray",void 0),this.state=this.stack.pop()||X.VALUE;else if("\r"===M||"\n"===M||" "===M||"\t"===M)continue;else u(this,"Bad array");continue;case X.STRING:I=this.index-1;w=this.slashed,x=this.unicodeI;a:for(;;){if(bb.DEBUG)for(;0<x;)if(this.unicodeS+=M,M=g.charAt(this.index++),4===x?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),x=0,I=this.index-1):x++,!M)break a;if('"'===M&&!w){this.state=this.stack.pop()||X.VALUE;(this.textNode+=g.substring(I,this.index-1))||r(this,"onvalue","");break;}if("\\"===M&&!w&&(w=!0,this.textNode+=g.substring(I,this.index-1),M=g.charAt(this.index++),!M))break;if(w)if(w=!1,"n"===M?this.textNode+="\n":"r"===M?this.textNode+="\r":"t"===M?this.textNode+="\t":"f"===M?this.textNode+="\f":"b"===M?this.textNode+="\b":"u"===M?(x=1,this.unicodeS=""):this.textNode+=M,M=g.charAt(this.index++),I=this.index-1,M)continue;else break;Ja.lastIndex=this.index;B=Ja.exec(g);if(null===B){this.index=g.length+1;this.textNode+=g.substring(I,this.index-1);break;}this.index=B.index+1;M=g.charAt(B.index);if(!M){this.textNode+=g.substring(I,this.index-1);break;}}this.slashed=w;this.unicodeI=x;continue;case X.TRUE:if(""===M)continue;"r"===M?this.state=X.TRUE2:u(this,"Invalid true started with t"+M);continue;case X.TRUE2:if(""===M)continue;"u"===M?this.state=X.TRUE3:u(this,"Invalid true started with tr"+M);continue;case X.TRUE3:if(""===M)continue;"e"===M?(r(this,"onvalue",!0),this.state=this.stack.pop()||X.VALUE):u(this,"Invalid true started with tru"+M);continue;case X.FALSE:if(""===M)continue;"a"===M?this.state=X.FALSE2:u(this,"Invalid false started with f"+M);continue;case X.FALSE2:if(""===M)continue;"l"===M?this.state=X.FALSE3:u(this,"Invalid false started with fa"+M);continue;case X.FALSE3:if(""===M)continue;"s"===M?this.state=X.FALSE4:u(this,"Invalid false started with fal"+M);continue;case X.FALSE4:if(""===M)continue;"e"===M?(r(this,"onvalue",!1),this.state=this.stack.pop()||X.VALUE):u(this,"Invalid false started with fals"+M);continue;case X.NULL:if(""===M)continue;"u"===M?this.state=X.NULL2:u(this,"Invalid null started with n"+M);continue;case X.NULL2:if(""===M)continue;"l"===M?this.state=X.NULL3:u(this,"Invalid null started with nu"+M);continue;case X.NULL3:if(""===M)continue;"l"===M?(r(this,"onvalue",null),this.state=this.stack.pop()||X.VALUE):u(this,"Invalid null started with nul"+M);continue;case X.NUMBER_DECIMAL_POINT:"."===M?(this.numberNode+=M,this.state=X.NUMBER_DIGIT):u(this,"Leading zero not followed by .");continue;case X.NUMBER_DIGIT:-1!=="0123456789".indexOf(M)?this.numberNode+=M:"."===M?(-1!==this.numberNode.indexOf(".")&&u(this,"Invalid number has two dots"),this.numberNode+=M):"e"===M||"E"===M?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||u(this,"Invalid number has two exponential"),this.numberNode+=M):"+"===M||"-"===M?("e"!==I&&"E"!==I&&u(this,"Invalid symbol in number"),this.numberNode+=M):(this.numberNode&&r(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||X.VALUE);continue;default:u(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){g=Math.max(bb.MAX_BUFFER_LENGTH,10);I=M=0;for(w=Aa.length;I<w;I++){x=this[Aa[I]].length;if(x>g)switch(Aa[I]){case"text":break;default:u(this,"Max buffer length exceeded: "+Aa[I]);}M=Math.max(M,x);}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH-M+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var u;function g(g,r){r||(r=g.length);return g.reduce(function(g,m,X){return X<r?g+String.fromCharCode(m):g;},"");}for(var r={},m=0;256>m;++m){u=g([m]);r[u]=m;}for(var E=Object.keys(r).length,N=[],m=0;256>m;++m)N[m]=[m];Cd=function(m,X){var v,C;function u(g,v){var C;for(;0<v;){if(x>=w.length)return!1;if(v>B){C=g;C=C>>>v-B;w[x]|=C&255;v-=B;B=8;++x;}else v<=B&&(C=g,C<<=B-v,C&=255,C>>>=8-B,w[x]|=C&255,B-=v,v=0,0==B&&(B=8,++x));}return!0;}for(var Ja in r)X[Ja]=r[Ja];for(var La=E,M=[],I=8,w=new Uint8Array(m.length),x=0,B=8,K=0;K<m.length;++K){v=m[K];M.push(v);Ja=g(M);C=X[Ja];if(!C){M=g(M,M.length-1);if(!u(X[M],I))return null;0!=La>>I&&++I;X[Ja]=La++;M=[v];}}return 0<M.length&&(Ja=g(M),C=X[Ja],!u(C,I))?null:w.subarray(0,8>B?x+1:x);};Dd=function(g){var K,v,B,u;for(var m=N.slice(),r=0,u=0,La=8,M=new Uint8Array(Math.ceil(1.5*g.length)),I=0,w,x=[];r<g.length&&!(8*(g.length-r)-u<La);){for(var B=w=0;B<La;){K=Math.min(La-B,8-u);v=g[r];v=v<<u;v=v&255;v=v>>>8-K;B=B+K;u=u+K;8==u&&(u=0,++r);w|=(v&255)<<La-B;}B=m[w];0==x.length?++La:(B?x.push(B[0]):x.push(x[0]),m[m.length]=x,x=[],m.length==1<<La&&++La,B||(B=m[w]));w=I+B.length;w>=M.length&&(K=new Uint8Array(Math.ceil(1.5*w)),K.set(M),M=K);M.set(B,I);I=w;x=x.concat(B);}return M.subarray(0,I);};}());(function(){var g,r,u;Ma="utf-8";Na=9007199254740992;g=Pb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pb);Ed=function(r){for(var m=[g.GZIP,g.LZW],u=0;u<m.length&&0<r.length;++u)for(var E=m[u],X=0;X<r.length;++X)if(r[X]==E)return E;return null;};r=uc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(uc);Fd=function(g){return r.AES_CBC_PKCS5Padding==g?r.AES_CBC_PKCS5Padding:r.RSA_ECB_PKCS1Padding==g?r.RSA_ECB_PKCS1Padding:r[g];};u=Gd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Gd);Uc=function(g){return u[g];};m={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(m);}());ma={isObjectLiteral:function(g){return null!==g&&"object"===typeof g&&g.constructor===Object;},extendDeep:function(){var g,r,m,u,E,N,Aa,X;g=arguments[0];r=1;m=arguments.length;u=!1;"boolean"===typeof g&&(u=g,g=arguments[1],r=2);for(;r<m;r++)if(null!=(E=arguments[r]))for(N in E)u&&N in g||(X=E[N],g!==X&&X!==ja&&(Aa=g[N],g[N]=null!==Aa&&null!==X&&"object"===typeof Aa&&"object"===typeof X?ma.extendDeep(u,{},Aa,X):X));return g;}};(function(){var Aa,X;function g(g,r){return function(){var m,M;m=g.base;g.base=r;M=g.apply(this,arguments);g.base=m;return M;};}function r(r,m,u){var M,I,w,x;u=u||X;x=!!u.extendAll;for(M in m)I=m.__lookupGetter__(M),w=m.__lookupSetter__(M),I||w?(I&&r.__defineGetter__(M,I),w&&r.__defineSetter__(M,w)):(I=m[M],w=r[M],"function"===typeof I&&"function"===typeof w&&I!==w?(I.base!==Function.prototype.base&&(I=g(I,w)),I.base=w):(x||u[M])&&ma.isObjectLiteral(I)&&ma.isObjectLiteral(w)&&(I=ma.extendDeep({},w,I)),r[M]=I);}function m(){var g,r;g=Array.prototype.slice;r=g.call(arguments,1);return this.extend({init:function M(){var I;I=g.call(arguments,0);M.base.apply(this,r.concat(I));}});}function u(g,m){var X;X=new this(Aa);r(X,g,m);return N(X);}function E(g,m){r(this.prototype,g,m);return this;}function N(g){var r;r=function(){var g;g=this.init;g&&arguments[0]!==Aa&&g.apply(this,arguments);};g&&(r.prototype=g);r.prototype.constructor=r;r.extend=u;r.bind=m;r.mixin=E;return r;}Aa={};X={actions:!0};Function.prototype.base=function(){};ma.Class={create:N,mixin:r,extend:function(g,r){var m;m=N();m.prototype=new g();return m.extend(r);}};ma.mixin=function(){ma.log&&ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");r.apply(null,arguments);};}());(function(){var Aa,X,Xa;function g(g,r){return function(){var m,I;m=g.base;g.base=r;I=g.apply(this,arguments);g.base=m;return I;};}function r(r,m,M){var I,w,x,B;M=M||X;B=!!M.extendAll;for(I in m)w=m.__lookupGetter__(I),x=m.__lookupSetter__(I),w||x?(w&&r.__defineGetter__(I,w),x&&r.__defineSetter__(I,x)):(w=m[I],x=r[I],"function"===typeof w&&"function"===typeof x&&w!==x?(w.base!==Xa&&(w=g(w,x)),w.base=x):(B||M[I])&&ma.isObjectLiteral(w)&&ma.isObjectLiteral(x)&&(w=ma.extendDeep({},x,w)),r[I]=w);}function m(){var g,r;g=Array.prototype.slice;r=g.call(arguments,1);return this.extend({init:function I(){var w;w=g.call(arguments,0);I.base.apply(this,r.concat(w));}});}function u(g,m){var M;M=new this(Aa);r(M,g,m);return N(M);}function E(g,m){r(this.prototype,g,m);return this;}function N(g){var r;r=function(){var g;g=this.init;g&&arguments[0]!==Aa&&g.apply(this,arguments);};g&&(r.prototype=g);r.prototype.constructor=r;r.extend=u;r.bind=m;r.mixin=E;return r;}Aa={};X={actions:!0};Xa=function(){};Function.prototype.base=Xa;ma.Class={create:N,mixin:r,extend:function(g,r){var m;m=N();m.prototype=new g();return m.extend(r);}};ma.mixin=function(){ma.log&&ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");r.apply(null,arguments);};}());(function(){function g(g){return g==Na?1:g+1;}function r(r){if(0===Object.keys(r._waiters).length)return 0;for(var m=g(r._nextWaiter);!r._waiters[m];)m=g(m);return m;}hc=ma.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var m;if(this._waiters[g]){m=this._waiters[g];delete this._waiters[g];g==this._nextWaiter&&(this._nextWaiter=r(this));m.call(this,ja);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(m,E){var N,S;N=this;S=g(this._lastWaiter);this._lastWaiter=S;u(E,function(){var g,X;if(0<this._queue.length){g=this._queue.shift();setTimeout(function(){E.result(g);},0);}else{-1!=m&&(X=setTimeout(function(){delete N._waiters[S];S==N._nextWaiter&&(N._nextWaiter=r(N));E.timeout();},m));this._waiters[S]=function(g){clearTimeout(X);setTimeout(function(){E.result(g);},0);};this._nextWaiter||(this._nextWaiter=S);}},N);return S;},add:function(g){var m;if(this._nextWaiter){m=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=r(this);m.call(this,g);}else this._queue.push(g);}});}());(function(){var g;g=0-Na;Hd=ma.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Fb.getRandomValues(g);return g[0]&1?!0:!1;},nextInt:function(g){var r;if(null!==g&&g!==ja){if("number"!==typeof g)throw new TypeError("n must be of type number");if(1>g)throw new RangeError("n must be greater than zero");--g;r=new Uint8Array(4);Fb.getRandomValues(r);return Math.floor(((r[3]&127)<<24|r[2]<<16|r[1]<<8|r[0])/2147483648*(g-0+1)+0);}g=new Uint8Array(4);Fb.getRandomValues(g);r=(g[3]&127)<<24|g[2]<<16|g[1]<<8|g[0];return g[3]&128?-r:r;},nextLong:function(){var m,r;for(var r=g;r==g;){r=new Uint8Array(7);Fb.getRandomValues(r);m=16777216*((r[6]&31)<<24|r[5]<<16|r[4]<<8|r[3])+(r[2]<<16|r[1]<<8|r[0]);r=r[6]&128?-m-1:m;}return r;},nextBytes:function(g){Fb.getRandomValues(g);}});}());(function(){function g(g){return g==Na?1:g+1;}function r(r){if(0===Object.keys(r._waitingReaders).length)return 0;for(var m=g(r._nextReader);!r._waitingReaders[m];)m=g(m);return m;}function m(r){if(0===Object.keys(r._waitingWriters).length)return 0;for(var m=g(r._nextWriter);!r._waitingWriters[m];)m=g(m);return m;}Vc=ma.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var u;if(this._waitingReaders[g]){u=this._waitingReaders[g];delete this._waitingReaders[g];g==this._nextReader&&(this._nextReader=r(this));u.call(this,!0);}this._waitingWriters[g]&&(u=this._waitingWriters[g],delete this._waitingWriters[g],g==this._nextWriter&&(this._nextWriter=m(this)),u.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(m,E){var N,S;N=this;S=g(this._lastNumber);this._lastNumber=S;u(E,function(){var g;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[S]=!0,S;-1!=m&&(g=setTimeout(function(){delete N._waitingReaders[S];S==N._nextReader&&(N._nextReader=r(N));E.timeout();},m));this._waitingReaders[S]=function(r){clearTimeout(g);r?setTimeout(function(){E.result(ja);},0):(N._readers[S]=!0,setTimeout(function(){E.result(S);},0));};this._nextReader||(this._nextReader=S);},N);return S;},writeLock:function(r,E){var N,S;N=this;S=g(this._lastNumber);this._lastNumber=S;u(E,function(){var g;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=S;-1!=r&&(g=setTimeout(function(){delete N._waitingWriters[S];S==N._nextWriter&&(N._nextWriter=m(N));E.timeout();},r));this._waitingWriters[S]=function(r){clearTimeout(g);r?setTimeout(function(){E.result(ja);},0):(N._writer=S,setTimeout(function(){E.result(S);},0));};this._nextWriter||(this._nextWriter=S);},N);return S;},unlock:function(r){if(r==this._writer)this._writer=null;else{if(!this._readers[r])throw new fa("There is no reader or writer with ticket number "+r+".");delete this._readers[r];}if(this._nextWriter)0<Object.keys(this._readers).length||(r=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=m(this),r.call(this,!1));else{for(var u=this._nextReader;0<Object.keys(this._waitingReaders).length;u=g(u))this._waitingReaders[u]&&(r=this._waitingReaders[u],delete this._waitingReaders[u],r.call(this,!1));this._nextReader=0;}}});}());ma.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,m.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,m.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,m.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,m.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,m.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,m.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,m.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,m.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,m.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,m.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,m.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,m.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,m.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,m.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,m.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,m.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,m.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,m.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,m.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,m.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,m.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,m.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,m.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,m.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,m.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,m.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,m.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,m.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,m.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,m.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,m.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,m.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,m.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,m.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,m.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,m.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,m.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,m.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,m.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,m.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,m.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,m.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,m.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,m.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,m.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,m.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,m.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,m.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,m.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,m.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,m.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,m.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,m.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,m.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,m.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,m.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,m.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,m.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,m.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,m.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,m.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,m.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,m.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,m.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,m.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,m.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,m.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,m.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,m.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,m.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,m.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,m.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,m.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,m.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,m.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,m.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,m.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,m.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,m.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,m.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,m.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,m.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,m.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,m.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,m.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,m.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,m.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,m.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,m.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,m.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,m.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,m.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,m.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,m.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,m.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,m.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,m.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,m.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,m.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,m.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,m.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,m.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,m.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,m.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,m.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,m.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,m.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,m.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,m.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,m.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,m.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,m.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,m.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,m.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,m.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,m.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,m.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,m.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,m.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,m.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,m.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,m.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,m.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,m.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,m.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,m.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,m.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,m.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,m.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,m.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,m.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,m.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,m.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,m.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,m.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,m.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,m.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,m.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,m.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,m.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,m.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,m.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,m.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,m.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,m.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,m.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,m.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,m.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,m.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,m.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,m.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,m.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,m.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,m.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,m.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,m.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,m.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,m.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,m.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,m.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,m.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,m.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,m.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,m.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,m.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,m.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,m.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,m.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,m.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,m.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,m.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,m.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,m.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,m.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,m.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,m.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,m.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,m.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,m.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,m.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,m.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,m.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,m.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,m.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,m.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,m.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,m.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,m.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,m.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,m.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,m.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,m.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,m.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,m.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,m.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,m.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,m.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,m.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,m.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,m.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,m.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,m.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,m.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,m.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,m.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,m.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,m.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,m.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,m.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,m.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,m.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,m.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,m.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,m.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,m.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,m.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,m.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,m.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,m.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,m.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,m.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,m.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,m.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,m.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,m.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,m.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,m.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,m.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,m.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,m.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,m.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,m.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,m.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,m.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,m.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,m.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,m.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,m.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,m.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,m.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,m.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,m.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,m.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,m.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,m.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,m.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,m.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,m.FAIL,"Special unit test error.")});Object.freeze(g);(function(){E=ma.Class.create(Error());E.mixin({init:function(g,r,m){var N,S,fa;function u(){return S?S:this.cause&&this.cause instanceof E?this.cause.messageId:ja;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);N=g.message;r&&(N+=" ["+r+"]");fa=this.stack;Object.defineProperties(this,{message:{value:N,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:m,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:u,set:function(g){if(0>g||g>Na)throw new RangeError("Message ID "+g+" is outside the valid range.");u()||(S=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();fa&&(g+="\n"+fa);m&&m.stack&&(g+="\nCaused by "+m.stack);return g;},configurable:!0}});},setEntity:function(g){!g||this.masterToken||this.entityAuthenticationData||(g instanceof kb?this.masterToken=g:g instanceof Qb&&(this.entityAuthenticationData=g));return this;},setUser:function(g){!g||this.userIdToken||this.userAuthenticationData||(g instanceof ac?this.userIdToken=g:g instanceof Hb&&(this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name+": "+this.message;}});}());S=E.extend({init:function Mb(g,r,m){Mb.base.call(this,g,r,m);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ia=E.extend({init:function rb(g,r,m){rb.base.call(this,g,r,m);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});yb=E.extend({init:function Pa(g,r,m){Pa.base.call(this,g,r,m);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){nb=ma.Class.create(Error());nb.mixin({init:function(g,r,m){var u;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);u=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},requestCause:{value:m,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();u&&(g+="\n"+u);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Za=ma.Class.create(Error());Za.mixin({init:function(g,r){var m;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);m=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();m&&(g+="\n"+m);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){fa=ma.Class.create(Error());fa.mixin({init:function(g,r){var m;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);m=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();m&&(g+="\n"+m);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){cb=ma.Class.create(Error());cb.mixin({init:function(g,r){var m;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);m=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();m&&(g+="\n"+m);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ua=E.extend({init:function rc(g,r,m){rc.base.call(this,g,r,m);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rb=E.extend({init:function Pc(g,r){Pc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:r,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ha=E.extend({init:function Aa(g,r,m){Aa.base.call(this,g,r,m);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Da=E.extend({init:function X(g,r,m){X.base.call(this,g,r,m);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var M;function g(g){return"undefined"===typeof g?!1:g;}function r(g){return g&&g.length?(eb===M.V2014_02&&(g=g.map(function(g){return"wrap"==g?"wrapKey":"unwrap"==g?"unwrapKey":g;})),g):eb===M.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function m(g,w,r,m,K){return Promise.resolve().then(function(){return Va.importKey(g,w,r,m,K);})["catch"](function(v){var C;if("spki"!==g&&"pkcs8"!==g)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(r);C=ASN1.webCryptoUsageToJwkKeyOps(K);v=ASN1.rsaDerToJwk(w,v,C,m);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Va.importKey("jwk",Oc(v),r,m,K);});}function u(g,w){return Promise.resolve().then(function(){return Va.exportKey(g,w);})["catch"](function(r){if("spki"!==g&&"pkcs8"!==g)throw r;return Va.exportKey("jwk",w).then(function(g){g=JSON.parse(Nc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}M=vc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(vc);eb=M.LATEST;Ka={encrypt:function(g,w,r){switch(eb){case M.LEGACY:return new Promise(function(x,m){var v;v=Va.encrypt(g,w,r);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){m(g);};});case M.V2014_01:case M.V2014_02:return Va.encrypt(g,w,r).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(g,w,r){switch(eb){case M.LEGACY:return new Promise(function(x,m){var v;v=Va.decrypt(g,w,r);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){m(g);};});case M.V2014_01:case M.V2014_02:return Va.decrypt(g,w,r).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(g,w,r){switch(eb){case M.LEGACY:return new Promise(function(x,m){var v;v=Va.sign(g,w,r);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){m(g);};});case M.V2014_01:case M.V2014_02:return Va.sign(g,w,r).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(g,w,r,m){switch(eb){case M.LEGACY:return new Promise(function(x,v){var C;C=Va.verify(g,w,r,m);C.oncomplete=function(g){x(g.target.result);};C.onerror=function(g){v(g);};});case M.V2014_01:case M.V2014_02:return Va.verify(g,w,r,m);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(g,w){switch(eb){case M.LEGACY:return new Promise(function(r,m){var x;x=Va.digest(g,w);x.oncomplete=function(g){r(g.target.result);};x.onerror=function(g){m(g);};});case M.V2014_01:case M.V2014_02:return Va.digest(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(m,w,x){var I,K;I=g(w);K=r(x);switch(eb){case M.LEGACY:return new Promise(function(g,w){var v;v=Va.generateKey(m,I,K);v.oncomplete=function(v){g(v.target.result);};v.onerror=function(g){w(g);};});case M.V2014_01:case M.V2014_02:return Va.generateKey(m,I,K);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(m,w,x,B,K){var v,C;v=g(B);C=r(K);switch(eb){case M.LEGACY:return new Promise(function(g,r){var K;K=Va.deriveKey(m,w,x,v,C);K.oncomplete=function(v){g(v.target.result);};K.onerror=function(g){r(g);};});case M.V2014_01:case M.V2014_02:return Va.deriveKey(m,w,x,v,C);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(I,w,x,B,K){var v,C;v=g(B);C=r(K);switch(eb){case M.LEGACY:return new Promise(function(g,r){var m;m=Va.importKey(I,w,x,v,C);m.oncomplete=function(v){g(v.target.result);};m.onerror=function(g){r(g);};});case M.V2014_01:case M.V2014_02:return m(I,w,x,v,C);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(g,w){switch(eb){case M.LEGACY:return new Promise(function(r,m){var x;x=Va.exportKey(g,w);x.oncomplete=function(g){r(g.target.result);};x.onerror=function(g){m(g);};});case M.V2014_01:case M.V2014_02:return u(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(g,w,r,m){switch(eb){case M.LEGACY:return new Promise(function(g,v){var C;C=Va.wrapKey(w,r,m);C.oncomplete=function(v){g(v.target.result);};C.onerror=function(g){v(g);};});case M.V2014_01:case M.V2014_02:return Va.wrapKey(g,w,r,m).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(m,w,x,B,K,v,C){switch(eb){case M.LEGACY:return new Promise(function(g,v){var r;r=Va.unwrapKey(w,K,x);r.oncomplete=function(v){g(v.target.result);};r.onerror=function(g){v(g);};});case M.V2014_01:case M.V2014_02:return Va.unwrapKey(m,w,x,B,K,g(v),r(C));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};tc&&tc.getKeyByName&&(Ka.getKeyByName=function(g){switch(eb){case M.LEGACY:return new Promise(function(w,r){var x;x=tc.getKeyByName(g);x.oncomplete=function(g){w(g.target.result);};x.onerror=function(g){r(g);};});case M.V2014_01:case M.V2014_02:return tc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});N.netflix=N.netflix||{};N.netflix.crypto=Ka;}());zb={name:"AES-KW"};sb={name:"AES-CBC"};tb={name:"HMAC",hash:{name:"SHA-256"}};wc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wc={name:"RSAES-PKCS1-v1_5"};Id={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ib=["encrypt","decrypt"];Jb=["wrap","unwrap"];Sb=["sign","verify"];(function(){Xc=ma.Class.create({init:function(m,u,E){var M;function X(g){r(u,function(){var w;w=g?pa(g):ja;Object.defineProperties(M,{rawKey:{value:m,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},M);}M=this;r(u,function(){if(!m||"object"!=typeof m)throw new S(g.INVALID_SYMMETRIC_KEY);!E&&m.extractable?Ka.exportKey("raw",m).then(function(g){X(new Uint8Array(g));},function(r){u.error(new S(g.KEY_EXPORT_ERROR,"raw"));}):X(E);},M);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zb=function(g,r){new Xc(g,r);};Ab=function(m,u,E,N){r(N,function(){try{m="string"==typeof m?wa(m):m;}catch(M){throw new S(g.INVALID_SYMMETRIC_KEY,"keydata "+m,M);}Ka.importKey("raw",m,u,!0,E).then(function(g){new Xc(g,N,m);},function(r){N.error(new S(g.INVALID_SYMMETRIC_KEY));});});};}());(function(){xc=ma.Class.create({init:function(m,u,E){var M;function X(g){r(u,function(){Object.defineProperties(M,{rawKey:{value:m,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},M);}M=this;r(u,function(){if(!m||"object"!=typeof m||"public"!=m.type)throw new TypeError("Only original public crypto keys are supported.");!E&&m.extractable?Ka.exportKey("spki",m).then(function(g){X(new Uint8Array(g));},function(r){u.error(new S(g.KEY_EXPORT_ERROR,"spki"));}):X(E);});},getEncoded:function(){return this.encoded;}});Ob=function(g,r){new xc(g,r);};Yc=function(m,u,E,N){r(N,function(){try{m="string"==typeof m?wa(m):m;}catch(M){throw new S(g.INVALID_PUBLIC_KEY,"spki "+m,M);}Ka.importKey("spki",m,u,!0,E).then(function(g){new xc(g,N,m);},function(r){N.error(new S(g.INVALID_PUBLIC_KEY));});});};}());(function(){Jd=ma.Class.create({init:function(m,u,E){var M;function X(g){r(u,function(){Object.defineProperties(M,{rawKey:{value:m,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},M);}M=this;r(u,function(){if(!m||"object"!=typeof m||"private"!=m.type)throw new TypeError("Only original private crypto keys are supported.");!E&&m.extractable?Ka.exportKey("pkcs8",m).then(function(g){X(new Uint8Array(g));},function(r){u.error(new S(g.KEY_EXPORT_ERROR,"pkcs8"));}):X(E);});},getEncoded:function(){return this.encoded;}});$b=function(g,r){new Jd(g,r);};}());(function(){var m;m=bd={V1:1,V2:2};Zc=ma.Class.create({init:function(g,u,E,M){r(M,function(){var r,w,x,B;r=m.V1;w=g;x=null;for(B in uc)if(uc[B]==g){r=m.V2;w=null;x=g;break;}Object.defineProperties(this,{version:{value:r,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:x,writable:!1,configurable:!1},iv:{value:u,writable:!1,configurable:!1},ciphertext:{value:E,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case m.V1:g.keyid=this.keyId;this.iv&&(g.iv=pa(this.iv));g.ciphertext=pa(this.ciphertext);g.sha256="AA==";break;case m.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv&&(g.iv=pa(this.iv));g.ciphertext=pa(this.ciphertext);break;default:throw new fa("Ciphertext envelope version "+this.version+" encoding unsupported.");}return g;}});$c=function(g,r,m,M){new Zc(g,r,m,M);};ad=function(u,E,X){r(X,function(){var r,I,w,x,B,K,v;r=u.keyid;I=u.cipherspec;w=u.iv;x=u.ciphertext;B=u.sha256;if(!E)if((E=u.version)&&"number"===typeof E&&E===E){K=!1;for(v in m)if(m[v]==E){K=!0;break;}if(!K)throw new S(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));}else E=m.V1;switch(E){case m.V1:if("string"!==typeof r||w&&"string"!==typeof w||"string"!==typeof x||"string"!==typeof B)throw new ia(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(u));break;case m.V2:v=u.version;if(v!=m.V2)throw new S(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));if("string"!==typeof I||w&&"string"!==typeof w||"string"!==typeof x)throw new ia(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(u));I=Fd(I);if(!I)throw new S(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(u));r=I;break;default:throw new S(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));}try{w&&(w=wa(w));x=wa(x);}catch(C){throw new S(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(u),C);}new Zc(r,w,x,X);});};}());(function(){var m;m=ed={V1:1,V2:2};Bb=ma.Class.create({init:function(g,r,u){var M;switch(g){case m.V1:M=u;break;case m.V2:M={};M.version=g;M.algorithm=r;M.signature=pa(u);M=Wa(JSON.stringify(M),Ma);break;default:throw new fa("Signature envelope version "+g+" encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:r,writable:!1,configurable:!1},signature:{value:u,writable:!1,configurable:!1},bytes:{value:M,writable:!1,configurable:!1}});}});cd=function(){var g,u,E,M;2==arguments.length?(g=m.V1,u=arguments[0],E=null,M=arguments[1]):3==arguments.length&&(g=m.V2,E=arguments[0],u=arguments[1],M=arguments[2]);r(M,function(){return new Bb(g,E,u);});};dd=function(u,E,X){r(X,function(){var r,I,w,x,B,K,v;if(E)switch(E){case m.V1:return new Bb(m.V1,null,u);case m.V2:try{r=Ya(u,Ma);I=JSON.parse(r);w=parseInt(I.version);x=I.algorithm;B=I.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof x||"string"!==typeof B)throw new ia(g.JSON_PARSE_ERROR,"signature envelope "+pa(u));if(m.V2!=w)throw new S(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(u));K=Uc(x);if(!K)throw new S(g.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(u));v=wa(B);if(!v)throw new S(g.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(u));return new Bb(m.V2,K,v);}catch(C){if(C instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"signature envelope "+pa(u),C);throw C;}default:throw new S(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(u));}try{r=Ya(u,Ma);I=JSON.parse(r);}catch(C){I=null;}if(I&&I.version){if(r=I.version,"number"!==typeof r||r!==r)r=m.V1;}else r=m.V1;switch(r){case m.V1:return new Bb(r,null,u);case m.V2:K=I.algorithm;B=I.signature;if("string"!==typeof K||"string"!==typeof B)return new Bb(m.V1,null,u);K=Uc(K);if(!K)return new Bb(m.V1,null,u);try{v=wa(B);}catch(C){return new Bb(m.V1,null,u);}return new Bb(r,K,v);default:throw new S(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+u);}});};}());bc=ma.Class.create({encrypt:function(g,r){},decrypt:function(g,r){},wrap:function(g,r){},unwrap:function(g,r,m,u){},sign:function(g,r){},verify:function(g,r,m){}});(function(){var m;m=Db={RSA_OAEP:wc.name,A128KW:zb.name};wb="A128GCM";Cb=ma.Class.create({init:function(g,r,u,M,I){switch(r){case m.RSA_OAEP:I=I&&(I.rawKey||I);M=M&&(M.rawKey||M);break;case m.A128KW:I=M=M&&(M.rawKey||M);break;default:throw new fa("Unsupported algorithm: "+r);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:r,writable:!1,enumerable:!1,configurable:!1},_enc:{value:u,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:I,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:M,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(r,m){m.error(new S(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(r,m){m.error(new S(g.DECRYPT_NOT_SUPPORTED));},wrap:function(m,u){r(u,function(){Ka.wrapKey("jwe+jwk",m.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){u.result(g);},function(r){u.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(m,u,E,M){function I(m){r(M,function(){switch(m.type){case"secret":Zb(m,M);break;case"public":Ob(m,M);break;case"private":$b(m,M);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+m.type);}});}r(M,function(){Ka.unwrapKey("jwe+jwk",m,this._unwrapKey,this._unwrapKey.algorithm,u,!1,E).then(function(g){I(g);},function(){M.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(r,m){m.error(new S(g.SIGN_NOT_SUPPORTED));},verify:function(r,m,u){u.error(new S(g.VERIFY_NOT_SUPPORTED));}});}());cc=bc.extend({encrypt:function(g,r){r.result(g);},decrypt:function(g,r){r.result(g);},wrap:function(g,r){r.result(g);},unwrap:function(g,r,m,u){u.result(g);},sign:function(g,r){r.result(new Uint8Array(0));},verify:function(g,r,m){m.result(!0);}});(function(){var m;m=zc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};yc=bc.extend({init:function Ja(g,r,I,w,x){Ja.base.call(this);I&&(I=I.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:r,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:I,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:x==m.ENCRYPT_DECRYPT_PKCS1?Wc:x==m.ENCRYPT_DECRYPT_OAEP?wc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:x==m.WRAP_UNWRAP_PKCS1?Wc:x==m.WRAP_UNWRAP_OAEP?wc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:x==m.SIGN_VERIFY?Id:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(m,u){var M;M=this;r(u,function(){if("nullOp"==this.transform)return m;if(!this.publicKey)throw new S(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==m.length)return m;Ka.encrypt(M.transform,M.publicKey,m).then(function(r){$c(M.id,null,r,{result:function(r){var m;try{m=JSON.stringify(r);u.result(Wa(m,Ma));}catch(B){u.error(new S(g.ENCRYPT_ERROR,null,B));}},error:function(r){r instanceof E||(r=new S(g.ENCRYPT_ERROR,null,r));u.error(r);}});},function(r){u.error(new S(g.ENCRYPT_ERROR));});},this);},decrypt:function(m,u){var M;M=this;r(u,function(){var r,w;if("nullOp"==this.transform)return m;if(!this.privateKey)throw new S(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0==m.length)return m;try{w=Ya(m,Ma);r=JSON.parse(w);}catch(x){if(x instanceof SyntaxError)throw new S(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,x);throw new S(g.DECRYPT_ERROR,null,x);}ad(r,bd.V1,{result:function(r){var m;try{if(r.keyId!=M.id)throw new S(g.ENVELOPE_KEY_ID_MISMATCH);m=u.result;Ka.decrypt(M.transform,M.privateKey,r.ciphertext).then(m,function(r){u.error(new S(g.DECRYPT_ERROR));});}catch(K){K instanceof E?u.error(K):u.error(new S(g.DECRYPT_ERROR,null,K));}},error:function(r){r instanceof ia&&(r=new S(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,r));r instanceof E||(r=new S(g.DECRYPT_ERROR,null,r));u.error(r);}});},this);},wrap:function(m,u){r(u,function(){var r;if("nullOp"==this.wrapTransform||!this.publicKey)throw new S(g.WRAP_NOT_SUPPORTED,"no public key");r=u.result;Ka.wrapKey("jwk",m.rawKey,this.publicKey,this.wrapTransform).then(r,function(r){u.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(m,u,M,I){function w(m){r(I,function(){switch(m.type){case"secret":Zb(m,I);break;case"public":Ob(m,I);break;case"private":$b(m,I);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+m.type);}});}r(I,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new S(g.UNWRAP_NOT_SUPPORTED,"no private key");Ka.unwrapKey("jwk",m,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},u,!1,M).then(w,function(r){I.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(m,u){r(u,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new S(g.SIGN_NOT_SUPPORTED,"no private key");Ka.sign(this.algo,this.privateKey,m).then(function(g){cd(g,{result:function(g){u.result(g.bytes);},error:u.error});},function(r){u.error(new S(g.SIGNATURE_ERROR));});},this);},verify:function(m,u,M){var I;I=this;r(M,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new S(g.VERIFY_NOT_SUPPORTED,"no public key");dd(u,ed.V1,{result:function(w){r(M,function(){var r;r=M.result;Ka.verify(this.algo,this.publicKey,w.signature,m).then(r,function(r){M.error(new S(g.SIGNATURE_ERROR));});},I);},error:M.error});},this);}});}());(function(){Ac=bc.extend({init:function Xa(g,r,m,I,w){Xa.base.call(this);m=m&&m.rawKey;I=I&&I.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:r,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:m,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:I,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(m,u){var N;N=this;r(u,function(){var r;if(!this.encryptionKey)throw new S(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==m.length)return m;r=new Uint8Array(16);this.ctx.getRandom().nextBytes(r);Ka.encrypt({name:sb.name,iv:r},N.encryptionKey,m).then(function(m){m=new Uint8Array(m);$c(N.id,r,m,{result:function(r){var m;try{m=JSON.stringify(r);u.result(Wa(m,Ma));}catch(B){u.error(new S(g.ENCRYPT_ERROR,null,B));}},error:function(r){r instanceof E||(r=new S(g.ENCRYPT_ERROR,null,r));u.error(r);}});},function(r){u.error(new S(g.ENCRYPT_ERROR));});},this);},decrypt:function(m,u){var N;N=this;r(u,function(){var r,I;if(!this.encryptionKey)throw new S(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==m.length)return m;try{I=Ya(m,Ma);r=JSON.parse(I);}catch(w){if(w instanceof SyntaxError)throw new S(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new S(g.DECRYPT_ERROR,null,w);}ad(r,bd.V1,{result:function(r){try{if(r.keyId!=N.id)throw new S(g.ENVELOPE_KEY_ID_MISMATCH);Ka.decrypt({name:sb.name,iv:r.iv},N.encryptionKey,r.ciphertext).then(function(g){g=new Uint8Array(g);u.result(g);},function(){u.error(new S(g.DECRYPT_ERROR));});}catch(x){x instanceof E?u.error(x):u.error(new S(g.DECRYPT_ERROR,null,x));}},error:function(r){r instanceof ia&&(r=new S(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,r));r instanceof E||(r=new S(g.DECRYPT_ERROR,null,r));u.error(r);}});},this);},wrap:function(m,u){r(u,function(){if(!this.wrapKey)throw new S(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.wrapKey("raw",m.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){u.result(g);},function(r){u.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(m,u,E,M){function I(m){r(M,function(){switch(m.type){case"secret":Zb(m,M);break;case"public":Ob(m,M);break;case"private":$b(m,M);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+m.type);}});}r(M,function(){if(!this.wrapKey)throw new S(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.unwrapKey("raw",m,this.wrapKey,this.wrapKey.algorithm,u,!1,E).then(function(g){I(g);},function(r){M.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(m,u){var E;E=this;r(u,function(){if(!this.hmacKey)throw new S(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Ka.sign(tb,this.hmacKey,m).then(function(g){r(u,function(){var r;r=new Uint8Array(g);cd(r,{result:function(g){u.result(g.bytes);},error:u.error});},E);},function(){u.error(new S(g.HMAC_ERROR));});},this);},verify:function(m,u,E){var M;M=this;r(E,function(){if(!this.hmacKey)throw new S(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");dd(u,ed.V1,{result:function(I){r(E,function(){Ka.verify(tb,this.hmacKey,I.signature,m).then(function(g){E.result(g);},function(r){E.error(new S(g.HMAC_ERROR));});},M);},error:E.error});},this);}});}());lb=Ac.extend({init:function Xa(r,m,u,I,w){if(u||I||w)Xa.base.call(this,r,u+"_"+m.sequenceNumber,I,w,null);else{if(!m.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,m);Xa.base.call(this,r,m.identity+"_"+m.sequenceNumber,m.encryptionKey,m.hmacKey,null);}}});Me=bc.extend({encrypt:function(g,r){r.result(g);},decrypt:function(g,r){r.result(g);},wrap:function(g,r){r.error(new fa("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,r,m,u){u.error(new fa("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,r){r.result(new Uint8Array(0));},verify:function(g,r,m){m.result(!1);}});Sa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Sa);(function(){Qb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Qb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Kd=function(r,m){var u,M,I;u=m.scheme;M=m.authdata;if(!u||!M)throw new ia(g.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(m));if(!Sa[u])throw new yb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,u);I=r.getEntityAuthenticationFactory(u);if(!I)throw new yb(g.ENTITYAUTH_FACTORY_NOT_FOUND,u);return I.createData(r,M);};}());Bc=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,r){},getCryptoContext:function(g,r){}});(function(){pb=Qb.extend({init:function Ja(g){Ja.base.call(this,Sa.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function La(g){return this===g?!0:g instanceof pb?La.base.call(this,this,g)&&this.identity==g.identity:!1;}});Ld=function(r){var m;m=r.identity;if(!m)throw new ia(g.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(r));return new pb(m);};}());Ne=Bc.extend({init:function Ja(g){Ja.base.call(this,Sa.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,r){return Ld(r);},getCryptoContext:function(r,m){if(!(m instanceof pb))throw new fa("Incorrect authentication data type "+JSON.stringify(m)+".");if(m.identity!=this.localIdentity)throw new yb(g.ENTITY_NOT_FOUND,"mgk "+m.identity).setEntity(m);return new cc();}});(function(){ub=Qb.extend({init:function La(g){La.base.call(this,Sa.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function M(g){return this===g?!0:g instanceof ub?M.base.call(this,this,g)&&this.identity==g.identity:!1;}});Md=function(r){var m;m=r.identity;if(!m)throw new ia(g.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(r));return new ub(m);};}());Nd=Bc.extend({init:function La(g){La.base.call(this,Sa.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,r){return Md(r);},getCryptoContext:function(r,m){if(!(m instanceof ub))throw new fa("Incorrect authentication data type "+JSON.stringify(m)+".");if(m.getIdentity()!=this.localIdentity)throw new yb(g.ENTITY_NOT_FOUND,"psk "+m.identity).setEntity(m);return new cc();}});(function(){Cc=Qb.extend({init:function M(g,r){M.base.call(this,Sa.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:r,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function I(g){return this===g?!0:g instanceof Cc?I.base.call(this,this,g)&&this.identity==g.identity&&this.publicKeyId==g.publicKeyId:!1;}});Od=function(r){var m,x;m=r.identity;x=r.pubkeyid;if(!m||"string"!==typeof m||!x||"string"!==typeof x)throw new ia(g.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(r));return new Cc(m,x);};}());Oe=Bc.extend({init:function M(g){M.base.call(this,Sa.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,r){return Od(r);},getCryptoContext:function(r,m){var w,x,B;if(!(m instanceof Cc))throw new fa("Incorrect authentication data type "+m+".");w=m.identity;x=m.publicKeyId;B=this.store.getPublicKey(x);if(!B)throw new yb(g.RSA_PUBLICKEY_NOT_FOUND,x).setEntity(m);return new yc(r,w,null,B,zc.SIGN_VERIFY);}});(function(){gc=Qb.extend({init:function I(g){I.base.call(this,Sa.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function w(g){return this===g?!0:g instanceof gc?w.base.call(this,this,g)&&this.identity==g.identity:!1;}});Pd=function(r){var m;m=r.identity;if(!m)throw new ia(g.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(r));return new gc(m);};}());Le=Bc.extend({init:function I(){I.base.call(this,Sa.NONE);},createData:function(g,r){return Pd(r);},getCryptoContext:function(g,r){if(!(r instanceof gc))throw new fa("Incorrect authentication data type "+JSON.stringify(r)+".");return new cc();}});Pe=ma.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,r){if(!(r instanceof xc))throw new fa("Incorrect key data type "+r+".");this.rsaKeys[g]=r;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});fd=ma.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,r,m){}});Dc=ma.Class.create({abort:function(){},close:function(g,r){},write:function(g,r,m,B,K){},flush:function(g,r){}});Qe=ma.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Za("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(g,r,m){u(m,function(){var r;if(this._closed)throw new Za("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==g&&(g=this._data.length-this._currentPosition);r=this._data.subarray(this._currentPosition,this._currentPosition+g);this._currentPosition+=r.length;return r;},this);}});Re=ma.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,r){this._closed=!0;r.result(!0);},write:function(g,r,m,B,K){u(K,function(){var v;if(this._closed)throw new Za("Stream is already closed.");if(0>r)throw new RangeError("Offset cannot be negative.");if(0>m)throw new RangeError("Length cannot be negative.");if(r+m>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=g.subarray(r,m);this._buffered.push(v);return v.length;},this);},flush:function(g,r){var m,w;for(;0<this._buffered.length;){m=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+m.length);w.set(this._result);w.set(m,this._result.length);this._result=w;}else this._result=new Uint8Array(m);}r.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Se=ma.Class.create({getResponse:function(g,r,m){}});(function(){var g,r;g=Dc.extend({init:function(g,r){var m;m={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Re(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ja,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ja,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,m);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,r){var m;m=this;this._responseQueue.poll(g,{result:function(g){u(r,function(){g&&this._responseQueue.add(g);return g;},m);},timeout:function(){u(r,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();r.timeout();},m);},error:function(g){u(r,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},m);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(g,r){var m;m=this;u(r,function(){var g;if(this._response)return!0;g=this._buffer.toByteArray();0<g.length&&(this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){m._response={response:g};m._responseQueue.add(m._response);},timeout:function(){m._response={isTimeout:!0};m._responseQueue.add(m._response);},error:function(g){m._response={isError:!0,error:g};m._responseQueue.add(m._response);}}));return!0;},this);},write:function(g,r,m,v,C){u(C,function(){if(this._response)throw new Za("HttpOutputStream already closed.");this._buffer.write(g,r,m,v,C);},this);},flush:function(g,r){u(r,function(){if(this._response)return!0;this._buffer.flush(g,r);},this);}});r=fd.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ja,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ja,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,r,m){var C;function v(v){u(m,function(){if(!v)return new Uint8Array(0);this._out.getResponse(r,{result:function(v){u(m,function(){var w;if(v.isTimeout)this._timedout=!0,m.timeout();else{if(v.isError)throw this._exception=v.error||new Za("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Za("Missing HTTP response."),this._exception;v.response.json!==ja&&(this._json=v.response.json,this.getJSON=function(){return C._json;});w=v.response.content||Oc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Qe(w);this._buffer.read(g,r,m);}},C);},timeout:function(){m.timeout();},error:function(g){m.error(g);}});},C);}C=this;u(m,function(){if(this._exception)throw this._exception;if(this._timedout)m.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,r,m):this._out.close(r,{result:function(g){v(g);},timeout:function(){m.timeout();},error:function(g){m.error(g);}});}},C);}});zd=ma.Class.create({init:function(g,r){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var m;m=new g(this._httpLocation,this._timeout);return{input:new r(m),output:m};}});}());(function(){var g,r;g=Dc.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,r){r.result({success:!1,content:null,errorHttpCode:ja,errorSubCode:ja});},abort:function(){},close:function(g,r){r.result(!0);},write:function(g,r,m,v,C){var w,x;try{if(0>r)throw new RangeError("Offset cannot be negative.");if(0>m)throw new RangeError("Length cannot be negative.");if(r+m>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(r,m);x=new Uint8Array(this._buffer.length+w.length);x.set(this._buffer);x.set(w,this._buffer.length);this._buffer=x;C.result(w.length);}catch(Ca){C.error(Ca);}},flush:function(g,r){r.result(!0);},request:function(){return this._buffer;}});r=fd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,r,m){m.result(new Uint8Array(16));}});Ad=ma.Class.create({init:function(){var m;m={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new r(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,m);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Nc(this.output.request());}});}());Qd=function(g,r,m){function w(g){var r,m;g=new Te(Ya(g,"utf-8"));r=[];for(m=g.nextValue();m!==ja;)r.push(m),m=g.nextValue();return r;}(function(g,r,C){g.read(-1,r,{result:function(g){g&&g.length?C(null,g):C(null,null);},timeout:function(){m.timeout();},error:function(g){C(g,null);}});}(g,r,function(r,v){r?m.error(r):v?g.getJSON!==ja&&"function"===typeof g.getJSON?m.result(g.getJSON()):m.result(w(v)):m.result(null);}));};ob={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ob);(function(){ic=ma.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof ic?this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Rd=function(m,w,x){r(x,function(){var r,u,v;r=w.scheme;u=w.keydata;if(!r||!u||"object"!==typeof u)throw new ia(g.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!ob[r])throw new Ua(g.UNIDENTIFIED_KEYX_SCHEME,r);v=m.getKeyExchangeFactory(r);if(!v)throw new Ua(g.KEYX_FACTORY_NOT_FOUND,r);v.createRequestData(m,u,x);});};}());(function(){jc=ma.Class.create({init:function(g,r){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:r,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof jc?this.masterToken.equals(g.masterToken)&&this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Sd=function(m,w,x){r(x,function(){var u,K,v;u=w.mastertoken;K=w.scheme;v=w.keydata;if(!K||!u||"object"!==typeof u||!v||"object"!==typeof v)throw new ia(g.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!ob[K])throw new Ua(g.UNIDENTIFIED_KEYX_SCHEME,K);Tb(m,u,{result:function(C){r(x,function(){var r;r=m.getKeyExchangeFactory(K);if(!r)throw new Ua(g.KEYX_FACTORY_NOT_FOUND,K);return r.createResponseData(m,C,v);});},error:function(g){x.error(g);}});});};}());(function(){var m;m=ma.Class.create({init:function(g,r){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:r,writable:!1,configurable:!1}});}});qb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,r,m){},createResponseData:function(g,r,m){},generateResponse:function(g,r,m,u){},getCryptoContext:function(g,r,m,u,v){},generateSessionKeys:function(m,x){r(x,function(){var r,w;r=new Uint8Array(16);w=new Uint8Array(32);m.getRandom().nextBytes(r);m.getRandom().nextBytes(w);Ab(r,sb,Ib,{result:function(r){Ab(w,tb,Sb,{result:function(g){x.result({encryptionKey:r,hmacKey:g});},error:function(r){x.error(new S(g.SESSION_KEY_CREATION_FAILURE,null,r));}});},error:function(r){x.error(new S(g.SESSION_KEY_CREATION_FAILURE,null,r));}});});},importSessionKeys:function(g,r,m){Ab(g,sb,Ib,{result:function(g){Ab(r,tb,Sb,{result:function(r){m.result({encryptionKey:g,hmacKey:r});},error:function(g){m.error(g);}});},error:function(g){m.error(g);}});}});qb.KeyExchangeData=m;}());(function(){var w,x,u;function m(m,v,C,x,u){r(u,function(){var Z,K;switch(v){case w.PSK:Z=new ub(x),K=m.getEntityAuthenticationFactory(Sa.PSK);if(!K)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,v);Z=K.getCryptoContext(m,Z);return new Cb(m,Db.A128KW,wb,ja);case w.MGK:Z=new pb(x);K=m.getEntityAuthenticationFactory(Sa.MGK);if(!K)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,v);Z=K.getCryptoContext(m,Z);return new Cb(m,Db.A128KW,wb,ja);case w.WRAP:Z=m.getMslCryptoContext();Z.unwrap(C,zb,Jb,{result:function(g){r(u,function(){return new Cb(m,Db.A128KW,wb,g);});},error:u.error});break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=gd=ic.extend({init:function v(g,r){v.base.call(this,ob.JWE_LADDER);switch(g){case w.WRAP:if(!r)throw new fa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:r=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:r,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=pa(this.wrapdata));return g;},equals:function C(g){return g===this?!0:g instanceof gd?C.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function Ba(){var g;g=Ba.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+hb(this.wrapdata));return g;}});u=Ud=jc.extend({init:function Z(g,r,m,w,A){Z.base.call(this,g,ob.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:r,writable:!1,configurable:!1},wrapdata:{value:m,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:A,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=pa(this.wrapKey);g.wrapdata=pa(this.wrapdata);g.encryptionkey=pa(this.encryptionKey);g.hmackey=pa(this.hmacKey);return g;},equals:function Ca(g){return this===g?!0:g instanceof Ud?Ca.base.call(this,g)&&ab(this.wrapKey,g.wrapKey)&&ab(this.wrapdata,g.wrapdata)&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function xa(){return xa.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Td=qb.extend({init:function Y(g){Y.base.call(this,ob.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(m,u,A){r(A,function(){var r,m,A;r=u.mechanism;m=u.wrapdata;if(!r||r==w.WRAP&&(!m||"string"!==typeof m))throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(u));if(!w[r])throw new Ua(g.UNIDENTIFIED_KEYX_MECHANISM,r);switch(r){case w.WRAP:try{A=wa(m);}catch(ca){throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());}if(null==A||0==A.length)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());break;default:A=null;}return new x(r,A);});},createResponseData:function(r,m,w){var A,x,Y,B,sa,I,E;r=w.wrapkey;A=w.wrapdata;x=w.encryptionkey;Y=w.hmackey;if(!(r&&"string"===typeof r&&A&&"string"===typeof A&&x&&"string"===typeof x&&Y)||"string"!==typeof Y)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=wa(r);sa=wa(A);}catch(ha){throw new S(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ha);}try{I=wa(x);}catch(ha){throw new S(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ha);}try{E=wa(Y);}catch(ha){throw new S(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ha);}return new u(m,B,sa,I,E);},generateResponse:function(w,B,A,V){var Ra,ra;function Y(g,m,A){Ra.generateSessionKeys(w,{result:function(w){r(V,function(){sa(g,m,A,w.encryptionKey,w.hmacKey);},Ra);},error:function(g){r(V,function(){g instanceof E&&g.setEntity(ra);throw g;});}});}function sa(g,A,x,u,Y){r(V,function(){m(w,B.mechanism,B.wrapdata,g,{result:function(g){g.wrap(A,{result:function(d){I(A,x,u,Y,d);},error:function(d){r(V,function(){d instanceof E&&d.setEntity(ra);throw d;});}});},error:function(g){r(V,function(){g instanceof E&&g.setEntity(ra);throw g;});}});},Ra);}function I(g,m,A,x,u){r(V,function(){var ha;ha=new Cb(w,Db.A128KW,wb,g);ha.wrap(A,{result:function(d){ha.wrap(x,{result:function(b){ua(m,u,A,d,x,b);},error:function(b){r(V,function(){b instanceof E&&b.setEntity(ra);throw b;});}});},error:function(d){r(V,function(){d instanceof E&&d.setEntity(ra);throw d;});}});},Ra);}function ua(g,m,x,Y,na,B){r(V,function(){var d;d=w.getTokenFactory();ra?d.renewMasterToken(w,ra,x,na,{result:function(b){r(V,function(){var a,c;a=new lb(w,b);c=new u(b,m,g,Y,B);return new qb.KeyExchangeData(c,a,V);},Ra);},error:function(b){r(V,function(){b instanceof E&&b.setEntity(ra);throw b;});}}):d.createMasterToken(w,A,x,na,{result:function(b){r(V,function(){var a,c;a=new lb(w,b);c=new u(b,m,g,Y,B);return new qb.KeyExchangeData(c,a,V);},Ra);},error:V.error});},Ra);}Ra=this;r(V,function(){var m,u;if(!(B instanceof x))throw new fa("Key request data "+JSON.stringify(B)+" was not created by this factory.");m=A;if(A instanceof kb){if(!A.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,A);ra=A;m=A.identity;}u=new Uint8Array(16);w.getRandom().nextBytes(u);Ab(u,zb,Jb,{result:function(g){r(V,function(){w.getMslCryptoContext().wrap(g,{result:function(r){Y(m,g,r);},error:function(g){r(V,function(){g instanceof E&&g.setEntity(ra);throw g;},Ra);}});},Ra);},error:function(m){r(V,function(){throw new S(g.WRAP_KEY_CREATION_FAILURE,null,m).setEntity(ra);},Ra);}});},Ra);},getCryptoContext:function(m,B,A,V,ya){var sa;function Y(g,w,A,x,u){r(ya,function(){var ha;ha=new Cb(m,Db.A128KW,wb,u);ha.unwrap(w.encryptionKey,sb,Ib,{result:function(u){ha.unwrap(w.hmacKey,tb,Sb,{result:function(g){r(ya,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(A);return new lb(m,w.masterToken,x,u,g);},sa);},error:function(m){r(ya,function(){m instanceof E&&m.setEntity(g);throw m;});}});},error:function(m){r(ya,function(){m instanceof E&&m.setEntity(g);throw m;});}});},sa);}sa=this;r(ya,function(){var V,ea;if(!(B instanceof x))throw new fa("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(A instanceof u))throw new fa("Key response data "+JSON.stringify(A)+" was not created by this factory.");V=B.mechanism;ea=B.wrapdata;m.getEntityAuthenticationData(null,{result:function(x){r(ya,function(){var u,B,sa;u=x.getIdentity();switch(V){case w.PSK:B=new ub(u);sa=m.getEntityAuthenticationFactory(Sa.PSK);if(!sa)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);B=sa.getCryptoContext(m,B);B=new Cb(m,Db.A128KW,wb,ja);break;case w.MGK:B=new pb(u);sa=m.getEntityAuthenticationFactory(Sa.MGK);if(!sa)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);B=sa.getCryptoContext(m,B);B=new Cb(m,Db.A128KW,wb,B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(ea);if(!B)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,pa(ea)).setEntity(x);break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);}B.unwrap(A.wrapKey,zb,Jb,{result:function(g){Y(x,A,ea,u,g);},error:function(g){r(ya,function(){g instanceof E&&g.setEntity(x);throw g;});}});},sa);},error:ya.error});},sa);}});}());(function(){var w,x,u,K;function m(m,C,x,u,B){r(B,function(){var v,Z;switch(C){case w.PSK:v=new ub(u),Z=m.getEntityAuthenticationFactory(Sa.PSK);if(!Z)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,C);v=Z.getCryptoContext(m,v);return new K(ja);case w.MGK:v=new pb(u);Z=m.getEntityAuthenticationFactory(Sa.MGK);if(!Z)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,C);v=Z.getCryptoContext(m,v);return new K(ja);case w.WRAP:v=m.getMslCryptoContext();v.unwrap(x,zb,Jb,{result:function(g){r(B,function(){return new K(g);});},error:B.error});break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,C);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=Ec=ic.extend({init:function C(g,r){C.base.call(this,ob.JWK_LADDER);switch(g){case w.WRAP:if(!r)throw new fa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:r=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:r,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=pa(this.wrapdata));return g;},equals:function Ba(g){return g===this?!0:g instanceof Ec?Ba.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function Z(){var g;g=Z.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+hb(this.wrapdata));return g;}});u=Vd=jc.extend({init:function Ca(g,r,m,w,x){Ca.base.call(this,g,ob.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:r,writable:!1,configurable:!1},wrapdata:{value:m,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=pa(this.wrapKey);g.wrapdata=pa(this.wrapdata);g.encryptionkey=pa(this.encryptionKey);g.hmackey=pa(this.hmacKey);return g;},equals:function xa(g){return this===g?!0:g instanceof Vd?xa.base.call(this,g)&&ab(this.wrapKey,g.wrapKey)&&ab(this.wrapdata,g.wrapdata)&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function Y(){return Y.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});K=bc.extend({init:function(g){g&&g.rawKey&&(g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(r,m){m.error(new S(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(r,m){m.error(new S(g.DECRYPT_NOT_SUPPORTED));},wrap:function(m,w){r(w,function(){Ka.wrapKey("jwk",m.rawKey,this._wrapKey,zb).then(function(g){w.result(g);},function(r){w.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(m,w,x,u){function A(m){r(u,function(){switch(m.type){case"secret":Zb(m,u);break;case"public":Ob(m,u);break;case"private":$b(m,u);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+m.type);}});}r(u,function(){Ka.unwrapKey("jwk",m,this._wrapKey,zb,w,!1,x).then(function(g){A(g);},function(r){u.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(r,m){m.error(new S(g.SIGN_NOT_SUPPORTED));},verify:function(r,m,w){w.error(new S(g.VERIFY_NOT_SUPPORTED));}});id=qb.extend({init:function sa(g){sa.base.call(this,ob.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(m,u,K){r(K,function(){var r,m,A;r=u.mechanism;m=u.wrapdata;if(!r||r==w.WRAP&&(!m||"string"!==typeof m))throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(u));if(!w[r])throw new Ua(g.UNIDENTIFIED_KEYX_MECHANISM,r);switch(r){case w.WRAP:try{A=wa(m);}catch(ua){throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());}if(null==A||0==A.length)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());break;default:A=null;}return new x(r,A);});},createResponseData:function(r,m,w){var x,A,K,B,V,sa,ha;r=w.wrapkey;x=w.wrapdata;A=w.encryptionkey;K=w.hmackey;if(!(r&&"string"===typeof r&&x&&"string"===typeof x&&A&&"string"===typeof A&&K)||"string"!==typeof K)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=wa(r);V=wa(x);}catch(xb){throw new S(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),xb);}try{sa=wa(A);}catch(xb){throw new S(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),xb);}try{ha=wa(K);}catch(xb){throw new S(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),xb);}return new u(m,B,V,sa,ha);},generateResponse:function(w,A,B,I){var ra,ha;function V(g,m,x){ra.generateSessionKeys(w,{result:function(w){r(I,function(){sa(g,m,x,w.encryptionKey,w.hmacKey);},ra);},error:function(g){r(I,function(){g instanceof E&&g.setEntity(ha);throw g;});}});}function sa(g,x,u,B,K){r(I,function(){m(w,A.mechanism,A.wrapdata,g,{result:function(d){d.wrap(x,{result:function(b){ya(x,u,B,K,b);},error:function(b){r(I,function(){b instanceof E&&b.setEntity(ha);throw b;});}});},error:function(d){r(I,function(){d instanceof E&&d.setEntity(ha);throw d;});}});},ra);}function ya(g,m,w,x,u){r(I,function(){var d;d=new K(g);d.wrap(w,{result:function(b){d.wrap(x,{result:function(a){Ra(m,u,w,b,x,a);},error:function(a){r(I,function(){a instanceof E&&a.setEntity(ha);throw a;});}});},error:function(b){r(I,function(){b instanceof E&&b.setEntity(ha);throw b;});}});},ra);}function Ra(g,m,x,A,K,d){r(I,function(){var b;b=w.getTokenFactory();ha?b.renewMasterToken(w,ha,x,K,{result:function(a){r(I,function(){var b,l;b=new lb(w,a);l=new u(a,m,g,A,d);return new qb.KeyExchangeData(l,b,I);},ra);},error:function(a){r(I,function(){a instanceof E&&a.setEntity(ha);throw a;});}}):b.createMasterToken(w,B,x,K,{result:function(a){r(I,function(){var b,l;b=new lb(w,a);l=new u(a,m,g,A,d);return new qb.KeyExchangeData(l,b,I);},ra);},error:I.error});},ra);}ra=this;r(I,function(){var m,u;if(!(A instanceof x))throw new fa("Key request data "+JSON.stringify(A)+" was not created by this factory.");m=B;if(B instanceof kb){if(!B.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,B);ha=B;m=B.identity;}u=new Uint8Array(16);w.getRandom().nextBytes(u);Ab(u,zb,Jb,{result:function(g){r(I,function(){w.getMslCryptoContext().wrap(g,{result:function(r){V(m,g,r);},error:function(g){r(I,function(){g instanceof E&&g.setEntity(ha);throw g;},ra);}});},ra);},error:function(m){r(I,function(){throw new S(g.WRAP_KEY_CREATION_FAILURE,null,m).setEntity(ha);},ra);}});},ra);},getCryptoContext:function(m,A,B,I,ea){var sa;function V(g,w,x,u,A){r(ea,function(){var ha;ha=new K(A);ha.unwrap(w.encryptionKey,sb,Ib,{result:function(A){ha.unwrap(w.hmacKey,tb,Sb,{result:function(g){r(ea,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(x);return new lb(m,w.masterToken,u,A,g);},sa);},error:function(m){r(ea,function(){m instanceof E&&m.setEntity(g);throw m;});}});},error:function(m){r(ea,function(){m instanceof E&&m.setEntity(g);throw m;});}});},sa);}sa=this;r(ea,function(){var I,ya;if(!(A instanceof x))throw new fa("Key request data "+JSON.stringify(A)+" was not created by this factory.");if(!(B instanceof u))throw new fa("Key response data "+JSON.stringify(B)+" was not created by this factory.");I=A.mechanism;ya=A.wrapdata;m.getEntityAuthenticationData(null,{result:function(x){r(ea,function(){var u,A,ha;u=x.getIdentity();switch(I){case w.PSK:A=new ub(u);ha=m.getEntityAuthenticationFactory(Sa.PSK);if(!ha)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);A=ha.getCryptoContext(m,A);A=new K(A.wrapKey);break;case w.MGK:A=new pb(u);ha=m.getEntityAuthenticationFactory(Sa.MGK);if(!ha)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);A=ha.getCryptoContext(m,A);A=new K(A.wrapKey);break;case w.WRAP:A=this.repository.getCryptoContext(ya);if(!A)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,pa(ya)).setEntity(x);break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);}A.unwrap(B.wrapKey,zb,Jb,{result:function(g){V(x,B,ya,u,g);},error:function(g){r(ea,function(){g instanceof E&&g.setEntity(x);throw g;});}});},sa);},error:ea.error});},sa);}});}());Ue=ma.Class.create({addCryptoContext:function(g,m){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var w,x,u,K;function m(m,r,x,u,B){switch(x){case w.JWE_RSA:case w.JWEJS_RSA:return new Cb(m,Db.RSA_OAEP,wb,u,B);case w.JWK_RSA:return new yc(m,r,u,B,zc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new yc(m,r,u,B,zc.WRAP_UNWRAP_PKCS1);default:throw new S(g.UNSUPPORTED_KEYX_MECHANISM,x);}}w=Fc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};x=Tc=ic.extend({init:function C(g,m,r,w){C.base.call(this,ob.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:m,writable:!1,configurable:!1},publicKey:{value:r,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=pa(this.publicKey.getEncoded());return g;},equals:function Ba(g){var m;if(g===this)return!0;if(!(g instanceof Tc))return!1;m=this.privateKey===g.privateKey||this.privateKey&&g.privateKey&&ab(this.privateKey.getEncoded(),g.privateKey.getEncoded());return Ba.base.call(this,g)&&this.keyPairId==g.keyPairId&&this.mechanism==g.mechanism&&ab(this.publicKey.getEncoded(),g.publicKey.getEncoded())&&m;},uniqueKey:function Z(){var g,m;g=this.publicKey.getEncoded();m=this.privateKey&&this.privateKey.getEncoded();g=Z.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+hb(g);m&&(g+=":"+hb(m));return g;}});u=function(m,u){r(u,function(){var r,B,K,A;r=m.keypairid;B=m.mechanism;K=m.publickey;if(!r||"string"!==typeof r||!B||!K||"string"!==typeof K)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(m));if(!w[B])throw new Ua(g.UNIDENTIFIED_KEYX_MECHANISM,B);try{A=wa(K);switch(B){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:Yc(A,wc,Jb,{result:function(g){u.result(new x(r,B,g,null));},error:function(g){u.error(g);}});break;case w.JWK_RSAES:Yc(A,Wc,Jb,{result:function(g){u.result(new x(r,B,g,null));},error:function(g){u.error(g);}});break;default:throw new S(g.UNSUPPORTED_KEYX_MECHANISM,B);}}catch(V){if(!(V instanceof E))throw new S(g.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(m),V);throw V;}});};K=Wd=jc.extend({init:function Ca(g,m,r,w){Ca.base.call(this,g,ob.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:m,writable:!1,configurable:!1},encryptionKey:{value:r,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=pa(this.encryptionKey);g.hmackey=pa(this.hmacKey);return g;},equals:function xa(g){return this===g?!0:g instanceof Wd?xa.base.call(this,g)&&this.keyPairId==g.keyPairId&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function Y(){return Y.base.call(this)+":"+this.keyPairId+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Bd=qb.extend({init:function sa(){sa.base.call(this,ob.ASYMMETRIC_WRAPPED);},createRequestData:function(g,m,r){u(m,r);},createResponseData:function(m,r,w){var x,u,A,B;m=w.keypairid;x=w.encryptionkey;u=w.hmackey;if(!m||"string"!==typeof m||!x||"string"!==typeof x||!u||"string"!==typeof u)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{A=wa(x);}catch(Ra){throw new S(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Ra);}try{B=wa(u);}catch(Ra){throw new S(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Ra);}return new K(r,m,A,B);},generateResponse:function(g,w,u,B){var V;function A(x,A){r(B,function(){var ha;ha=m(g,w.keyPairId,w.mechanism,null,w.publicKey);ha.wrap(x,{result:function(g){r(B,function(){ha.wrap(A,{result:function(m){I(x,g,A,m);},error:function(g){r(B,function(){g instanceof E&&u instanceof kb&&g.setEntity(u);throw g;},V);}});},V);},error:function(g){r(B,function(){g instanceof E&&u instanceof kb&&g.setEntity(u);throw g;},V);}});},V);}function I(m,x,A,I){r(B,function(){var ha;ha=g.getTokenFactory();u instanceof kb?ha.renewMasterToken(g,u,m,A,{result:function(m){r(B,function(){var r,u;r=new lb(g,m);u=new K(m,w.keyPairId,x,I);return new qb.KeyExchangeData(u,r,B);},V);},error:function(g){r(B,function(){g instanceof E&&g.setEntity(u);throw g;},V);}}):ha.createMasterToken(g,u,m,A,{result:function(m){r(B,function(){var r,u;r=new lb(g,m);u=new K(m,w.keyPairId,x,I);return new qb.KeyExchangeData(u,r,B);},V);},error:B.error});},V);}V=this;r(B,function(){if(!(w instanceof x))throw new fa("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(g,{result:function(g){A(g.encryptionKey,g.hmacKey);},error:function(g){r(B,function(){g instanceof E&&u instanceof kb&&g.setEntity(u);throw g;},V);}});},V);},getCryptoContext:function(w,u,B,I,ea){var A;A=this;r(ea,function(){var V,sa,ca;if(!(u instanceof x))throw new fa("Key request data "+JSON.stringify(u)+" was not created by this factory.");if(!(B instanceof K))throw new fa("Key response data "+JSON.stringify(B)+" was not created by this factory.");V=u.keyPairId;sa=B.keyPairId;if(V!=sa)throw new Ua(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+V+"; response "+sa).setEntity(I);sa=u.privateKey;if(!sa)throw new Ua(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(I);ca=m(w,V,u.mechanism,sa,null);ca.unwrap(B.encryptionKey,sb,Ib,{result:function(g){ca.unwrap(B.hmacKey,tb,Sb,{result:function(m){w.getEntityAuthenticationData(null,{result:function(u){r(ea,function(){var r;r=u.getIdentity();return new lb(w,B.masterToken,r,g,m);},A);},error:function(g){r(ea,function(){g instanceof E&&g.setEntity(I);throw g;},A);}});},error:function(g){r(ea,function(){g instanceof E&&g.setEntity(I);throw g;},A);}});},error:function(g){r(ea,function(){g instanceof E&&g.setEntity(I);throw g;},A);}});},A);}});}());Te=ma.Class.create({init:function(g){var m,r,u,K,v,C,I,Z;m=bb.parser();r=[];u=[];I=0;Z=!1;m.onerror=function(g){Z||(Z=!0,m.end());};m.onopenobject=function(g){var m;if(K)K[C]={},u.push(K),K=K[C];else if(v){m={};u.push(v);v.push(m);K=m;v=ja;}else K={};C=g;};m.oncloseobject=function(){var g;g=u.pop();g?"object"===typeof g?K=g:(K=ja,v=g):(r.push(K),I=m.index,K=ja);};m.onopenarray=function(){var g;if(K)K[C]=[],u.push(K),v=K[C],K=ja;else if(v){g=[];u.push(v);v.push(g);v=g;}else v=[];};m.onclosearray=function(){var g;g=u.pop();g?"object"===typeof g?(K=g,v=ja):v=g:(r.push(v),I=m.index,v=ja);};m.onkey=function(g){C=g;};m.onvalue=function(g){K?K[C]=g:v?v.push(g):(r.push(g),I=m.index);};m.write(g).close();Object.defineProperties(this,{_values:{value:r,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:I,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ja:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var m,w,u,B,K;m=jd="entityauthdata";w=Yd="mastertoken";u=Zd="headerdata";B=$d="errordata";K=kd="signature";Xd=function(v,C,x,Z){r(Z,function(){var r,I,Y,sa,A,V;r=C[m];I=C[w];Y=C[K];if(r&&"object"!==typeof r||I&&"object"!==typeof I||"string"!==typeof Y)throw new ia(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(C));try{sa=wa(Y);}catch(ya){throw new Ha(g.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(C),ya);}A=null;r&&(A=Kd(v,r));V=C[u];if(V!=ja&&null!=V){if("string"!==typeof V)throw new ia(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(C));I?Tb(v,I,{result:function(g){ld(v,V,A,g,sa,x,Z);},error:function(g){Z.error(g);}}):ld(v,V,A,null,sa,x,Z);}else if(r=C[B],r!=ja&&null!=r){if("string"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(C));ae(v,r,A,sa,Z);}else throw new ia(g.JSON_PARSE_ERROR,JSON.stringify(C));});};}());(function(){function u(g,m){this.errordata=g;this.signature=m;}Nb=ma.Class.create({init:function(m,u,B,K,v,C,I,Z,Ca,xa){var w;w=this;r(xa,function(){var x,A;0>C&&(C=-1);if(0>K||K>Na)throw new fa("Message ID "+K+" is out of range.");if(!u)throw new Ha(g.MESSAGE_ENTITY_NOT_FOUND);if(Ca)return Object.defineProperties(this,{entityAuthenticationData:{value:u,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:K,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:C,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:Z,writable:!1,configurable:!1},errordata:{value:Ca.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this;x={};B&&(x.recipient=B);x.messageid=K;x.errorcode=v;0<C&&(x.internalcode=C);I&&(x.errormsg=I);Z&&(x.usermsg=Z);try{A=m.getEntityAuthenticationFactory(u.scheme).getCryptoContext(m,u);}catch(V){throw V instanceof E&&(V.setEntity(u),V.setMessageId(K)),V;}x=Wa(JSON.stringify(x),Ma);A.encrypt(x,{result:function(g){r(xa,function(){A.sign(g,{result:function(m){r(xa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:u,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:K,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:C,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:Z,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:m,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){r(xa,function(){g instanceof E&&(g.setEntity(u),g.setMessageId(K));throw g;},w);}});},w);},error:function(g){r(xa,function(){g instanceof E&&(g.setEntity(u),g.setMessageId(K));throw g;},w);}});},w);},toJSON:function(){var g;g={};g[jd]=this.entityAuthenticationData;g[$d]=pa(this.errordata);g[kd]=pa(this.signature);return g;}});be=function(g,m,r,u,v,C,I,Z,Ca){new Nb(g,m,r,u,v,C,I,Z,null,Ca);};ae=function(w,x,B,K,v){r(v,function(){var C,I,Z;if(!B)throw new Ha(g.MESSAGE_ENTITY_NOT_FOUND);try{I=B.scheme;Z=w.getEntityAuthenticationFactory(I);if(!Z)throw new yb(g.ENTITYAUTH_FACTORY_NOT_FOUND,I);C=Z.getCryptoContext(w,B);}catch(Ca){throw Ca instanceof E&&Ca.setEntity(B),Ca;}try{x=wa(x);}catch(Ca){throw new Ha(g.HEADER_DATA_INVALID,x,Ca).setEntity(B);}if(!x||0==x.length)throw new Ha(g.HEADER_DATA_MISSING,x).setEntity(B);C.verify(x,K,{result:function(I){r(v,function(){if(!I)throw new S(g.MESSAGE_VERIFICATION_FAILED).setEntity(B);C.decrypt(x,{result:function(C){r(v,function(){var r,I,A,Z,Ca,ea,ca,Ba;r=Ya(C,Ma);try{I=JSON.parse(r);}catch(ra){if(ra instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"errordata "+r,ra).setEntity(B);throw ra;}A=I.recipient!==ja?I.recipient:null;Z=parseInt(I.messageid);Ca=parseInt(I.errorcode);ea=parseInt(I.internalcode);ca=I.errormsg;Ba=I.usermsg;if(A&&"string"!==typeof A||!Z||Z!=Z||!Ca||Ca!=Ca||I.internalcode&&ea!=ea||ca&&"string"!==typeof ca||Ba&&"string"!==typeof Ba)throw new ia(g.JSON_PARSE_ERROR,"errordata "+r).setEntity(B);if(0>Z||Z>Na)throw new Ha(g.MESSAGE_ID_OUT_OF_RANGE,"errordata "+r).setEntity(B);I=!1;for(var E in m)if(m[E]==Ca){I=!0;break;}I||(Ca=m.FAIL);if(ea){if(0>ea)throw new Ha(g.INTERNAL_CODE_NEGATIVE,"errordata "+r).setEntity(B).setMessageId(Z);}else ea=-1;r=new u(x,K);new Nb(w,B,A,Z,Ca,ea,ca,Ba,r,v);});},error:function(g){r(v,function(){g instanceof E&&g.setEntity(B);throw g;});}});});},error:function(g){r(v,function(){g instanceof E&&g.setEntity(B);throw g;});}});});};}());Ve=ma.Class.create({getUserMessage:function(g,m){}});(function(){md=function(g,m){var r,w;if(!g||!m)return null;r=g.compressionAlgorithms.filter(function(g){for(var r=0;r<m.compressionAlgorithms.length;++r)if(g==m.compressionAlgorithms[r])return!0;return!1;});w=g.languages.filter(function(g){for(var r=0;r<m.languages.length;++r)if(g==m.languages[r])return!0;return!1;});return new kc(r,w);};kc=ma.Class.create({init:function(g,m){g||(g=[]);m||(m=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:m,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this===g?!0:g instanceof kc?ud(this.compressionAlgorithms,g.compressionAlgorithms)&&ud(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ce=function(m){var r,u,K;r=m.compressionalgos;u=m.languages;if(r&&!(r instanceof Array)||u&&!(u instanceof Array))throw new ia(g.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(m));m=[];for(var B=0;r&&B<r.length;++B){K=r[B];Pb[K]&&m.push(K);}return new kc(m,u);};}());(function(){var xa,Y;function m(g,m,r,v,w){this.customer=g;this.sender=m;this.messageCryptoContext=r;this.headerdata=v;this.signature=w;}function w(g,m,r,v,w,u,C,x,B,ha,K,Z,I,na,Y,d,b,a,c,l){return{cryptoContext:{value:m,writable:!1,configurable:!1},customer:{value:r,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:u,writable:!1,configurable:!1},messageId:{value:C,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:x,writable:!1,configurable:!1},keyResponseData:{value:B,writable:!1,configurable:!1},userAuthenticationData:{value:ha,writable:!1,configurable:!1},userIdToken:{value:K,writable:!1,configurable:!1},serviceTokens:{value:Z,writable:!1,configurable:!1},peerMasterToken:{value:I,writable:!1,configurable:!1},peerUserIdToken:{value:na,writable:!1,configurable:!1},peerServiceTokens:{value:Y,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}};}function u(m,r,v){var w;if(v){if(r=m.getMslStore().getCryptoContext(v))return r;if(!v.isVerified()||!v.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,v);return new lb(m,v);}v=r.scheme;w=m.getEntityAuthenticationFactory(v);if(!w)throw new yb(g.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(m,r);}function B(m,v,w,u,C){r(C,function(){v.verify(w,u,{result:function(m){r(C,function(){if(!m)throw new S(g.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(g){r(C,function(){return Ya(g,Ma);});},error:function(g){C.error(g);}});});},error:function(g){C.error(g);}});});}function K(g,m,v){r(v,function(){if(m)Sd(g,m,v);else return null;});}function v(g,m,v,w){r(w,function(){if(m)Ub(g,m,v,w);else return null;});}function C(g,m,v,w){r(w,function(){if(v)ge(g,m,v,w);else return null;});}function Ba(m,v,w,u,C,x,B){var K;function A(v,B,Z){var ha,I;if(B>=v.length){ha=[];for(I in K)ha.push(K[I]);Z.result(ha);}else{ha=v[B];if("object"!==typeof ha)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+x);Gc(m,ha,w,u,C,{result:function(g){r(Z,function(){K[g.uniqueKey()]=g;A(v,B+1,Z);});},error:function(g){Z.error(g);}});}}K={};r(B,function(){if(v){if(!(v instanceof Array))throw new ia(g.JSON_PARSE_ERROR,"headerdata "+x);A(v,0,B);}else return[];});}function Z(m,v,w,u,C,x){function A(m,v,w){r(w,function(){var r;r=v.peermastertoken;if(r&&"object"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+C);if(!r)return null;Tb(m,r,w);});}function B(m,v,w,u){r(u,function(){var r;r=v.peeruseridtoken;if(r&&"object"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+C);if(!r)return null;Ub(m,r,w,u);});}r(x,function(){if(!m.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};A(m,v,{result:function(g){r(x,function(){var A;A=w?w.masterToken:g;B(m,v,A,{result:function(w){r(x,function(){Ba(m,v.peerservicetokens,A,w,u,C,{result:function(m){r(x,function(){return{peerMasterToken:g,peerUserIdToken:w,peerServiceTokens:m};});},error:function(g){r(x,function(){g instanceof E&&(g.setEntity(A),g.setUser(w));throw g;});}});});},error:function(g){r(x,function(){g instanceof E&&g.setEntity(A);throw g;});}});});},error:x.error});});}function Ca(m,v,w,u){var x;function C(g,v){r(u,function(){if(v>=g.length)return x;Rd(m,g[v],{result:function(m){r(u,function(){x.push(m);C(g,v+1);});},error:function(g){u.error(g);}});});}x=[];r(u,function(){var m;m=v.keyrequestdata;if(!m)return x;if(!(m instanceof Array))throw new ia(g.JSON_PARSE_ERROR,"headerdata "+w);C(m,0);});}xa=ee=ma.Class.create({init:function(g,m,r,v,w,u,C,x,B){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:m,writable:!1,configurable:!1},renewable:{value:r,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:u,writable:!1,configurable:!1},userAuthData:{value:C,writable:!1,configurable:!1},userIdToken:{value:x,writable:!1,configurable:!1},serviceTokens:{value:B,writable:!1,configurable:!1}});}});Y=fe=ma.Class.create({init:function(g,m,r){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:m,writable:!1,configurable:!1},peerServiceTokens:{value:r,writable:!1,configurable:!1}});}});lc=ma.Class.create({init:function(g,m,v,C,x,B,K){var Z;function A(A){r(K,function(){var ha,I,Y,na,ea,d,b,a,c,l,q,n,k,p,h,f,t;m=v?null:m;ha=C.nonReplayableId;I=C.renewable;Y=C.capabilities;na=C.messageId;ea=C.keyRequestData?C.keyRequestData:[];d=C.keyResponseData;b=C.userAuthData;a=C.userIdToken;c=C.serviceTokens?C.serviceTokens:[];g.isPeerToPeer()?(l=x.peerMasterToken,q=x.peerUserIdToken,n=x.peerServiceTokens?x.peerServiceTokens:[]):(q=l=null,n=[]);if(0>na||na>Na)throw new fa("Message ID "+na+" is out of range.");if(!m&&!v)throw new fa("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(k=v,p=d.masterToken):(k=d.masterToken,p=l):(k=v,p=l);if(a&&(!k||!a.isBoundTo(k)))throw new fa("User ID token must be bound to a master token.");if(q&&(!p||!q.isBoundTo(p)))throw new fa("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound()&&(!k||!b.isBoundTo(k)))throw new fa("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new fa("User ID token bound service tokens must be bound to the provided user ID token.");},this);n.forEach(function(a){if(a.isMasterTokenBound()&&(!p||!a.isBoundTo(p)))throw new fa("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!q||!a.isBoundTo(q)))throw new fa("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(B){h=B.customer;f=B.messageCryptoContext;t=w(g,f,h,m,v,A,na,ea,d,b,a,c,l,q,n,ha,I,Y,B.headerdata,B.signature);Object.defineProperties(this,t);return this;}h=a?a.customer:null;t={};A&&(t.sender=A);t.messageid=na;"number"===typeof ha&&(t.nonreplayableid=ha);t.renewable=I;Y&&(t.capabilities=Y);0<ea.length&&(t.keyrequestdata=ea);d&&(t.keyresponsedata=d);b&&(t.userauthdata=b);a&&(t.useridtoken=a);0<c.length&&(t.servicetokens=c);l&&(t.peermastertoken=l);q&&(t.peeruseridtoken=q);0<n.length&&(t.peerservicetokens=n);try{f=u(g,m,v);}catch(z){throw z instanceof E&&(z.setEntity(v),z.setEntity(m),z.setUser(a),z.setUser(b),z.setMessageId(na)),z;}t=Wa(JSON.stringify(t),Ma);f.encrypt(t,{result:function(k){r(K,function(){f.sign(k,{result:function(p){r(K,function(){var t;t=w(g,f,h,m,v,A,na,ea,d,b,a,c,l,q,n,ha,I,Y,k,p);Object.defineProperties(this,t);return this;},Z);},error:function(f){r(K,function(){f instanceof E&&(f.setEntity(v),f.setEntity(m),f.setUser(a),f.setUser(b),f.setMessageId(na));throw f;},Z);}});},Z);},error:function(f){r(K,function(){f instanceof E&&(f.setEntity(v),f.setEntity(m),f.setUser(a),f.setUser(b),f.setMessageId(na));throw f;},Z);}});},Z);}Z=this;r(K,function(){B?A(B.sender):v?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();A(g);},error:K.error}):A(null);},Z);},isEncrypting:function(){return this.masterToken||Qc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Yd]=this.masterToken:g[jd]=this.entityAuthenticationData;g[Zd]=pa(this.headerdata);g[kd]=pa(this.signature);return g;}});de=function(g,m,r,v,w,C){new lc(g,m,r,v,w,null,C);};ld=function(w,x,I,ya,ea,ca,ua){r(ua,function(){var A,V;I=ya?null:I;if(!I&&!ya)throw new Ha(g.MESSAGE_ENTITY_NOT_FOUND);A=x;try{x=wa(A);}catch(ha){throw new Ha(g.HEADER_DATA_INVALID,A,ha);}if(!x||0==x.length)throw new Ha(g.HEADER_DATA_MISSING,A);try{V=u(w,I,ya);}catch(ha){throw ha instanceof E&&(ha.setEntity(ya),ha.setEntity(I)),ha;}B(w,V,x,ea,{result:function(u){r(ua,function(){var A,B,ha,na,sa;try{A=JSON.parse(u);}catch(d){if(d instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u,d).setEntity(ya).setEntity(I);throw d;}B=parseInt(A.messageid);if(!B||B!=B)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(ya).setEntity(I);if(0>B||B>Na)throw new Ha(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+u).setEntity(ya).setEntity(I);ha=ya?A.sender:null;if(ya&&(!ha||"string"!==typeof ha))throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(ya).setEntity(I).setMessageId(B);na=A.keyresponsedata;if(na&&"object"!==typeof na)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(ya).setEntity(I).setMessageId(B);sa=ua;ua={result:function(d){sa.result(d);},error:function(d){d instanceof E&&(d.setEntity(ya),d.setEntity(I),d.setMessageId(B));sa.error(d);}};K(w,na,{result:function(d){r(ua,function(){var b,a;b=!w.isPeerToPeer()&&d?d.masterToken:ya;a=A.useridtoken;if(a&&"object"!==typeof a)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);v(w,a,b,{result:function(a){r(ua,function(){var l;l=A.userauthdata;if(l&&"object"!==typeof l)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);C(w,b,l,{result:function(l){r(ua,function(){var c,k,p;if(l){k=l.scheme;p=w.getUserAuthenticationFactory(k);if(!p)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,k).setUser(a).setUser(l);k=ya?ya.identity:I.getIdentity();c=p.authenticate(w,k,l,a);}else c=a?a.customer:null;Ba(w,A.servicetokens,b,a,ca,u,{result:function(b){r(ua,function(){var f,h,k,p;f=A.nonreplayableid!==ja?parseInt(A.nonreplayableid):null;h=A.renewable;if(f!=f||"boolean"!==typeof h)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);if(0>f||f>Na)throw new Ha(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+u);k=null;p=A.capabilities;if(p){if("object"!==typeof p)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);k=ce(p);}Ca(w,A,u,{result:function(p){Z(w,A,d,ca,u,{result:function(t){r(ua,function(){var q,n,z,G;q=t.peerMasterToken;n=t.peerUserIdToken;z=t.peerServiceTokens;G=new xa(B,f,h,k,p,d,l,a,b);q=new Y(q,n,z);n=new m(c,ha,V,x,ea);new lc(w,I,ya,G,q,n,ua);});},error:ua.error});},error:function(b){r(ua,function(){b instanceof E&&(b.setUser(a),b.setUser(l));throw b;});}});});},error:function(h){r(ua,function(){h instanceof E&&(h.setEntity(b),h.setUser(a),h.setUser(l));throw h;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function m(g,m){this.payload=g;this.signature=m;}nd=ma.Class.create({init:function(g,m,u,K,v,C,I,Z){var w;w=this;r(Z,function(){var x,B;if(0>g||g>Na)throw new fa("Sequence number "+g+" is outside the valid range.");if(0>m||m>Na)throw new fa("Message ID "+m+" is outside the valid range.");if(I)return Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:m,writable:!1,configurable:!1},compressionAlgo:{value:K,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:I.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:I.signature,writable:!1,enumerable:!1,configurable:!1}}),this;K?(x=od(K,v),x||(K=null,x=v)):(K=null,x=v);B={};B.sequencenumber=g;B.messageid=m;u&&(B.endofmsg=u);K&&(B.compressionalgo=K);B.data=pa(x);x=Wa(JSON.stringify(B),Ma);C.encrypt(x,{result:function(x){r(Z,function(){C.sign(x,{result:function(C){r(Z,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:m,writable:!1,configurable:!1},compressionAlgo:{value:K,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:x,writable:!1,enumerable:!1,configurable:!1},signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){Z.error(g);}});},w);},error:function(g){Z.error(g);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=pa(this.payload);g.signature=pa(this.signature);return g;}});he=function(g,m,r,u,v,C,I){new nd(g,m,r,u,v,C,null,I);};ie=function(w,u,B){r(B,function(){var x,v,C,I;x=w.payload;v=w.signature;if(!x||"string"!==typeof x||"string"!==typeof v)throw new ia(g.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{C=wa(x);}catch(Z){throw new Ha(g.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),Z);}try{I=wa(v);}catch(Z){throw new Ha(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),Z);}u.verify(C,I,{result:function(v){r(B,function(){if(!v)throw new S(g.PAYLOAD_VERIFICATION_FAILED);u.decrypt(C,{result:function(v){r(B,function(){var r,w,x,A,K,Z,ea;r=Ya(v,Ma);try{w=JSON.parse(r);}catch(ca){if(ca instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"payload chunk payload "+r,ca);throw ca;}x=parseInt(w.sequencenumber);A=parseInt(w.messageid);K=w.endofmsg;Z=w.compressionalgo;w=w.data;if(!x||x!=x||!A||A!=A||K&&"boolean"!==typeof K||Z&&"string"!==typeof Z||"string"!==typeof w)throw new ia(g.JSON_PARSE_ERROR,"payload chunk payload "+r);if(0>x||x>Na)throw new E(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+r);if(0>A||A>Na)throw new E(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+r);K||(K=!1);if(Z&&!Pb[Z])throw new Ha(g.UNIDENTIFIED_COMPRESSION,Z);try{ea=wa(w);}catch(ca){throw new Ha(g.PAYLOAD_DATA_CORRUPT,w,ca);}if(ea&&0!=ea.length)r=Z?Hc(Z,ea):ea;else{if(0<w.length)throw new Ha(g.PAYLOAD_DATA_CORRUPT,w);if(K)r=new Uint8Array(0);else throw new Ha(g.PAYLOAD_DATA_MISSING,w);}ea=new m(C,I);new nd(x,A,K,Z,r,u,ea,B);});},error:function(g){B.error(g);}});});},error:function(g){B.error(g);}});});};}());(function(){var B,K;function m(m,w,u,x,B){var C,K,A,Z,I;function v(){r(B,function(){var u,x;K>=w.length&&(K=0,++C);if(C>=A.length){if(Z)throw Z;throw new Ua(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}u=A[C];x=w[K];u.scheme!=x.keyExchangeScheme?(++K,v()):u.generateResponse(m,x,I,{result:function(g){B.result(g);},error:function(g){r(B,function(){if(!(g instanceof E))throw g;Z=g;++K;v();});}});});}C=0;K=0;A=m.getKeyExchangeFactories();I=u?u:x;v();}function w(g,w,u,x,B){r(B,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)x?x.isRenewable()||x.isExpired()?m(g,v,x,null,B):g.getTokenFactory().isNewestMasterToken(g,x,{result:function(w){r(B,function(){if(w)return null;m(g,v,x,null,B);});},error:B.error}):m(g,v,null,u.getIdentity(),B);else return null;});}function u(m,w,u,x){r(x,function(){var r,v,C,B;r=w.userIdToken;v=w.userAuthenticationData;C=w.messageId;if(r&&r.isVerified()){if(r.isRenewable()&&w.isRenewable()||r.isExpired()||!r.isBoundTo(u)){v=m.getTokenFactory();v.renewUserIdToken(m,r,u,x);return;}}else if(w.isRenewable()&&u&&v){r=w.customer;if(!r){r=v.scheme;B=m.getUserAuthenticationFactory(r);if(!B)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,r).setEntity(u).setUser(v).setMessageId(C);r=B.authenticate(m,u.identity,v,null);}v=m.getTokenFactory();v.createUserIdToken(m,r,u,x);return;}return r;});}B=new Uint8Array(0);K=Vb=function(g){if(0>g||g>Na)throw new fa("Message ID "+g+" is outside the valid range.");return g==Na?0:g+1;};dc=function(g){if(0>g||g>Na)throw new fa("Message ID "+g+" is outside the valid range.");return 0==g?Na:g-1;};Wb=function(g,m,w,u,x){r(x,function(){var v;if(u==ja||null==u){v=g.getRandom();do u=v.nextLong();while(0>u||u>Na);}else if(0>u||u>Na)throw new fa("Message ID "+u+" is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(v){r(x,function(){var r;r=g.getMessageCapabilities();return new Ic(g,u,r,v,m,w,null,null,null,null,null);});},error:function(g){x.error(g);}});});};je=function(g,m,x){r(x,function(){var C,B,I,Ba,A,V;function v(g){r(x,function(){g instanceof E&&(g.setEntity(C),g.setEntity(B),g.setUser(I),g.setUser(Ba),g.setMessageId(A));throw g;});}C=m.masterToken;B=m.entityAuthenticationData;I=m.userIdToken;Ba=m.userAuthenticationData;A=m.messageId;V=K(A);w(g,m,B,C,{result:function(w){r(x,function(){var B;B=w?w.keyResponseData.masterToken:B=C;g.getEntityAuthenticationData(null,{result:function(A){r(x,function(){u(g,m,B,{result:function(v){r(x,function(){var r,u,x;I=v;r=md(m.messageCapabilities,g.getMessageCapabilities());u=m.keyResponseData;x=m.serviceTokens;return g.isPeerToPeer()?new Ic(g,V,r,A,u?u.masterToken:m.peerMasterToken,m.peerUserIdToken,m.peerServiceTokens,C,I,x,w):new Ic(g,V,r,A,u?u.masterToken:C,I,x,null,null,null,w);});},error:v});});},error:v});});},error:v});});};ke=function(g,m,w,u,x){r(x,function(){g.getEntityAuthenticationData(null,{result:function(v){r(x,function(){var r,C;if(m!=ja&&null!=m)r=K(m);else{C=g.getRandom();do r=C.nextInt();while(0>r||r>Na);}be(g,v,r,w.responseCode,w.internalCode,w.message,u,x);});},error:function(g){x.error(g);}});});};Ic=ma.Class.create({init:function(g,m,r,w,u,x,B,K,A,I,E){var v,C,Z,Y,V;if(!g.isPeerToPeer()&&(K||A))throw new fa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=E&&!g.isPeerToPeer()?E.keyResponseData.masterToken:u;C={};g.getMslStore().getServiceTokens(v,x).forEach(function(g){C[g.name]=g;},this);B&&B.forEach(function(g){C[g.name]=g;},this);V={};g.isPeerToPeer()&&(Z=K,Y=A,B=E?E.keyResponseData.masterToken:K,g.getMslStore().getServiceTokens(B,A).forEach(function(g){V[g.name]=g;},this),I&&I.forEach(function(g){V[g.name]=g;},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:u,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:m,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:r,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:E,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:x,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:C,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Y,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:V,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Qc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Qc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||vd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||vd(this._entityAuthData.scheme);},getHeader:function(m){r(m,function(){var r,v,w,u,x;r=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);u=[];for(x in this._keyRequestData)u.push(this._keyRequestData[x]);if(this._nonReplayable){if(!this._masterToken)throw new Ha(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);x=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else x=null;r=new ee(this._messageId,x,this._renewable,this._capabilities,u,r,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new fe(this._peerMasterToken,this._peerUserIdToken,v);de(this._ctx,this._entityAuthData,this._masterToken,r,w,m);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,m){var r,v,w;if(m&&!m.isBoundTo(g))throw new fa("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new fa("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{r=this._ctx.getMslStore().getServiceTokens(g,m);}catch(xa){if(xa instanceof E)throw new fa("Invalid master token and user ID token combination despite checking above.",xa);throw xa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(r){(r.isUserIdTokenBound()&&!r.isBoundTo(m)||r.isMasterTokenBound()&&!r.isBoundTo(g))&&delete this._serviceTokens[r.name];},this);r.forEach(function(g){this._serviceTokens[g.name]=g;},this);this._masterToken=g;this._userIdToken=m;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,m){var v;v=this;r(m,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new fa("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new fa("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,w,{result:function(g){r(m,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return!0;},v);},error:function(g){m.error(g);}});},v);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(m){var r;r=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(m.isMasterTokenBound()&&!m.isBoundTo(r))throw new Ha(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; mt "+JSON.stringify(r)).setEntity(r);if(m.isUserIdTokenBound()&&!m.isBoundTo(this._userIdToken))throw new Ha(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(r).setUser(this._userIdToken);this._serviceTokens[m.name]=m;return this;},addServiceTokenIfAbsent:function(g){this._serviceTokens[g.name]||this.addServiceToken(g);return this;},excludeServiceToken:function(g){delete this._serviceTokens[g];return this;},deleteServiceToken:function(g,m){var v;v=this;r(m,function(){var w,u;w=this._serviceTokens[g];if(!w)return this;u=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;Eb(this._ctx,g,B,u,w,!1,null,new cc(),{result:function(g){r(m,function(){return this.addServiceToken(g);},v);},error:function(g){g instanceof E&&(g=new fa("Failed to create and add empty service token to message.",g));m.error(g);}});},v);},getServiceTokens:function(){var g,m;g=[];for(m in this._serviceTokens)g.push(this._serviceTokens[m]);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(m,r){var v;if(!this._ctx.isPeerToPeer())throw new fa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(r&&!m)throw new fa("Peer master token cannot be null when setting peer user ID token.");if(r&&!r.isBoundTo(m))throw new Ha(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+r+"; mt "+m).setEntity(m).setUser(r);try{v=this._ctx.getMslStore().getServiceTokens(m,r);}catch(Z){if(Z instanceof E)throw new fa("Invalid peer master token and user ID token combination despite proper check.",Z);throw Z;}Object.keys(this._peerServiceTokens).forEach(function(g){var v;v=this._peerServiceTokens[g];v.isUserIdTokenBound()&&!v.isBoundTo(r)?delete this._peerServiceTokens[g]:v.isMasterTokenBound()&&!v.isBoundTo(m)&&delete this._peerServiceTokens[g];},this);v.forEach(function(g){var m;m=g.name;this._peerServiceTokens[m]||(this._peerServiceTokens[m]=g);},this);this._peerUserIdToken=r;this._peerMasterToken=m;return this;},addPeerServiceToken:function(m){if(!this._ctx.isPeerToPeer())throw new fa("Cannot set peer service tokens when not in peer-to-peer mode.");if(m.isMasterTokenBound()&&!m.isBoundTo(this._peerMasterToken))throw new Ha(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(m.isUserIdTokenBound()&&!m.isBoundTo(this._peerUserIdToken))throw new Ha(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(m)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[m.name]=m;return this;},addPeerServiceTokenIfAbsent:function(g){this._peerServiceTokens[g.name]||this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(g){delete this._peerServiceTokens[g];return this;},deletePeerServiceToken:function(g,m){var v;v=this;r(m,function(){var w,u;w=this._peerServiceTokens[g];if(!w)return this;u=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;Eb(this._ctx,g,B,u,w,!1,null,new cc(),{result:function(g){r(m,function(){return this.addPeerServiceToken(g);},v);},error:function(g){g instanceof E&&(g=new fa("Failed to create and add empty peer service token to message.",g));m.error(g);}});},v);},getPeerServiceTokens:function(){var g,m;g=[];for(m in this._peerServiceTokens)g.push(this._peerServiceTokens[m]);return g;}});}());(function(){function g(g,m){return m[g]?m[g]:m[""];}function m(g){var m;m=g.builder.getKeyExchangeData();return m&&!g.ctx.isPeerToPeer()?m.keyResponseData.masterToken:g.builder.getMasterToken();}le=ma.Class.create({init:function(g,m,r){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:m.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:r,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return m(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return this.builder.addServiceToken(g),!0;}catch(B){if(B instanceof Ha)return!1;throw B;}},addPeerServiceToken:function(g){try{return this.builder.addPeerServiceToken(g),!0;}catch(B){if(B instanceof Ha)return!1;throw B;}},addUnboundPrimaryServiceToken:function(m,w,u,v,C){var x;x=this;r(C,function(){var B;B=g(m,this.cryptoContexts);if(!B)return!1;Eb(this.ctx,m,w,null,null,u,v,B,{result:function(g){r(C,function(){try{this.builder.addServiceToken(g);}catch(xa){if(xa instanceof Ha)throw new fa("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(g){C.error(g);}});},x);},addUnboundPeerServiceToken:function(m,w,u,v,C){var x;x=this;r(C,function(){var B;B=g(m,this.cryptoContexts);if(!B)return!1;Eb(this.ctx,m,w,null,null,u,v,B,{result:function(g){r(C,function(){try{this.builder.addPeerServiceToken(g);}catch(xa){if(xa instanceof Ha)throw new fa("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(g){C.error(g);}});},x);},addMasterBoundPrimaryServiceToken:function(w,u,K,v,C){var x;x=this;r(C,function(){var B,I;B=m(this);if(!B)return!1;I=g(w,this.cryptoContexts);if(!I)return!1;Eb(this.ctx,w,u,B,null,K,v,I,{result:function(g){r(C,function(){try{this.builder.addServiceToken(g);}catch(Y){if(Y instanceof Ha)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token.",Y);throw Y;}return!0;},x);},error:function(g){C.error(g);}});},x);},addMasterBoundPeerServiceToken:function(m,w,u,v,C){var x;x=this;r(C,function(){var B,K;B=this.builder.getPeerMasterToken();if(!B)return!1;K=g(m,this.cryptoContexts);if(!K)return!1;Eb(this.ctx,m,w,B,null,u,v,K,{result:function(g){r(C,function(){try{this.builder.addPeerServiceToken(g);}catch(Y){if(Y instanceof Ha)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token.",Y);throw Y;}return!0;},x);},error:function(g){C.error(g);}});},x);},addUserBoundPrimaryServiceToken:function(w,u,K,v,C){var x;x=this;r(C,function(){var B,I,E;B=m(this);if(!B)return!1;I=this.builder.getUserIdToken();if(!I)return!1;E=g(w,this.cryptoContexts);if(!E)return!1;Eb(this.ctx,w,u,B,I,K,v,E,{result:function(g){r(C,function(){try{this.builder.addServiceToken(g);}catch(sa){if(sa instanceof Ha)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",sa);throw sa;}return!0;},x);},error:function(g){C.error(g);}});},x);},addUserBoundPeerServiceToken:function(m,w,u,v,C){var x;x=this;r(C,function(){var B,K,I;B=this.builder.getPeerMasterToken();if(!B)return!1;K=this.builder.getPeerUserIdToken();if(!K)return!1;I=g(m,this.cryptoContexts);if(!I)return!1;Eb(this.ctx,m,w,B,K,u,v,I,{result:function(g){r(C,function(){try{this.builder.addPeerServiceToken(g);}catch(sa){if(sa instanceof Ha)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",sa);throw sa;}return!0;},x);},error:function(g){C.error(g);}});},x);},excludePrimaryServiceToken:function(g){for(var m=this.builder.getServiceTokens(),r=0;r<m.length;++r)if(m[r].name==g)return this.builder.excludeServiceToken(g),!0;return!1;},excludePeerServiceToken:function(g){for(var m=this.builder.getPeerServiceTokens(),r=0;r<m.length;++r)if(m[r].name==g)return this.builder.excludePeerServiceToken(g),!0;return!1;},deletePrimaryServiceToken:function(g,m){r(m,function(){for(var r=this.builder.getServiceTokens(),v=0;v<r.length;++v)if(r[v].name==g){this.builder.deleteServiceToken(g,{result:function(){m.result(!0);},error:function(g){m.error(g);}});return;}return!1;},this);},deletePeerServiceToken:function(g,m){r(m,function(){for(var r=this.builder.getPeerServiceTokens(),v=0;v<r.length;++v)if(r[v].name==g){this.builder.deletePeerServiceToken(g,{result:function(){m.result(!0);},error:function(g){m.error(g);}});return;}return!1;},this);}});}());(function(){function m(m,u,B,K){r(K,function(){var w,x,I,Ca,N,Y;function v(){r(K,function(){var u;if(Y>=B.length){if(N)throw N;throw new Ua(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(B));}u=B[Y];I!=u.keyExchangeScheme?(++Y,v()):Ca.getCryptoContext(m,u,x,w,{result:K.result,error:function(g){r(K,function(){if(!(g instanceof E))throw g;N=g;++Y;v();});}});});}w=u.masterToken;x=u.keyResponseData;if(!x)return null;I=x.keyExchangeScheme;Ca=m.getKeyExchangeFactory(I);if(!Ca)throw new Ua(g.KEYX_FACTORY_NOT_FOUND,I);Y=0;v();});}me=fd.extend({init:function(r,x,B,K,v,C,I){var w;w=this;u(I,function(){var V;function u(){w._ready=!0;w._readyQueue.add(!0);}function I(g,m){var r;try{r=m.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,r,{result:function(v){v?(w._errored=new Rb(v,r).setUser(m.userIdToken).setUser(m.userAuthenticationData).setMessageId(m.messageId),u()):Y(g,m);},error:function(g){g instanceof E&&(g.setEntity(m.masterToken),g.setUser(m.userIdToken),g.setUser(m.userAuthenticationData),g.setMessageId(m.messageId));w._errored=g;u();}});}catch(ua){ua instanceof E&&(ua.setEntity(m.masterToken),ua.setUser(m.userIdToken),ua.setUser(m.userAuthenticationData),ua.setMessageId(m.messageId));w._errored=ua;u();}}function Y(g,m){var r,v;try{r=m.masterToken;v=m.userIdToken;v?g.getTokenFactory().isUserIdTokenRevoked(g,r,v,{result:function(x){x?(w._errored=new MslUserIdTokenException(x,v).setEntity(r).setUser(v).setMessageId(m.messageId),u()):Z(g,m);},error:function(g){g instanceof E&&(g.setEntity(m.masterToken),g.setUser(m.userIdToken),g.setUser(m.userAuthenticationData),g.setMessageId(m.messageId));w._errored=g;u();}}):Z(g,m);}catch(Ra){Ra instanceof E&&(Ra.setEntity(m.masterToken),Ra.setUser(m.userIdToken),Ra.setUser(m.userAuthenticationData),Ra.setMessageId(m.messageId));w._errored=Ra;u();}}function Z(m,r){var v;try{v=r.masterToken;v.isExpired()?r.isRenewable()&&0!=r.keyRequestData.length?m.getTokenFactory().isMasterTokenRenewable(m,v,{result:function(g){g?(w._errored=new Ha(g,"Master token is expired and not renewable.").setEntity(v).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId),u()):A(m,r);},error:function(g){g instanceof E&&(g.setEntity(r.masterToken),g.setUser(r.userIdToken),g.setUser(r.userAuthenticationData),g.setMessageId(r.messageId));w._errored=g;u();}}):(w._errored=new Ha(g.MESSAGE_EXPIRED,JSON.stringify(r)).setEntity(v).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId),u()):A(m,r);}catch(ua){ua instanceof E&&(ua.setEntity(r.masterToken),ua.setUser(r.userIdToken),ua.setUser(r.userAuthenticationData),ua.setMessageId(r.messageId));w._errored=ua;u();}}function A(m,r){var v,x;try{v=r.masterToken;x=r.nonReplayableId;"number"===typeof x?v?m.getTokenFactory().acceptNonReplayableId(m,v,x,{result:function(m){m||(w._errored=new Ha(g.MESSAGE_REPLAYED,JSON.stringify(r)).setEntity(v).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId));u();},error:function(g){g instanceof E&&(g.setEntity(v),g.setUser(r.userIdToken),g.setUser(r.userAuthenticationData),g.setMessageId(r.messageId));w._errored=g;u();}}):(w._errored=new Ha(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(r)).setEntity(r.entityAuthenticationData).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId),u()):u();}catch(Ra){Ra instanceof E&&(Ra.setEntity(r.masterToken),Ra.setEntity(r.entityAuthenticationData),Ra.setUser(r.userIdToken),Ra.setUser(r.userAuthenticationData),Ra.setMessageId(r.messageId));w._errored=Ra;u();}}V={_source:{value:x,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ja,writable:!0,enumerable:!1,configurable:!1},_charset:{value:B,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:C,writable:!1,enumerable:!1,configurable:!1},_header:{value:ja,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ja,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ja,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);Qd(w._source,C,{result:function(x){w._json=x;w._jsonIndex=0;null===w._json?(w._errored=new ia(g.MESSAGE_DATA_MISSING),u()):Xd(r,w._json[w._jsonIndex++],v,{result:function(g){var v;w._header=g;if(w._header instanceof Nb)w._keyxCryptoContext=null,w._cryptoContext=null,u();else{v=w._header;m(r,v,K,{result:function(g){var m;try{w._keyxCryptoContext=g;r.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{m=v.masterToken;m&&(r.isPeerToPeer()||m.isVerified())?I(r,v):A(r,v);}catch(ra){ra instanceof E&&(ra.setEntity(v.masterToken),ra.setUser(v.userIdToken),ra.setUser(v.userAuthenticationData),ra.setMessageId(v.messageId));w._errored=ra;u();}}catch(ra){ra instanceof E&&(ra.setEntity(v.masterToken),ra.setEntity(v.entityAuthenticationData),ra.setUser(v.userIdToken),ra.setUser(v.userAuthenticationData),ra.setMessageId(v.messageId));w._errored=ra;u();}},error:function(g){g instanceof E&&(g.setEntity(v.masterToken),g.setEntity(v.entityAuthenticationData),g.setUser(v.userIdToken),g.setUser(v.userAuthenticationData),g.setMessageId(v.messageId));w._errored=g;u();}});}},error:function(g){w._errored=g;u();}});},timeout:function(){w._timedout=!0;u();},error:function(g){w._errored=g;u();}});return this;},w);},nextData:function(m,r){var w;w=this;u(r,function(){var v;function m(g){u(g,function(){var r;if(this._jsonIndex<this._json.length)return r=this._json[this._jsonIndex++];Qd(this._source,this._timeout,{result:function(r){r&&r.length&&0<r.length?(r.forEach(function(g){this._json.push(g);}),m(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(m){g.error(m);}});},w);}v=this.getMessageHeader();if(!v)throw new fa("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;m({result:function(m){u(r,function(){if(!m)return null;if("object"!==typeof m)throw new ia(g.MESSAGE_FORMAT_ERROR);ie(m,this._cryptoContext,{result:function(m){u(r,function(){var r,w,u,x;r=v.masterToken;w=v.entityAuthenticationData;u=v.userIdToken;x=v.getUserAuthenticationData;if(m.messageId!=v.messageId)throw new Ha(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+m.messageId+" header mid "+v.messageId).setEntity(r).setEntity(w).setUser(u).setUser(x);if(m.sequenceNumber!=this._payloadSequenceNumber)throw new Ha(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+m.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(r).setEntity(w).setUser(u).setUser(x);++this._payloadSequenceNumber;m.isEndOfMessage()&&(this._eom=!0);r=m.data;this._payloads.push(r);this._payloadIndex=-1;return r;},w);},error:function(m){m instanceof SyntaxError&&(m=new ia(g.JSON_PARSE_ERROR,"payloadchunk",m));r.error(m);}});},w);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},w);},isReady:function(g,m){var w;function r(){u(m,function(){if(this._aborted)return!1;if(this._timedout)m.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;u(m,function(){this._ready?r():this._readyQueue.poll(g,{result:function(g){u(m,function(){if(g===ja)return!1;r();},w);},timeout:function(){m.timeout();},error:function(g){m.error(g);}});},w);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorHeader:function(){return this._header instanceof Nb?this._header:null;},getIdentity:function(){var g,m;g=this.getMessageHeader();if(g){m=g.masterToken;return m?m.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(g,m,r){var v;function w(){u(r,function(){var x,B,I,K;function w(r){u(r,function(){var x,C,Y;if(B&&K>=B.length)return B.subarray(0,K);x=-1;if(this._currentPayload){C=this._currentPayload.length-this._payloadOffset;if(!B){Y=C;if(-1!=this._payloadIndex)for(var Z=this._payloadIndex;Z<this._payloads.length;++Z)Y+=this._payloads[Z].length;0<Y&&(B=new Uint8Array(Y));}C=Math.min(C,B?B.length-K:0);0<C&&(x=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+C),B.set(x,I),x=C,I+=C,this._payloadOffset+=C);}-1!=x?(K+=x,w(r)):this.nextData(m,{result:function(m){u(r,function(){if(this._aborted)return B?B.subarray(0,K):new Uint8Array(0);this._currentPayload=m;this._payloadOffset=0;if(this._currentPayload)w(r);else return 0==K&&0!=g?null:B?B.subarray(0,K):new Uint8Array(0);},v);},timeout:function(){r.timeout(B?B.subarray(0,K):new Uint8Array(0));},error:function(g){u(r,function(){g instanceof E&&(g=new Za("Error reading the payload chunk.",g));if(0<K)return v._readException=g,B.subarray(0,K);throw g;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)r.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){x=this._readException;this._readException=null;throw x;}B=-1!=g?new Uint8Array(g):ja;I=0;K=0;w(r);}},v);}v=this;u(r,function(){if(-1>g)throw new RangeError("read requested with illegal length "+g);this._ready?w():this._readyQueue.poll(m,{result:function(g){g===ja?r.result(!1):w();},timeout:function(){r.timeout(new Uint8Array(0));},error:function(g){r.error(g);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ne=function(g,m,r,u,v,C,I){new me(g,m,r,u,v,C,I);};}());(function(){oe=Dc.extend({init:function(g,m,r,B,K,v,C){var w;w=this;u(C,function(){var x,C,I;function u(){w._ready=!0;w._readyQueue.add(!0);}x=md(g.getMessageCapabilities(),B.messageCapabilities);C=null;x&&(C=Ed(x.compressionAlgorithms));x={_destination:{value:m,writable:!1,enumerable:!1,configurable:!1},_charset:{value:r,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:x,writable:!1,enumerable:!1,configurable:!1},_header:{value:B,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:C,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:K,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,x);I=Wa(JSON.stringify(B),r);m.write(I,0,I.length,v,{result:function(g){try{w._aborted?u():g<I.length?(w._timedout=!0,u()):m.flush(v,{result:function(g){w._aborted||(w._timedout=!g);u();},timeout:function(){w._timedout=!0;u();},error:function(g){w._errored=g;u();}});}catch(A){w._errored=A;u();}},timeout:function(){w._timedout=!0;u();},error:function(g){w._errored=g;u();}});return this;},w);},setCompressionAlgorithm:function(g,m,r){var x;function w(){x.flush(m,{result:function(m){u(r,function(){if(!m)throw new Za("flush() aborted");this._compressionAlgo=g;return!0;},x);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});}x=this;u(r,function(){if(!this.getMessageHeader())throw new fa("Cannot write payload data for an error message.");if(this._compressionAlgo==g)return!0;if(g){if(!this._capabilities)return!1;for(var m=this._capabilities.compressionAlgorithms,r=0;r<m.length;++r)if(m[r]==g){w();return;}return!1;}w();},x);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorMessage:function(){return this._header instanceof Nb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,m){var r;r=this;u(m,function(){if(this._aborted)return!1;if(this._timedout)m.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(g,{result:function(g){u(m,function(){g&&(this._currentPayload=null);return g;},r);},timeout:function(){m.timeout();},error:function(g){m.error(g);}});}},r);},flush:function(g,m){var w;function r(){u(m,function(){var r,v,N;if(this._aborted)return!1;if(this._timedout)m.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;r=this.getMessageHeader();if(!r)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(g){v+=g.length;});for(var x=new Uint8Array(v),B=0,I=0;this._currentPayload&&I<this._currentPayload.length;++I){N=this._currentPayload[I];x.set(N,B);B+=N.length;}he(this._payloadSequenceNumber,r.messageId,this._closed,this._compressionAlgo,x,this._cryptoContext,{result:function(r){u(m,function(){var v;this._payloads.push(r);v=Wa(JSON.stringify(r),this._charset);this._destination.write(v,0,v.length,g,{result:function(v){u(m,function(){if(this._aborted)return!1;v<r.length?m.timeout():this._destination.flush(g,{result:function(g){u(m,function(){if(this._aborted)return!1;if(g)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;m.timeout();},w);},timeout:function(){m.timeout();},error:function(g){g instanceof E&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));m.error(g);}});},w);},timeout:function(g){m.timeout();},error:function(g){g instanceof E&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));m.error(g);}});},w);},error:function(g){g instanceof E&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));m.error(g);}});}},w);}w=this;u(m,function(){this._ready?r():this._readyQueue.poll(g,{result:function(g){g===ja?m.result(!1):r();},timeout:function(){m.timeout();},error:function(g){m.error(g);}});},w);},write:function(g,m,r,B,K){u(K,function(){var v;if(this._aborted)return!1;if(this._timedout)K.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Za("Message output stream already closed.");if(0>m)throw new RangeError("Offset cannot be negative.");if(0>r)throw new RangeError("Length cannot be negative.");if(m+r>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new fa("Cannot write payload data for an error message.");v=g.subarray(m,m+r);this._currentPayload.push(v);return v.length;}},this);}});Jc=function(g,m,r,u,K,v,C){new oe(g,m,r,u,K,v,C);};}());We=ma.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:m.USERDATA_REAUTH,SSOTOKEN_REJECTED:m.SSOTOKEN_REJECTED});pe=ma.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,m,r,u){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,m,r){},write:function(g,m,r){},getDebugContext:function(){}});ma.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var N,Z,Ca,xa,Y,sa,A,V,ya,ea,ca,ua;function I(g){return function(){g.abort();};}function w(g,m){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:m,writable:!1,configurable:!1}});}function x(g,m){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:m,writable:!1,configurable:!1}});}function B(g,m,r){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:m,writable:!1,configurable:!1},handshake:{value:r,writable:!1,configurable:!1}});}function K(g,m){Object.defineProperties(this,{requestHeader:{value:m.requestHeader,writable:!1,configurable:!1},payloads:{value:m.payloads,writable:!1,configurable:!1},handshake:{value:m.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function v(g){for(;g;){if(g instanceof cb)return!0;g=g instanceof E?g.cause:ja;}return!1;}function C(g,m,r,v,w,x,C,B,d){ke(m,v,w,x,{result:function(b){r&&r.sentHeader(b);Jc(m,C,Ma,b,null,null,B,{result:function(a){g.setAbort(function(){a.abort();});a.close(B,{result:function(a){u(d,function(){if(!a)throw new cb("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(b){d.error(b);}});}N=Dc.extend({close:function(g,m){m.result(!0);},write:function(g,m,v,w,u){r(u,function(){return Math.min(g.length-m,v);});},flush:function(g,m){m.result(!0);}});Z=Ve.extend({getUserMessage:function(g,m){return null;}});Ca=pe.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,m,r,v){this._appCtx.getUserAuthData(g,m,r,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,m,r){this._appCtx.updateServiceTokens(g,m,r);},write:function(g,m,r){this._appCtx.write(g,m,r);},getDebugContext:function(){return this._appCtx.getDebugContext();}});xa=Ca.extend({init:function ra(g,m){ra.base.call(this,m);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,m,r){var w;function v(x,C){var d;if(x==w._payloads.length)r.result(!0);else{d=w._payloads[x];g.setCompressionAlgorithm(d.compressionAlgo,m,{result:function(b){g.write(d.data,0,d.data.length,m,{result:function(a){u(r,function(){d.isEndOfMessage()?v(x+1,C):g.flush(m,{result:function(a){r.result(a);},timeout:function(){r.timeout();},error:function(a){r.error(a);}});},w);},timeout:function(a){r.timeout(a);},error:function(a){r.error(a);}});},timeout:function(){},error:function(b){r.error(b);}});}}w=this;v(0);}});Y=Ca.extend({init:function ha(g){ha.base.call(this,g);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(g,m,r){r.result(!0);}});sa={};ca=ma.Class.create({init:function(g){g||(g=new Z());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,m,r,v){var x;x=this;u(v,function(){var C,d,b,a,c;C=m.getMslStore();d=C.getMasterToken();if(!d)return null;b=d.uniqueKey();a=this._masterTokenLocks[b];a||(a=new Vc(),this._masterTokenLocks[b]=a);c=a.readLock(r,{result:function(l){u(v,function(){var c;if(l===ja)throw new cb("getNewestMasterToken aborted.");c=C.getMasterToken();if(d.equals(c))return new w(d,l);a.unlock(l);a.writeLock(r,{result:function(l){u(v,function(){if(l===ja)throw new cb("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(l);return this.getNewestMasterToken(g,m,r,v);},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});g.setAbort(function(){c&&(a.cancel(c),c=ja);});},x);},deleteMasterToken:function(g,m){var r;if(m){r=this;setTimeout(function(){var v,w;v=m.uniqueKey();w=r._masterTokenLocks[v];w||(w=new Vc(),r._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(u){g.getMslStore().removeCryptoContext(m);delete r._masterTokenLocks[v];w.unlock(u);},timeout:function(){throw new fa("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var m;if(g&&g.masterToken){m=g.masterToken.uniqueKey();m=this._masterTokenLocks[m];if(!m)throw new fa("Master token read/write lock does not exist when it should.");m.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,m,r){var v;v=g.getMslStore();!g.isPeerToPeer()&&r&&(v.setCryptoContext(r.keyResponseData.masterToken,r.cryptoContext),this.deleteMasterToken(g,m.masterToken));},updateIncomingCryptoContexts:function(g,m,r){var v,w;v=r.getMessageHeader();if(v){w=g.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,r.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,m.masterToken);}},storeServiceTokens:function(g,m,r,v){var d,b;g=g.getMslStore();for(var w=[],u=0;u<v.length;++u){d=v[u];if(!d.isBoundTo(m)||!m.isVerified()){b=d.data;b&&0==b.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?m:null,d.isUserIdTokenBound()?r:null):w.push(d);}}0<w.length&&g.addServiceTokens(w);},buildRequest:function(g,m,v,w,u){var x;x=this;this.getNewestMasterToken(g,m,w,{result:function(d){r(u,function(){var b,a,c;b=d&&d.masterToken;if(b){a=v.getUserId();c=m.getMslStore();a=(a=a?c.getUserIdToken(a):null)&&a.isBoundTo(b)?a:null;}else a=null;Wb(m,b,a,null,{result:function(a){r(u,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:d};});},error:function(a){r(u,function(){this.releaseMasterToken(d);a instanceof E&&(a=new fa("User ID token not bound to master token despite internal check.",a));throw a;},x);}});},x);},timeout:function(){u.timeout();},error:function(d){u.error(d);}});},buildResponse:function(g,m,r,v,w,x){var d;d=this;je(m,v,{result:function(b){u(x,function(){b.setNonReplayable(r.isNonReplayable());if(!m.isPeerToPeer()&&!v.keyResponseData)return{builder:b,tokenTicket:null};this.getNewestMasterToken(g,m,w,{result:function(a){u(x,function(){var c,l,q;c=a&&a.masterToken;if(c){l=r.getUserId();q=m.getMslStore();l=(l=l?q.getUserIdToken(l):null)&&l.isBoundTo(c)?l:null;}else l=null;b.setAuthTokens(c,l);return{builder:b,tokenTicket:a};},d);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},d);},error:function(b){x.error(b);}});},buildErrorResponse:function(g,r,v,w,C,B,d){var c;function b(a,b){u(d,function(){var l,k;l=Vb(C.messageId);k=new xa(b,v);Wb(r,null,null,l,{result:function(b){u(d,function(){r.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(k.isNonReplayable());return{errorResult:new x(b,k),tokenTicket:null};},c);},error:function(a){d.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(g,r,B,{result:function(l){u(d,function(){var k,p,h;k=l&&l.masterToken;p=Vb(C.messageId);h=new xa(b,v);Wb(r,k,null,p,{result:function(b){u(d,function(){r.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(h.isNonReplayable());return{errorResult:new x(b,h),tokenTicket:l};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}c=this;u(d,function(){var l,q,n,k;l=w.requestHeader;q=w.payloads;n=C.errorCode;switch(n){case m.ENTITYDATA_REAUTH:case m.ENTITY_REAUTH:r.getEntityAuthenticationData(n,{result:function(a){u(d,function(){if(!a)return null;b(l,q);},c);},error:function(a){d.error(a);}});break;case m.USERDATA_REAUTH:case m.SSOTOKEN_REJECTED:v.getUserAuthData(n,!1,!0,{result:function(b){u(d,function(){if(!b)return null;a(l,q);},c);},error:function(a){d.error(a);}});break;case m.USER_REAUTH:a(l,q);break;case m.KEYX_REQUIRED:n=Vb(C.messageId),k=new xa(q,v);Wb(r,null,null,n,{result:function(a){u(d,function(){r.isPeerToPeer()&&a.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(k.isNonReplayable());return{errorResult:new x(a,k),tokenTicket:null};},c);},error:function(a){d.error(a);}});break;case m.EXPIRED:this.getNewestMasterToken(g,r,B,{result:function(a){u(d,function(){var b,f,k,p;b=a&&a.masterToken;f=l.userIdToken;k=Vb(C.messageId);p=new xa(q,v);Wb(r,b,f,k,{result:function(f){u(d,function(){r.isPeerToPeer()&&f.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);l.masterToken.equals(b)&&f.setRenewable(!0);f.setNonReplayable(p.isNonReplayable());return{errorResult:new x(f,p),tokenTicket:a};},c);},error:function(a){d.error(a);}},c);},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case m.REPLAYED:this.getNewestMasterToken(g,r,B,{result:function(a){u(d,function(){var b,f,k,p;b=a&&a.masterToken;f=l.userIdToken;k=Vb(C.messageId);p=new xa(q,v);Wb(r,b,f,k,{result:function(f){u(d,function(){r.isPeerToPeer()&&f.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);l.masterToken.equals(b)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(p.isNonReplayable());return{errorResult:new x(f,p),tokenTicket:a};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},c);},cleanupContext:function(g,r,v){switch(v.errorCode){case m.ENTITY_REAUTH:this.deleteMasterToken(g,r.masterToken);break;case m.USER_REAUTH:v=r.userIdToken,r.masterToken&&v&&g.getMslStore().removeUserIdToken(v);}},send:function(g,m,r,v,w,x,d){var n;function b(b,l,h){u(d,function(){var f;f=w.getPeerUserIdToken();!m.isPeerToPeer()&&!l||m.isPeerToPeer()&&!f?(f=r.getCustomer())?w.setCustomer(f,{result:function(f){u(d,function(){l=w.getUserIdToken();a(b,l,h);},n);},error:function(a){d.error(a);}}):a(b,l,h):a(b,l,h);},n);}function a(a,b,h){u(d,function(){var f,l;f=!h&&(!r.isEncrypted()||w.willEncryptPayloads())&&(!r.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!r.isNonReplayable()||w.isNonReplayable()&&a);f||w.setNonReplayable(!1);l=[];w.isRenewable()&&(!a||a.isRenewable()||r.isNonReplayable())?r.getKeyRequestData({result:function(h){u(d,function(){var p;for(var k=0;k<h.length;++k){p=h[k];l.push(p);w.addKeyRequestData(p);}c(a,b,f,l);},n);},error:function(a){d.error(a);}}):c(a,b,f,l);},n);}function c(a,b,h,f){u(d,function(){var f;f=new le(m,r,w);r.updateServiceTokens(f,!h,{result:function(f){w.getHeader({result:function(f){u(d,function(){var k,p;k=r.getDebugContext();k&&k.sentHeader(f);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(m,f,k);this.storeServiceTokens(m,a,b,f.serviceTokens);k=!m.isPeerToPeer()&&k?k.cryptoContext:f.cryptoContext;if(g.isAborted())throw new cb("send aborted.");p=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Jc(m,p,Ma,f,k,x,{result:function(a){g.setAbort(function(){a.abort();});l(a,f,h);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},n);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},n);}function l(a,b,h){var f,l;if(h)r.write(a,x,{result:function(f){u(d,function(){if(g.isAborted())throw new cb("MessageOutputStream write aborted.");q(a,b,h);},n);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else{f=new N();l=new cc();Jc(m,f,Ma,b,l,x,{result:function(f){r.write(f,x,{result:function(l){u(d,function(){if(g.isAborted())throw new cb("MessageOutputStream proxy write aborted.");f.close(x,{result:function(l){u(d,function(){var k;if(!l)throw new cb("MessageOutputStream proxy close aborted.");k=f.getPayloads();q(a,b,h,k);},n);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},n);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function q(a,b,h,f){a.close(x,{result:function(l){u(d,function(){if(!l)throw new cb("MessageOutputStream close aborted.");f||(f=a.getPayloads());return new B(b,f,!h);},n);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}n=this;u(d,function(){var a,l,h,f;a=w.getMasterToken();l=w.getUserIdToken();h=!1;if(r.getUserId()){f=!l;r.getUserAuthData(null,w.isRenewable(),f,{result:function(f){u(d,function(){f&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(f):h=!0);b(a,l,h);},n);},error:function(a){d.error(a);}});}else b(a,l,h);},n);},receive:function(r,v,w,x,C,B,d){var b;b=this;u(d,function(){var a,c,l;if(r.isAborted())throw new cb("receive aborted.");a=[];C&&(a=C.keyRequestData.filter(function(){return!0;}));c=w.getCryptoContexts();l=this._filterFactory?this._filterFactory.getInputStream(x):x;ne(v,l,Ma,a,c,B,{result:function(a){r.setAbort(function(){a.abort();});a.isReady(B,{result:function(l){u(d,function(){var k,c,h,f;if(!l)throw new cb("MessageInputStream aborted.");k=a.getMessageHeader();c=a.getErrorHeader();h=w.getDebugContext();h&&h.receivedHeader(k?k:c);if(C&&(h=c?c.errorCode:null,k||h!=m.FAIL&&h!=m.TRANSIENT_FAILURE&&h!=m.ENTITY_REAUTH&&h!=m.ENTITYDATA_REAUTH)){h=k?k.messageId:c.messageId;f=Vb(C.messageId);if(h!=f)throw new Ha(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+f+"; received "+h);}v.getEntityAuthenticationData(null,{result:function(f){u(d,function(){var b,h,l,p;b=f.getIdentity();if(k){h=k.entityAuthenticationData;l=k.masterToken;h=l?k.sender:h.getIdentity();if(l&&l.isDecrypted()&&l.identity!=h||b==h)throw new Ha(g.UNEXPECTED_MESSAGE_SENDER,h);C&&this.updateIncomingCryptoContexts(v,C,a);b=k.keyResponseData;v.isPeerToPeer()?(b=b?b.masterToken:k.peerMasterToken,l=k.peerUserIdToken,h=k.peerServiceTokens):(b=b?b.masterToken:k.masterToken,l=k.userIdToken,h=k.serviceTokens);p=w.getUserId();p&&l&&!l.isVerified()&&v.getMslStore().addUserIdToken(p,l);this.storeServiceTokens(v,b,l,h);}else if(h=c.entityAuthenticationData.getIdentity(),b==h)throw new Ha(g.UNEXPECTED_MESSAGE_SENDER,h);return a;},b);},error:d.error});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},b);},sendReceive:function(g,m,r,v,w,x,d,b,a){var l;function c(c,n){u(a,function(){x.setRenewable(n);this.send(g,m,r,w,x,d,{result:function(k){u(a,function(){var p;p=k.requestHeader.keyRequestData;b||k.handshake||!p.isEmpty()?this.receive(g,m,r,v,k.requestHeader,d,{result:function(b){u(a,function(){n&&this.releaseRenewalLock(m,c,b);return new K(b,k);},l);},timeout:function(){u(a,function(){n&&this.releaseRenewalLock(m,c,null);a.timeout();},l);},error:function(b){u(a,function(){n&&this.releaseRenewalLock(m,c,null);throw b;},l);}}):u(a,function(){n&&this.releaseRenewalLock(m,c,null);return new K(null,k);},l);},l);},timeout:function(){u(a,function(){n&&this.releaseRenewalLock(m,c,null);a.timeout();},l);},error:function(b){u(a,function(){n&&this.releaseRenewalLock(m,c,null);throw b;},l);}});},l);}l=this;u(a,function(){var b;b=new hc();this.acquireRenewalLock(g,m,r,b,x,d,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof cb?a.result(null):a.error(b);}});},l);},acquireRenewalLock:function(g,m,r,v,w,x,d){var c;function b(l,q,n){u(d,function(){var h,f;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");for(var k=null,p=0;p<this._renewingContexts.length;++p){h=this._renewingContexts[p];if(h.ctx===m){k=h.queue;break;}}if(!k)return this._renewingContexts.push({ctx:m,queue:v}),!0;f=k.poll(x,{result:function(f){u(d,function(){var h;if(f===ja)throw new cb("acquireRenewalLock aborted.");k.add(f);if(f===sa||f.isExpired())b(f,q,n);else{if(n&&!q||q&&!q.isBoundTo(f)){h=m.getMslStore().getUserIdToken(n);q=h&&h.isBoundTo(f)?h:null;}w.setAuthTokens(f,q);w.isRenewable()&&f.equals(l)?b(f,q,n):r.isRequestingTokens()&&!q?b(f,q,n):a(f,q);}},c);},timeout:function(){},error:function(a){}});g.setAbort(function(){f&&(k.cancel(f),f=ja);});},c);}function a(a,b){u(d,function(){var c;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!b&&r.getUserId()||b&&b.isRenewable()){for(var l=null,k=0;k<this._renewingContexts.length;++k){c=this._renewingContexts[k];if(c.ctx===m){l=c.queue;break;}}if(!l)return this._renewingContexts.push({ctx:m,queue:v}),!0;}return!1;},c);}c=this;u(d,function(){var l,c,n;l=w.getMasterToken();c=w.getUserIdToken();n=r.getUserId();r.isEncrypted()&&!w.willEncryptPayloads()||r.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!l&&r.isNonReplayable()||l&&l.isExpired()||!(c||!n||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||r.isRequestingTokens()&&(!l||n&&!c)?b(l,c,n):a(l,c);},c);},releaseRenewalLock:function(g,m,r){var d;for(var v,w,u=0;u<this._renewingContexts.length;++u){d=this._renewingContexts[u];if(d.ctx===g){v=u;w=d.queue;break;}}if(w!==m)throw new fa("Attempt to release renewal lock that is not owned by this queue.");r?(r=r.messageHeader)?(w=r.keyResponseData)?m.add(w.masterToken):(g=g.isPeerToPeer()?r.peerMasterToken:r.masterToken)?m.add(g):m.add(sa):m.add(sa):m.add(sa);this._renewingContexts.splice(v,1);}});qe=ma.Class.create({init:function(){var g;g={_impl:{value:new ca(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,m,r,v,w,u){var d;if(this._shutdown)throw new E("MslControl is shutdown.");d=new A(this._impl,g,m,r,v,w);setTimeout(function(){d.call(u);},0);return I(d);},respond:function(g,m,r,v,w,u,d){var b;if(this._shutdown)throw new E("MslControl is shutdown.");b=new V(this._impl,g,m,r,v,w,u);setTimeout(function(){b.call(d);},0);return I(b);},error:function(g,m,r,v,w,u,d){var b;if(this._shutdown)throw new E("MslControl is shutdown.");b=new ya(this._impl,g,m,r,v,w,u);setTimeout(function(){b.call(d);},0);return I(b);},request:function(g,m){var r,v,w,u,d,b;if(this._shutdown)throw new E("MslControl is shutdown.");if(5==arguments.length){if(r=arguments[2],w=v=null,u=arguments[3],d=arguments[4],g.isPeerToPeer()){d.error(new fa("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(r=null,v=arguments[2],w=arguments[3],u=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new fa("This method cannot be used in trusted network mode."));return;}b=new ea(this._impl,g,m,r,v,w,null,0,u);setTimeout(function(){b.call(d);},0);return I(b);}});A=ma.Class.create({init:function(g,m,r,v,w,u){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:m,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:u,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(m){var B;function r(r){u(m,function(){var d;d=r.messageHeader;if(!d)return r;this.setAbort(function(){r.abort();});r.mark(Number.MAX_VALUE);r.read(1,B._timeout,{result:function(b){u(m,function(){if(b&&0==b.length)return null;if(b)return r.reset(),r;w(r);},B);},timeout:function(){m.timeout();},error:function(b){u(m,function(){var a,c,l;if(v(b))return null;a=d?d.messageId:null;b instanceof Za?(c=g.MSL_COMMS_FAILURE,l=b):(c=g.INTERNAL_EXCEPTION,l=new fa("Error peeking into the message payloads."));C(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){m.error(l);},timeout:function(){m.timeout();},error:function(a){u(m,function(){if(v(a))return null;throw new nb("Error peeking into the message payloads.",a,b);},B);}});},B);}});},B);}function w(r){u(m,function(){r.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,r.messageHeader,this._timeout,{result:function(d){u(m,function(){var b,a,c,l,q;b=d.builder;a=d.tokenTicket;c=r.messageHeader;l=new Y(this._msgCtx);if(!this._ctx.isPeerToPeer()||c.isEncrypting()||c.keyResponseData)x(c,b,l,a);else{q=new ea(this._ctrl,this._ctx,l,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){q.abort();});q.call(m);}},B);},timeout:function(){m.timeout();},error:function(d){u(m,function(){var b,a,c,l;if(v(d))return null;d instanceof E?(b=d.messageId,a=d.error,c=r.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),l=d):(b=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,c=null,l=new fa("Error creating an automatic handshake response.",d));C(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){m.error(l);},timeout:function(){m.timeout();},error:function(a){u(m,function(){if(v(a))return null;throw new nb("Error creating an automatic handshake response.",a,d);},B);}});},B);}});},B);}function x(r,d,b,a){u(m,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,d,this._timeout,{result:function(b){u(m,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},B);},timeout:function(){u(m,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);m.timeout();},B);},error:function(b){u(m,function(){var l,c,n,k;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof E?(l=b.messageId,c=b.error,n=r?r.messageCapabilities:null,n=this._ctrl.messageRegistry.getUserMessage(c,n?n.languages:null),k=b):b instanceof Za?(l=r?r.messageId:null,c=g.MSL_COMMS_FAILURE,n=null,k=b):(l=r?r.messageId:null,c=g.INTERNAL_EXCEPTION,n=null,k=new fa("Error sending an automatic handshake response.",b));C(this,this._ctx,this._msgCtx.getDebugContext(),l,c,n,this._output,this._timeout,{result:function(a){m.error(k);},timeout:function(){m.timeout();},error:function(a){u(m,function(){if(v(a))return null;throw new nb("Error sending an automatic handshake response.",a,b);},B);}});},B);}});},B);}B=this;u(m,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){r(g);},timeout:function(){m.timeout();},error:function(r){u(m,function(){var d,b,a,c;if(v(r))return null;r instanceof E?(d=r.messageId,b=r.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=r):(d=null,b=g.INTERNAL_EXCEPTION,a=null,c=new fa("Error receiving the message header.",r));C(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){m.error(c);},timeout:function(){m.timeout();},error:function(a){u(m,function(){if(v(a))return null;throw new nb("Error receiving the message header.",a,r);},B);}});},B);}});},B);}});V=ma.Class.create({init:function(g,m,r,v,w,u,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:m,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(m,r,w){var x;x=this;u(w,function(){var B,A;if(12<r+1)return!1;if(B=this._msgCtx.isIntegrityProtected()&&!m.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!m.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){A=dc(m.getMessageId());C(this,this._ctx,this._msgCtx.getDebugContext(),A,B,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){u(w,function(){if(v(d))return!1;throw new nb("Response requires encryption or integrity protection but cannot be protected: "+B,d,null);},x);}});}else!this._msgCtx.getCustomer()||m.getMasterToken()||m.getKeyExchangeData()?(m.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,m,this._timeout,{result:function(d){w.result(!0);},timeout:function(){w.timeout();},error:function(d){w.error(d);}})):(A=dc(m.getMessageId()),C(this,this._ctx,this._msgCtx.getDebugContext(),A,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){u(w,function(){if(v(d))return!1;throw new nb("Response wishes to attach a user ID token but there is no master token.",d,null);},x);}}));},x);},peerToPeerExecute:function(m,r,w,x){var A;function B(d){u(x,function(){var b;b=d.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,m,d,b,{result:function(a){u(x,function(){var b,l;if(!a)return!1;b=a.errorResult;l=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){u(x,function(){this._ctrl.releaseMasterToken(l);return a;},A);},timeout:function(){u(x,function(){this._ctrl.releaseMasterToken(l);x.timeout();},A);},error:function(a){u(x,function(){this._ctrl.releaseMasterToken(l);throw a;},A);}});},A);}});},A);}A=this;u(x,function(){var d;if(12<w+2)return!1;if(null!=m.getCustomer()&&null==r.getPeerMasterToken()&&null==r.getKeyExchangeData()){d=dc(r.getMessageId());C(this,this._ctx,m.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){x.result(!1);},timeout:function(){x.timeout();},error:function(b){u(x,function(){if(v(b))return!1;throw new nb("Response wishes to attach a user ID token but there is no master token.",b,null);},A);}});}else this._ctrl.sendReceive(this._ctx,m,this._input,this._output,r,this._timeout,!1,{result:function(b){u(x,function(){var l,q,n;function a(){l.read(32768,A._timeout,{result:function(b){u(x,function(){b?a():c();},A);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function c(){u(x,function(){var a;a=new xa(b.payloads,m);this._ctrl.buildResponse(this,this._ctx,a,q,this._timeout,{result:function(b){u(x,function(){var h;h=b.tokenTicket;this.peerToPeerExecute(a,b.builder,w,{result:function(a){u(x,function(){this._ctrl.releaseMasterToken(h);return a;},A);},timeout:function(){u(x,function(){this._ctrl.releaseMasterToken(h);x.timeout();},A);},error:function(a){u(x,function(){this._ctrl.releaseMasterToken(h);throw a;},A);}});},A);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},A);}l=b.response;w+=2;if(!l)return!0;q=l.getMessageHeader();if(q){n=b.payloads;n=0<n.length&&0<n[0].data.length;if(b.handshake&&n)a();else return!0;}else B(b);},A);},timeout:function(){x.timeout();},error:function(b){x.error(b);}});},A);},call:function(m){var r;r=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){u(m,function(){var x,B;x=w.builder;B=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,x,3,{result:function(g){u(m,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return g;},r);},timeout:function(){u(m,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);m.timeout();},r);},error:function(w){u(m,function(){var d,b,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;d=dc(x.getMessageId());w instanceof E?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof Za?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new fa("Error sending the response.",w));C(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){m.error(c);},timeout:function(){m.timeout();},error:function(a){u(m,function(){if(v(a))return!1;throw new nb("Error sending the response.",a,null);},r);}});},r);}}):this.trustedNetworkExecute(x,3,{result:function(g){u(m,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return g;},r);},timeout:function(){u(m,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);m.timeout();},r);},error:function(w){u(m,function(){var d,b,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;d=dc(x.getMessageId());w instanceof E?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof Za?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new fa("Error sending the response.",w));C(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){m.error(c);},timeout:function(){m.timeout();},error:function(a){u(m,function(){if(v(a))return!1;throw new nb("Error sending the response.",a,null);},r);}});},r);}});},r);},timeout:function(){m.timeout();},error:function(w){u(m,function(){var x,B,A,d;if(v(w))return!1;w instanceof E?(x=w.messageId,B=w.error,A=this._request.messageCapabilities,A=this._ctrl.messageRegistry.getUserMessage(B,A?A.languages:null),d=w):(x=null,B=g.INTERNAL_EXCEPTION,A=null,d=new fa("Error building the response.",w));C(this,this._ctx,this._msgCtx.getDebugContext(),x,B,A,this._output,this._timeout,{result:function(b){m.error(d);},timeout:function(){m.timeout();},error:function(b){u(m,function(){if(v(b))return null;throw new nb("Error building the response.",b,w);},r);}});},r);}});}});ya=ma.Class.create({init:function(g,m,r,w,v,u,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:m,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(m){var r;r=this;u(m,function(){var w,x;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new fa("Unhandled application error "+this._appError+".");x=this._request.messageCapabilities;x=this._ctrl.messageRegistry.getUserMessage(w,x?x.languages:null);C(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,x,this._output,this._timeout,{result:function(g){m.result(g);},timeout:m.timeout,error:function(g){u(m,function(){if(v(g))return!1;if(g instanceof E)throw g;throw new fa("Error building the error response.",g);},r);}});},r);}});ua={result:function(){},timeout:function(){},error:function(){}};ea=ma.Class.create({init:function(g,m,r,w,v,u,d,b,a){var c;d?(c=d.builder,d=d.tokenTicket):d=c=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:m,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:u,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,m,r,w,v){var b;function x(a){function c(l){u(v,function(){var b;b=a.response;return l?l:b;},b);}u(v,function(){var l,q;l=a.response;l.close();q=l.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,q);this._ctrl.buildErrorResponse(this,this._ctx,g,a,q,r,{result:function(a){u(v,function(){var k,p,h,f;if(!a)return l;k=a.errorResult;p=a.tokenTicket;h=k.builder;k=k.msgCtx;if(this._ctx.isPeerToPeer())this.execute(k,h,this._timeout,w,{result:function(a){u(v,function(){this._ctrl.releaseMasterToken(p);c(a);},b);},timeout:function(){u(v,function(){this._ctrl.releaseMasterToken(p);v.timeout();},b);},error:function(a){u(v,function(){this._ctrl.releaseMasterToken(p);v.error(a);},b);}});else{this._openedStreams&&(this._input.close(),this._output.close(r,ua));f=new ea(this._ctrl,this._ctx,k,this._remoteEntity,null,null,{builder:h,tokenTicket:p},w,this._timeout);this.setAbort(function(){f.abort();});f.call({result:function(a){c(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},b);}function d(a){u(v,function(){var q,n,k,p,h;function c(){q.read(32768,b._timeout,{result:function(a){a?c():l();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function l(){u(v,function(){var f;f=new xa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,n,r,{result:function(a){u(v,function(){var h;h=a.tokenTicket;this.execute(f,a.builder,this._timeout,w,{result:function(a){u(v,function(){this._ctrl.releaseMasterToken(h);return a;},b);},timeout:function(){u(v,function(){this._ctrl.releaseMasterToken(h);v.timeout();},b);},error:function(a){u(v,function(){this._ctrl.releaseMasterToken(h);throw a;},b);}});},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},b);}q=a.response;n=q.getMessageHeader();k=a.payloads;k=0<k.length&&0<k[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!k)return q;this._openedStreams&&(this._input.close(),this._output.close(r,ua));p=new xa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,n,r,{result:function(a){u(v,function(){var b;b=new ea(this._ctrl,this._ctx,p,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){b.abort();});b.call(v);},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&k)c();else if(0<n.keyRequestData.length){h=new Y(g);this._ctrl.buildResponse(this,this._ctx,h,n,r,{result:function(a){u(v,function(){var f,l;f=a.builder;l=a.tokenTicket;q.mark();q.read(1,this._timeout,{result:function(a){u(v,function(){function k(){q.read(32768,b._timeout,{result:function(a){a?k():c();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function c(){b.execute(h,f,b._timeout,w,{result:function(a){u(v,function(){this._ctrl.releaseMasterToken(l);return a;},b);},timeout:function(){u(v,function(){this._ctrl.releaseMasterToken(l);v.timeout();},b);},error:function(a){u(v,function(){this._ctrl.releaseMasterToken(l);throw a;},b);}});}if(a)if(q.reset(),12>=w+1)f.setRenewable(!1),this._ctrl.send(this,this._ctx,h,this._output,f,this._timeout,{result:function(a){u(v,function(){this.releaseMasterToken(l);return q;},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(l),q;else k();},b);},timeout:function(){u(v,function(){this.releaseMasterToken(l);v.timeout();},b);},error:function(a){u(v,function(){this.releaseMasterToken(l);throw a;},b);}});},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},b);}b=this;u(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,m,r,!0,{result:function(a){u(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?d(a):x(a);},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},b);},call:function(g){var r;function m(m,w,x){u(g,function(){this.execute(this._msgCtx,m,x,this._msgCount,{result:function(d){u(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(x,ua);d&&d.closeSource(this._openedStreams);return d;},r);},timeout:function(){u(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());g.timeout();},r);},error:function(d){u(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());if(v(d))return null;throw d;},r);}});},r);}r=this;u(g,function(){var w,x,C;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);x=Date.now();C=this._remoteEntity.openConnection();this._output=C.output;this._input=C.input;-1!=w&&(w=this._timeout-(Date.now()-x));this._openedStreams=!0;}catch(d){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(d))return null;throw d;}this._builder?m(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){u(g,function(){m(d.builder,d.tokenTicket,w);},r);},timeout:function(){u(g,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());g.timeout();},r);},error:function(d){u(g,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(d))return null;throw d;},r);}});},r);}});}());(function(){pd=ma.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this===g?!0:g instanceof pd?this.id==g.id:!1;},uniqueKey:function(){return this.id;}});re=function(m){var r;r=m.id;if(!r)throw new ia(g.JSON_PARSE_ERROR,JSON.stringify(m));return new pd(r);};}());ma.Class.create({isNewestMasterToken:function(g,m,r){},isMasterTokenRevoked:function(g,m){},acceptNonReplayableId:function(g,m,r,u){},createMasterToken:function(g,m,r,u,K){},isMasterTokenRenewable:function(g,m,r){},renewMasterToken:function(g,m,r,u,K){},isUserIdTokenRevoked:function(g,m,r,u){},createUserIdToken:function(g,m,r,u){},renewUserIdToken:function(g,m,r,u){}});(function(){function m(g,m,r,u){this.sessiondata=g;this.tokendata=m;this.signature=r;this.verified=u;}kb=ma.Class.create({init:function(g,m,u,K,v,C,I,E,N,xa,Y){var w;w=this;r(Y,function(){var x,B,Z,ea,ca;if(u.getTime()<m.getTime())throw new fa("Cannot construct a master token that expires before its renewal window opens.");if(0>K||K>Na)throw new fa("Sequence number "+K+" is outside the valid range.");if(0>v||v>Na)throw new fa("Serial number "+v+" is outside the valid range.");x=Math.floor(m.getTime()/1E3);B=Math.floor(u.getTime()/1E3);if(xa)Z=xa.sessiondata;else{ea={};C&&(ea.issuerdata=C);ea.identity=I;ea.encryptionkey=pa(E.toByteArray());ea.hmackey=pa(N.toByteArray());Z=Wa(JSON.stringify(ea),Ma);}if(xa)return Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:K,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:E,writable:!1,configurable:!1},hmacKey:{value:N,writable:!1,configurable:!1},sessiondata:{value:Z,writable:!1,enumerable:!1,configurable:!1},verified:{value:xa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ca=g.getMslCryptoContext();ca.encrypt(Z,{result:function(m){r(Y,function(){var u,A;u={};u.renewalwindow=x;u.expiration=B;u.sequencenumber=K;u.serialnumber=v;u.sessiondata=pa(m);A=Wa(JSON.stringify(u),Ma);ca.sign(A,{result:function(m){r(Y,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:K,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:E,writable:!1,configurable:!1},hmacKey:{value:N,writable:!1,configurable:!1},sessiondata:{value:Z,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:A,writable:!1,enumerable:!1,configurable:!1},signature:{value:m,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){Y.error(g);}});},w);},error:function(g){Y.error(g);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(g){var m;if(this.sequenceNumber==g.sequenceNumber)return this.expiration>g.expiration;if(this.sequenceNumber>g.sequenceNumber){m=this.sequenceNumber-Na+127;return g.sequenceNumber>=m;}m=g.sequenceNumber-Na+127;return this.sequenceNumber<m;},toJSON:function(){var g;g={};g.tokendata=pa(this.tokendata);g.signature=pa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof kb?this.serialNumber==g.serialNumber&&this.sequenceNumber==g.sequenceNumber&&this.expiration.getTime()==g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Tb=function(w,u,B){r(B,function(){var x,v,C,I,Z;x=w.getMslCryptoContext();v=u.tokendata;C=u.signature;if("string"!==typeof v||"string"!==typeof C)throw new ia(g.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(u));try{I=wa(v);}catch(Ca){throw new E(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(u),Ca);}if(!I||0==I.length)throw new ia(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(u));try{Z=wa(C);}catch(Ca){throw new E(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(u),Ca);}x.verify(I,Z,{result:function(v){r(B,function(){var u,C,K,A,V,N,ea,ca,ua,Ba;N=Ya(I,Ma);try{ea=JSON.parse(N);u=parseInt(ea.renewalwindow);C=parseInt(ea.expiration);K=parseInt(ea.sequencenumber);A=parseInt(ea.serialnumber);V=ea.sessiondata;}catch(ra){if(ra instanceof SyntaxError)throw new ia(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+N,ra);throw ra;}if(!u||u!=u||!C||C!=C||"number"!==typeof K||K!=K||"number"!==typeof A||A!=A||"string"!==typeof V)throw new ia(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+N);if(C<u)throw new E(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+N);if(0>K||K>Na)throw new E(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+N);if(0>A||A>Na)throw new E(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+N);ca=new Date(1E3*u);ua=new Date(1E3*C);try{Ba=wa(V);}catch(ra){throw new E(g.MASTERTOKEN_SESSIONDATA_INVALID,V,ra);}if(!Ba||0==Ba.length)throw new E(g.MASTERTOKEN_SESSIONDATA_MISSING,V);v?x.decrypt(Ba,{result:function(u){r(B,function(){var x,C,E,Y,V,ea;V=Ya(u,Ma);try{ea=JSON.parse(V);x=ea.issuerdata;C=ea.identity;E=ea.encryptionkey;Y=ea.hmackey;}catch(d){if(d instanceof SyntaxError)throw new ia(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+V,d);throw d;}if(x&&"object"!==typeof x||!C||"string"!==typeof E||"string"!==typeof Y)throw new ia(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+V);Ab(E,sb,Ib,{result:function(d){Ab(Y,tb,Sb,{result:function(b){r(B,function(){var a;a=new m(u,I,Z,v);new kb(w,ca,ua,K,A,x,C,d,b,a,B);});},error:function(b){B.error(new S(g.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(d){B.error(new S(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){B.error(g);}}):(u=new m(null,I,Z,v),new kb(w,ca,ua,K,A,null,null,null,null,u,B));});},error:function(g){B.error(g);}});});};}());(function(){function m(g,m,r){this.tokendata=g;this.signature=m;this.verified=r;}ac=ma.Class.create({init:function(g,m,u,K,v,C,I,Z,N){var w;w=this;r(N,function(){var x,B,A,V,ya,ea,ca;if(u.getTime()<m.getTime())throw new fa("Cannot construct a user ID token that expires before its renewal window opens.");if(!K)throw new fa("Cannot construct a user ID token without a master token.");if(0>v||v>Na)throw new fa("Serial number "+v+" is outside the valid range.");x=Math.floor(m.getTime()/1E3);B=Math.floor(u.getTime()/1E3);A=K.serialNumber;if(Z){V=Z.tokendata;ya=Z.signature;ea=Z.verified;A=K.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:A,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:ea,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:V,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya,writable:!1,enumerable:!1,configurable:!1}});return this;}V={};C&&(V.issuerdata=C);V.identity=I;V=Wa(JSON.stringify(V),Ma);ca=g.getMslCryptoContext();ca.encrypt(V,{result:function(m){r(N,function(){var u,Y;u={};u.renewalwindow=x;u.expiration=B;u.mtserialnumber=A;u.serialnumber=v;u.userdata=pa(m);Y=Wa(JSON.stringify(u),Ma);ca.sign(Y,{result:function(m){r(N,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:K.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:C,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Y,writable:!1,enumerable:!1,configurable:!1},signature:{value:m,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){r(N,function(){g instanceof E&&g.setEntity(K);throw g;},w);}});},w);},error:function(g){r(N,function(){g instanceof E&&g.setEntity(K);throw g;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(g){return g&&g.serialNumber==this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=pa(this.tokendata);g.signature=pa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof ac?this.serialNumber==g.serialNumber&&this.mtSerialNumber==g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Ub=function(w,u,B,K){r(K,function(){var v,x,I,Z,N;v=w.getMslCryptoContext();x=u.tokendata;I=u.signature;if("string"!==typeof x||"string"!==typeof I)throw new ia(g.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(u)).setEntity(B);try{Z=wa(x);}catch(xa){throw new E(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(u),xa).setEntity(B);}if(!Z||0==Z.length)throw new ia(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(u)).setEntity(B);try{N=wa(I);}catch(xa){throw new E(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(u),xa).setEntity(B);}v.verify(Z,N,{result:function(u){r(K,function(){var x,C,A,I,ya,ea,ca,ua,Ba,Ca;ea=Ya(Z,Ma);try{ca=JSON.parse(ea);x=parseInt(ca.renewalwindow);C=parseInt(ca.expiration);A=parseInt(ca.mtserialnumber);I=parseInt(ca.serialnumber);ya=ca.userdata;}catch(ha){if(ha instanceof SyntaxError)throw new ia(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ea,ha).setEntity(B);throw ha;}if(!x||x!=x||!C||C!=C||"number"!==typeof A||A!=A||"number"!==typeof I||I!=I||"string"!==typeof ya)throw new ia(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ea).setEntity(B);if(C<x)throw new E(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+ea).setEntity(B);if(0>A||A>Na)throw new E(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ea).setEntity(B);if(0>I||I>Na)throw new E(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ea).setEntity(B);ua=new Date(1E3*x);Ba=new Date(1E3*C);if(!B||A!=B.serialNumber)throw new E(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+A+"; mt "+JSON.stringify(B)).setEntity(B);try{Ca=wa(ya);}catch(ha){throw new E(g.USERIDTOKEN_USERDATA_INVALID,ya,ha).setEntity(B);}if(!Ca||0==Ca.length)throw new E(g.USERIDTOKEN_USERDATA_MISSING,ya).setEntity(B);u?v.decrypt(Ca,{result:function(v){r(K,function(){var r,x,C,A,Y;C=Ya(v,Ma);try{A=JSON.parse(C);r=A.issuerdata;x=A.identity;}catch(d){if(d instanceof SyntaxError)throw new ia(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+C).setEntity(B);throw d;}if(r&&"object"!==typeof r||"object"!==typeof x)throw new ia(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+C).setEntity(B);try{Y=re(x);}catch(d){throw new E(g.USERIDTOKEN_IDENTITY_INVALID,"userdata "+C,d).setEntity(B);}x=new m(Z,N,u);new ac(w,ua,Ba,B,I,r,Y,x,K);});},error:function(g){r(K,function(){g instanceof E&&g.setEntity(B);throw g;});}}):(x=new m(Z,N,u),new ac(w,ua,Ba,B,I,null,null,x,K));});},error:function(g){r(K,function(){g instanceof E&&g.setEntity(B);throw g;});}});});};}());(function(){function m(m,r){var w,v,u;w=m.tokendata;if("string"!==typeof w)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(m));try{v=wa(w);}catch(Ba){throw new E(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(m),Ba);}if(!v||0==v.length)throw new ia(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(m));try{u=JSON.parse(Ya(v,Ma)).name;}catch(Ba){if(Ba instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(m),Ba);throw Ba;}if(!u)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(m));return r[u]?r[u]:r[""];}function w(g,m,r){this.tokendata=g;this.signature=m;this.verified=r;}Lb=ma.Class.create({init:function(g,m,w,v,u,I,Z,N,S,Y){var x;x=this;r(Y,function(){var C,B,K,ea,ca;if(v&&u&&!u.isBoundTo(v))throw new fa("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=v?v.serialNumber:-1;B=u?u.serialNumber:-1;if(S)return ca=S.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:m,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Z,writable:!1,configurable:!1},verified:{value:S.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:S.signature,writable:!1,enumerable:!1,configurable:!1}}),this;Z?(K=od(Z,w),K.length<w.length||(Z=null,K=w)):(Z=null,K=w);ea={};ea.name=m;-1!=C&&(ea.mtserialnumber=C);-1!=B&&(ea.uitserialnumber=B);ea.encrypted=I;Z&&(ea.compressionalgo=Z);if(I&&0<K.length)N.encrypt(K,{result:function(A){r(Y,function(){var K;ea.servicedata=pa(A);K=Wa(JSON.stringify(ea),Ma);N.sign(K,{result:function(v){r(Y,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:m,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Z,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:K,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(g){r(Y,function(){g instanceof E&&(g.setEntity(v),g.setUser(u));throw g;});}});},x);},error:function(g){r(Y,function(){g instanceof E&&(g.setEntity(v),g.setUser(u));throw g;});}});else{ea.servicedata=pa(K);ca=Wa(JSON.stringify(ea),Ma);N.sign(ca,{result:function(v){r(Y,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:m,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Z,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(g){r(Y,function(){g instanceof E&&(g.setEntity(v),g.setUser(u));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof kb?g.serialNumber==this.mtSerialNumber:g instanceof ac?g.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=pa(this.tokendata);g.signature=pa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof Lb?this.name==g.name&&this.mtSerialNumber==g.mtSerialNumber&&this.uitSerialNumber==g.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Eb=function(g,m,r,v,w,u,I,E,N){new Lb(g,m,r,v,w,u,I,E,null,N);};Gc=function(u,B,K,v,C,I){r(I,function(){var x,N,S,Y,sa,A,V,ya,ea,ca,ua,Ba,ra;!C||C instanceof bc||(C=m(B,C));x=B.tokendata;N=B.signature;if("string"!==typeof x||"string"!==typeof N)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(B)).setEntity(K).setEntity(v);try{S=wa(x);}catch(ha){throw new E(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(K).setEntity(v);}if(!S||0==S.length)throw new ia(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(B)).setEntity(K).setEntity(v);try{Y=wa(N);}catch(ha){throw new E(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(K).setEntity(v);}ua=Ya(S,Ma);try{Ba=JSON.parse(ua);sa=Ba.name;A=Ba.mtserialnumber?parseInt(Ba.mtserialnumber):-1;V=Ba.uitserialnumber?parseInt(Ba.uitserialnumber):-1;ya=Ba.encrypted;ea=Ba.compressionalgo;ca=Ba.servicedata;}catch(ha){if(ha instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"servicetokendata "+ua,ha).setEntity(K).setEntity(v);throw ha;}if(!sa||"number"!==typeof A||A!=A||"number"!==typeof V||V!=V||"boolean"!==typeof ya||ea&&"string"!==typeof ea||"string"!==typeof ca)throw new ia(g.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(K).setEntity(v);if(Ba.mtserialnumber&&0>A||A>Na)throw new E(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(K).setEntity(v);if(Ba.uitserialnumber&&0>V||V>Na)throw new E(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(K).setEntity(v);if(-1!=A&&(!K||A!=K.serialNumber))throw new E(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+A+"; mt "+K).setEntity(K).setEntity(v);if(-1!=V&&(!v||V!=v.serialNumber))throw new E(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+V+"; uit "+v).setEntity(K).setEntity(v);ya=!0===ya;if(ea){if(!Pb[ea])throw new E(g.UNIDENTIFIED_COMPRESSION,ea);ra=ea;}else ra=null;C?C.verify(S,Y,{result:function(m){r(I,function(){var x,B;if(m){try{x=wa(ca);}catch(hd){throw new E(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,hd).setEntity(K).setEntity(v);}if(!x||0!=ca.length&&0==x.length)throw new E(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(K).setEntity(v);if(ya&&0<x.length)C.decrypt(x,{result:function(g){r(I,function(){var r,x;r=ra?Hc(ra,g):g;x=new w(S,Y,m);new Lb(u,sa,r,-1!=A?K:null,-1!=V?v:null,ya,ra,C,x,I);});},error:function(g){r(I,function(){g instanceof E&&(g.setEntity(K),g.setUser(v));throw g;});}});else{x=ra?Hc(ra,x):x;B=new w(S,Y,m);new Lb(u,sa,x,-1!=A?K:null,-1!=V?v:null,ya,ra,C,B,I);}}else x=""==ca?new Uint8Array(0):null,B=new w(S,Y,m),new Lb(u,sa,x,-1!=A?K:null,-1!=V?v:null,ya,ra,C,B,I);});},error:function(g){r(I,function(){g instanceof E&&(g.setEntity(K),g.setUser(v));throw g;});}}):(x=""==ca?new Uint8Array(0):null,N=new w(S,Y,!1),new Lb(u,sa,x,-1!=A?K:null,-1!=V?v:null,ya,ra,C,N,I));});};}());db={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(db);(function(){Hb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Hb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});ge=function(m,w,u,B){r(B,function(){var r,v,x;r=u.scheme;v=u.authdata;if(!r||!v)throw new ia(g.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(u));if(!db[r])throw new Da(g.UNIDENTIFIED_USERAUTH_SCHEME,r);x=m.getUserAuthenticationFactory(r);if(!x)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,r);x.createData(m,w,v,B);});};}());mc=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,m,r,u){},authenticate:function(g,m,r,u){}});(function(){Xb=Hb.extend({init:function w(g,m){w.base.call(this,db.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:m,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId&&(g.securenetflixid=this.secureNetflixId);return g;},equals:function x(g){return this===g?!0:g instanceof Xb?x.base.call(this,g)&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId:!1;}});se=function(m){var r,u;r=m.netflixid;u=m.securenetflixid;if(!r)throw new ia(g.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(m));return new Xb(r,u);};}());Xe=mc.extend({init:function w(){w.base.call(this,db.NETFLIXID);},createData:function(g,m,u,K){r(K,function(){return se(u);});},authenticate:function(m,r,u,K){if(!(u instanceof Xb))throw new fa("Incorrect authentication data type "+u+".");m=u.secureNetflixId;if(!u.netflixId||!m)throw new Da(g.NETFLIXID_COOKIES_BLANK).setUser(u);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){nc=Hb.extend({init:function x(g,m){x.base.call(this,db.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:m,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function B(g){return this===g?!0:g instanceof nc?B.base.call(this,this,g)&&this.email==g.email&&this.password==g.password:!1;}});te=function(m){var r,v;r=m.email;v=m.password;if(!r||!v)throw new ia(g.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(m));return new nc(r,v);};}());Ye=mc.extend({init:function x(){x.base.call(this,db.EMAIL_PASSWORD);},createData:function(g,m,u,v){r(v,function(){return te(u);});},authenticate:function(m,r,u,v){if(!(u instanceof nc))throw new fa("Incorrect authentication data type "+u+".");m=u.password;if(!u.email||!m)throw new Da(g.EMAILPASSWORD_BLANK).setUser(u);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){var v,C,N,Z,Ca,xa,Y,sa;function m(g,m){return"<"+g+">"+m+"</"+g+">";}function u(g){return g.replace(/[<>&"']/g,function(g){return Ca[g];});}function K(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Kc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};C=ma.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});N=qd=C.extend({init:function(m,v,u,x,C,B,K){var Y;function A(x){r(K,function(){var r,A;try{A={};A.useridtoken=m;A.action=v;A.nonce=u;A.pin=pa(x);r=Wa(JSON.stringify(A),Ma);}catch(Kb){throw new ia(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Kb);}C.sign(r,{result:function(g){E(r,g);},error:K.error});},Y);}function E(g,C){r(K,function(){Object.defineProperties(this,{_userIdToken:{value:m,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:u,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},Y);}Y=this;r(K,function(){B?E(B.encoding,B.signature):C.encrypt(Wa(x,Ma),{result:function(g){A(g);},error:K.error});},Y);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof N?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin&&this._userIdToken.equals(g._userIdToken):!1;}});qd.ACTION="userauth";Z=function(m,v,u,x,C){function B(x){r(C,function(){var B,K,Y,Z,N,V;B=Ya(u,Ma);try{V=JSON.parse(B);K=V.useridtoken;Y=V.action;Z=V.nonce;N=V.pin;}catch(d){if(d instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+B,d);throw d;}if(!(K&&"object"===typeof K&&Y&&"string"===typeof Y&&Z&&"number"===typeof Z&&N)||"string"!==typeof N)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+B);Ub(m,K,v,{result:function(d){r(C,function(){if(!d.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+B);A(x,d,Y,Z,N);});},error:function(d){r(C,function(){if(d instanceof E)throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+B,d);throw d;});}});});}function A(g,m,v,B,A){r(C,function(){var K;K=wa(A);g.decrypt(K,{result:function(g){r(C,function(){var d;d=Ya(g,Ma);new N(m,v,B,d,null,{encoding:u,signature:x},C);});},error:C.error});});}r(C,function(){var A,K;try{K=m.getMslStore().getCryptoContext(v);A=K?K:new lb(m,v);}catch(xb){if(xb instanceof Rb)throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(u));throw xb;}A.verify(u,x,{result:function(m){r(C,function(){if(!m)throw new S(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(u));B(A);});},error:C.error});});};Ca={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};xa=oc=C.extend({init:function(g,r,v,x){var C,B;C=m("action",u(g));B=m("nonce",r.toString());v=m("pin",v);C=m("registerdata",C+B+v);C=Wa(C,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:C,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof xa?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});oc.ACTION="regpairrequest";Y=rd=C.extend({init:function(g,v,x,C,B,E){var Z;function A(x){r(E,function(){var r,B,A,Z,d;r=pa(x);B=m("action",u(g));A=m("nonce",v.toString());Z=m("pin",r);B=m("registerdata",B+A+Z);d=Wa(B,"utf-8");r="action="+K(g)+"&nonce="+K(v.toString())+"&pin="+K(r);C.sign(Wa(r,"utf-8"),{result:function(b){Y(d,b);},error:E.error});},Z);}function Y(m,u){r(E,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:m,writable:!1,enumerable:!1,configurable:!1},_signature:{value:u,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;r(E,function(){B?Y(B.encoding,B.signature):C.encrypt(Wa(x,"utf-8"),{result:function(g){A(g);},error:E.error});},Z);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof Y?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});rd.ACTION=oc.ACTION;sa=function(m,v,u,x,C){r(C,function(){var B,A,E,Z,N,V,ea;B=m.getMslStore().getCryptoContext(v);A=B?B:new lb(m,v);B=Ya(u,"utf-8");E=new DOMParser().parseFromString(B,"application/xml");B=E.getElementsByTagName("action");Z=E.getElementsByTagName("nonce");E=E.getElementsByTagName("pin");N=B&&1==B.length&&B[0].firstChild?B[0].firstChild.nodeValue:null;V=Z&&1==Z.length&&Z[0].firstChild?parseInt(Z[0].firstChild.nodeValue):null;ea=E&&1==E.length&&E[0].firstChild?E[0].firstChild.nodeValue:null;if(!N||!V||!ea)throw new ia(g.XML_PARSE_ERROR,"MDX authdata "+pa(u));B="action="+K(N)+"&nonce="+K(V.toString())+"&pin="+K(ea);A.verify(Wa(B,"utf-8"),x,{result:function(m){r(C,function(){var v;if(!m)throw new S(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(u));v=wa(ea);A.decrypt(v,{result:function(d){r(C,function(){var b;b=Ya(d,"utf-8");new Y(N,V,b,null,{encoding:u,signature:x},C);});},error:C.error});});},error:C.error});});};ec=Hb.extend({init:function V(g,m,r,u,x,C){var B,K,E,Y,Z,ea;V.base.call(this,db.MDX);B=null;K=null;E=null;if("string"===typeof r)g=v.MSL_LEGACY,E=r;else if(r instanceof Uint8Array)g=v.NTBA,K=r;else if(r instanceof kb)g=v.MSL,B=r;else throw new TypeError("Controller token "+r+" is not a master token, encrypted CTicket, or MSL token construct.");Y=r=null;Z=null;if(C){ea=C.controllerAuthData;r=ea.getAction();Y=ea.getPin();C=C.userIdToken;ea instanceof N?Z=ea.getUserIdToken().customer:C&&(Z=C.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:r,writable:!1,configurable:!1},targetPin:{value:m,writable:!1,configurable:!1},controllerPin:{value:Y,writable:!1,configurable:!1},customer:{value:Z,writable:!1,configurable:!1},_masterToken:{value:B,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:K,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:E,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:u,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,m;g={};switch(this.mechanism){case v.MSL:m=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=m;break;case v.NTBA:m=Ya(this._encryptedCTicket,"utf-8");g.cticket=m;break;case v.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new fa("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=pa(this._controllerEncoding);g.signature=pa(this._signature);return g;},equals:function ya(g){return this===g?!0:g instanceof ec?ya.base.call(this,g)&&(this._masterToken==g._masterToken||this._masterToken&&this._masterToken.equals(g._masterToken))&&(this._encryptedCTicket==g._encryptedCTicket||this._encryptedCTicket&&ab(this._encryptedCTicket,g._encryptedCTicket))&&this._mslTokens==g._mslTokens&&ab(this._controllerEncoding,g._controllerEncoding)&&ab(this._signature,g._signature):!1;}});ue=function(m,v,u){function x(x,C,B,K){Tb(m,C,{result:function(C){r(u,function(){if(!C.isDecrypted())throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());Z(m,C,B,K,{result:function(g){r(u,function(){var d,b;d=g.getEncoding();b=g.getSignature();return new ec(m,x,C,d,b,{controllerAuthData:g,userIdToken:null});});},error:u.error});});},error:function(m){r(u,function(){if(m instanceof E)throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),m);throw m;});}});}function C(m,v,x,C){r(u,function(){throw new Da(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function B(x,C,B,K){function Y(d,b){r(b,function(){var a,c;try{a=wa(d);}catch(l){throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);}if(!a||0==a.length)throw new Da(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{c=JSON.parse(Ya(a,"utf-8"));Tb(m,c,{result:function(a){r(b,function(){if(!a.isDecrypted())throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){r(b,function(){if(a instanceof E)throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(l){if(l instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),l);throw l;}});}function Z(d,b,a){r(a,function(){var c,l;try{c=wa(d);}catch(q){throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),q);}if(!c||0==c.length)throw new Da(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{l=JSON.parse(Ya(c,"utf-8"));Ub(m,l,b,{result:function(b){r(a,function(){if(!b.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){r(a,function(){if(b instanceof E)throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(q){if(q instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),q);throw q;}});}r(u,function(){var d;d=C.split(",");if(3!=d.length||"1"!=d[0])throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));Y(d[1],{result:function(b){Z(d[2],b,{result:function(a){sa(m,b,B,K,{result:function(b){r(u,function(){return new ec(m,x,C,B,K,{controllerAuthData:b,userIdToken:a});});},error:function(a){r(u,function(){if(a instanceof Rb)throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:u.error});},error:u.error});});}r(u,function(){var m,r,u,K,E;m=v.pin;r=v.mdxauthdata;u=v.signature;if(!m||"string"!==typeof m||!r||"string"!==typeof r||!u||"string"!==typeof u)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{K=wa(r);E=wa(u);}catch(Kb){throw new Da(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Kb);}if(v.mastertoken){r=v.mastertoken;if(!r||"object"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));x(m,r,K,E);}else if(v.cticket){r=v.cticket;if(!r||"string"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==r.indexOf(",")?C(m,r,K,E):B(m,r,K,E);}else throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var m,r,u;m=qd.ACTION;r=oc.ACTION;u=rd.ACTION;ve=mc.extend({init:function C(){C.base.call(this,db.MDX);},createData:function(g,m,r,u){ue(g,r,u);},authenticate:function(x,B,K,E){if(!(K instanceof ec))throw new fa("Incorrect authentication data type "+K.getClass().getName()+".");x=K.action;switch(K.mechanism){case Kc.MSL:if(m!=x)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);break;case Kc.NTBA:if(r!=x)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);break;case Kc.MSL_LEGACY:if(u!=x)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);}x=K.controllerPin;B=K.targetPin;if(!x||!B)throw new Da(g.MDX_PIN_BLANK).setUser(K);if(x!=B)throw new Da(g.MDX_PIN_MISMATCH).setUser(K);x=K.customer;if(!x)throw new Da(g.MDX_USER_UNKNOWN).setUser(K);if(E&&(E=E.customer,!x.equals(E)))throw new Da(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+x+"; uit customer "+E).setUser(K);return x;}});}());(function(){var m,r,u;m={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};r=xe=ma.Class.create({init:function(g,m){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:m,writable:!1,enumerable:!0,configurable:!1}});}});u=ye=ma.Class.create({init:function(g,m){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:m,writable:!1,enumerable:!0,configurable:!1}});}});pc=Hb.extend({init:function C(g,m,x,B){var K,E,A,Z;C.base.call(this,db.SSO);K=null;E=null;A=null;Z=null;x instanceof r?(K=x.email,E=x.password):x instanceof u&&(A=x.netflixId,Z=x.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:m,writable:!1,configurable:!1},email:{value:K,writable:!1,configurable:!1},password:{value:E,writable:!1,configurable:!1},netflixId:{value:A,writable:!1,configurable:!1},secureNetflixId:{value:Z,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof B?null:B,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=pa(this.token);this.email&&this.password?(g.email=this.email,g.password=this.password):this.netflixId&&this.secureNetflixId&&(g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid&&(g.profileguid=this.profileGuid);return g;},equals:function Ba(g){return this===g?!0:g instanceof pc?Ba.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.token,g.token)&&this.email==g.email&&this.password==g.password&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId&&this.profileGuid==g.profileGuid:!1;}});we=function(x){var B,K,E,Y,N,A,V,S,ea;B=x.mechanism;K=x.token;if(!B||!K||"string"!==typeof K)throw new ia(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));if(!m[B])throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(x));E=x.email;Y=x.password;N=x.netflixid;A=x.securenetflixid;V=x.profileguid;if(E&&!Y||!E&&Y||N&&!A||!N&&A||E&&N)throw new ia(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));try{S=wa(K);}catch(ca){throw new Da(g.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(x),ca);}E&&Y?ea=new r(E,Y):N&&A&&(ea=new u(N,A));return new pc(B,S,ea,V);};}());Ze=mc.extend({init:function B(){B.base.call(this,db.SSO);},createData:function(g,m,v,u){r(u,function(){return we(v);});},authenticate:function(m,r,v,u){var C,B;if(!(v instanceof pc))throw new fa("Incorrect authentication data type "+v+".");m=v.token;r=v.email;u=v.password;C=v.netflixId;B=v.secureNetflixId;if(!m||0==m.length)throw new Da(g.SSOTOKEN_BLANK);if(!(null===r&&null===u||r&&u))throw new Da(g.EMAILPASSWORD_BLANK);if(!(null===C&&null===B||C&&B))throw new Da(g.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){qc=Hb.extend({init:function K(g,m){K.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:m,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function v(g){return this==g?!0:g instanceof qc?v.base.call(this,g)&&this.userIdToken.equals(g.userIdToken)&&this.profileGuid==g.profileGuid:!1;}});ze=function(m,u,E,N){r(N,function(){var v,C;if(!u)throw new Da(g.USERAUTH_MASTERTOKEN_MISSING);v=E.useridtoken;C=E.profileguid;if("object"!==typeof v||"string"!==typeof C)throw new ia(g.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(E));Ub(m,v,u,{result:function(m){r(N,function(){if(!m.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(E));return new qc(m,C);});},error:function(m){N.error(new Da(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(E),m));}});});};}());$e=mc.extend({init:function K(g){K.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,m,r,u){ze(g,m,r,u);},authenticate:function(m,r,u,E){if(!(u instanceof qc))throw new fa("Incorrect authentication data type "+u+".");r=u.userIdToken;m=u.profileGuid;if(!m)throw new Da(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(u);r=r.user;if(!r)throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(u);m=this._store.switchUsers(r,m);if(!m)throw new Da(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(u);if(E&&(E=E.user,!m.equals(E)))throw new Da(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+m+"; uit user "+E).setUserAuthenticationData(u);return m;}});Object.freeze({ENTITY_REAUTH:m.ENTITY_REAUTH,ENTITYDATA_REAUTH:m.ENTITYDATA_REAUTH});af=ma.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,m){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ae=ma.Class.create({setCryptoContext:function(g,m){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,m){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,m){},removeServiceTokens:function(g,m,r){},clearServiceTokens:function(){}});(function(){var m;m=Pb;od=function(r,u){var v;v={};switch(r){case m.LZW:return Cd(u,v);case m.GZIP:return gzip$compress(u);default:throw new E(g.UNSUPPORTED_COMPRESSION,r);}};Hc=function(r,u,K){switch(r){case m.LZW:return Dd(u);case m.GZIP:return gzip$uncompress(u);default:throw new E(g.UNSUPPORTED_COMPRESSION,r.name());}};}());Ae.extend({setCryptoContext:function(g,m){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,m){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(m,r){if(r){if(!m)throw new E(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!r.isBoundTo(m))throw new E(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+m.serialNumber);}return[];},removeServiceTokens:function(m,r,u){if(u&&r&&!u.isBoundTo(r))throw new E(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+u.masterTokenSerialNumber+"; mt "+r.serialNumber);},clearServiceTokens:function(){}});(function(){Be=Ae.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,m){var r;if(m){r=g.uniqueKey();this.masterTokens[r]=g;this.cryptoContexts[r]=m;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,m,r;g=null;for(m in this.masterTokens){r=this.masterTokens[m];if(!g||r.isNewerThan(g))g=r;}return g;},getNonReplayableId:function(g){var m;g=g.serialNumber;m=this.nonReplayableIds[g]!==ja?this.nonReplayableIds[g]:0;if(0>m||m>Na)throw new fa("Non-replayable ID "+m+" is outside the valid range.");m=m==Na?0:m+1;return this.nonReplayableIds[g]=m;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var m,r;m=g.uniqueKey();if(this.masterTokens[m]){delete this.masterTokens[m];delete this.cryptoContexts[m];m=g.serialNumber;for(r in this.masterTokens)if(this.masterTokens[r].serialNumber==m)return;delete this.nonReplayableIds[m];Object.keys(this.userIdTokens).forEach(function(m){m=this.userIdTokens[m];m.isBoundTo(g)&&this.removeUserIdToken(m);},this);try{this.removeServiceTokens(null,g,null);}catch(Z){if(Z instanceof E)throw new fa("Unexpected exception while removing master token bound service tokens.",Z);throw Z;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var m in g)delete g[m];},this);},addUserIdToken:function(m,r){var u,v;u=!1;for(v in this.masterTokens)if(r.isBoundTo(this.masterTokens[v])){u=!0;break;}if(!u)throw new E(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+r.mtSerialNumber);this.userIdTokens[m]=r;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var m,r,u;m=null;for(r in this.masterTokens){u=this.masterTokens[r];if(g.isBoundTo(u)){m=u;break;}}Object.keys(this.userIdTokens).forEach(function(r){if(this.userIdTokens[r].equals(g)){delete this.userIdTokens[r];try{this.removeServiceTokens(null,m,g);}catch(xa){if(xa instanceof E)throw new fa("Unexpected exception while removing user ID token bound service tokens.",xa);throw xa;}}},this);},clearUserIdTokens:function(){var m;for(var g in this.userIdTokens){m=this.userIdTokens[g];try{this.removeServiceTokens(null,null,m);}catch(Ba){if(Ba instanceof E)throw new fa("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[g];}},addServiceTokens:function(m){m.forEach(function(m){var r,u,v;if(m.isUnbound())this.unboundServiceTokens[m.uniqueKey()]=m;else{if(m.isMasterTokenBound()){r=!1;for(u in this.masterTokens)if(m.isBoundTo(this.masterTokens[u])){r=!0;break;}if(!r)throw new E(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+m.mtSerialNumber);}if(m.isUserIdTokenBound()){r=!1;for(v in this.userIdTokens)if(m.isBoundTo(this.userIdTokens[v])){r=!0;break;}if(!r)throw new E(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+m.uitSerialNumber);}m.isMasterTokenBound()&&((v=this.mtServiceTokens[m.mtSerialNumber])||(v={}),v[m.uniqueKey()]=m,this.mtServiceTokens[m.mtSerialNumber]=v);m.isUserIdTokenBound()&&((v=this.uitServiceTokens[m.uitSerialNumber])||(v={}),v[m.uniqueKey()]=m,this.uitServiceTokens[m.uitSerialNumber]=v);}},this);},getServiceTokens:function(m,r){var u,v,C,N;if(r){if(!m)throw new E(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!r.isBoundTo(m))throw new E(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+m.serialNumber);}u={};for(v in this.unboundServiceTokens){C=this.unboundServiceTokens[v];u[C.uniqueKey()]=C;}if(m&&(C=this.mtServiceTokens[m.serialNumber]))for(v in C){N=C[v];N.isUserIdTokenBound()||(u[v]=N);}if(r&&(C=this.uitServiceTokens[r.serialNumber]))for(v in C)N=C[v],N.isBoundTo(m)&&(u[v]=N);C=[];for(v in u)C.push(u[v]);return C;},removeServiceTokens:function(m,r,u){var C,N,sa;if(u&&r&&!u.isBoundTo(r))throw new E(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+u.mtSerialNumber+"; mt "+r.serialNumber);if(m&&!r&&!u){Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name==m&&delete this.unboundServiceTokens[g];},this);for(var v in this.mtServiceTokens){C=this.mtServiceTokens[v];N=Object.keys(C);N.forEach(function(g){C[g].name==m&&delete C[g];},this);this.mtServiceTokens[v]=C;}for(var Y in this.uitServiceTokens)C=this.uitServiceTokens[Y],v=Object.keys(C),v.forEach(function(g){C[g].name==m&&delete C[g];},this),this.uitServiceTokens[Y]=C;}if(r&&!u){if(C=this.mtServiceTokens[r.serialNumber])N=Object.keys(C),N.forEach(function(g){var r;r=C[g];m&&r.name!=m||delete C[g];},this),this.mtServiceTokens[r.serialNumber]=C;for(Y in this.uitServiceTokens){sa=this.uitServiceTokens[Y];v=Object.keys(sa);v.forEach(function(g){var u;u=sa[g];m&&u.name!=m||u.isBoundTo(r)&&delete sa[g];},this);this.uitServiceTokens[Y]=sa;}}u&&(C=this.uitServiceTokens[u.serialNumber])&&(v=Object.keys(C),v.forEach(function(g){var u;u=C[g];m&&u.name!=m||r&&!u.isBoundTo(r)||delete C[g];},this),this.uitServiceTokens[u.serialNumber]=C);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var m in g)delete g[m];},this);}});}());Ke=Ue.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,m){var r;if(m&&g&&g.length){r=pa(g);this._contextMap[r]=m;}},getCryptoContext:function(g){return g&&g.length?(g=pa(g),this._contextMap[g]||null):null;},removeCryptoContext:function(g){g&&g.length&&(g=pa(g),delete this._contextMap[g]);}});Ce=Ne.extend({init:function C(g,m,r,u){C.base.call(this,g);Object.defineProperties(this,{_kde:{value:m,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:r,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(m,r){if(!(r instanceof pb))throw new fa("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new yb(g.ENTITY_NOT_FOUND,"mgk "+r.identity);return new Ac(m,this.localIdentity,this._kde,this._kdh,this._kdw);}});bf=Nd.extend({init:function Ba(g,m,r,u){Ba.base.call(this,g);Object.defineProperties(this,{_kpe:{value:m,writable:!1,enumerable:!1,configurable:!1},_kph:{value:r,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(m,r){if(!(r instanceof ub))throw new fa("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new yb(g.ENTITY_NOT_FOUND,"psk "+r.identity);return new Ac(m,this.localIdentity,this._kpe,this._kph,this._kpw);}});df=Be.extend({init:function Z(g,m,r,u,A,E){Z.base.call(this);this._log=g;this._esn=m;this._keyRequestData=r;this._createKeyRequestData=u;this._systemKeyName=A;this._systemKeyWrapFormat=E;},setCryptoContext:function Ca(g,m,r){var u;u=this;u._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});Ca.base.call(this,g,m);!r&&(g=u._createKeyRequestData)&&(u._log.trace("Generating new keyx request data"),g().then(function(g){u._keyRequestData=g;},function(g){u._log.error("Unable to generate new keyx request data",""+g);}));},addUserIdToken:function xa(g,m){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:m.serialNumber,MTSerialNumber:m.mtSerialNumber,Expiration:m.expiration.getTime()});xa.base.call(this,g,m);},addServiceTokens:function Y(g){Y.base.call(this,g.filter(function(g){return!cf[g.name];}));},getUserIdTokenKeys:function(){var g,m;g=[];for(m in this.userIdTokens)g.push(m);return g;},rekeyUserIdToken:function(g,m){this.userIdTokens[g]&&(this.userIdTokens[m]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var m;m=this;r(g,function(){var u;u=m.getMasterToken();u?m.getKeysForStore(u,{result:function(A){r(g,function(){var g,r,E;g=m.userIdTokens;r=Object.keys(g).map(function(r){var A;A=g[r];return{userId:r,userIdTokenJSON:g[r].toJSON(),serviceTokenJSONList:m.getServiceTokens(u,A).map(He)};});A.esn=m._esn;A.masterTokenJSON=u.toJSON();A.userList=r;E=m._keyRequestData.storeData;E&&Object.keys(E).forEach(function(g){A[g]=E[g];});return A;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(m,u){var A;A=this;r(u,function(){var r;r=A.getCryptoContext(m);r={encryptionKey:r.encryptionKey,hmacKey:r.hmacKey};if(r.encryptionKey&&r.hmacKey)if(A._systemKeyWrapFormat)A.wrapKeysWithSystemKey(r,u);else return r;else throw new E(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(m,u){var A;A=this;wd(this._systemKeyName,{result:function(N){r(u,function(){var r,Y,V,S;r=m.encryptionKey;Y=m.hmacKey;V=r[fc];S=Y[fc];if(V&&S)return{wrappedEncryptionKey:V,wrappedHmacKey:S};Promise.resolve().then(function(){return Promise.all([Ka.wrapKey(A._systemKeyWrapFormat,r,N,N.algorithm),Ka.wrapKey(A._systemKeyWrapFormat,Y,N,N.algorithm)]);}).then(function(g){V=pa(g[0]);r[fc]=V;S=pa(g[1]);Y[fc]=S;u.result({wrappedEncryptionKey:V,wrappedHmacKey:S});})["catch"](function(m){u.error(new E(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",m));});});},timeout:u.timeout,error:u.error});},unwrapKeysWithSystemKey:function(m,u){var A;A=this;wd(this._systemKeyName,{result:function(N){r(u,function(){var r,Y;r=wa(m.wrappedEncryptionKey);Y=wa(m.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ka.unwrapKey(A._systemKeyWrapFormat,r,N,N.algorithm,sb,!1,Ib),Ka.unwrapKey(A._systemKeyWrapFormat,Y,N,N.algorithm,tb,!1,Sb)]);}).then(function(g){var r;r=g[0];g=g[1];r[fc]=m.wrappedEncryptionKey;g[fc]=m.wrappedHmacKey;u.result({encryptionKey:r,hmacKey:g});})["catch"](function(m){u.error(new E(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",m));});});},timeout:u.timeout,error:u.error});},loadStoreState:function(g,m,r,u){var N,Y;function A(g,u){var A;try{A=r.userList.slice();}catch(xb){}A?function Gb(){var r;r=A.shift();r?Ub(m,r.userIdTokenJSON,g,{result:function(m){try{N.addUserIdToken(r.userId,m);E(g,m,r.serviceTokenJSONList,{result:Gb,timeout:Gb,error:Gb});}catch(Kb){Gb();}},timeout:Gb,error:Gb}):u.result();}():u.result();}function E(g,r,u,A){var E,Y;try{E=u.slice();}catch(na){}if(E){Y=N.getCryptoContext(g);(function Kb(){var d;d=E.shift();d?Gc(m,d,g,r,Y,{result:function(b){N.addServiceTokens([b]);Kb();},timeout:function(){Kb();},error:function(){Kb();}}):A.result();}());}else A.result();}N=this;Y=N._log;r.esn!=N._esn?(Y.error("Esn mismatch, starting fresh"),u.error()):function(u){var V,ea,S,ca;function A(){var r;if(!V&&ea&&S&&ca){V=!0;r=new lb(m,ea,g.esn,{rawKey:S},{rawKey:ca});N.setCryptoContext(ea,r,!0);u.result(ea);}}function E(g,d){Y.error(g,d&&""+d);V||(V=!0,u.error());}r.masterTokenJSON?(Tb(m,r.masterTokenJSON,{result:function(g){ea=g;A();},timeout:function(){E("Timeout parsing MasterToken");},error:function(g){E("Error parsing MasterToken",g);}}),N._systemKeyWrapFormat?N.unwrapKeysWithSystemKey(r,{result:function(g){S=g.encryptionKey;ca=g.hmacKey;A();},timeout:function(){E("Timeout unwrapping keys");},error:function(g){E("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Ka.encrypt({name:sb.name,iv:new Uint8Array(16)},r.encryptionKey,new Uint8Array(1));}).then(function(g){S=r.encryptionKey;})["catch"](function(g){E("Error loading encryptionKey");}).then(function(){return Ka.sign(tb,r.hmacKey,new Uint8Array(1));}).then(function(g){ca=r.hmacKey;A();})["catch"](function(g){E("Error loading hmacKey");})):E("Persisted store is corrupt");}({result:function(g){A(g,u);},timeout:u.timeout,error:u.error});}});cf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fc="$netflix$msl$wrapsys";ef=af.extend({init:function(g,m,r,u,E,N){var A,Y;A=new kc([Pb.LZW]);Y=new Pe();Y.addPublicKey(m,r);u[Sa.RSA]=new Oe(Y);m={};m[db.EMAIL_PASSWORD]=new Ye();m[db.NETFLIXID]=new Xe();m[db.MDX]=new ve();m[db.SSO]=new Ze();m[db.SWITCH_PROFILE]=new $e();g={_mslCryptoContext:{value:new Me(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:A,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:E,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:u,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:m,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:N,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Hd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,m){m.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(m){return m.scheme==g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});yd=pe.extend({init:function(g,m,r,u){this._log=g;this._mslContext=m;this._mslRequest=r;this._keyRequestData=u;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(g,m,u,E){var A,N;A=this._mslRequest;N=this._mslContext;r(E,function(){var m,r;if(g||!A.shouldSendUserAuthData)return null;if(A.token){A.email?m=new xe(A.email,A.password):A.netflixId&&(m=new ye(A.netflixId,A.secureNetflixId));r="undefined"===typeof A.profileGuid?null:A.profileGuid;return new pc(A.mechanism,Wa(A.token),m,r);}return A.email?new nc(A.email,A.password):A.netflixId?new Xb(A.netflixId,A.secureNetflixId):A.mdxControllerToken?(m=new oc("regpairrequest",A.mdxNonce,A.mdxEncryptedPinB64,A.mdxSignature).getEncoding(),new ec(N,A.mdxPin,A.mdxControllerToken,m,A.mdxSignature)):A.useNetflixUserAuthData?new Xb():A.profileGuid?(m=A.userId,m=N.getMslStore().userIdTokens[m],new qc(m,A.profileGuid)):u&&A.sendUserAuthIfRequired?new Xb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,m,r){var u,A,E,N,Y,S;u=this._log;A=(this._mslRequest.serviceTokens||[]).slice();E=this._mslContext;m=E.getMslStore();N=g.builder.getMasterToken();Y=this.getUserId();S=m.getUserIdToken(Y);(function ha(){var m;m=A.shift();if(m)try{m instanceof Lb?(g.addPrimaryServiceToken(m),ha()):Gc(E,m,N,S,null,{result:function(m){try{g.addPrimaryServiceToken(m);}catch(hd){u.warn("Exception adding service token",""+hd);}ha();},timeout:function(){u.warn("Timeout parsing service token");ha();},error:function(g){u.warn("Error parsing service token",""+g);ha();}});}catch(Gb){u.warn("Exception processing service token",""+Gb);ha();}else r.result(!0);}());},write:function(g,m,r){var u;u=Wa(this._mslRequest.body);g.write(u,0,u.length,m,{result:function(A){A!=u.length?r.error(new Za("Not all data was written to output.")):g.flush(m,{result:function(){r.result(!0);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},getDebugContext:function(){this._dc||(this._dc=new ff(this._log,this._mslRequest));return this._dc;}});ff=We.extend({init:function(g,m){this._log=g;this._mslRequest=m;},sentHeader:function(g){this._log.trace("Sent MSL header",xd(this._mslRequest,g),g.serviceTokens&&g.serviceTokens.map(Ie).join("\n"));},receivedHeader:function(g){var m,r;m=xd(this._mslRequest,g);r=g.errorCode;r?this._log.warn("Received MSL error header",m,{errorCode:r,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",m);}});De={PSK:function(g){return Rc(g,Sa.PSK,bf,ub,id,Ec);},MGK:function(g){return Rc(g,Sa.MGK,Ce,pb,id,Ec);},MGK_WITH_FALLBACK:function(m){var r,u;switch(m.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":case"GOOGEST001":case"GOOGNEW001":r="PSK";break;default:r="MGK";}u=De[r];if(!u)throw new E(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+r);return u(m);},MGK_JWE:function(g){return Rc(g,Sa.MGK,Ce,pb,Td,gd);},JWK_RSA:function(g){return Sc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Fc.JWK_RSA);},JWK_RSAES:function(g){return Sc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Fc.JWK_RSAES);},JWEJS_RSA:function(g){return Sc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Fc.JWEJS_RSA);}};N.netflix=N.netflix||{};N.netflix.msl={createMslClient:function(m,r){var u,N,Y,ea,S;u=m.log;S=m.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Va&&Va.generateKey&&Va.importKey&&Va.unwrapKey))throw new E(g.INTERNAL_EXCEPTION,"No WebCrypto");eb=Va.generateKey({name:"AES-CBC",length:128},!0,Ib).then?vc.V2014_02:vc.LEGACY;S("mslisik");return Ka.importKey("spki",m.serverIdentityKeyData,Id,!1,["verify"]);}).then(function(m){return new Promise(function(r,u){Ob(m,{result:r,error:function(){u(new E(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(r){N=r;if(r=De[m.authenticationType])return S("mslcc"),r(m);throw new E(g.INTERNAL_EXCEPTION,"Invalid authenticationType: "+m.authenticationType);}).then(function(g){var r;Y=new df(u,m.esn,g.keyRequestData,g.createKeyRequestData,m.authenticationKeyNames.s,m.systemKeyWrapFormat);ea=new ef(Y,m.serverIdentityId,N,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);r=m.storeState;if(r)return S("mslss"),u.info("Loading store state"),new Promise(function(g,u){Y.loadStoreState(m,ea,r,{result:g,timeout:g,error:g});});u.info("No store state, starting fresh");}).then(function(){var g;g=new qe();S("msldone");r.result(new Je(u,g,ea,Y,m.ErrorSubCodes));})["catch"](function(g){r.error(g);});},IHttpLocation:Se,MslIoException:Za};(function(){var wa,na,Da;function g(){g=function(){};na.Symbol||(na.Symbol=m);}function m(d){return"jscomp_symbol_"+(d||"")+Da++;}function r(){var d;g();d=na.Symbol.iterator;d||(d=na.Symbol.iterator=na.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&wa(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return u(this);}});r=function(){};}function u(d){var b;b=0;return E(function(){return b<d.length?{done:!1,value:d[b++]}:{done:!0};});}function E(d){r();d={next:d};d[na.Symbol.iterator]=function(){return this;};return d;}function S(d){var b;r();g();r();b=d[Symbol.iterator];return b?b.call(d):u(d);}function ca(d,b){var l;function a(){}a.prototype=b.prototype;d.prototype=new a();d.prototype.constructor=d;for(var c in b)if(Object.defineProperties){l=Object.getOwnPropertyDescriptor(b,c);l&&Object.defineProperty(d,c,l);}else d[c]=b[c];}function fa(d){if(!(d instanceof Array)){d=S(d);for(var b,a=[];!(b=d.next()).done;)a.push(b.value);d=a;}return d;}function ia(d,b){var a,l;if(b){a=na;d=d.split(".");for(var c=0;c<d.length-1;c++){l=d[c];l in a||(a[l]={});a=a[l];}d=d[d.length-1];c=a[d];b=b(c);b!=c&&null!=b&&wa(a,d,{configurable:!0,writable:!0,value:b});}}function ja(d,b){return Object.prototype.hasOwnProperty.call(d,b);}function ha(d,b){var a,c;r();d instanceof String&&(d+="");a=0;c={next:function(){var l;if(a<d.length){l=a++;return{value:b(l,d[l]),done:!1};}c.next=function(){return{done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function ma(d,b,a){if(null==d)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return d+"";}function pa(d,b,a){var q;d instanceof String&&(d=String(d));for(var c=d.length,l=0;l<c;l++){q=d[l];if(b.call(a,q,l,d))return{yj:l,y2:q};}return{yj:-1,y2:void 0};}wa="function"==typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[b]=a.value);};na="undefined"!=typeof N&&N===this?this:"undefined"!=typeof global&&null!=global?global:this;Da=0;ia("Object.setPrototypeOf",function(d){return d?d:"object"!=typeof"".__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b;};});ia("Object.assign",function(d){return d?d:function(b,a){var l;for(var c=1;c<arguments.length;c++){l=arguments[c];if(l)for(var q in l)ja(l,q)&&(b[q]=l[q]);}return b;};});ia("Object.getOwnPropertySymbols",function(d){return d?d:function(){return[];};});ia("Promise",function(d){var c,l;function b(a){var b;this.oQ=0;this.ela=void 0;this.UO=[];b=this.Vba();try{a(b.resolve,b.reject);}catch(k){b.reject(k);}}function a(){this.bx=null;}if(d)return d;a.prototype.ZBa=function(a){null==this.bx&&(this.bx=[],this.i$a());this.bx.push(a);};a.prototype.i$a=function(){var a;a=this;this.$Ba(function(){a.Bib();});};c=na.setTimeout;a.prototype.$Ba=function(a){c(a,0);};a.prototype.Bib=function(){var a,l;for(;this.bx&&this.bx.length;){a=this.bx;this.bx=[];for(var b=0;b<a.length;++b){l=a[b];delete a[b];try{l();}catch(p){this.k$a(p);}}}this.bx=null;};a.prototype.k$a=function(a){this.$Ba(function(){throw a;});};b.prototype.Vba=function(){var b,l;function a(a){return function(h){l||(l=!0,a.call(b,h));};}b=this;l=!1;return{resolve:a(this.qBb),reject:a(this.Lka)};};b.prototype.qBb=function(a){var l;if(a===this)this.Lka(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.EDb(a);else{a:switch(typeof a){case"object":l=null!=a;break a;case"function":l=!0;break a;default:l=!1;}l?this.pBb(a):this.NGa(a);}};b.prototype.pBb=function(a){var b;b=void 0;try{b=a.then;}catch(k){this.Lka(k);return;}"function"==typeof b?this.FDb(b,a):this.NGa(a);};b.prototype.Lka=function(a){this.MRa(2,a);};b.prototype.NGa=function(a){this.MRa(1,a);};b.prototype.MRa=function(a,b){if(0!=this.oQ)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.oQ);this.oQ=a;this.ela=b;this.Cib();};b.prototype.Cib=function(){if(null!=this.UO){for(var a=this.UO,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.UO=null;}};l=new a();b.prototype.EDb=function(a){var b;b=this.Vba();a.gW(b.resolve,b.reject);};b.prototype.FDb=function(a,b){var l;l=this.Vba();try{a.call(b,l.resolve,l.reject);}catch(p){l.reject(p);}};b.prototype.then=function(a,l){var c,h,f;function k(a,b){return"function"==typeof a?function(b){try{c(a(b));}catch(D){h(D);}}:b;}f=new b(function(a,b){c=a;h=b;});this.gW(k(a,c),k(l,h));return f;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.gW=function(a,b){var c;function k(){switch(c.oQ){case 1:a(c.ela);break;case 2:b(c.ela);break;default:throw Error("Unexpected state: "+c.oQ);}}c=this;null==this.UO?l.ZBa(k):this.UO.push(function(){l.ZBa(k);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,l){l(a);});};b.race=function(a){return new b(function(l,k){for(var c=S(a),h=c.next();!h.done;h=c.next())b.resolve(h.value).gW(l,k);});};b.all=function(a){var l,k;l=S(a);k=l.next();return k.done?b.resolve([]):new b(function(a,h){var c,p;function f(b){return function(f){c[b]=f;p--;0==p&&a(c);};}c=[];p=0;do c.push(void 0),p++,b.resolve(k.value).gW(f(c.length-1),h),k=l.next();while(!k.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});ia("Array.prototype.keys",function(d){return d?d:function(){return ha(this,function(b){return b;});};});ia("Math.tanh",function(d){return d?d:function(b){var a;b=Number(b);if(0===b)return b;a=Math.exp(-2*Math.abs(b));a=(1-a)/(1+a);return 0>b?-a:a;};});ia("WeakMap",function(d){var l,q;function b(a){this.IN=(q+=Math.random()+1).toString();if(a){g();r();a=S(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){ja(a,l)||wa(a,l,{value:{}});}function c(b){var l;l=Object[b];l&&(Object[b]=function(b){a(b);return l(b);});}if(function(){var a,b,l;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});l=new d([[a,2],[b,3]]);if(2!=l.get(a)||3!=l.get(b))return!1;l["delete"](a);l.set(b,4);return!l.has(a)&&4==l.get(b);}catch(h){return!1;}}())return d;l="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");q=0;b.prototype.set=function(b,k){a(b);if(!ja(b,l))throw Error("WeakMap key fail: "+b);b[l][this.IN]=k;return this;};b.prototype.get=function(a){return ja(a,l)?a[l][this.IN]:void 0;};b.prototype.has=function(a){return ja(a,l)&&ja(a[l],this.IN);};b.prototype["delete"]=function(a){return ja(a,l)&&ja(a[l],this.IN)?delete a[l][this.IN]:!1;};return b;});ia("Map",function(d){var q,n;function b(){var a;a={};return a.xv=a.next=a.head=a;}function a(a,b){var l;l=a.Iu;return E(function(){if(l){for(;l.head!=a.Iu;)l=l.xv;for(;l.next!=l.head;)return l=l.next,{done:!1,value:b(l)};l=null;}return{done:!0,value:void 0};});}function c(a,b){var l,f,k;l=b&&typeof b;"object"==l||"function"==l?q.has(b)?l=q.get(b):(l=""+ ++n,q.set(b,l)):l="p_"+b;f=a.ou[l];if(f&&ja(a.ou,l))for(a=0;a<f.length;a++){k=f[a];if(b!==b&&k.key!==k.key||b===k.key)return{id:l,list:f,index:a,pe:k};}return{id:l,list:f,index:-1,pe:void 0};}function l(a){this.ou={};this.Iu=b();this.size=0;if(a){a=S(a);for(var l;!(l=a.next()).done;)l=l.value,this.set(l[0],l[1]);}}if(function(){var a,b,l,f;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(S([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;l=b.entries();f=l.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=l.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!l.next().done?!1:!0;}catch(t){return!1;}}())return d;g();r();q=new WeakMap();l.prototype.set=function(a,b){var l;l=c(this,a);l.list||(l.list=this.ou[l.id]=[]);l.pe?l.pe.value=b:(l.pe={next:this.Iu,xv:this.Iu.xv,head:this.Iu,key:a,value:b},l.list.push(l.pe),this.Iu.xv.next=l.pe,this.Iu.xv=l.pe,this.size++);return this;};l.prototype["delete"]=function(a){a=c(this,a);return a.pe&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.ou[a.id],a.pe.xv.next=a.pe.next,a.pe.next.xv=a.pe.xv,a.pe.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.ou={};this.Iu=this.Iu.xv=b();this.size=0;};l.prototype.has=function(a){return!!c(this,a).pe;};l.prototype.get=function(a){return(a=c(this,a).pe)&&a.value;};l.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};l.prototype.keys=function(){return a(this,function(a){return a.key;});};l.prototype.values=function(){return a(this,function(a){return a.value;});};l.prototype.forEach=function(a,b){for(var l=this.entries(),f;!(f=l.next()).done;)f=f.value,a.call(b,f[1],f[0],this);};l.prototype[Symbol.iterator]=l.prototype.entries;n=0;return l;});ia("Set",function(d){function b(a){this.pm=new Map();if(a){a=S(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.pm.size;}if(function(){var a,b,l,q;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(S([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;l=b.entries();q=l.next();if(q.done||q.value[0]!=a||q.value[1]!=a)return!1;q=l.next();return q.done||q.value[0]==a||4!=q.value[0].x||q.value[1]!=q.value[0]?!1:l.next().done;}catch(n){return!1;}}())return d;g();r();b.prototype.add=function(a){this.pm.set(a,a);this.size=this.pm.size;return this;};b.prototype["delete"]=function(a){a=this.pm["delete"](a);this.size=this.pm.size;return a;};b.prototype.clear=function(){this.pm.clear();this.size=0;};b.prototype.has=function(a){return this.pm.has(a);};b.prototype.entries=function(){return this.pm.entries();};b.prototype.values=function(){return this.pm.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var l;l=this;this.pm.forEach(function(c){return a.call(b,c,c,l);});};return b;});ia("Number.isNaN",function(d){return d?d:function(b){return"number"===typeof b&&isNaN(b);};});ia("String.prototype.includes",function(d){return d?d:function(b,a){return-1!==ma(this,b,"includes").indexOf(b,a||0);};});ia("Array.prototype.find",function(d){return d?d:function(b,a){return pa(this,b,a).y2;};});ia("Array.prototype.entries",function(d){return d?d:function(){return ha(this,function(b,a){return[b,a];});};});ia("Array.prototype.values",function(d){return d?d:function(){return ha(this,function(b,a){return a;});};});ia("WeakSet",function(d){function b(a){this.pm=new WeakMap();if(a){g();r();a=S(a);for(var b;!(b=a.next()).done;)this.add(b.value);}}if(function(){var a,b,l;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});l=new d([a]);if(!l.has(a)||l.has(b))return!1;l["delete"](a);l.add(b);return!l.has(a)&&l.has(b);}catch(q){return!1;}}())return d;b.prototype.add=function(a){this.pm.set(a,!0);return this;};b.prototype.has=function(a){return this.pm.has(a);};b.prototype["delete"]=function(a){return this.pm["delete"](a);};return b;});ia("String.prototype.repeat",function(d){return d?d:function(b){var a;a=ma(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;)if(b&1&&(c+=a),b>>>=1)a+=a;return c;};});ia("String.prototype.endsWith",function(d){return d?d:function(b,a){var c;c=ma(this,b,"endsWith");b+="";void 0===a&&(a=c.length);a=Math.max(0,Math.min(a|0,c.length));for(var l=b.length;0<l&&0<a;)if(c[--a]!=b[--l])return!1;return 0>=l;};});ia("Array.prototype.findIndex",function(d){return d?d:function(b,a){return pa(this,b,a).yj;};});ia("String.prototype.startsWith",function(d){return d?d:function(b,a){var c,l,q;c=ma(this,b,"startsWith");b+="";l=c.length;q=b.length;a=Math.max(0,Math.min(a|0,c.length));for(var n=0;n<q&&a<l;)if(c[a++]!=b[n++])return!1;return n>=q;};});ia("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ia("Array.prototype.fill",function(d){return d?d:function(b,a,c){var l;l=this.length||0;0>a&&(a=Math.max(0,l+a));if(null==c||c>l)c=l;c=Number(c);0>c&&(c=Math.max(0,l+c));for(a=Number(a||0);a<c;a++)this[a]=b;return this;};});(function(d){var a;function b(c){var l;if(a[c])return a[c].P;l=a[c]={yj:c,rrb:!1,P:{}};d[c].call(l.P,l,l.P,b);l.rrb=!0;return l.P;}a={};b.zTb=d;b.WQb=a;b.d=function(a,l,q){b.Kvb(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:q});};b.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};b.n=function(a){var l;l=a&&a.$xa?function(){return a["default"];}:function(){return a;};b.d(l,"a",l);return l;};b.Kvb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.eVb=1160);}([function(d,b,a){function c(){c=Object.assign||function(a){for(var b,f=1,l=arguments.length;f<l;f++){b=arguments[f];for(var h in b)Object.prototype.hasOwnProperty.call(b,h)&&(a[h]=b[h]);}return a;};return c.apply(this,arguments);}function l(a,b){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);};return l(a,b);}function q(a,b){function f(){this.constructor=a;}l(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());}function n(a,b){var f,l,h;f={};for(l in a)Object.prototype.hasOwnProperty.call(a,l)&&0>b.indexOf(l)&&(f[l]=a[l]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){h=0;for(l=Object.getOwnPropertySymbols(a);h<l.length;h++)0>b.indexOf(l[h])&&Object.prototype.propertyIsEnumerable.call(a,l[h])&&(f[l[h]]=a[l[h]]);}return f;}function k(a,b,f,l){var h,k,c;h=arguments.length;k=3>h?b:null===l?l=Object.getOwnPropertyDescriptor(b,f):l;if("object"===typeof Reflect&&"function"===typeof Reflect.rx)k=Reflect.rx(a,b,f,l);else for(var p=a.length-1;0<=p;p--)if(c=a[p])k=(3>h?c(k):3<h?c(b,f,k):c(b,f))||k;return 3<h&&k&&Object.defineProperty(b,f,k),k;}function p(a,b){return function(f,l){b(f,l,a);};}function h(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Ad)return Reflect.Ad(a,b);}function f(a,b,f,l){return new(f||(f=Promise))(function(h,k){function c(a){try{t(l.next(a));}catch(va){k(va);}}function p(a){try{t(l["throw"](a));}catch(va){k(va);}}function t(a){a.done?h(a.value):new f(function(b){b(a.value);}).then(c,p);}t((l=l.apply(a,b||[])).next());});}function t(a,b){var h,k,c,p,t;function f(a){return function(b){return l([a,b]);};}function l(f){if(k)throw new TypeError("Generator is already executing.");for(;h;)try{if(k=1,c&&(p=f[0]&2?c["return"]:f[0]?c["throw"]||((p=c["return"])&&p.call(c),0):c.next)&&!(p=p.call(c,f[1])).done)return p;if(c=0,p)f=[f[0]&2,p.value];switch(f[0]){case 0:case 1:p=f;break;case 4:return h.label++,{value:f[1],done:!1};case 5:h.label++;c=f[1];f=[0];continue;case 7:f=h.ZB.pop();h.VC.pop();continue;default:if(!(p=h.VC,p=0<p.length&&p[p.length-1])&&(6===f[0]||2===f[0])){h=0;continue;}if(3===f[0]&&(!p||f[1]>p[0]&&f[1]<p[3]))h.label=f[1];else if(6===f[0]&&h.label<p[1])h.label=p[1],p=f;else if(p&&h.label<p[2])h.label=p[2],h.ZB.push(f);else{p[2]&&h.ZB.pop();h.VC.pop();continue;}}f=b.call(a,h);}catch(va){f=[6,va];c=0;}finally{k=p=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}h={label:0,cI:function(){if(p[0]&1)throw p[1];return p[1];},VC:[],ZB:[]};g();g();r();return t={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(t[Symbol.iterator]=function(){return this;}),t;}function z(a,b){for(var f in a)b.hasOwnProperty(f)||(b[f]=a[f]);}function G(a){var b,f;g();g();r();b="function"===typeof Symbol&&a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function D(a,b){var f,l,h,k;g();g();r();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);h=[];try{for(;(void 0===b||0<b--)&&!(l=a.next()).done;)h.push(l.value);}catch(oa){k={error:oa};}finally{try{l&&!l.done&&(f=a["return"])&&f.call(a);}finally{if(k)throw k.error;}}return h;}function J(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(D(arguments[b]));return a;}function F(){for(var a=0,b=0,f=arguments.length;b<f;b++)a+=arguments[b].length;for(var a=Array(a),l=0,b=0;b<f;b++)for(var h=arguments[b],k=0,c=h.length;k<c;k++,l++)a[l]=h[k];return a;}function L(a){return this instanceof L?(this.y2=a,this):new L(a);}function H(a,b,f){var t,n,q;function l(a){t[a]&&(n[a]=function(b){return new Promise(function(f,l){1<q.push([a,b,f,l])||h(a,b);});});}function h(a,b){var f;try{f=t[a](b);f.value instanceof L?Promise.resolve(f.value.y2).then(k,c):p(q[0][2],f);}catch(la){p(q[0][3],la);}}function k(a){h("next",a);}function c(a){h("throw",a);}function p(a,b){(a(b),q.shift(),q.length)&&h(q[0][0],q[0][1]);}g();if(!Symbol.SV)throw new TypeError("Symbol.asyncIterator is not defined.");t=f.apply(a,b||[]);q=[];g();return n={},l("next"),l("throw"),l("return"),n[Symbol.SV]=function(){return this;},n;}function U(a){var f,l;function b(b,h){f[b]=a[b]?function(f){return(l=!l)?{value:L(a[b](f)),done:"return"===b}:h?h(f):f;}:h;}g();r();return f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f;}function R(a){var l,h;function b(b){h[b]=a[b]&&function(l){return new Promise(function(h,k){l=a[b](l);f(h,k,l.done,l.value);});};}function f(a,b,f,l){Promise.resolve(l).then(function(b){a({value:b,done:f});},b);}g();if(!Symbol.SV)throw new TypeError("Symbol.asyncIterator is not defined.");g();l=a[Symbol.SV];g();r();g();return l?l.call(a):(a="function"===typeof G?G(a):a[Symbol.iterator](),h={},b("next"),b("throw"),b("return"),h[Symbol.SV]=function(){return this;},h);}function m(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function Q(a){var b;if(a&&a.$xa)return a;b={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b["default"]=a;return b;}function y(a){return a&&a.$xa?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return q;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return n;});a.d(b,"__decorate",function(){return k;});a.d(b,"__param",function(){return p;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return f;});a.d(b,"__generator",function(){return t;});a.d(b,"__exportStar",function(){return z;});a.d(b,"__values",function(){return G;});a.d(b,"__read",function(){return D;});a.d(b,"__spread",function(){return J;});a.d(b,"__spreadArrays",function(){return F;});a.d(b,"__await",function(){return L;});a.d(b,"__asyncGenerator",function(){return H;});a.d(b,"__asyncDelegator",function(){return U;});a.d(b,"__asyncValues",function(){return R;});a.d(b,"__makeTemplateObject",function(){return m;});a.d(b,"__importStar",function(){return Q;});a.d(b,"__importDefault",function(){return y;});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(38);b.xMb=d;d=a(1145);b.MR=d.MR;d=a(79);b.xp=d.xp;b.Ai=d.Ai;b.jt=d.jt;d=a(1129);b.toa=d.toa;b.Cc=d.Cc;d=a(1128);b.N=d.N;d=a(1127);b.NSa=d.NSa;d=a(1126);b.HMa=d.HMa;d=a(507);b.l=d.l;b.j5=d.j5;d=a(1125);b.optional=d.optional;d=a(1124);b.Vh=d.Vh;d=a(1123);b.TB=d.TB;d=a(1122);b.GQ=d.GQ;d=a(1121);b.NOa=d.NOa;d=a(509);b.Q5=d.Q5;d=a(101);b.id=d.id;d=a(90);b.rx=d.rx;d=a(504);b.DTa=d.DTa;b.OSa=d.OSa;b.IMa=d.IMa;b.JTa=d.JTa;d=a(141);b.rG=d.rG;a=a(1120);b.EMa=a.EMa;},function(d,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ap=b.k4=b.Oqa=b.j4=b.DYa=b.EYa=b.Nqa=b.Kqa=b.CYa=b.nta=b.MS=b.AS=b.Mqa=b.I=b.J=void 0;(function(a){a[a.Pk=7001]="UNKNOWN";a[a.y2a=7002]="UNHANDLED_EXCEPTION";a[a.EZa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Bra=7010]="INIT_ASYNCCOMPONENT";a[a.Tra=7011]="INIT_HTTP";a[a.AZa=7014]="INIT_BADMOVIEID";a[a.QZa=7016]="INIT_NETFLIXID_MISSING";a[a.PZa=7017]="INIT_NETFLIXID_INVALID";a[a.SZa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.Ura=7020]="INIT_PLAYBACK_LOCK";a[a.Vra=7022]="INIT_SESSION_LOCK";a[a.RZa=7029]="INIT_POSTAUTHORIZE";a[a.hMb=7031]="INIT_HEADER_MEDIA";a[a.MLb=7032]="HEADER_MISSING";a[a.LLb=7033]="HEADER_FRAGMENTS_MISSING";a[a.TZa=7034]="INIT_TIMEDTEXT_TRACK";a[a.iMb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.jMb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.fVa=7037]="ASE_SESSION_ERROR";a[a.eVa=7038]="ASE_SEEK_THREW";a[a.gVa=7039]="ASE_SKIPPED_THREW";a[a.MZa=7041]="INIT_CORE_OBJECTS1";a[a.NZa=7042]="INIT_CORE_OBJECTS2";a[a.OZa=7043]="INIT_CORE_OBJECTS3";a[a.eMb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.ZLb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Lra=7053]="INIT_COMPONENT_STORAGE";a[a.Mra=7054]="INIT_COMPONENT_STORAGELOCK";a[a.$Lb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.aMb=7056]="INIT_COMPONENT_NRDDPI";a[a.cMb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Hra=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.U4=7059]="INIT_COMPONENT_DEVICE";a[a.bMb=7062]="INIT_COMPONENT_NTBA";a[a.Ira=7063]="INIT_COMPONENT_MSL";a[a.CZa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Gra=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.$v=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.dMb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.BZa=7069]="INIT_COMPONENT_ACCOUNT";a[a.GZa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.IZa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.JZa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.KZa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.LZa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.FZa=7081]="INIT_COMPONENT_NRDP";a[a.HZa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.Sra=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.Ora=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.gMb=7085]="INIT_CONGESTION_SERVICE";a[a.Fra=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Nra=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Dra=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Cra=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.fMb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.wD=7091]="INIT_COMPONENT_DRM_CACHE";a[a.DZa=7092]="INIT_COMPONENT_DRM";a[a.Jra=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Era=7094]="INIT_COMPONENT_FTL";a[a.Kra=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Pra=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.Qra=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.Rra=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.rVa=7112]="AUTHORIZE_UNKNOWN";a[a.s_a=7117]="MANIFEST_VERIFY";a[a.V1a=7120]="START";a[a.qz=7121]="LICENSE";a[a.I1a=7122]="SECURESTOP";a[a.iwa=7123]="STOP";a[a.BLb=7124]="FPSAPPDATA";a[a.g5=7125]="KEEPALIVE";a[a.xKb=7126]="DEACTIVATE";a[a.lPb=7127]="SYNC_DEACTIVATE_LINKS";a[a.sJb=7130]="ACTIVATE";a[a.K0a=7131]="PING";a[a.$Mb=7133]="NETFLIXID";a[a.wYa=7134]="ENGAGE";a[a.q_a=7135]="LOGIN";a[a.b2a=7136]="SWITCH_PROFILES";a[a.p_a=7137]="LOGBLOB";a[a.t0a=7138]="PAUSE";a[a.y1a=7139]="RESUME";a[a.fwa=7140]="SPLICE";a[a.KKb=7141]="DOWNLOAD_EVENT";a[a.MVa=7142]="BIND";a[a.s0a=7143]="PAIR";a[a.NVa=7144]="BIND_DEVICE";a[a.NYa=7145]="GENERATE_SCREENSHOTS";a[a.N0a=7202]="PLAY_INIT_EXCEPTION";a[a.wMb=7301]="MEDIA_DOWNLOAD";a[a.MNb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.NNb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.mua=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.T0a=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.nua=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.U0a=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.n6=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.ONb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.pua=7351]="PLAY_MSE_NOTSUPPORTED";a[a.oua=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.lua=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.o6=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.q6=7355]="PLAY_MSE_SOURCEADD";a[a.O0a=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.Y0a=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.TNb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.LNb=7359]="PLAY_MSE_ADDKEY";a[a.WNb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.X0a=7361]="PLAY_MSE_EVENT_ERROR";a[a.p6=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.aT=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.W0a=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.Z0a=7365]="PLAY_MSE_GETCURRENTTIME";a[a.$0a=7367]="PLAY_MSE_SETCURRENTTIME";a[a.a1a=7371]="PLAY_MSE_SOURCEAPPEND";a[a.UNb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.e1a=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.d1a=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.c1a=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.VNb=7379]="PLAY_MSE_SOURCE_EOS";a[a.b1a=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.SNb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.P0a=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.Q0a=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.R0a=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.QNb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.V0a=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.PNb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.RNb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.S0a=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.qua=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.zYa=7400]="EXTERNAL";a[a.$S=7500]="PAUSE_TIMEOUT";a[a.BS=7502]="INACTIVITY_TIMEOUT";a[a.qVa=7510]="AUTHORIZATION_EXPIRED";a[a.zKb=7520]="DECRYPT_AUDIO";a[a.dwa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.J1a=7601]="SECURE_STOP_KEY_ERROR";a[a.QOb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.AOb=7603]="SECURE_STOP_NCCP_ERROR";a[a.BOb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.POb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.FOb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.K1a=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.GOb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.HOb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.KOb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.COb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.IOb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.MOb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.JOb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.EOb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.OOb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.LOb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.DOb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.NOb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.qYa=7700]="EME_INVALID_KEYSYSTEM";a[a.pqa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.b4=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.qqa=7703]="EME_GENERATEREQUEST_FAILED";a[a.XR=7704]="EME_UPDATE_FAILED";a[a.UKb=7705]="EME_KEYSESSION_ERROR";a[a.rYa=7706]="EME_KEYMESSAGE_EMPTY";a[a.uqa=7707]="EME_REMOVE_FAILED";a[a.tYa=7708]="EME_LOAD_FAILED";a[a.nYa=7709]="EME_CREATE_SESSION_FAILED";a[a.WR=7710]="EME_LDL_RENEWAL_ERROR";a[a.rqa=7711]="EME_INVALID_INITDATA_DATA";a[a.sqa=7712]="EME_INVALID_LICENSE_DATA";a[a.sYa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.WKb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.tqa=7715]="EME_INVALID_SECURESTOP_DATA";a[a.mYa=7716]="EME_CLOSE_FAILED";a[a.L0a=7800]="PLAYDATA_STORE_FAILURE";a[a.KNb=7801]="PLAYDATA_SEND_FAILURE";a[a.WI=7900]="BRANCH_PLAY_FAILURE";a[a.eD=7901]="BRANCH_QUEUE_FAILURE";a[a.Aoa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.eNb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.fNb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.z0a=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.m6=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.M0a=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=b.J||(b.J={})));(function(a){a[a.Pk=1001]="UNKNOWN";a[a.Ah=1003]="EXCEPTION";a[a.WZa=1004]="INVALID_DI";a[a.jVa=1011]="ASYNCLOAD_EXCEPTION";a[a.kVa=1013]="ASYNCLOAD_TIMEOUT";a[a.tJb=1015]="ASYNCLOAD_BADCONFIG";a[a.hVa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.iVa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.wJ=1101]="HTTP_UNKNOWN";a[a.P4=1102]="HTTP_XHR";a[a.tJ=1103]="HTTP_PROTOCOL";a[a.sJ=1104]="HTTP_OFFLINE";a[a.vJ=1105]="HTTP_TIMEOUT";a[a.mz=1106]="HTTP_READTIMEOUT";a[a.Zv=1107]="HTTP_ABORT";a[a.L4=1108]="HTTP_PARSE";a[a.lra=1110]="HTTP_BAD_URL";a[a.uJ=1111]="HTTP_PROXY";a[a.Zsa=1203]="MSE_AUDIO";a[a.$sa=1204]="MSE_VIDEO";a[a.H_a=1250]="MSE_MEDIA_ERR_BASE";a[a.BMb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.EMb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.CMb=1253]="MSE_MEDIA_ERR_DECODE";a[a.FMb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.DMb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.nD=1260]="EME_MEDIA_KEYERR_BASE";a[a.bLb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.XKb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.aLb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.$Kb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.ZKb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.YKb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.cLb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.pYa=1280]="EME_ERROR_NODRMSESSSION";a[a.oYa=1281]="EME_ERROR_NODRMREQUESTS";a[a.SKb=1282]="EME_ERROR_INDIV_FAILED";a[a.TKb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.vYa=1284]="EME_TIMEOUT_MESSAGE";a[a.uYa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.d4=1286]="EME_UNDEFINED_DATA";a[a.jJ=1287]="EME_INVALID_STATE";a[a.VKb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.c4=1289]="EME_EMPTY_DATA";a[a.kJ=1290]="EME_TIMEOUT";a[a.UMb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.XMb=1305]="NCCP_PARSEXML";a[a.j1a=1309]="PROCESS_EXCEPTION";a[a.WMb=1311]="NCCP_NETFLIXID_MISSING";a[a.YMb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.RMb=1313]="NCCP_HMAC_MISSING";a[a.QMb=1315]="NCCP_HMAC_MISMATCH";a[a.PMb=1317]="NCCP_HMAC_FAILED";a[a.OMb=1321]="NCCP_CLIENTTIME_MISSING";a[a.NMb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.cra=1331]="GENERIC";a[a.$_a=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.a0a=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.ZMb=1341]="NCCP_TRANSACTION";a[a.SMb=1343]="NCCP_INVALID_DRMTYPE";a[a.TMb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.VMb=1345]="NCCP_MISSING_PAYLOAD";a[a.eOb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.dOb=1347]="PROTOCOL_MISSING_FIELD";a[a.cOb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.pw=1402]="STORAGE_NODATA";a[a.WOb=1403]="STORAGE_EXCEPTION";a[a.dPb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.ePb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.kwa=1411]="STORAGE_LOAD_ERROR";a[a.Y1a=1412]="STORAGE_LOAD_TIMEOUT";a[a.lwa=1414]="STORAGE_SAVE_ERROR";a[a.a2a=1415]="STORAGE_SAVE_TIMEOUT";a[a.u7=1417]="STORAGE_DELETE_ERROR";a[a.jwa=1418]="STORAGE_DELETE_TIMEOUT";a[a.cPb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.$Ob=1423]="STORAGE_FS_GETDIRECTORY";a[a.bPb=1425]="STORAGE_FS_READENTRIES";a[a.XOb=1427]="STORAGE_FS_FILEREAD";a[a.ZOb=1429]="STORAGE_FS_FILEWRITE";a[a.YOb=1431]="STORAGE_FS_FILEREMOVE";a[a.aPb=1432]="STORAGE_FS_PARSEJSON";a[a.$1a=1451]="STORAGE_NO_LOCALSTORAGE";a[a.Z1a=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.lNb=1501]="NTBA_UNKNOWN";a[a.kNb=1502]="NTBA_EXCEPTION";a[a.gNb=1504]="NTBA_CRYPTO_KEY";a[a.iNb=1506]="NTBA_CRYPTO_OPERATION";a[a.hNb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.jNb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Gpa=1553]="DEVICE_NO_ESN";a[a.D3=1555]="DEVICE_ERROR_GETTING_ESN";a[a.HYa=1701]="FORMAT_UNKNOWN";a[a.Tqa=1713]="FORMAT_XML";a[a.IYa=1715]="FORMAT_XML_CONTENT";a[a.GYa=1721]="FORMAT_BASE64";a[a.aS=1723]="FORMAT_DFXP";a[a.mZa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.zra=1802]="INDEXDB_NOT_SUPPORTED";a[a.lZa=1803]="INDEXDB_OPEN_ERROR";a[a.Ara=1804]="INDEXDB_OPEN_NULL";a[a.kZa=1805]="INDEXDB_OPEN_BLOCKED";a[a.nZa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.jZa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.CS=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.R_a=1901]="MSL_UNKNOWN";a[a.K_a=1911]="MSL_INIT_NO_MSL";a[a.bta=1913]="MSL_INIT_ERROR";a[a.L_a=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.I_a=1931]="MSL_ERROR";a[a.Q_a=1933]="MSL_REQUEST_TIMEOUT";a[a.P_a=1934]="MSL_READ_TIMEOUT";a[a.J_a=1935]="MSL_ERROR_HEADER";a[a.GMb=1936]="MSL_ERROR_ENVELOPE";a[a.HMb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.ata=1957]="MSL_ERROR_REAUTH";a[a.e8=2103]="WEBCRYPTO_MISSING";a[a.H2a=2105]="WEBCRYPTOKEYS_MISSING";a[a.I2a=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.eKb=2200]="CACHEDDATA_PARSEJSON";a[a.Qoa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.fKb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Vv=2203]="CACHEDDATA_INVALID_FORMAT";a[a.qJb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.rJb=3001]="ACCOUNT_INVALID";a[a.JKb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.IKb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.GKb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.HKb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.FKb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.fPb=3300]="STORAGE_VA_LOAD_ERROR";a[a.gPb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.jPb=3302]="STORAGE_VA_SAVE_ERROR";a[a.kPb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.hPb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.iPb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.j6=3077]="PBO_DEVICE_EOL_WARNING";a[a.eua=3078]="PBO_DEVICE_EOL_FINAL";a[a.hua=3100]="PBO_DEVICE_RESET";a[a.gua=3101]="PBO_DEVICE_RELOAD";a[a.fua=3102]="PBO_DEVICE_EXIT";a[a.G0a=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.u0a=5005]="PBO_ACCOUNT_ON_HOLD";a[a.y0a=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.iua=5007]="PBO_INCORRECT_PIN";a[a.E0a=5008]="PBO_MOBILE_ONLY";a[a.H0a=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.A0a=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.w0a=5059]="PBO_BLACKLISTED_IP";a[a.v0a=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.x0a=5080]="PBO_CHOICE_MAP_ERROR";a[a.F0a=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.C0a=5091]="PBO_MALFORMED_REQUEST";a[a.B0a=5092]="PBO_INVALID_SERVICE_VERSION";a[a.D0a=5093]="PBO_MDX_INVALID_CTICKET";a[a.eXa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.fXa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.WXa=5200]="DOWNLOADER_IO_ERROR";a[a.zoa=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.RVa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.IJb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.a3=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.OVa=5304]="BRANCHING_ASE_FAILURE";a[a.FJb=5305]="BRANCHING_MOMENT_FAILURE";a[a.PVa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.HJb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.SVa=5308]="BRANCHING_SEEK_THREW";a[a.GJb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.QVa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.TVa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.UVa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.$Ua=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.ZUa=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(c=b.I||(b.I={})));(function(a){a[a.TJb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.JJb=5005]="BR_ACCOUNT_ON_HOLD";a[a.NJb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.QJb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.MJb=5059]="BR_BLACKLISTED_IP";a[a.KJb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.RJb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.OJb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.SJb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.PJb=2207]="BR_ENDPOINT_ERROR";a[a.LJb=2208]="BR_AUTHORIZATION_ERROR";}(b.Mqa||(b.Mqa={})));b.AS={aWa:"400",HPb:"401",sua:"413"};b.MS={zLb:1,zPb:2,fLb:3,GPb:4,pMb:5,eLb:6,W7:7,yYa:8,sOb:9,TOb:10};(function(a){a[a.INb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.JNb=98]="PAIRING_UNKNOWN_ERROR";}(b.nta||(b.nta={})));b.CYa=function(a){return 7100<=a&&7200>a;};b.Kqa=function(b){return b==a.$S||b==a.BS;};b.Nqa=function(a){return 1100<=a&&1199>=a;};b.EYa=function(a){return 1300<=a&&1399>=a;};b.DYa=function(a){return 1900<=a&&1999>=a;};b.j4=function(a,b){return 1<=a&&9>=a?b+a:b;};b.Oqa=function(a){return b.j4(a,c.H_a);};b.k4=function(a){return b.j4(a,c.nD);};b.Ap=function(a){var b,n,k;b={};n=a.errorExternalCode||a.re;k=a.errorDetails||a.rb;b.ErrorSubCode=a.errorSubCode||a.ga||c.Pk;n&&(b.ErrorExternalCode=n);k&&(b.ErrorDetails=k);return b;};},function(d,b,a){var q;function c(a){return q.bK.apply(this,arguments)||this;}function l(a){return new q.Bp(a,b.ia);}Object.defineProperty(b,"__esModule",{value:!0});b.sd=b.ura=b.T5=b.Il=b.ia=b.yz=b.timestamp=b.Zob=b.GO=b.ah=b.Ib=b.ROa=b.Ztb=b.p2a=void 0;q=a(503);ca(c,q.bK);b.p2a=c;b.Ztb=function(a){return new q.Bp(a,b.yz);};b.ROa=function(a){return new q.Bp(a*b.Il.qf,b.yz);};b.Ib=l;b.ah=function(a){return new q.Bp(a,b.Il);};b.GO=function(a){return new q.Bp(a,b.T5);};b.Zob=function(a){return new q.Bp(a,b.ura);};b.timestamp=function(a){return l(a);};b.yz=new c(1,"\u03bcs");b.ia=new c(1E3,"ms",b.yz);b.Il=new c(1E3*b.ia.qf,"s",b.yz);b.T5=new c(60*b.Il.qf,"min",b.yz);b.ura=new c(60*b.T5.qf,"hr",b.yz);b.sd=l(0);},function(d){d.P={LN:function(b){for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a]);},reset:function(){}};},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Y=b.kva=b.hN=b.Qg=b.rh=b.log=b.Df=b.mB=b.Uwa=b.qCa=b.Ul=b.vr=b.mc=b.Z$a=b.Caa=b.X$a=b.Y$a=b.Eh=b.HI=b.XQ=b.xh=void 0;c=a(510);d=a(8);l=a(32);q=a(98);n=a(99);k=a(44);p=a(22);h=a(60);b.xh=c.Zc.get(q.uw);b.XQ=b.xh.encode.bind(b.xh);b.HI=b.xh.decode.bind(b.xh);b.Eh=c.Zc.get(n.Uv);b.Y$a=b.Eh.encode.bind(b.Eh);b.X$a=b.Eh.decode.bind(b.Eh);b.Caa=b.Eh.dN.bind(b.Eh);b.Z$a=b.Eh.mTa.bind(b.Eh);b.mc=c.Zc.get(k.cj);b.vr=function(a){a=p.Jd(a)?b.HI(a):a;return b.mc.encode(a);};b.Ul=b.mc.decode.bind(b.mc);b.qCa=function(a){return b.XQ(b.Ul(a));};b.Uwa=a(555);b.mB=function(){return c.Zc.get(l.SR);};b.Df=c.Zc.get(d.Bb);b.log=b.Df.yb("General");b.rh=function(a,h){return b.Df.yb(a,void 0,h);};b.Qg=function(a,h,k){return b.Df.yb(h,a,k);};b.hN=function(a,h,k,c){return b.Df.yb(a,void 0,c,h,k);};b.kva=function(a,b,k){return c.Zc.get(h.Nk)(a,b,k).Xma();};b.Y=c.Zc;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);return b;}(Error);b.assert=function(a,b){if(!a)throw new l(b||"Assertion failed");};},function(d){var b;b={la:function(a){return"number"===typeof a;},Se:function(a){return"object"===typeof a;},Jd:function(a){return"string"===typeof a;},X:function(a){return"undefined"===typeof a;},eqb:function(a){return"boolean"===typeof a;},Tb:function(a){return"function"===typeof a;},Ma:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},Iwb:function(a){var c,l;l=[];if(!b.Se(a))throw new TypeError("Object.pairs called on non-object");for(c in a)a.hasOwnProperty(c)&&l.push([c,a[c]]);return l;}};b.Ud=b.forEach=function(a,c,l){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var q=0,n=a.length;q<n;q++)c.call(l,a[q],q,a);else for(q in a)b.has(a,q)&&c.call(l,a[q],q,a);return a;};d.P=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJ=b.Bb=b.r5=b.Yh=void 0;d=b.Yh||(b.Yh={});d[d.FYa=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.d8=2]="WARN";d[d.T4=3]="INFO";d[d.cxa=4]="TRACE";d[d.Ya=5]="DEBUG";b.r5="LogFieldBuilderFactorySymbol";b.Bb="LoggerFactorySymbol";b.hJ={};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k7=b.BD=b.HS=b.kWa=b.fWa=b.hWa=b.iWa=b.Ioa=b.eWa=b.gWa=b.Hoa=b.jWa=b.pWa=b.oWa=b.Joa=b.nWa=b.iYa=b.hYa=b.jqa=b.w_a=b.x_a=b.Tq=b.Wsa=b.Xsa=b.gw=b.lqa=b.jYa=b.X3=b.VR=b.n0a=b.R1a=b.Ssa=b.$Va=b.Dpa=b.YS=b.Bz=b.XS=b.Rsa=b.Ws=b.ZVa=b.yoa=b.k_a=b.D2a=b.v_a=b.u_a=b.H1a=b.G1a=b.fj=b.gd=b.Pva=b.Xe=void 0;b.Xe=function(){};b.Pva=function(){return!0;};b.gd={da:!0};b.fj=1E3;b.G1a=86400;b.H1a=604800;b.u_a=1E4;b.v_a=1E7;b.D2a=1.5;b.k_a=.128;b.yoa=7.8125;b.ZVa=128;b.Ws=145152E5;b.Rsa=1E5;b.XS="$netflix$player$order";b.Bz=-1;b.YS=1;b.Dpa=["en-US"];b.$Va=8;b.Ssa=65535;b.R1a=65536;b.n0a=Number.MAX_VALUE;b.VR="playready";b.X3="widevine";b.jYa="fps";b.lqa="clearkey";b.gw='audio/mp4; codecs="mp4a.40.5"';b.Xsa='audio/mp4; codecs="mp4a.40.42"';b.Wsa='audio/mp4; codecs="mp4a.a6"';b.Tq='video/mp4; codecs="avc1.640028"';b.x_a='video/mp4; codecs="hev1.2.6.L153.B0"';b.w_a='video/mp4; codecs="dvhe.01000000"';b.jqa="9A04F079-9840-4286-AB92-E65BE0885F95";b.hYa="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.iYa="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.nWa=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Joa="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.oWa="4E657466-6C69-7846-7261-6D6552617465";b.pWa="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.jWa="mp4a";b.Hoa="enca";b.gWa="ec-3";b.eWa="avc1";b.Ioa="encv";b.iWa="hvcC";b.hWa="hev1";b.fWa="dvhe";b.kWa="vp09";b.HS=0;b.BD=1;b.k7="position:relative;width:100%;height:100%;overflow:hidden";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aha=b.localStorage=b.Dpb=b.indexedDB=b.RS=b.zn=b.ct=b.HD=b.ID=b.URL=b.US=b.SS=b.mta=b.JS=b.vz=b.wz=b.Om=b.Gl=b.Bh=b.E5=b.Xs=b.Rwa=b.jD=b.e6=b.Cz=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Ut=b.c0a=b.ne=b.Wq=b.Xq=b.TS=b.Hl=b.Di=void 0;d="undefined"===typeof N?{}:N;b.Di=d.navigator||{};b.Hl=b.Di.userAgent;b.TS=d.location;b.Xq=d.screen;b.Wq=d.performance;b.ne=d.document||{};b.c0a=b.ne.documentElement;b.Ut=Array.prototype;b.sort=b.Ut.sort;b.map=b.Ut.map;b.slice=b.Ut.slice;b.every=b.Ut.every;b.reduce=b.Ut.reduce;b.filter=b.Ut.filter;b.forEach=b.Ut.forEach;b.pop=b.Ut.pop;b.Cz=Object.create;b.e6=Object.keys;b.jD=Date.now;b.Rwa=String.fromCharCode;b.Xs=Math.floor;b.E5=Math.ceil;b.Bh=Math.round;b.Gl=Math.max;b.Om=Math.min;b.wz=Math.random;b.vz=Math.abs;b.JS=Math.pow;b.mta=Math.sqrt;b.SS=d.escape;b.US=d.unescape;b.URL=d.URL||d.webkitURL;b.ID=d.MediaSource||d.WebKitMediaSource;b.HD=d.WebKitMediaKeys||d.MSMediaKeys||d.MediaKeys;b.ct=d.nfCrypto||d.webkitCrypto||d.msCrypto||d.crypto;b.zn=b.ct&&(b.ct.webkitSubtle||b.ct.subtle);b.RS=d.nfCryptokeys||d.webkitCryptokeys||d.msCryptokeys||d.cryptokeys;try{b.indexedDB=d.indexedDB;}catch(a){b.Dpb=a||"noex";}try{b.localStorage=d.localStorage;}catch(a){b.Aha=a||"noex";}},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.PJ=b.dra=b.Xxa=void 0;d=a(0);d.__exportStar(a(867),b);d.__exportStar(a(110),b);d.__exportStar(a(34),b);d.__exportStar(a(866),b);d.__exportStar(a(865),b);d.__exportStar(a(864),b);d=a(863);b.Xxa=d;d=a(862);b.dra=d;a=a(408);b.PJ=a;},function(d,b,a){var q,n,k,p,h,f,t,z,G,D,J,F,L,g,U,R,m,r;function c(a){return(a=b.config.HGb[l(a)])?a:{};}function l(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";if(0<=a.indexOf("mini-modal-horizontal"))return"mini-modal-horizontal";}}Object.defineProperty(b,"__esModule",{value:!0});b.wcb=b.xcb=b.Bba=b.Cba=b.vcb=b.ODa=b.ucb=b.PDa=b.Aba=b.config=void 0;q=a(9);n=a(43);k=a(5);p=a(30);h=a(16);a(22);f=a(32);t=a(61);z=a(20);a(8);G=a(10);D=a(35);J=a(15);F=a(232);L=a(46);g=a(62);U=a(140);R=a(48);m=a(3);r=a(33);b.PDa=function(a,c){var Oa,A,Ia,mb,E,ib,Ta,jb,S;function l(a,b){z.xd(a,function(a,f){J.Tb(f)?b[a]=f.call(void 0,b[a]):J.Se(f)&&(b[a]=b[a]||{},l(f,b[a]));});}function d(a,b,f,k){for(var c=[],p=3;p<arguments.length;++p)c[p-3]=arguments[p];return function(k){J.Xb(k)&&(f=k);h.Wa(J.Tb(a));return a.apply(void 0,[].concat([b,f],fa(c)));};}function H(a){a=a.toLowerCase();mb.hasOwnProperty(a)&&(Ia[a]=mb[a],E[a]=mb[a]);return a;}function aa(a,b,f){var c;a=a.toLowerCase();if(Ia.hasOwnProperty(a)){c=Ia[a];try{c=f?f(c):c;}catch(Lc){c=void 0;}if(void 0!==c)return c;h.Wa(!1);k.log.error("Invalid configuration value. Name: "+a);}return b;}function Q(a,b,f,h){return aa(a,b,function(a){J.Jd(a)&&(a=z.Kd(a));if(J.bKa(a,f,h))return a;});}function y(a,b,f,h){return aa(a,b,function(a){J.Jd(a)&&(a=z.Kd(a));if(J.Qu(a,f,h))return a;});}function T(a,b,f,h){return aa(a,b,function(a){J.Jd(a)&&(a=parseFloat(a));if(J.la(a,f,h))return a;});}function u(a,b,f){return aa(a,b,function(a){if(f?f.test(a):J.Jd(a))return a;});}function P(a,b){return aa(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function va(a,b){return aa(a,b,function(a){if(J.Jd(a))return JSON.parse(G.US(a));if(J.Se(a))return a;});}function ga(a,b,f,h,k,c){var p;a=a.toLowerCase();Ia.hasOwnProperty(a)&&(p=Ia[a]);if(!J.Xb(p))return b;if(J.Jd(p))if(p[0]!==f)p=h(p);else try{p=JSON.parse(G.US(p));}catch(gb){p=void 0;}if(void 0===p)return b;for(a=0;a<k.length;a++)if(!k[a](p))return b;return c?c(p):p;}function Fa(a,b,f,h,k){return ga(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=z.Kd(a[b]);return a;},[function(a){return J.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!J.Qu(a[b],f,h))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Ga(a,b){return ga(a,b,"[",function(a){a=J.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(G.US(a[b]));}catch(Lc){a=void 0;break;}return a;},[function(a){return J.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!J.Xb(a[b])||!J.Se(a[b]))return!1;return!0;}]);}function la(a,b,f,h){return ga(a,b,"[",function(a){return J.isArray(a)?a:a.split("|");},[function(a){return J.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(f?!f.test(a[b]):!J.Ru(a[b]))return!1;return!0;},function(a){return void 0===h||a.length>=h;}]);}function Ea(a,b,f){return ga(a,b,"{",function(a){var b,h,k;b={};a=a.split(";");for(var f=a.length;f--;){h=a[f];k=h.indexOf(":");if(0>=k)return;b[h.substring(0,k)]=h.substring(k+1);}return b;},[function(a){return J.Se(a)&&0<Object.keys(a).length;},function(a){if(f)for(var b in a)if(!f.test(a[b]))return!1;return!0;}],function(a){var f;f={};z.tb(f,b);z.tb(f,a);return f;});}function Qa(a){var b;b=[];z.xd(a,function(a,f){var h;try{h="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(Yb){h="cantparse";}b.push(a+"="+h);});return b.join("\n");}Oa=/^[0-9]+[%]?$/;A=/^[0-9]*$/;E={};ib=k.Y.get(p.Qj);Ta=k.Y.get(U.OD);(function(b){function f(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(Ia[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}Ia={};z.tb(Ia,b);a&&a.length&&G.forEach.call(a,function(a){J.Jd(a)?f(a):J.Se(a)&&z.tb(Ia,a,{RG:!0});});mb=z.tb({},n.uY(),{RG:!0});if(b=n.zPa().cadmiumconfig)k.log.info("Config cookie loaded",b),f(b);if(k.Y.get(r.Wj).y9a||Ia.istestaccount)z.tb(Ia,mb),E=mb;"clearkey"!=u("drmType")||Ia.keysystemid||(Ia.keysystemid=(N.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}(c));b.config={};jb={bib:d(P,H("enableXHEAAC"),!1),$ca:d(P,H("enableDDPlus20"),!0),Zca:d(P,H("enableDDPlus"),!0),PM:d(P,H("enableDDPlusAtmos"),!1),Phb:d(P,H("enableLSSDH"),!0),Khb:d(P,H("enableHEVC"),!1),TNa:d(P,H("overrideEnableHEVC"),!1),bda:d(P,H("enableHDR"),!1),SNa:d(P,H("overrideEnableHDR"),!1),iX:d(P,H("enableAVCHigh"),Ta.iX),aP:d(P,H("overrideEnableAVCHigh"),Ta.aP),$hb:d(P,H("enableVP9"),!1),UNa:d(P,H("overrideEnableVP9"),!1),Ghb:d(P,H("enableAV1"),!1),RNa:d(P,H("overrideEnableAV1"),!1),Uhb:d(P,H("enablePRK"),!1),Lhb:d(P,H("enableHWDRM"),!1),Nhb:d(P,H("enableImageSubs"),!0),KL:d(la,H("audioProfiles"),Ta.KL),PRb:d(P,H("disableHD"),!1),C2:d(y,"videoCapabilityDetectorType",f.Xj.gz),raa:d(y,"audioCapabilityDetectorType",f.Tv.gz),JI:d(la,H("videoProfiles"),Ta.JI),S7a:d(la,H("timedTextProfiles"),Ta.Jv),Jv:function(){return jb.S7a().filter(function(a){return a===t.Ok.E3?jb.Phb():a===t.Ok.GD?jb.Nhb():!0;});},endpoint:d(P,H("endpoint"),!1),version:d(u,"version","unknown"),xRa:d(P,H("setMediaKeysEarly"),!1),pUb:d(P,H("nrdpPersistCookiesToIndexDB"),!1),eFa:d(P,H("doNotPerformLdlOnPlaybackCreate"),!1),fFa:d(P,H("doNotPerformLdlOnPlaybackStart"),!1),kUa:d(P,H("useHdcpLevelOnCast"),!1),Mhb:d(P,H("enableHdcp"),!1),ep:d(P,H("prepareCadmium"),!1),v8a:d(P,H("acceptManifestOnPrepareItemParams"),!0),QOa:d(va,"ppmconfig",{maxNumberTitlesScheduled:1}),Wxb:d(P,H("playerPredictionModelV2"),!0),TF:d(P,H("enableLdlPrefetch"),!1),jX:d(P,H("enableGetHeadersAndMediaPrefetch"),!1),DM:d(P,H("deleteCachedManifestOnPlayback"),!1),FM:d(P,H("deleteOtherManifestCacheOnCreate"),!1),EM:d(P,H("deleteOtherLdlCacheOnCreate"),!1),qxb:d(y,H("periodicPrepareLogsIntervalMilliseconds"),36E5),Byb:d(y,H("prepareManifestCacheMaxCount"),50),zyb:d(y,H("prepareLdlCacheMaxCount"),30),UOa:d(y,H("prepareManifestExpiryMilliseconds"),12E5),Ayb:d(y,H("prepareLdlExpiryMilliseconds"),78E4),yyb:d(u,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),oWb:d(va,"videoApp"),Gy:d(va,"storageRules"),dkb:d(P,"ftlEnabled",!0),kga:d(y,H("imageSubsResolution"),0),rpb:d(y,H("imageSubsMaxBuffer"),Ta.vtb.ba(R.Mq),0),eM:d(P,H("captureBatteryStatus"),!1),Ikb:d(y,H("getBatteryApiTimeoutMilliseconds"),5E3),Yd:d(u,H("keySystemId"),Ta.Yd),GKa:d(la,H("keySystemList"),void 0,void 0),cub:d(y,H("hdcpGlobalTimeout1"),1E4),dub:d(y,H("hdcpGlobalTimeout2"),1E4),TTb:d(y,H("hdcpQueryTimeout1"),1E3),UTb:d(y,H("hdcpQueryTimeout2"),1E3),eub:d(y,H("hdcpQueryTimeout2"),100),fub:d(P,H("microsoftHwdrmRequiresHevc"),!1),$tb:d(P,H("microsoftEnableDeviceInfo"),!1),aub:d(P,H("microsoftEnableHardwareInfo"),!1),bub:d(P,H("microsoftEnableHardwareReset"),!1),HHb:d(P,H("useHevcCodecForDolbyVision"),!1),Dsb:d(P,"logMediaPipelineStatus",!1),BP:d(P,H("renderDomDiagnostics"),!0),eLa:function(){return-1;},QG:d(Q,H("logDisplayMaxEntryCount"),Ta.QG,-1),Ksb:d(Q,H("logToConsoleLevel"),-1),MQb:d(Q,H("bladerunnerCmdHistorySize"),10),Ir:function(){return ib.Ir;},xHb:d(P,"upgradeNetflixId",!0),Fha:d(P,"logErrorIfEsnNotProvided",!0),kda:d(P,"enforceSinglePlayback",Ta.kda),pX:d(P,"enforceSingleSession",Ta.pX),qba:d(P,"closeOtherPlaybacks",!0),j$a:d(y,"asyncLoadTimeout",15E3,1),Ssb:d(y,"mainThreadMonitorPollRate",0),oUb:d(P,"nrdpAlwaysShowUIOverlay",!1),qUb:d(P,"nrdpValidateSSOTokens",!0),zVb:d(P,"showNrdpDebugBadging",!1),F2:function(){return ib.F2;},Px:function(){return ib.Px;},mF:function(){return ib.mF;},WC:function(){return ib.WC;},vUa:d(y,H("verbosePlaybackInfoDenominator"),0),R0:d(P,"renderTimedText",!0),myb:d(P,"preBufferTimedText",!0),Uib:d(P,"fatalOnTimedTextLoadError",!0),eTa:d(Ea,"timedTextStyleDefaults",{}),Tma:d(Ea,"timedTextStyleOverrides",{}),Sma:d(Ea,"timedTextFontFamilyMapping",Ta.Sma||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),fTa:d(y,H("timedTextTimeOverride"),0),yI:d(y,"timedTextSimpleFallbackThreshold",Ta.yI.ba(R.Mq)),eca:d(u,H("customDfxpUrl")),Zhb:d(P,H("enableSubtitleTrackerLogging"),!1),BCb:d(P,H("sendSubtitleQoeLogblobOnMidplay"),!1),Zaa:d(Fa,"cdnIdWhiteList",[]),Yaa:d(Fa,"cdnIdBlackList",[]),Zda:d(u,H("forceAudioTrack")),Sub:d(P,"muteVolumeOnPlaybackClose",!0),rUb:d(u,"nrdpVolumeControlType","VOLUME_STREAM"),aea:d(u,H("forceTimedTextTrack")),Atb:d(y,H("maxRetriesTimedTextDownload"),0),NFb:d(y,H("timedTextRetryInterval"),8E3),KEb:d(u,"storageType","idb",/^(none|fs|idb|ls)$/),aLa:d(y,"lockExpiration",1E4),Asb:d(y,"lockRefresh",3E3),gbb:d(P,"captureUnhandledExceptions",!0),qpb:d(P,"ignoreUnhandledExceptionDuringPlayback",!0),KGb:d(P,"unhandledExceptionsArePlaybackErrors",!1),OTa:d(u,"unhandledExceptionSource",""),Lyb:d(P,"preserveLastFrame",!1),qub:d(y,"minBufferingTimeInMilliseconds",4E3),czb:d(y,"progressBackwardsGraceTimeMilliseconds",4E3),dzb:d(y,"progressBackwardsMinPercent",10),jab:d(u,H("bookmarkIgnoreBeginning"),"0",Oa),kab:d(u,H("bookmarkIgnoreEnd"),"5%",Oa),lab:d(u,H("bookmarkIgnoreEndForBranching"),"60000",Oa),UG:d(y,"maxParallelConnections",3),Qka:d(P,"reportThroughputInLogblobs",!0),$G:d(y,"minAudioMediaRequestDuration",16E3),oub:d(y,"minAudioMediaRequestDurationBranching",0),eH:d(y,"minVideoMediaRequestDuration",4E3),wub:d(y,"minVideoMediaRequestDurationAL1",0),xub:d(y,"minVideoMediaRequestDurationBranching",0),A_:d(y,"minAudioMediaRequestSizeBytes",0),F_:d(y,"minVideoMediaRequestSizeBytes",0),rhb:d(P,"droppedFrameRateFilterEnabled",!1),shb:d(y,"droppedFrameRateFilterMaxObservation",60,10,1E3),uhb:d(function(a,b,f,h,k,c){return ga(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;)a[b][f]=z.Kd(a[b][f]);}return a;},[function(a){return J.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!J.isArray(a[b]))return!1;for(var k=a[b].length;k--;)if(!J.Qu(a[b][k],f,h))return!1;}return!0;},function(a){if(void 0!==k)for(var b=a.length;b--;)if(k!==a[b].length)return!1;return!0;},function(a){return void 0===c||a.length>=c;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),XRb:d(P,"droppedFrameRateFilterWithoutRebufferEnabled",!0),thb:d(y,"droppedFrameRateFilterMinHeight",384),vhb:d(Fa,"droppedFramesPercentilesList",[]),gub:d(P,"microsoftScreenSizeFilterEnabled",!1),krb:d(P,"keyStatusFilterEnabled",!1),GGb:d(P,"uiLabelFilterEnabled",!0),FGb:d(va,"uiLabelFilter",{}),egb:d(y,H("defaultVolume"),100,0,100),$Ea:d(P,"disableVideoRightClickMenu",!1),tub:d(y,"minDecoderBufferMilliseconds",1E3,0,q.Ws),c0:d(y,"optimalDecoderBufferMilliseconds",5E3,0,q.Ws),KNa:d(y,"optimalDecoderBufferMillisecondsBranching",3E3,0,q.Ws),G_:d(y,"minimumTimeBeforeBranchDecision",3E3,0,q.Ws),m_:d(y,"maxDecoderBufferMilliseconds",Ta.m_.ba(m.ia),0,q.Ws),BEa:d(y,"decoderTimeoutMilliseconds",1E4,1),Rgb:d(P,"disgardMediaOnAppend",!1),H9a:d(P,"appendMediaBeforeInit",!1),cxb:d(y,"pauseTimeoutLimitMilliseconds",18E5),nga:d(y,"inactivityMonitorInterval",3E4,0),t8a:d(Fa,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),UF:d(P,"enableTrickPlay",!1),n9a:d(Fa,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),vGb:d(y,"trickPlayHighResolutionBitrateThreshold",1E3),wGb:d(y,"trickPlayHighResolutionThresholdMilliseconds",1E4),zGb:d(T,"trickplayBufferFactor",.5),uGb:d(y,"trickPlayDownloadRetryCount",1),bia:d(u,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Uia:d(u,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),tra:d(va,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),PLa:d(Q,"maxIQRSamples",Infinity),nMa:d(Q,"minIQRSamples",5),pUa:d(P,"useResourceTimingAPI",!1),opb:d(P,"ignoreFirstByte",!0),Rtb:d(P,"mediaRequestAsyncLoadStart",!0),PHb:d(P,"useXHROnLoadStart",!1),Bda:d(Fa,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),rW:d(y,"connectTimeoutMilliseconds",8E3,500),Zia:d(y,"noProgressTimeoutMilliseconds",8E3,500),KHb:d(P,"useOnLineApi",!1),dTa:d(y,"timedTextDownloadRetryCountBeforeCdnSwitch",3),iUb:d(y,"netflixRequestExpiryTimeout",0),BIb:d(P,"webkitDecodedFrameCountIncorrectlyReported",!1),eCb:d(y,"seekBackOnAudioTrackChangeMilliseconds",8E3),axb:d(P,"pausePlaybackOnAudioSwitch",!0),Cma:d(la,H("supportedAudioTrackTypes"),[],void 0,1),JJa:d(y,"initialLogFlushTimeout",5E3),HOa:d(u,"playdataPersistKey",ib.Ir?"unsentplaydatatest":"unsentplaydata"),Hla:d(P,"sendPersistedPlaydata",!0),Txb:d(y,"playdataPersistIntervalMilliseconds",4E3),KUb:d(y,"playdataSendDelayMilliseconds",1E4),t1:d(P,"sendPlaydataBackupOnInit",!0),Gsb:d(la,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),iub:d(P,"midplayEnabled",!0),jMa:d(y,"midplayIntervalMilliseconds",3E5),jub:d(Fa,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),KM:d(y,"downloadReportDenominator",0),chb:d(y,"downloadReportInterval",3E5),dLa:d(y,"logConfigApplyDenominator",0),yCa:d(Ea,H("bookmarkByMovieId"),{}),aN:d(P,H("forceLimitedDurationLicense"),!1),$x:d(y,H("licenseRenewalRequestDelay"),0),Ija:d(y,H("persistedReleaseDelay"),1E4),tTb:d(P,H("limitedDurationFlagOverride"),void 0),vi:d(P,H("secureStopEnabled"),!1),sVb:d(P,H("secureStopFromPersistedKeySession"),!1),WQa:d(y,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),vla:d(y,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),bCb:d(y,H("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),cCb:d(y,H("secureStopPersistedKeySessionRetries"),17,1),aCb:d(y,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),IQa:d(y,"safariPlayPauseWorkaroundDelay",100),JIb:d(y,"workaroundValueForSeekIssue",1200),IIb:d(P,"workaroundSaio",!0),Vaa:d(P,H("callEndOfStream"),Ta.Vaa),oxb:d(P,"performRewindCheck",!0),Wib:d(P,"fatalOnUnexpectedSeeking",!0),Vib:d(P,"fatalOnUnexpectedSeeked",!0),ADb:d(P,H("setVideoElementSize")),Ubb:d(P,H("clearVideoSrc"),!0),QEa:d(y,H("delayPlayPause"),0),sp:d(P,H("useTypescriptEme"),!1),fcb:d(P,H("combineManifestAndLicense"),!1),NM:d(u,H("drmPersistKey"),"unsentDrmData"),nka:d(P,H("promiseBasedEme"),!1),fbb:d(P,"captureKeyStatusData",!1),CG:d(P,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),Evb:d(P,H("nudgeSourceBuffer"),!1),wla:d(Q,H("seekDelta"),1),jP:d(P,H("preciseSeeking"),!1),pyb:d(P,H("preciseSeekingOnTwoCoreDevice"),!1),PEa:d(Ea,H("delayErrorHandling")),tTa:d(P,"trackingLogEnabled",!1),uTa:d(function(a,b){var f;f=Ea(a,b,void 0);f&&Object.keys(f).forEach(function(a){var b;b=f[a];"true"===b?f[a]=!0:"false"===b&&(f[a]=!1);});return f;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),ana:d(u,"trackingLogPath","/customerevents/track/debug"),kGb:d(Fa,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),oh:d(u,"esn",""),eGa:d(u,"fesn",""),Whb:d(P,H("enablePerformanceLogging"),!1),ada:d(P,H("enableEmeVerboseLogging"),!1),Qhb:d(P,"enableLastChunkLogging",!1),CL:d(u,"appId","",A),sessionId:d(u,"sessionId","",A),aba:d(u,"cdnProxyUrl"),OHb:d(P,"usePlayReadyHeaderObject",!1),CGa:d(y,"forceXhrErrorResponseCode",void 0),uu:{cUb:d(u,"mslApiPath","/msl/"),ZRb:d(u,H("edgePath"),"/cbp/cadmium-29"),UUb:d(u,"proxyPath",""),QQ:d(u,"uiVersion"),l2:d(u,"uiPlatform"),cRb:function(){return"0";},bka:d(la,"preferredLanguages",q.Dpa,/^[a-zA-Z-]{2,5}$/,1),Kjb:d(u,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),nFb:d(P,"supportPreviewContentPin",!0),oFb:d(P,"supportWatermarking",!0),$Db:d(P,"showAllSubDubTracks",!1),kSb:d(P,H("failOnGuidMismatch"),!1)},F0:{enabled:d(P,"qcEnabled",!1),rl:d(u,"qcPackageId","")},Hq:d(P,"useRangeHeader",!1),QM:d(P,"enableMilestoneEventList",!1),NL:d(u,"authenticationType",ib.Ir?Ta.B$a:Ta.NL),kCa:d(Ea,"authenticationKeyNames",z.tb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),uFb:d(u,"systemKeyWrapFormat"),xpb:d(P,"includeNetflixIdUserAuthData",!0),VDb:d(P,"shouldSendUserAuthData",!0),Kla:d(P,"sendUserAuthIfRequired",Ta.Kla),QDb:d(P,"shouldClearUserData",!1),Nub:d(P,"mslDeleteStore",!1),Pub:d(P,"mslPersistStore",!0),Rcb:d(P,"correctNetworkForShortTitles",!0),kyb:d(P,"postplayHighInitBitrate",!1),Gjb:d(P,"flushHeaderCacheOnAudioTrackChange",!0),rFb:d(P,"supportsUnequalizedDownloadables",!0),xEa:d(y,H("debugAseDenominator"),100),OV:d(y,"aseAudioBufferSizeBytes",Ta.OV.ba(R.Mq)),QV:d(y,"aseVideoBufferSizeBytes",Ta.QV.ba(R.Mq)),js:d(y,"minInitVideoBitrate",560),Gia:d(y,"minHCInitVideoBitrate",560),bv:d(y,"maxInitVideoBitrate",Infinity),EO:d(y,"minInitAudioBitrate",0),DO:d(y,"minHCInitAudioBitrate",0),oO:d(y,"maxInitAudioBitrate",65535),AO:d(y,"minAcceptableVideoBitrate",235),FO:d(y,"minRequiredBuffer",3E4),Vg:d(y,"minPrebufSize",7800),Cka:d(T,"rebufferingFactor",1),Yo:d(y,"maxBufferingTime",2600),vna:d(P,"useMaxPrebufSize",!0),gy:d(y,"maxPrebufSize",45E3),mia:d(y,"maxRebufSize",Infinity),nZ:d(Ga,"initialBitrateSelectionCurve",null),GJa:d(y,"initSelectionLowerBound",560),HJa:d(y,"initSelectionUpperBound",1050),b2:d(y,"throughputPercentForAudio",15),zaa:d(y,"bandwidthMargin",10),Aaa:d(P,"bandwidthMarginContinuous",!1),Baa:d(Ga,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Eba:d(y,"conservBandwidthMargin",20),Fma:d(P,"switchConfigBasedOnInSessionTput",!1),nM:d(y,"conservBandwidthMarginTputThreshold",0),Fba:d(Ga,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),KSa:d(P,"switchAlgoBasedOnHistIQR",!1),My:d(u,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),lia:d(Q,"maxPlayerStateToSwitchConfig",-1),Nha:d(u,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),V4:d(T,"IQRThreshold",.5),cga:d(u,"histIQRCalcToUse","simple"),ev:d(y,"maxTotalBufferLevelPerSession",0),pJa:d(y,"highWatermarkLevel",3E4),lTa:d(y,"toStableThreshold",3E4),f2:d(y,"toUnstableThreshold",Ta.f2.ba(m.ia)),kma:d(P,"skipBitrateInUpswitch",!0),Cna:d(y,"watermarkLevelForSkipStart",8E3),Wfa:d(y,"highStreamRetentionWindow",9E4),Oha:d(y,"lowStreamTransitionWindow",51E4),Yfa:d(y,"highStreamRetentionWindowUp",3E5),Qha:d(y,"lowStreamTransitionWindowUp",3E5),Xfa:d(y,"highStreamRetentionWindowDown",6E5),Pha:d(y,"lowStreamTransitionWindowDown",0),Vfa:d(T,"highStreamInfeasibleBitrateFactor",.5),Yu:d(y,"lowestBufForUpswitch",15E3),f_:d(y,"lockPeriodAfterDownswitch",15E3),Sha:d(y,"lowWatermarkLevel",25E3),Zu:d(y,"lowestWaterMarkLevel",2E4),Tha:d(P,"lowestWaterMarkLevelBufferRelaxed",!1),zia:d(T,"mediaRate",1),s_:d(y,"maxTrailingBufferLen",1E4),JL:d(y,"audioBufferTargetAvailableSize",262144),cR:d(y,"videoBufferTargetAvailableSize",1048576),YLa:d(y,"maxVideoTrailingBufferSize",8388608),JLa:d(y,"maxAudioTrailingBufferSize",393216),zX:d(T,"fastUpswitchFactor",3),Dda:d(T,"fastDownswitchFactor",1),cv:d(y,"maxMediaBufferAllowed",24E4),ds:d(y,"maxVideoBufferAllowedInBytes",0),hma:d(P,"simulatePartialBlocks",!0),URa:d(P,"simulateBufferFull",!0),Gba:d(P,"considerConnectTime",!1),Dba:d(T,"connectTimeMultiplier",1),mLa:d(y,"lowGradeModeEnterThreshold",12E4),nLa:d(y,"lowGradeModeExitThreshold",9E4),MLa:d(y,"maxDomainFailureWaitDuration",3E4),ILa:d(y,"maxAttemptsOnFailure",18),VFa:d(P,"exhaustAllLocationsForFailure",!0),SLa:d(y,"maxNetworkErrorsDuringBuffering",20),fia:d(y,"maxBufferingTimeAllowedWithNetworkError",6E4),cGa:d(y,"fastDomainSelectionBwThreshold",2E3),XSa:d(y,"throughputProbingEnterThreshold",4E4),YSa:d(y,"throughputProbingExitThreshold",34E3),$Ka:d(y,"locationProbingTimeout",1E4),gGa:d(y,"finalLocationSelectionBwThreshold",1E4),VSa:d(T,"throughputHighConfidenceLevel",.75),WSa:d(T,"throughputLowConfidenceLevel",.4),EFa:d(P,"enablePerfBasedLocationSwitch",!1),tq:d(P,"probeServerWhenError",!0),ika:d(y,"probeRequestTimeoutMilliseconds",8E3),St:d(P,"allowSwitchback",!0),kC:d(y,"probeDetailDenominator",100),n_:d(y,"maxDelayToReportFailure",300),Cha:d(y,"locationStatisticsUpdateInterval",6E4),$Da:d(P,"countGapInBuffer",!1),BBa:d(P,"allowCallToStreamSelector",!0),ECa:d(y,"bufferThresholdForAbort",1E4),Kja:d(y,"pipelineScheduleTimeoutMs",2),dv:d(y,"maxPartialBuffersAtBufferingStart",2),Hia:d(y,"minPendingBufferLen",6E3),fy:d(y,"maxPendingBufferLen",12E3),ytb:d(y,"maxPendingBufferLenAL1",3E4),nia:d(y,"maxStreamingSkew",4E3),kia:d(y,"maxPendingBufferPercentage",10),MB:d(y,"maxRequestsInBuffer",60),ULa:d(y,"maxRequestsInBufferAL1",240),VLa:d(y,"maxRequestsInBufferBranching",120),YY:d(y,"headerRequestSize",4096),CO:d(y,"minBufferLenForHeaderDownloading",1E4),GP:d(y,"reserveForSkipbackBufferMs",1E4),kja:d(y,"numExtraFragmentsAllowed",2),ap:d(P,"pipelineEnabled",!1),$Ra:d(y,"socketReceiveBufferSize",0),VV:d(y,"audioSocketReceiveBufferSize",32768),LI:d(y,"videoSocketReceiveBufferSize",65536),Tfa:d(y,"headersSocketReceiveBufferSize",32768),r2:d(y,"updatePtsIntervalMs",1E3),Jaa:d(y,"bufferTraceDenominator",100),DA:d(y,"bufferLevelNotifyIntervalMs",2E3),GL:d(y,"aseReportDenominator",0),naa:d(y,"aseReportIntervalMs",3E5),AFa:d(P,"enableAbortTesting",!1),bBa:d(y,"abortRequestFrequency",8),yma:d(y,"streamingStatusIntervalMs",2E3),vv:d(y,"prebufferTimeLimit",24E4),B_:d(y,"minBufferLevelForTrackSwitch",2E3),Fja:d(y,"penaltyFactorForLongConnectTime",2),Lha:d(y,"longConnectTimeThreshold",200),U$:d(y,"additionalBufferingLongConnectTime",2E3),V$:d(y,"additionalBufferingPerFailure",8E3),yP:d(y,"rebufferCheckDuration",6E4),DFa:d(P,"enableLookaheadHints",!1),iLa:d(y,"lookaheadFragments",2),$A:d(P,"enableOCSideChannel",!0),WS:d(va,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),WTa:d(P,"updateDrmRequestOnNetworkFailure",!1),OEa:d(P,"deferAseScheduling",!1),LLa:d(y,"maxDiffAudioVideoEndPtsMs",16E3),EI:d(P,"useHeaderCache",!0),NW:d(y,"defaultHeaderCacheSize",4),rca:d(y,"defaultHeaderCacheDataPrefetchMs",8E3),Pfa:d(y,"headerCacheMaxPendingData",6),Via:d(P,"neverWipeHeaderCache",!0),Qfa:d(y,"headerCachePriorityLimit",5),TM:d(P,"enableUsingHeaderCount",!1),kJa:d(P,"headerCacheTruncateHeaderAfterParsing",!0),Fjb:d(P,H("flushHeaderCacheBeforePlayback"),!1),Tia:d(y,"networkFailureResetWaitMs",2E3),Sia:d(y,"networkFailureAbandonMs",6E4),r_:d(y,"maxThrottledNetworkFailures",3),a2:d(y,"throttledNetworkFailureThresholdMs",200),Rha:d(Q,"lowThroughputThreshold",400),uda:d(P,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),zMa:d(P,"mp4ParsingInNative",!1),aSa:d(P,"sourceBufferInOrderAppend",!0),zs:d(P,"requireAudioStreamToEncompassVideo",!0),ABa:d(P,"allowAudioToStreamPastVideo",!0),Pg:d(P,"enableManagerDebugTraces",!1),zLa:d(y,"managerDebugMessageInterval",1E3),yLa:d(y,"managerDebugMessageCount",20),hNa:d(P,"notifyManifestCacheEom",!1),Iaa:d(y,"bufferThresholdToSwitchToSingleConnMs",18E4),Haa:d(y,"bufferThresholdToSwitchToParallelConnMs",12E4),o0:d(y,"periodicHistoryPersistMs",3E5),i1:d(y,"saveVideoBitrateMs",18E4),OBa:d(P,"appendMediaRequestOnComplete",!0),MI:d(P,"waitForDrmToAppendMedia",!1),LX:d(P,H("forceAppendHeadersAfterDrm"),!1),xP:d(P,H("reappendRequestsOnSkip"),!0),Wub:d(y,"netIntrStoreWindow",36E3),uub:d(y,"minNetIntrDuration",8E3),Qib:d(y,"fastHistoricBandwidthExpirationTime",10368E3),P$a:d(y,"bandwidthExpirationTime",5184E3),Nib:d(y,"failureExpirationTime",86400),Wob:d(y,"historyTimeOfDayGranularity",4),Eib:d(P,"expandDownloadTime",!1),Fub:d(y,"minimumMeasurementTime",500),Eub:d(y,"minimumMeasurementBytes",131072),EFb:d(y,"throughputMeasurementTimeout",2E3),Lpb:d(y,"initThroughputMeasureDataSize",262144),FFb:d(u,"throughputPredictor","ewma"),DFb:d(y,"throughputMeasureWindow",5E3),HFb:d(y,"throughputWarmupTime",5E3),CFb:d(y,"throughputIQRMeasureWindow",5E3),g_a:d(y,"IQRBucketizerWindow",15E3),zcb:d(y,"connectTimeHalflife",10),sBb:d(y,"responseTimeHalflife",10),Vob:d(y,"historicBandwidthUpdateInterval",2E3),Cub:d(y,"minimumBufferToStopProbing",1E4),tla:d(u,"secondThroughputEstimator","none"),TQa:d(Q,"secondThroughputMeasureWindowInMs",Infinity),Jhb:d(la,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),ejb:d(va,"filterDefinitionOverrides",{}),$fb:d(u,"defaultFilter","throughput-ewma"),XBb:d(u,"secondaryFilter","none"),agb:d(va,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),KO:d(P,"needMinimumNetworkConfidence",!0),Faa:d(P,"biasTowardHistoricalThroughput",!0),FV:d(P,"addHeaderDataToNetworkMonitor",!1),rma:d(P,"startMonitorOnLoadStart",!1),Pka:d(P,"reportFailedRequestsToNetworkMonitor",!1),hia:d(Q,"maxFastPlayBufferInMs",Infinity),gia:d(Q,"maxFastPlayBitThreshold",Infinity),faa:d(P,"appendFirstHeaderOnComplete",!0),V9a:d(u,"ase_stream_selector","optimized"),xga:d(u,"initBitrateSelectorAlgorithm","default"),Laa:d(u,"bufferingSelectorAlgorithm","default"),yEa:d(u,"ase_ls_failure_simulation",""),ica:d(P,"ase_dump_fragments",!1),jca:d(y,"ase_location_history",0),kca:d(y,"ase_throughput",0),AEa:d(P,"ase_simulate_verbose",!1),fyb:d(y,"pollingPeriod",150),rsb:d(y,"loadTimeMs",18E4),itb:d(y,"marginTimeMs",1E4),Ry:d(P,"useMediaCache",!1),tx:d(y,"diskCacheSizeLimit",52428800),v_:d(y,"mediaCachePrefetchMs",8E3),sia:d(Ea,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),Cea:d(P,"getDeviceIdFromBindDevice",!1),O$:d(P,"addFailedLogBlobsToQueue",!0),HGb:{"content-sampling":{Yo:d(y,"contentSamplingMaxBufferingTime",3E3),YH:d(u,"contentSamplingSelectStartingVMAFMethod","fallback"),wL:d(P,"contentSamplingActivateSelectStartingVMAF",!0),dH:d(y,"contentSamplingMinStartingVideoVMAF",80),zO:d(y,"contentSamplingMinAcceptableVMAF",70),BO:d(y,"contentSamplingMinAllowedVmaf",60)},billboard:{js:d(y,"billboardMinInitVideoBitrate",1050),bv:d(y,"billboardMaxInitVideoBitrate",null),Vg:d(y,"billboardMinPrebufSize",null),gy:d(y,"billboardMaxPrebufSize",null),Yo:d(y,"billboardMaxBufferingTime",null),dv:d(y,"billboardMaxPartialBuffersAtBufferingStart",null),Zu:d(y,"billboardLowestWaterMarkLevel",6E3),Yu:d(y,"billboardLowestBufForUpswitch",25E3),My:d(u,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),GI:d(P,"billboardUseNewApi",null)},preplay:{js:d(y,"preplayMinInitVideoBitrate",1050),bv:d(y,"preplayMaxInitVideoBitrate",null),Vg:d(y,"preplayMinPrebufSize",null),gy:d(y,"preplayMaxPrebufSize",null),Yo:d(y,"preplayMaxBufferingTime",null),dv:d(y,"preplayMaxPartialBuffersAtBufferingStart",null),Zu:d(y,"preplayLowestWaterMarkLevel",6E3),Yu:d(y,"preplayLowestBufForUpswitch",25E3)},embedded:{js:d(y,"embeddedMinInitVideoBitrate",1050),bv:d(y,"embeddedMaxInitVideoBitrate",null),Vg:d(y,"embeddedMinPrebufSize",null),gy:d(y,"embeddedMaxPrebufSize",null),Yo:d(y,"embeddedMaxBufferingTime",null),dv:d(y,"embeddedMaxPartialBuffersAtBufferingStart",null),Zu:d(y,"embeddedLowestWaterMarkLevel",6E3),Yu:d(y,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{js:d(y,"videoMerchBobHorizontalMinInitVideoBitrate",null),bv:d(y,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Vg:d(y,"videoMerchBobHorizontalMinPrebufSize",null),gy:d(y,"videoMerchBobHorizontalMaxPrebufSize",null),Yo:d(y,"videoMerchBobHorizontalMaxBufferingTime",null),dv:d(y,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Zu:d(y,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Yu:d(y,"videoMerchBobHorizontalLowestBufForUpswitch",null),GI:d(P,"videoMerchBobHorizontalUseNewApi",null)},"mini-modal-horizontal":{js:d(y,"miniModalHorizontalMinInitVideoBitrate",null),bv:d(y,"miniModalHorizontalMaxInitVideoBitrate",null),Vg:d(y,"miniModalHorizontalMinPrebufSize",null),gy:d(y,"miniModalHorizontalMaxPrebufSize",null),Yo:d(y,"miniModalHorizontalMaxBufferingTime",500),dv:d(y,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Zu:d(y,"miniModalHorizontalLowestWaterMarkLevel",null),Yu:d(y,"miniModalHorizontalLowestBufForUpswitch",null)}},aib:d(P,"enableVerbosePlaydelayLogging",!1),Yhb:d(P,"enableSeamless",!1),bga:d(y,"hindsightDenominator",0),aga:d(y,"hindsightDebugDenominator",0),aZ:d(va,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),SM:d(P,"enableSessionHistoryReport",!1),Xca:d(y,"earlyStageEstimatePeriod",1E4),MKa:d(y,"lateStageEstimatePeriod",3E4),o_:d(y,"maxNumSessionHistoryStored",30),E_:d(y,"minSessionHistoryDuration",3E4),as:d(y,"maxActiveRequestsPerSession",3),l_:d(y,"maxActiveRequestsSABCell100",2),p_:d(y,"maxPendingBufferLenSABCell100",500),xha:d(P,"limitAudioDiscountByMaxAudioBitrate",!0),cl:d(va,"browserInfo",{}),Eab:d(y,H("busyGracePeriod"),199),CCb:d(P,H("sendTransitionLogblob"),!0),fX:d(P,H("editAudioFragments"),!1),xx:d(P,H("editVideoFragments"),!1),Ahb:d(P,H("editAudioFragmentsBranching"),!0),tFa:d(P,H("editVideoFragmentsBranching"),!0),eX:d(P,H("earlyAppendSingleChildBranch"),!0),ypb:d(P,H("includeSegmentInfoOnLogblobs"),!0),Hib:d(P,"exposeTestData",!1),mca:d(P,"declareBufferingCompleteAtSegmentEnd",!0),xA:d(P,"applyProfileTimestampOffset",!1),wo:d(P,"applyProfileStreamingOffset",!1),z9a:d(P,H("allowSmallSeekDelta"),!1),jEb:d(y,H("smallSeekDeltaThresholdMilliseconds"),F.zT),Hhb:d(P,"enableCDMAttestedDescriptors",!1),Y0:d(P,"requireDownloadDataAtBuffering",!1),Z0:d(P,"requireSetupConnectionDuringBuffering",!1),Eka:d(P,"recordFirstFragmentOnSubBranchCreate",!1),qab:d(P,"branchingAudioTrackFrameDropSmallSeekFix",!0),AGa:d(P,"forceL3WidevineCdm",!1),JHb:d(P,"useMobileVMAF",!1),ygb:d(u,"desiredVMAFTypeMobile","phone_plus_lts"),zgb:d(u,"desiredVMAFTypeNonMobile","plus_lts"),wL:d(P,"activateSelectStartingVMAF",!1),dH:d(y,"minStartingVideoVMAF",1),zO:d(y,"minAcceptableVMAF",1),BO:d(y,"minAllowedVmaf",1),baa:d(P,"alwaysNotifyEOSForPlaygraph",!0),mX:d(P,"enableNewAse",!1),GI:d(P,"useNewApi",!1),lX:d(P,"enableHudsonFieldTest",!1),HN:d(la,"hudsonTitles",["81127954","70125931","80158148"]),jia:d(y,"maxPartialBuffersAtHudson",1),pH:d(y,"numberOfChunksPerSegment",4),Z1:d(y,"targetContentLatency",1E4),Jma:d(y,"targetLongContentLatency",3E4),Jia:d(y,"minimumTimeDelay",1),nX:d(P,"enableWsslEstimate",!1),eia:d(y,"maxAllowedOutstandingRequests",3)};S=!0;b.Aba=function(a){var f,c;if(0<b.config.dLa&&0===D.e5%b.config.dLa)try{f=k.Y.get(L.Sj);c=k.Y.get(g.bo).xn("config","info",{params:a});f.Jc(c);}catch(gf){k.log.error("Failed to log config$apply",gf);}N._cad_global.config=b.config;h.Wa(a);a&&(Ia=z.tb({},a,{RG:!0}),z.tb(Ia,E,{RG:!0}),l(jb,b.config),Ia.istestaccount&&k.log.trace("Config applied for",Qa(S?Ia:a)),S=!1);};b.Aba(Ia);};b.ucb=function(a,b){return J.Jd(a)&&"%"==a[a.length-1]?G.Bh(parseFloat(a)*b/100):a|0;};b.ODa=function(a){return a?(a=z.tb({},b.config),z.tb(a,{c0:b.config.KNa},{nv:!0})):b.config;};b.vcb=function(a){var f;f=z.tb({},b.config);return z.tb(f,c(a),{nv:!0});};b.Cba=function(b){b=c(b);return z.tb({},a(154)(b),{nv:!0});};b.Bba=function(f,h,k){k=!!k&&(0<=k.indexOf("h264hpl")||0<=k.indexOf("vp9"));f={$G:f?b.config.oub:b.config.$G,eH:f?b.config.xub:k?b.config.wub:b.config.eH,MB:f&&k?Math.max(b.config.VLa,b.config.ULa):f?b.config.VLa:k?b.config.ULa:b.config.MB,fy:k?b.config.ytb:b.config.fy,fX:b.config.fX||f&&b.config.Ahb,xx:b.config.xx||f&&b.config.tFa,eX:!h};return z.tb({},a(154)(f),{nv:!0});};b.xcb=c;b.wcb=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ae=b.jb=b.We=b.nb=b.U=b.a5=b.Dz=b.wb=void 0;(function(a){a.wsb="loadedtracks";a.usb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Fo="currenttimechanged";a.GCa="bufferedtimechanged";a.whb="durationchanged";a.oIb="videosizechanged";a.dxb="pausedchanged";a.dyb="playingchanged";a.jib="endedchanged";a.Paa="busychanged";a.eCa="audiotracklistchanged";a.LL="audiotrackchanged";a.RC="timedtexttracklistchanged";a.zI="timedtexttrackchanged";a.LQ="trickplayframeschanged";a.Tub="mutedchanged";a.uIb="volumechanged";a.aEb="showsubtitle";a.KAb="removesubtitle";a.AIb="watermark";a.Qga="isReadyToTransition";a.BG="inactivated";a.mCb="segmentmaploaded";a.nCb="segmentpresenting";a.E$a="autoplaywasallowed";a.F$a="autoplaywasblocked";}(b.wb||(b.wb={})));(b.Dz||(b.Dz={})).RP="playgraphsegmenttransition";b.a5=function(){function a(){}a.kRa="serverTimeChanged";return a;}();(function(a){a.eF="aseException";a.fF="aseReport";a.C$a="authorized";a.vaa="autoplayWasAllowed";a.ck="autoplayWasBlocked";a.U$a="bandwidthMeterAggregateUpdate";a.$t="bufferUnderrun";a.closed="closed";a.yf="closing";a.Fo="currentTimeChanged";a.vx="downloadComplete";a.BG="inactivated";a.OKa="licenseAdded";a.eO="licensed";a.Yr="locationSelected";a.SG="manifestClosing";a.Vo="manifestPresenting";a.CTb="manifestSelected";a.u_="mediaBufferChanged";a.Qia="needLicense";a.P_="nextSegmentChosen";a.Rn="playbackStart";a.gp="repositioned";a.ys="repositioning";a.JQa="safePlayRequested";a.fCb="segmentAborted";a.n1="segmentPresenting";a.tVb="segmentComplete";a.hCb="segmentLastPts";a.lCb="segmentStarting";a.dI="serverSwitch";a.RRa="shouldUpdateVideoDiagInfo";a.Ph="skipped";a.sI="subtitleError";a.Nma="throttledMediaTimeChanged";a.xI="timedTextRebuffer";a.RC="timedTextTrackListChanged";a.LQ="trickPlayFramesChanged";a.NQ="tryRecoverFromStall";a.qp="updateNextSegmentWeights";a.VHb="userInitiatedPause";a.sUa="userInitiatedResume";}(b.U||(b.U={})));(function(a){a[a.JD=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.ud=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";}(b.nb||(b.nb={})));(function(a){a[a.ud=1]="NORMAL";a[a.we=2]="BUFFERING";a[a.gwa=3]="STALLED";}(b.We||(b.We={})));(function(a){a[a.Xf=1]="WAITING";a[a.Nc=2]="PLAYING";a[a.Ch=3]="PAUSED";a[a.Pq=4]="ENDED";}(b.jb||(b.jb={})));(function(a){a[a.nz=0]="INITIAL";a[a.ft=1]="SEEK";a[a.WJ=2]="TRACK_CHANGED";a[a.Gz=3]="SEGMENT_CHANGED";}(b.Ae||(b.Ae={})));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fd=void 0;b.fd="ConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Tb=b.Hga=b.Ru=b.Jd=b.Yga=b.qqb=b.fqb=b.Pga=b.Qu=b.bKa=b.la=b.Wga=b.isArray=b.wKa=b.Se=b.Xb=b.is=void 0;d=a(142);b.is=d.Vs;b.Xb=function(a){return b.is.Td(a);};b.Se=function(a){return b.is.wA(a);};b.wKa=function(a){return b.is.E$(a);};b.isArray=function(a){return b.is.Tt(a);};b.Wga=function(a){return b.is.GBa(a);};b.la=function(a,l,q){return b.is.jh(a,l,q);};b.bKa=function(a,l,q){return b.is.caa(a,l,q);};b.Qu=function(a,l,q){return b.is.qr(a,l,q);};b.Pga=function(a){return b.is.uL(a);};b.fqb=function(a){return b.is.r8a(a);};b.qqb=function(a){return b.is.s8a(a);};b.Yga=function(a){return b.is.HBa(a);};b.Jd=function(a){return b.is.nn(a);};b.Ru=function(a){return b.is.Ql(a);};b.Hga=function(a){return b.is.tL(a);};b.Tb=function(a){return b.is.CV(a);};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Mfb=b.hca=b.Ffb=b.Jfb=b.DF=b.BM=b.Ifb=b.Kfb=b.EF=b.wEa=b.Hfb=b.Gfb=b.Wa=b.cf=b.Lfb=b.xoa=void 0;d=a(5);a=a(86);b.xoa=function(){b.Wa();};b.Lfb=!0;b.cf=d.Y.get(a.Nq);b.Wa=b.cf.assert.bind(b.cf);b.Gfb=b.cf.Z9a.bind(b.cf);b.Hfb=b.cf.$9a.bind(b.cf);b.wEa=b.cf.e$a.bind(b.cf);b.EF=b.cf.h$a.bind(b.cf);b.Kfb=b.cf.f$a.bind(b.cf);b.Ifb=b.cf.c$a.bind(b.cf);b.BM=b.cf.b$a.bind(b.cf);b.DF=b.cf.g$a.bind(b.cf);b.Jfb=b.cf.d$a.bind(b.cf);b.Ffb=b.cf.Y9a.bind(b.cf);b.hca=b.cf.a$a.bind(b.cf);b.Mfb=b.cf.$pb.bind(b.cf);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(411),b);},function(d){d.P={UJb:{ht:0,VOb:1,name:["STARTUP","STEADY"]},nS:{Gg:0,UOb:1,z2a:2,name:["STARTING","STABLE","UNSTABLE"]},La:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Ci:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},ng:{URL:0,Hz:1,osa:2,$s:3,name:["URL","SERVER","LOCATION","NETWORK"]},Le:{HAVE_NOTHING:0,lz:1,kz:2,nJ:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Fg:{BJb:0,ALb:1,aOb:2,NEXT:3,CNb:4,xPb:5,CLb:6,vMb:7,ht:8,ERROR:9,s6:10,i1a:11,Z2:12,o_a:13,n_a:14,M1a:15,L1a:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},dLb:{$s:0,yKb:1,name:["NETWORK","DECODE"]},ROb:{AKb:"delayedSeamless",VLb:"hideLongTransition"}};},function(d,b,a){var c,l,q,n;c=a(85);l=a(1103);q=a(257);n=a(1100);d=function(){function a(a){this.zt=!1;a&&(this.Ol=a);}a.prototype.jq=function(b){var h;h=new a();h.source=this;h.tH=b;return h;};a.prototype.subscribe=function(a,b,f){var h;h=this.tH;a=l.aGb(a,b,f);h?h.call(a,this.source):a.add(this.source||!a.Hm?this.Ol(a):this.t$(a));if(a.Hm&&(a.Hm=!1,a.LC))throw a.MC;return a;};a.prototype.t$=function(a){try{return this.Ol(a);}catch(h){a.LC=!0;a.MC=h;a.error(h);}};a.prototype.forEach=function(a,b){var f;f=this;b||(c.root.Fz&&c.root.Fz.config&&c.root.Fz.config.Promise?b=c.root.Fz.config.Promise:c.root.Promise&&(b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,h){var k;k=f.subscribe(function(b){if(k)try{a(b);}catch(J){h(J);k.unsubscribe();}else a(b);},h,b);});};a.prototype.Ol=function(a){return this.source.subscribe(a);};a.prototype[q.observable]=function(){return this;};a.prototype.vxb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:n.wxb(a)(this);};a.prototype.JQ=function(){var a,b;b=this;a||(c.root.Fz&&c.root.Fz.config&&c.root.Fz.config.Promise?a=c.root.Fz.config.Promise:c.root.Promise&&(a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,h){var f;b.subscribe(function(a){return f=a;},function(a){return h(a);},function(){return a(f);});});};a.create=function(b){return new a(b);};return a;}();b.mb=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.YDa=b.DGa=b.Au=b.dm=b.Fe=b.lO=b.trim=b.EN=b.ASa=b.tka=b.Kwb=b.Kd=b.UBa=b.UCa=b.tb=b.xd=void 0;c=a(16);l=a(22);q=a(10);n=a(15);b.xd=function(a,b){for(var h in a)a.hasOwnProperty(h)&&b(h,a[h]);};b.tb=b.tb||function(a,c,h){var f,k,p;if(c)if(h){f=h.RG;k=h.prefix;p=h.nv;b.xd(c,function(b,h){if(!p||l.Xb(h))a[(k||"")+(f?b.toLowerCase():b)]=h;});}else b.xd(c,function(b,f){a[b]=f;});return a;};b.UCa=function(a,b,h,f){var k;if(a){k=a[b];n.Tb(k)&&(h=k.apply(a,q.slice.call(arguments,3)));}return h;};b.UBa=function(a){for(var b={},h=a.length;h--;)b[a[h]]=!0;return b;};b.Kd=b.Kd||function(a){return parseInt(a,10);};b.Kwb=function(a){return/^true$/i.test(a);};b.tka=function(a,b){return q.Bh(a+q.wz()*(b-a));};b.ASa=function(a){return JSON.stringify(a,null,"  ");};b.EN=function(){var b,h;function a(a){c.Wa(void 0!==b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(b){return b.replace(h,a);};}();b.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();b.lO=function(a){return Array.isArray(a)?a:[a];};b.Fe=b.Fe||function(a){var b,h,f;if(a){b=a.stack;h=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;h&&(a+="\nnumber:"+h);return a;}};b.dm=function(a){return n.la(a)?a.toFixed(0):"";};b.Au=function(a){return n.la(a)?(a/1E3).toFixed(0):"";};b.DGa=function(a){return n.la(a)?a.toFixed():"";};b.YDa=function(a){for(var b=[],h=0;h<a.length;h++)b[h]=a[h];return b;};},function(d,b,a){b=a(129);b.bgb=0;d.P={EventEmitter:b,Fl:a(874)};},function(d,b,a){var n,k;function c(a){return null!==a&&void 0!==a;}function l(a){return typeof a==b.exa;}function q(a,b,f){var h,p,q;if(b)if(f){h=f.RG;p=f.prefix;q=f.nv;k.xd(b,function(b,f){if(!q||c(f))a[(p||"")+(h?b.toLowerCase():b)]=f;});}else k.xd(b,function(b,f){a[b]=f;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.I=b.Fe=b.EN=b.gG=b.LA=b.createElement=b.Br=b.TBa=b.nW=b.gI=b.tb=b.Pm=b.Kd=b.Ru=b.Jd=b.Se=b.Xb=b.dxa=b.n2a=b.o2a=b.exa=b.Uy=b.K2=b.wp=b.RI=b.QI=b.yi=b.JS=b.vz=b.wz=b.Om=b.Gl=b.Bh=b.E5=b.Xs=b.jD=b.e6=b.Cz=b.fj=b.Xe=void 0;n=a(10);k=a(20);b.Xe=function(){};b.fj=1E3;b.Cz=Object.create;b.e6=Object.keys;b.jD=Date.now;b.Xs=Math.floor;b.E5=Math.ceil;b.Bh=Math.round;b.Gl=Math.max;b.Om=Math.min;b.wz=Math.random;b.vz=Math.abs;b.JS=Math.pow;b.yi="$attributes";b.QI="$children";b.RI="$name";b.wp="$text";b.K2="$parent";b.Uy="$sibling";b.exa="string";b.o2a="number";b.n2a="function";b.dxa="object";b.Xb=c;b.Se=function(a){return typeof a==b.dxa;};b.Jd=l;b.Ru=function(a){return l(a)&&a;};b.Kd=function(a){return parseInt(a,10);};b.Pm=function(a,b,f){return a>=b?a<=f?a:f:b;};b.tb=q;b.gI=function(a){return q({},a);};b.nW=function(a){var k;for(var b=0;b<arguments.length;++b);for(var b=0,f=arguments.length;b<f;){k=arguments[b++];if(c(k))return k;}};b.TBa=function(a,b){for(var f,h=!0,c;h;)for(h=!1,f=a.length;--f;)c=a[f],c[b]<a[f-1][b]&&(a[f]=a[f-1],a[f-1]=c,h=!0);};b.Br=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.createElement=function(a,b,f,c){var h;h=n.ne.createElement(a);b&&(h.style.cssText=b);f&&(h.innerHTML=f);c&&k.xd(c,function(a,b){h.setAttribute(a,b);});return h;};b.LA=function(a){var b;b="";k.xd(a,function(a,h){b+=(b?";":"")+a+":"+h;});return b;};b.gG=function(a,h,f){var c;a/h>f?(c=b.Bh(h*f),a=h):(c=a,a=b.Bh(a/f));return{width:c,height:a};};b.EN=function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};}();b.Fe=function(a){var b,f;if(a){b=a.stack;f=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;f&&(b+="\nnumber:"+f);return b;}};b.I={Pk:1001,Ah:1003,HYa:1701,Tqa:1713,IYa:1715,GYa:1721,aS:1723};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Je=void 0;b.Je="IsTypeSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sf=void 0;b.sf="AsyncComponentLoaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ue=void 0;b.Ue="ApplicationSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tf=void 0;b.tf="UtilitiesSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(128);b.Ya=!1;d=function(){function a(a,b,c,p,h){this.bb=a;this.type=b;this.byteOffset=c;this.byteLength=p;this.parent=h;this.Pc={};this.$B=p;}a.gB=function(a,b){var p,f;function c(a){a&&a.gB&&(a=a.gB(b),a.length&&(p=p.concat(a)));}p=[];a.type===b&&p.push(a);if(a.Pc)for(var h in a.Pc){f=a.Pc[h];Array.isArray(f)&&f.forEach(c);}return p;};a.yL=function(a,b){void 0===a.Pc[b.type]&&(a.Pc[b.type]=[]);a.Pc[b.type].push(b);};a.hB=function(b,c){return a.gB(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.bb;},enumerable:!0,configurable:!0}});a.prototype.Uf=function(){var a;a=this.bb.Fb();this.version=a>>24;this.gf=a&16777215;};a.prototype.yL=function(b){a.yL(this,b);};a.prototype.gB=function(b){return a.gB(this,b);};a.prototype.hB=function(b){return a.hB(this,b);};a.prototype.parse=function(){return!0;};a.prototype.dG=function(){return!0;};a.prototype.Fq=function(a){if((a=this.Pc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Fk=function(a,b){b=void 0===b?this.bb.offset:b;c.assert(b>=this.startOffset+8&&b+a<=this.startOffset+this.$B,"Removal range [0x"+b.toString(16)+"-0x"+(b+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.$B).toString(16)+")");this.bb.Fk(a,b,this);};a.prototype.S0=function(a,b,k){k=void 0===k?this.bb.offset:k;c.assert(k>=this.startOffset+8&&k+a<=this.startOffset+this.$B,"Removal range [0x"+k.toString(16)+"-0x"+(k+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.$B).toString(16)+")");this.bb.S0(a,b,k,this);};a.prototype.HPa=function(a,b,c){if(1<c){for(var k=[];0<c--;)k.push(this.oAa(a,b));return k;}return this.oAa(a,b);};a.prototype.ws=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var h,f;if("offset"===a.type){h=a.offset;if(0<h%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.bb.offset+=h/8;}else for(h in a){f=a[h];b[h]="string"===typeof f?c.HPa(f):c.HPa(f.type,f.length,f.R9a);}});return b;};a.prototype.oAa=function(a,b){var c;c=this.byteLength-this.bb.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.bb.qd();break;case"int64":a=this.bb.Zi();break;case"int32":a=this.bb.Fb();break;case"int16":a=this.bb.Yg();break;case"string":a=this.bb.Bzb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};a.ic=!1;return a;}();b.Wf=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zJ=b.ez=b.Ei=b.LR=void 0;b.LR="ConfigurableInputsSymbol";b.Ei="ValidatingConfigurableInputsSymbol";b.ez="ConfigNameSymbol";b.zJ="InitParamsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.PD=b.hT=b.G3=b.n5=b.zta=b.dt=b.Y7=b.cw=b.f8=void 0;b.f8="WindowTimersSymbol";b.cw="JSONSymbol";b.Y7="UserAgentSymbol";b.dt="NavigatorSymbol";b.zta="MediaSourceSymbol";b.n5="LocationSymbol";b.G3="DateSymbol";b.hT="PerformanceSymbol";b.PD="PlatformExtraInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qj=b.Zs=b.Ts=void 0;(function(a){a[a.hxa=0]="Test";a[a.gsa=1]="Int";a[a.e2a=2]="Staging";a[a.q1a=3]="Prod";}(b.Ts||(b.Ts={})));(function(a){a[a.oT=0]="PreferMsl";a[a.Ava=1]="PreferNoMsl";a[a.m0a=2]="NoMsl";}(b.Zs||(b.Zs={})));b.Qj="GeneralConfigSymbol";},function(d,b,a){var n,k;function c(a,b){return a&&a.zj&&(b||!1!==a.Dx);}function l(a,b,f){return!n.la(a)||a<b?b:a>f?f:a;}function q(a){if(!(this instanceof q))return new q(a);this.rd=n.la(a)?a:void 0;}n=a(7);k=new(a(4)).Console("ASEJS_STREAM_SELECTOR","media|asejs");d.P={console:k,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",k.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},AB:c,Lda:function(a,b,f){var c,k,p,q;function h(b){var h;h=a[b];if(!h.zj||f&&!f(h,b))return!1;q=b;return!0;}c=a.length;k=0;p=c;n.isArray(b)&&(k=l(b[0],0,c),p=l(b[1],0,c),b=b[2]);b=l(b,k-1,p);for(c=b-1;c>=k;--c)if(h(c))return q;for(c=b+1;c<p;++c)if(h(c))return q;return-1;},Lub:function(a,b){return Math.floor(a/(125*b)*1E3);},Fab:function(a,b){return Math.ceil(a/1E3*b*125);},fTb:function(a,b){return!a.slice(b+1).some(c);},Um:q,sn:function(a,b){var f;return a.some(function(a,h,c){f=a;return b(a,h,c);})?f:void 0;},$w:function(a,b){var f;return a.some(function(a,h,c){f=h;return b(a,h,c);})?f:-1;},kW:l};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gYa=b.SR=b.Rxa=b.E2a=b.Xh=b.vd=b.Xj=b.Tv=b.Vq=void 0;(function(a){a[a.Audio=0]="Audio";a[a.Mxa=1]="Video";}(b.Vq||(b.Vq={})));(function(a){a[a.gz=0]="Default";a[a.zz=1]="Microsoft";}(b.Tv||(b.Tv={})));(function(a){a[a.gz=0]="Default";a[a.r3=1]="Cast";a[a.u3=2]="Chrome";a[a.zz=3]="Microsoft";a[a.nwa=4]="Safari";}(b.Xj||(b.Xj={})));(function(a){a[a.VJ=0]="SD";a[a.iS=1]="HD";a[a.LT=2]="UHD";a[a.Ss=3]="DV";a[a.Us=4]="HDR10";a[a.cD=5]="AVCHigh";a[a.vw=6]="VP9";a[a.zi=7]="AV1";}(b.vd||(b.vd={})));(function(a){a[a.Sq=0]="Level_1_4";a[a.rz=1]="Level_2_2";}(b.Xh||(b.Xh={})));b.E2a=function(){};(function(a){a[a.jOb=0]="Platform";a[a.vKb=1]="CurrentTitle";}(b.Rxa||(b.Rxa={})));b.SR="DeviceCapabilitiesSymbol";b.gYa=function(){};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cp=b.Wj=void 0;b.Wj="PlatformSymbol";b.Cp="PlatformMutableSymbol";},function(d,b){function a(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});b.ka=void 0;d=function(){function b(a,b){"object"===typeof a?(this.Lt=a.Ab,this.Pl=a.S):(this.Lt=a,this.Pl=b);}b.vwb=function(a){return new b(1,a);};b.Bf=function(a){return new b(a,1E3);};b.Wma=function(a,b){return Math.floor(1E3*a/b);};b.Pia=function(a,b){return Math.floor(a*b/1E3);};b.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.kea=function(q,n){var k;if(q.S===n.S)return new b(c(q.Ab,n.Ab),q.S);k=a(q.S,n.S);return b.kea(q.Jf(k),n.Jf(k));};Object.defineProperties(b.prototype,{Ab:{get:function(){return this.Lt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{va:{get:function(){return 1E3*this.Lt/this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ah:{get:function(){return this.Lt/this.Pl;},enumerable:!1,configurable:!0}});b.prototype.Jf=function(a){a/=this.S;return new b(Math.floor(this.Ab*a),Math.floor(this.S*a));};b.prototype.add=function(c){var n;if(this.S===c.S)return new b(this.Ab+c.Ab,this.S);n=a(this.S,c.S);return this.Jf(n).add(c.Jf(n));};b.prototype.Mb=function(a){return this.add(new b(-a.Ab,a.S));};b.prototype.J_=function(a){return new b(this.Ab*a,this.S);};b.prototype.su=function(b){var c;if(this.S===b.S)return this.Ab/b.Ab;c=a(this.S,b.S);return this.Jf(c).su(b.Jf(c));};b.prototype.HIa=function(b){return a(this.S,b);};b.prototype.QPa=function(){return new b(this.S,this.Ab);};b.prototype.compare=function(b,c){var k;if(this.S===c.S)return b(this.Ab,c.Ab);k=a(this.S,c.S);return b(this.Jf(k).Ab,c.Jf(k).Ab);};b.prototype.fl=function(a){return this.equal(a)?0:this.lessThan(a)?-1:1;};b.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};b.prototype.mH=function(a){return this.compare(function(a,b){return a!==b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};b.prototype.Yx=function(a){return this.compare(function(a,b){return a<=b;},a);};b.prototype.xG=function(a){return this.compare(function(a,b){return a>=b;},a);};b.prototype.bab=function(a,b){var c;c=!1;void 0===c&&(c=!0);return c?this.xG(a)&&this.Yx(b):this.greaterThan(a)&&this.lessThan(b);};b.prototype.toJSON=function(){return{ticks:this.Ab,timescale:this.S};};b.prototype.toString=function(){return this.Ab+"/"+this.S;};b.sd=new b(0,1);b.mv=new b(1,1E3);b.wga=new b(Infinity,1);return b;}();b.ka=d;},function(d,b,a){var l,q,n,k;function c(){return b.oK.GB.ba(k.ia);}Object.defineProperty(b,"__esModule",{value:!0});b.Ybb=b.pba=b.vDa=b.uDa=b.Xbb=b.jM=b.Og=b.e5=b.jza=b.oK=b.H8=void 0;d=a(510);l=a(40);q=a(25);n=a(114);k=a(3);b.H8=d.Zc.get(l.Bi);b.oK=d.Zc.get(q.Ue);b.jza=d.Zc.get(n.pz);b.e5=b.oK.id;b.Og=function(){return b.oK.Zb().ba(k.ia);};b.jM=function(){return b.H8.ef.ba(k.Il);};b.Xbb=function(){return b.oK.GB.ba(k.Il);};b.uDa=function(){return b.jza.MA();};b.vDa=c;b.pba=function(){return b.H8.ef.ba(k.ia);};b.Ybb=function(){return c();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hg=void 0;b.Hg="SchedulerSymbol";},function(d,b,a){var n,k,p;function c(a){return function(b,h){return b.Aka(h,a);};}function l(a,b){return a.G0.qzb[b]||q(a,b);}function q(a,b){a=a.Ku.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.rn=b.Jka=b.object=b.sib=b.url=b.aa=b.Ug=b.jna=b.Zpb=b.X1=b.string=b.Nv=b.kd=b.wZ=b.config=void 0;n=a(48);k=a(3);p=a(136);b.config=function(a,b){return function(f,h,c){var k,t;k=void 0!==b?b:h;t=c.get;void 0!==t&&(c.get=function(){var b;if(!this.Kqb(h))return this.dnb(h);a:{b=(this.x9a?l:q)(this,k.toString());if(void 0!==b)if(b=a(this.OO,b),b instanceof p.Qm)this.HGa(k,b);else break a;b=t.bind(this)();}this.rBb(h,b);return b;});return c;};};b.wZ=function(a,b){return a.DPa(b);};b.kd=function(a,b){return a.xka(b);};b.Nv=function(a,b){return a.Pa(b);};b.string=function(a,b){return a.Aka(b);};b.X1=function(a,f){return a.Ld(f,b.string);};b.Zpb=function(a,f){return a.Ld(f,b.wZ);};b.jna=function(a,f){return a.Ld(f,b.Nv);};b.Ug=function(a,b){a=a.Pa(b);return a instanceof p.Qm?a:k.Ib(a);};b.aa=function(a,b){a=a.Pa(b);return a instanceof p.Qm?a:n.aa(a);};b.url=c(/^\S+$/);b.sib=function(a){return function(b,h){return b.CPa(h,a);};};b.object=function(){return function(a,b){return a.EPa(b);};};b.Jka=c;b.rn=function(a,b){return function(f,h){return f.Ld(h,a,b);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kw="named";b.NS="name";b.aK="unmanaged";b.Yta="optional";b.xJ="inject";b.uz="multi_inject";b.Wwa="inversify:tagged";b.Xwa="inversify:tagged_props";b.i6="inversify:paramtypes";b.tXa="design:paramtypes";b.LJ="post_construct";},function(d,b,a){var n,k,p;function c(a){var b,h,c,q;c=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a!==Object.prototype;){try{for(var k=(b=void 0,n.__values(Object.getOwnPropertyNames(a))),p=k.next();!p.done;p=k.next()){q=p.value;-1===c.indexOf(q)&&c.push(q);}}catch(F){b={error:F};}finally{try{p&&!p.done&&(h=k["return"])&&h.call(k);}finally{if(b)throw b.error;}}a=Object.getPrototypeOf(a);}return c;}function l(a,b,c,k,p){var f;Object.getOwnPropertyNames(a).filter(function(a){return p(a)&&(c||!Object.prototype.hasOwnProperty.call(b,a))&&(k||!(a in b));}).forEach(function(h){f=Object.getOwnPropertyDescriptor(a,h);void 0!==f&&Object.defineProperty(b,h,f);});}function q(a,b,k,p){var f,h;f=[];k||(f=Object.getOwnPropertyNames(b));p||(f=c(b));h=Object.getPrototypeOf(a);null!==h&&h!==Object.prototype&&q(h,b,k,p);l(a,b,!0,!0,function(a){return"constructor"!==a&&-1===f.indexOf(a);});}Object.defineProperty(b,"__esModule",{value:!0});b.pf=b.Qcb=void 0;n=a(0);k=a(6);b.Qcb=q;p=Object.getOwnPropertyNames(Function);b.pf=function(a,b,c,n){void 0===c&&(c=!0);void 0===n&&(n=!0);n||k.assert(!c);a.prototype?(q(a.prototype,b.prototype,c,n),l(a,b,c,n,function(a){return-1===p.indexOf(a);})):l(a,b.prototype,c,n,function(a){return-1===p.indexOf(a);});return b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bi=void 0;b.Bi="ClockSymbol";},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.$d=b.XI=b.bxa=void 0;c=a(0);l=a(1110);q=a(1);n=a(136);b.bxa="isTestAccount";k=function(){var h;function a(a,b){this.QDa=b;this.oka={};this.Ku=a.Ku;this.OO=a.OO;this.G0=a.G0;}a.prototype.HGa=function(){};a.prototype.rBb=function(a,b){this.oka[a]=[b,this.Ku.c1];};a.prototype.Kqb=function(a){return l.h6.of(this.oka[a]).map(function(a){return a[1];}).NNa(-1)<this.Ku.c1;};a.prototype.dnb=function(a){return l.h6.of(this.oka[a]).map(function(a){return a[0];}).NNa(function(){throw Error("Invalid State Error");});};na.Object.defineProperties(a.prototype,{x9a:{configurable:!0,enumerable:!0,get:function(){var a,h;if(this&&this.Ku&&this.Ku.data){a=this.Ku.data[b.bxa];"undefined"!==typeof a&&(h=a.toString());a=this.OO.xka(h);a=a instanceof n.Qm?!1:a;}else a=!1;return a;}}});h=a;return h=c.__decorate([q.N(),c.__param(0,q.Vh()),c.__param(1,q.Vh())],h);}();b.XI=k;d=function(){var b;function a(a,b){var f;f=k.call(this,a,b)||this;f.QDa=b;f.debug=a.debug;f.ja=a.Df.yb(f.QDa);return f;}ca(a,k);a.prototype.HGa=function(a,b){this.ja.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};b=a;return b=c.__decorate([c.__param(0,q.Vh()),c.__param(1,q.Vh())],b);}();b.$d=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xT=b.og=b.hh=void 0;b.hh={fLa:"logblob",ya:"manifest",pi:"license",events:"events",bind:"bind",WNa:"pair",ping:"ping",config:"config"};d=b.og||(b.og={});d[d.Qq=20]="High";d[d.M5=10]="Medium";d[d.AD=0]="Low";b.xT={og:"reqPriority",B1a:"reqAttempt",C1a:"reqName"};},function(d,b,a){var h,f,t,z,G,D,J;function c(){var a,f;if(a=b.uY.mAa)return a;a=D.TS.search.substr(1);f=a.indexOf("#");0<=f&&(a=a.substr(0,f));a=l(a);return b.uY.mAa=a;}function l(a){for(var b=/[+]/g,f=(a||"").split("&"),h={},c,k=0;k<f.length;k++)a=z.trim(f[k]),c=a.indexOf("="),0<=c?h[decodeURIComponent(a.substr(0,c).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(c+1).replace(b,"%20")):h[a.toLowerCase()]=null;return h;}function q(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function n(a){return q(a.constructor);}function k(a){return D.sort.call(a,function(a,b){return a-b;});}function p(a){for(var b=0,f=a.length;f--;)b+=a[f];return b;}Object.defineProperty(b,"__esModule",{value:!0});b.iyb=b.vN=b.zHa=b.PZ=b.eyb=b.kKa=b.lWa=b.mWa=b.Ejb=b.Mp=b.rcb=b.gG=b.bjb=b.YB=b.EVa=b.R2=b.FVa=b.oR=b.boa=b.DVa=b.Vpb=b.LA=b.Eyb=b.mja=b.Aea=b.getFunctionName=b.qH=b.bP=b.uY=b.Wmb=b.zPa=b.oBa=b.TDa=b.zzb=b.Br=b.tba=void 0;h=a(9);f=a(16);t=a(5);z=a(20);G=a(22);D=a(10);J=a(15);b.tba=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var f in a)if(a.hasOwnProperty(f)&&(!b.hasOwnProperty(f)||a[f]!==b[f]))return!1;return!0;};b.Br=b.Br||function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.zzb=function(a){var b;if(a){b=a.length;if(b)return b=z.tka(0,b-1),a[b];}};b.TDa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};b.oBa=function(a,b,f){function h(){a.removeEventListener(b,h);f.apply(this,arguments);}a.addEventListener(b,h);};b.zPa=function(){var a,b,f,h,c,k;a=D.ne.cookie.split("; ");b=a.length;k={};for(f=0;f<b;f++)if(h=z.trim(a[f]))c=h.indexOf("="),0<c&&(k[h.substr(0,c)]=h.substr(c+1));return k;};b.Wmb=c;b.uY=Object.assign(c,{mAa:void 0});b.bP=l;b.qH=function(a){var b;b="";z.xd(a,function(a,h){b&&(b+="&");f.Wa(G.Jd(h)||J.la(h)||J.Hga(h));b+=encodeURIComponent(a)+"="+encodeURIComponent(h);});return b;};b.getFunctionName=q;b.Aea=n;b.mja=function(a){var b;b="";J.isArray(a)||J.Wga(a)?b=D.reduce.call(a,function(a,b){return a+(32<=b&&128>b?D.Rwa(b):".");},""):G.Jd(a)?b=a:z.xd(a,function(a,f){b+=(b?", ":"")+"{"+a+": "+(J.Tb(f)?q(f)||"function":f)+"}";});return"["+n(a)+" "+b+"]";};b.Eyb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.LA=b.LA||function(a){var b;b="";z.xd(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};b.Vpb=function(a,b){var f;f=a[0];if(b<=f[0])return f.slice(1);for(var h=1,c;c=a[h++];){if(b<=c[0]){a=(b-f[0])/(c[0]-f[0]);b=[];for(h=1;h<f.length;h++)b.push((f[h]||0)+a*((c[h]||0)-(f[h]||0)));return b;}f=c;}return f.slice(1);};b.DVa=function(a,b){var c;for(var f={},h=0;h<b.length;h++){c=b[h];if("string"!=typeof c&&"number"!=typeof c)return!1;f[b[h]]=1;}for(h=0;h<a.length;h++)if(c=a[h],!f[c])return!1;return!0;};b.boa=function(a,b){0>a.indexOf(b)&&a.push(b);};b.oR=k;b.FVa=p;b.R2=function(a,b){var f,h,c,k;f=-1;h=a.length;if(1===arguments.length){for(;++f<h&&!(null!=(c=a[f])&&c<=c);)c=void 0;for(;++f<h;)null!=(k=a[f])&&k>c&&(c=k);}else{for(;++f<h&&!(null!=(c=b.call(a,a[f],f))&&c<=c);)c=void 0;for(;++f<h;)null!=(k=b.call(a,a[f],f))&&k>c&&(c=k);}return c;};b.EVa=function(a,b){var f,h,c,k;f=-1;h=a.length;if(1===arguments.length){for(;++f<h&&!(null!=(c=a[f])&&c<=c);)c=void 0;for(;++f<h;)null!=(k=a[f])&&c>k&&(c=k);}else{for(;++f<h&&!(null!=(c=b.call(a,a[f],f))&&c<=c);)c=void 0;for(;++f<h;)null!=(k=b.call(a,a[f],f))&&c>k&&(c=k);}return c;};b.YB=function(a){return J.Tb(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};b.bjb=function(a,b){var h,c,p,t,n,q;function f(a){0>h.indexOf(a)&&J.la(a)&&h.push(a);}a=a.slice();k(a);h=[];if(!b||!b.length)return a;if(!a.length)return[];c=b.length;try{for(;c--;){n=""+b[c];q=G.Kd(n);switch(n[n.length-1]){case"-":for(p=a.length;p--;)if(t=a[p],t<q){f(t);break;}break;case"+":for(p=0;p<a.length;p++)if(t=a[p],t>q){f(t);break;}break;default:0<=a.indexOf(q)&&f(q);}}}catch(qa){}h.length||h.push(a[0]);k(h);return h;};b.gG=b.gG||function(a,b,f){var h;a/b>f?(h=D.Bh(b*f),a=b):(h=a,a=D.Bh(a/f));return{width:h,height:a};};b.rcb=function(a,b,f){for(var h=[],c=0;c<b;c++)h.push(D.JS(a[c]-f,2));return D.mta(p(h)/h.length);};b.Mp=function(a,b){var f;f=a.length;b=(f-1)*b+1;if(1===b)return a[0];if(b==f)return a[f-1];f=D.Xs(b);return a[f-1]+(b-f)*(a[f]-a[f-1]);};b.Ejb=function(a,b){if(!J.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=J.isArray(b)?b:[b];for(var f=a.length,h=0;h<f;h++)for(var c=0;c<b.length;c++)if(a[h].type==b[c])return a[h];throw Error("Box not found "+b);};b.mWa=function(a){return a.Hx("trak/mdia/minf/stbl/stsd/"+h.Hoa+"|"+h.Ioa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.Pda.schm.QBb;})[0].Hx("schi/tenc").Xr;};b.lWa=function(a){var f;function b(a,b){var h;h=f[a];f[a]=f[b];f[b]=h;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};b.kKa=function(){return J.Tb(D.Di.requestMediaKeySystemAccess);};b.eyb=function(a){return function(b){return b&&b[a];};};J.Tb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var f,h;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);f=new ArrayBuffer(b-a);h=new Uint8Array(f);a=new Uint8Array(this,a,b-a);h.set(a);return f;});b.PZ=function(a){return a&&0==a.toLowerCase().indexOf("https");};b.zHa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};b.vN=function(){var a,b,f;try{a=/playercore.*js/;b=D.Wq.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){f=D.Bh(b[0].duration);return JSON.stringify(f);}}catch(U){}};b.iyb=function(a,b,f){if(a&&a.length)if(f&&f.Ibb)try{a.forEach(function(a,h){var c;c=(h=f.Ibb[h])&&h.media;c&&G.Jd(c)?(c=t.Ul(c).buffer,a.media={arrayBuffer:c,length:c.byteLength,stream:b,gc:h.cdn}):t.log.warn("chunk not in cache",a.Tg);});}catch(U){t.log.error("error reading cached chunks",U);}else t.log.warn("chunks not available in cached stream",f.type);else t.log.warn("chunks not available in mediabuffer",f.type);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cj=void 0;b.cj="Base64EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vj=void 0;b.Vj="PboCommandContextSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o5=b.Sj=b.GS=void 0;b.GS="LogBatcherConfigSymbol";b.Sj="LogBatcherSymbol";b.o5="LogBatcherProviderSymbol";},function(d,b,a){var l;function c(a,b,c,p,h,f,t,z,d,D,J,F){this.code=void 0===a?l.J.Pk:a;this.cd=b;this.ph=c;this.PF=p;this.ks=h;this.message=f;this.JF=t;this.data=z;this.nda=d;this.Rxb=D;this.alert=J;this.Z$=F;this.da=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Bc=void 0;l=a(2);c.Fe=function(a){var b,c,p;if(a){b=a.stack;c=a.number;p=a.message;p||(p=""+a);b?(a=""+b,0!==a.indexOf(p)&&(a=p+"\n"+a)):a=p;c&&(a+="\nnumber:"+c);return a;}return"";};c.prototype.HM=function(a){this.JF=c.Fe(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return{code:this.code,subCode:this.cd,extCode:this.ph,edgeCode:this.PF,mslCode:this.ks,message:this.message,details:this.JF,data:this.data,errorDisplayMessage:this.nda,playbackServiceError:this.Rxb};};c.UX=function(a,b){return new c(a,l.I.Ah,void 0,void 0,void 0,void 0,b.message,b.stack);};b.Bc=c;},function(d,b,a){var q;function c(a){return q.bK.apply(this,arguments)||this;}function l(a){return new q.Bp(a,b.cz);}Object.defineProperty(b,"__esModule",{value:!0});b.sd=b.Bta=b.i5=b.Mq=b.cz=b.Utb=b.qrb=b.aa=b.TL=b.rWa=void 0;q=a(503);ca(c,q.bK);b.rWa=c;b.TL=l;b.aa=function(a){return new q.Bp(a,b.Mq);};b.qrb=function(a){return new q.Bp(a,b.i5);};b.Utb=function(a){return new q.Bp(a,b.Bta);};b.cz=new c(1,"b");b.Mq=new c(8*b.cz.qf,"B",b.cz);b.i5=new c(1024*b.Mq.qf,"KB",b.cz);b.Bta=new c(1024*b.i5.qf,"MB",b.cz);b.sd=l(0);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.cja=b.ZDa=b.Mr=b.rub=b.FDa=b.$w=b.sn=void 0;c=a(0);b.sn=function(a,b){var c;return a.some(function(a,p,h){c=a;return b(a,p,h);})?c:void 0;};b.$w=function(a,b){var c;c=-1;return a.some(function(a,p){c=p;return b(a);})?c:-1;};b.FDa=function(a){return function(b,c){b=a(b);c=a(c);return b<c?-1:b>c?1:0;};};b.rub=function(a){return function(b,c){return a(b)<a(c)?b:c;};};b.Mr=function(a){var b;return(b=[]).concat.apply(b,c.__spread(a));};b.ZDa=function(a,b){void 0===b&&(b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return void 0===a[c]?a[c]=1:++a[c],a;},{});};b.cja=function(a){return null!==a&&void 0!==a;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Kub=b.platform=b.am=b.yc=b.cmb=b.tLa=void 0;d=a(0);d.__exportStar(a(411),b);d.__exportStar(a(878),b);d.__exportStar(a(877),b);d.__exportStar(a(876),b);b.tLa=function(c){b.platform.LN(c);return a(875).dta;};b.cmb=function(){return a(214);};d=a(18);b.yc=d;d=a(710);b.am=d.am;d=a(4);b.platform=d;c=a(709);b.Kub=function(){return{jw:c.jw};};},function(d,b,a){var c,l;c=a(111);l=a(167);d.P=function(a){return function k(b,h){switch(arguments.length){case 0:return k;case 1:return l(b)?k:c(function(f){return a(b,f);});default:return l(b)&&l(h)?k:l(b)?c(function(b){return a(b,h);}):l(h)?c(function(f){return a(b,f);}):a(b,h);}};};},function(d,b,a){var l,q,n,k,p,h;function c(a){return["STANDARD","LIMITED","PREVIEW"][a];}Object.defineProperty(b,"__esModule",{value:!0});b.Od=b.xa=b.ai=b.ye=void 0;d=a(115);(function(a){a[a.Sm=0]="STANDARD";a[a.dw=1]="LIMITED";a[a.$Nb=2]="PREVIEW";}(l||(l={})));q=function(){function a(){}a.Woa="created";a.hwa="started";a.mwa="succeeded";a.Yv="failed";a.dz="cancelled";a.zR="cancelled_on_create";a.ZI="cancelled_on_start";a.yR="cancelled_not_encrypted";return a;}();b.ye=q;n=function(){function a(){}a.FPb="uirequest";a.ZNb="prefetch_start";a.XNb="prefetch_complete";a.YNb="prefetch_delete";a.J0a="periodic_update";return a;}();k={manifest:d.ze.Pj.Kna,ldl:d.ze.Pj.qz,getHeaders:d.ze.Pj.rJ,getMedia:d.ze.Pj.MEDIA};(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";}(p||(p={})));(function(a){a.nVa="asl_start";a.lVa="asl_comp";a.uJb="asl_exc";a.mVa="asl_fail";a.X1a="stf_creat";a.rZa="idb_open";a.oZa="idb_block";a.yZa="idb_upgr";a.xZa="idb_succ";a.pZa="idb_error";a.qZa="idb_invalid_state";a.tZa="idb_open_timeout";a.vZa="idb_open_wrkarnd";a.wZa="idb_storelen_exc";a.sZa="idb_open_exc";a.uZa="idb_timeout_invalid_storelen";a.M_a="msl_load_data";a.O_a="msl_load_no_data";a.N_a="msl_load_failed";}(h=b.ai||(b.ai={})));(function(a){a.l6="PlaybackRequestStart";a.k6="PlaybackRequestEnd";a.wT="RequestPrefetchManifestStart";a.vT="RequestPrefetchManifestEnd";a.uT="RequestManifestStart";a.tT="RequestManifestEnd";a.sT="RequestLicenseStart";a.rT="RequestLicenseEnd";a.ER="RequestTimedTextUrlStart";a.DR="RequestTimedTextUrlEnd";a.CR="RequestAudioUrlStart";a.BR="RequestAudioUrlEnd";a.GR="RequestVideoUrlStart";a.FR="RequestVideoUrlEnd";a.M2="AppendBufferStart";a.L2="AppendBufferEnd";a.s7="SetMediaKeysStart";a.r7="SetMediaKeysEnd";a.cS="GenerateChallengeStart";a.bS="GenerateChallengeEnd";a.O2="ApplyLicenseStart";a.N2="ApplyLicenseEnd";}(b.xa||(b.xa={})));b.Od=function(){function a(){}a.qMb=l;a.WDa=c;a.ye=q;a.g1a=n;a.MJ=k;a.ai=h;a.jra=p;return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dl=void 0;b.Dl="EmeConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.om=b.REb=b.sNa=void 0;b.sNa=function(a,b){return a-b;};b.REb=function(a,b){return a.localeCompare(b);};b.om=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XXa="Cannot apply @injectable decorator multiple times.";b.YXa="Metadata key was used more than once in a parameter:";b.FJ="NULL argument";b.ksa="Key Not Found";b.bVa="Ambiguous match found for serviceIdentifier:";b.xWa="Could not unbind serviceIdentifier:";b.e0a="No matching bindings found for serviceIdentifier:";b.E_a="Missing required @injectable annotation in:";b.F_a="Missing required @inject or @multiInject annotation in:";b.x2a=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.AWa="Circular dependency found:";b.cNb="Sorry, this feature is not fully implemented yet.";b.UZa="Invalid binding type:";b.f0a="No snapshot available to restore.";b.XZa="Invalid return type in middleware. Middleware must return!";b.kMb="Value provided to function binding must be a function!";b.ZZa="The toSelf function can only be applied when a constructor is used as service identifier";b.VZa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.cVa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};b.PWa="Invalid Container constructor argument. Container options must be an object.";b.NWa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.MWa="Invalid Container option. Auto bind injectable must be a boolean";b.OWa="Invalid Container option. Skip base check must be a boolean";b.S_a="Cannot apply @postConstruct decorator multiple times in the same class";b.f1a=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};b.BWa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};b.U1a="Maximum call stack size exceeded";},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.JY=b.wG=b.KY=b.Ox=b.ll=b.He=void 0;d=a(76);c=a(59);l=a(10);b.He=new d.dj();b.ll=1;b.Ox=2;b.KY=3;b.wG=4;b.JY=5;c.oc(function(){var c,k,p;function a(a,b){if(k)k.on(a,b);else N.addEventListener(a,b);}c=N.jQuery;k=c&&c(N);c=(c=N.netflix)&&c.cadmium&&c.cadmium.addBeforeUnloadHandler;p=l.ne.hidden;c?c(function(a){b.He.Vb(b.ll,a);}):a("beforeunload",function(a){b.He.Vb(b.ll,a);});a("keydown",function(a){b.He.Vb(b.Ox,a);});a("resize",function(){b.He.Vb(b.KY);});l.ne.addEventListener("visibilitychange",function(){p!==l.ne.hidden&&(p=l.ne.hidden,b.He.Vb(b.wG));});});(function(){N.addEventListener("error",function(a){b.He.Vb(b.JY,a);return!0;});}());},function(d,b,a){var l,q;function c(a,k){var p;p=b.Rm[0];p==k&&(p=b.Rm[1]);p?p.close(function(){c(a,k);}):a&&a(l.gd);}Object.defineProperty(b,"__esModule",{value:!0});b.ava=b.$ua=b.P6=b.Q6=b.QD=b.S6=b.R6=b.V6=b.U6=b.Rm=b.W6=b.T6=void 0;l=a(9);q=a(16);b.T6=c;b.W6=function(a,c){switch(a){case b.R6:b.U6.push(c);return;case b.S6:b.V6.push(c);return;}q.Wa(!1);};b.Rm=[];b.U6=[];b.V6=[];b.R6=1;b.S6=3;b.QD={index:0,Iub:void 0,Tda:void 0};b.Q6="network";b.P6="media";b.$ua="timedtext";b.ava="playback";},function(d){d.P=function(b,a){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oc=void 0;b.oc=function(a){return setTimeout(a,0);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nk=void 0;b.Nk="PlayerErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ok=b.Wh=b.V=void 0;d=function(){function a(){}a.lJ="playready-h264mpl30-dash";a.sD="playready-h264mpl31-dash";a.hS="playready-h264mpl40-dash";a.PYa="playready-h264hpl22-dash";a.eS="playready-h264hpl30-dash";a.fS="playready-h264hpl31-dash";a.gS="playready-h264hpl40-dash";a.E4="hevc-main-L30-dash-cenc";a.F4="hevc-main-L31-dash-cenc";a.G4="hevc-main-L40-dash-cenc";a.H4="hevc-main-L41-dash-cenc";a.I4="hevc-main-L50-dash-cenc";a.J4="hevc-main-L51-dash-cenc";a.A4="hevc-main10-L30-dash-cenc";a.B4="hevc-main10-L31-dash-cenc";a.C4="hevc-main10-L40-dash-cenc";a.D4="hevc-main10-L41-dash-cenc";a.uD="hevc-main10-L50-dash-cenc";a.vD="hevc-main10-L51-dash-cenc";a.oS="hevc-main10-L30-dash-cenc-prk";a.qS="hevc-main10-L31-dash-cenc-prk";a.sS="hevc-main10-L40-dash-cenc-prk";a.uS="hevc-main10-L41-dash-cenc-prk";a.pS="hevc-main10-L30-dash-cenc-prk-do";a.rS="hevc-main10-L31-dash-cenc-prk-do";a.tS="hevc-main10-L40-dash-cenc-prk-do";a.vS="hevc-main10-L41-dash-cenc-prk-do";a.wS="hevc-main10-L50-dash-cenc-prk-do";a.xS="hevc-main10-L51-dash-cenc-prk-do";a.RLb="hevc-main-L30-L31-dash-cenc-tl";a.SLb="hevc-main-L31-L40-dash-cenc-tl";a.TLb="hevc-main-L40-L41-dash-cenc-tl";a.ULb="hevc-main-L50-L51-dash-cenc-tl";a.NLb="hevc-main10-L30-L31-dash-cenc-tl";a.OLb="hevc-main10-L31-L40-dash-cenc-tl";a.PLb="hevc-main10-L40-L41-dash-cenc-tl";a.QLb="hevc-main10-L50-L51-dash-cenc-tl";a.bJ="hevc-dv5-main10-L30-dash-cenc-prk";a.cJ="hevc-dv5-main10-L31-dash-cenc-prk";a.iD="hevc-dv5-main10-L40-dash-cenc-prk";a.dJ="hevc-dv5-main10-L41-dash-cenc-prk";a.eJ="hevc-dv5-main10-L50-dash-cenc-prk";a.PR="hevc-dv5-main10-L51-dash-cenc-prk";a.t4="hevc-hdr-main10-L30-dash-cenc";a.u4="hevc-hdr-main10-L31-dash-cenc";a.v4="hevc-hdr-main10-L40-dash-cenc";a.w4="hevc-hdr-main10-L41-dash-cenc";a.x4="hevc-hdr-main10-L50-dash-cenc";a.y4="hevc-hdr-main10-L51-dash-cenc";a.oJ="hevc-hdr-main10-L30-dash-cenc-prk";a.pJ="hevc-hdr-main10-L31-dash-cenc-prk";a.tD="hevc-hdr-main10-L40-dash-cenc-prk";a.qJ="hevc-hdr-main10-L41-dash-cenc-prk";a.jS="hevc-hdr-main10-L50-dash-cenc-prk";a.kS="hevc-hdr-main10-L51-dash-cenc-prk";a.Jxa="vp9-profile0-L21-dash-cenc";a.eK="vp9-profile0-L30-dash-cenc";a.fK="vp9-profile0-L31-dash-cenc";a.gK="vp9-profile0-L40-dash-cenc";a.Exa="vp9-profile2-L30-dash-cenc-prk";a.Fxa="vp9-profile2-L31-dash-cenc-prk";a.Gxa="vp9-profile2-L40-dash-cenc-prk";a.Hxa="vp9-profile2-L50-dash-cenc-prk";a.Ixa="vp9-profile2-L51-dash-cenc-prk";a.Lna="av1-main-L20-dash-cbcs-prk";a.Mna="av1-main-L21-dash-cbcs-prk";a.Nna="av1-main-L30-dash-cbcs-prk";a.Ona="av1-main-L31-dash-cbcs-prk";a.Pna="av1-main-L40-dash-cbcs-prk";a.Qna="av1-main-L41-dash-cbcs-prk";a.Rna="av1-main-L50-dash-cbcs-prk";a.Sna="av1-main-L51-dash-cbcs-prk";a.F1a=[a.lJ];a.UYa=[a.sD,a.hS];a.u2a=[a.E4,a.F4,a.G4,a.H4,a.I4,a.J4];a.w2a=[a.A4,a.B4,a.C4,a.D4,a.uD,a.vD];a.v2a=[a.oS,a.qS,a.sS,a.uS,a.uD,a.vD];a.EPb=[a.pS,a.rS,a.tS,a.vS,a.wS,a.xS];a.TYa=[a.t4,a.u4,a.v4,a.w4,a.x4,a.y4];a.SYa=[a.oJ,a.pJ,a.tD,a.qJ,a.jS,a.kS];a.ZXa=[a.bJ,a.iD,a.eJ,a.cJ,a.dJ,a.PR];a.LKb=[a.bJ,a.cJ,a.iD,a.dJ,a.eJ];a.wJb=[a.eS,a.fS,a.gS];a.MPb=[a.eK,a.fK,a.gK];a.vw=[a.Jxa,a.eK,a.fK,a.gK,a.Exa,a.Fxa,a.Gxa,a.Hxa,a.Ixa];a.tVa=[a.Lna,a.Mna,a.Nna];a.sVa=[a.Ona,a.Pna,a.Qna];a.uVa=[a.Rna,a.Sna];a.zi=[].concat(a.tVa,a.sVa,a.uVa);a.OYa=a.F1a.concat(a.UYa);a.RYa=a.u2a;a.QYa=a.w2a;a.BVa=[].concat(a.OYa,a.RYa,a.QYa,a.v2a,a.TYa,a.SYa,a.ZXa,a.vw,a.zi);return a;}();b.V=d;b.Wh=function(){function a(){}a.lS="heaac-2-dash";a.VYa="heaac-5.1-dash";a.mS="heaac-2hq-dash";a.PT="xheaac-dash";a.NR="ddplus-2.0-dash";a.B3="ddplus-5.1-dash";a.OR="ddplus-atmos-dash";a.z4="playready-heaac-2-dash";a.XYa="heaac-2-dash-enc";a.$Wa="ddplus-2.0-dash-enc";a.aXa="ddplus-5.1-dash-enc";a.WYa="playready-heaac-2-dash-enc";a.BVa=[a.lS,a.mS,a.NR,a.B3,a.OR,a.z4,a.XYa,a.$Wa,a.aXa,a.WYa];return a;}();b.Ok=function(){function a(){}a.Q1a="simplesdh";a.E3="dfxp-ls-sdh";a.GD="nflx-cmisc";a.SOb="simplesdh-enc";a.EKb="dfxp-ls-sdh-enc";a.QS="nflx-cmisc-enc";return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bo=void 0;b.bo="LogMessageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ya=void 0;b.Ya=!1;},function(d,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.nw=b.Xm=void 0;ca(a,Error);b.Xm=a;b.nw="PromiseTimerSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);d=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===c.kw?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();b.Metadata=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.dh=void 0;c=a(0);l=a(1);q=a(310);n=a(3);k=a(47);p=a(30);d=function(){var b;function a(a,b,f,h,c,k){this.context=a;this.errorCode=b;this.xBb=f;this.Uka=c;this.Y9=k;this.name=h;}a.prototype.send=function(a,b,f,h,c,k,n){var t;n=void 0===n?p.Zs.oT:n;t=this;return this.rlb(a,b,f,n,h,c,k).then(function(a){return t.context.Tgb.send(a.context,a.request);});};a.prototype.rlb=function(a,b,f,h,c,k,p){var t,n;try{t=this.context.$Ab.create(this.context.zG.MA(),b,f,c,h);n=this.Bab(a,h,k,p);return Promise.resolve({context:n,request:t});}catch(R){return Promise.reject(R);}};a.prototype.Bab=function(a,b,f,h){return{Re:this.context.Re,log:a,fk:this.name,url:this.context.CHb(q.JCa(this.context.Zf,this.context.Dj,this.name,b)),gla:this.xBb,timeout:n.ah(59),headers:q.ICa(this.context.Dj,this.context.sx),Tka:this.Tka,Uka:void 0!==f?f:this.Uka,fab:h};};a.prototype.em=function(a){return a instanceof k.Bc?a:q.em(this.errorCode,a);};a.prototype.jDa=function(a){var b;b=this;a.forEach(function(a){if(b.UN(a))throw a.error;});};a.prototype.UN=function(a){return void 0!==a.error;};na.Object.defineProperties(a.prototype,{Tka:{configurable:!0,enumerable:!0,get:function(){return this.Y9;}}});b=a;return b=c.__decorate([l.N(),c.__param(0,l.Vh()),c.__param(1,l.Vh()),c.__param(2,l.Vh()),c.__param(3,l.Vh()),c.__param(4,l.Vh()),c.__param(5,l.Vh())],b);}();b.dh=d;},function(d,b,a){var f,t,z,G,D,J,F,L,g,U,R,m,r,y,T,qa;function c(a){var b,f,h,c;b=a.url.split("?");f=b[0];h="sc="+a.RBb;c=a.MCa?"random="+(1E17*R.wz()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+h):f+("?"+h);f=f+(c?"&"+c:"");a.gc&&!G.PZ(f)&&(a=t.config&&t.config.aba)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function l(a){var b,f,h,c;b=a.url.split("?");f=b[0];h="bb_reason="+a.reason;c=a.MCa?"random="+(1E17*R.wz()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+h):f+("?"+h);f=f+(c?"&"+c:"");a.gc&&!G.PZ(f)&&(a=t.config&&t.config.aba)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function q(a,b){var f,h,c,k;f=a.url.split("?");h=f[0];c=n(a);c&&(b.wq=c,(void 0===a.Hq?t.config.Hq:a.Hq)?(a.headers=a.headers||{},a.headers.Range="bytes="+c):(b.wq=c,h="/"==h[h.length-1]?h+"range/":h+"/range/",h+=c));c=a.MCa?"random="+(1E17*R.wz()).toFixed(0):"";t.config.$A&&a.E1&&(k="sc="+a.E1,c=k+(c?"&"+c:""));h=f[1]?h+("?"+f[1]+(c?"&"+c:"")):h+(c?"?"+c:"");a.gc&&!G.PZ(h)&&(a=t.config&&t.config.aba)&&(h=a.replace("{URL}",h).replace("{EURL}",encodeURIComponent(h)));b.url=h;}function n(a){var b;b=a.offset;if(void 0!==b)return g.BM(b),void 0!==a.length?(a=a.offset+a.length-1,g.BM(a),b+"-"+a):b+"-";}function k(){return!1!==R.Di.onLine;}function p(a,f,h,c){var k,p;k=c.Xja;p=c.headers;a.open(k?"POST":"GET",f,!h);switch(c.responseType){case b.FN:a.responseType="arraybuffer";break;case b.fga:U.UCa(a,"overrideMimeType",void 0,"text/xml");}k&&(f={"Content-Type":J.Jd(k)?"text/plain":"application/x-octet-stream"},p=p?J.tb(f,p):f);p&&U.xd(p,function(b,f){a.setRequestHeader(b,f);});c.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");k?a.send(k):a.send();}function h(a,f){switch(f.type){case b.FN:return a.response||new ArrayBuffer(0);case b.fga:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.FN=b.fga=b.ega=b.gga=b.eZ=b.sJa=b.rJa=b.cZ=b.L2a=b.M2a=b.fpb=b.dZ=b.cpb=b.dpb=b.bpb=b.epb=b.Re=void 0;f=a(76);t=a(12);z=a(9);G=a(43);D=a(35);J=a(22);F=a(2);L=a(5);g=a(16);U=a(20);R=a(10);m=a(59);r=a(15);y=a(24);T={J7:1,QPb:2,LVa:3};b.Re=function(){var G,H,U,R;function a(a){var b;try{b=a.url;r.Yga(b)?0===b.indexOf("https")?R.ssl++:0===b.indexOf("http")?R["non-ssl"]++:R.invalid++:R.invalid++;}catch(ga){}}function n(){H.Vb(b.sJa);H.Vb(b.gga);}function d(){H.Vb(b.eZ);H.Vb(b.gga);}G=L.rh("Http");H=new f.dj();U=0;R={ssl:0,"non-ssl":0,invalid:0};L.Y.get(y.sf).register(F.J.Tra,function(a){t.config.KHb&&(N.addEventListener("online",n),N.addEventListener("offline",d),b.dZ=k);a(z.gd);});return{addEventListener:H.addListener,removeEventListener:H.removeListener,download:function(f,c){var Q,T,W,ka,O,da,u,P,oa,ta,va;function k(){var a;k=J.Xe;va&&(clearTimeout(va),va=null);H.removeListener(b.eZ,d);oa&&(oa.onloadstart=null,oa.onreadystatechange=null,oa.onprogress=null,oa.onerror=null,oa.onload=null,oa=oa.onabort=null);P.da||(P.ga!=F.I.Zv?Q.warn("Download failed",T,F.Ap(P)):Q.trace("Download aborted",T));a=W;W=void 0;for(var f=a.length;f--;)(function(){var b;b=a[f];m.oc(function(){b(P);});}());H.Vb(b.rJa,P,!0);}function n(){va&&(clearTimeout(va),va=null);va=setTimeout(R,ta?u:da);}function l(a,b,f,h){var c,p;P.da=!1;P.ga=a;c=D.Og();p=P.tk;p.$g=p.$g||c;p.Bm=p.Bm||c;0<b&&(P.Ni=P.re=b);f&&(P.rb=f);h&&(P.By=h);a!==F.I.sJ&&a!==F.I.mz&&a!==F.I.vJ||!oa||(oa.onabort=null,y());k();}function z(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f&&(b=JSON.parse(f));}catch(gb){}return b;}function d(){b.dZ()||l(F.I.sJ);}function R(){l(ta?F.I.mz:F.I.vJ);}function y(){try{oa&&oa.abort();}catch(Lc){}}function aa(){l(F.I.Zv);}g.Wa(c);Q=f.j&&f.j.log&&L.Qg(f.j,"Http")||G;T={Num:U++};W=[c];ka={};da=f.rW||t.config.rW;u=f.Zia||t.config.Zia;a(f);P=function(){var a,b,h;a=J.Xe;b=J.Xe;h=J.Xe;return{request:f,type:f.responseType,tk:ka,abort:y,timeout:R,K$:function(a){k!==J.Xe&&(g.Wa(W,"Callback should be added before download starts."),W&&W.unshift(a));},Z_:function(a){h(a);},a0:function(b){a(b);},sH:function(a){b(a);},iDb:function(a){h=a;},qDb:function(b){a=b;},cDb:function(a){b=a;}};}();m.oc(function(){var a,c;if(r.Yga(f.url))try{if(q(f,P),O=P.url,g.EF(O),T.Url=O,b.dZ()){oa=new XMLHttpRequest();a=t.config.PHb&&"undefined"!=typeof oa.onloadstart;a&&(oa.onloadstart=function(){var a;a=D.Og();ka.requestTime=a;P.Z_({mediaRequest:f,timestamp:a});});oa.onreadystatechange=function(){if(2==oa.readyState){ta=!0;ka.$g=D.Og();oa.onreadystatechange=null;n();for(var a=P,b=oa.getAllResponseHeaders().split("\n"),h=b.length,c,k,p={};h--;)if(c=b[h])k=c.indexOf(": "),1<=k&&k<c.length-1&&(p[c.substr(0,k)]=c.substr(k+2));a.headers=p;P.a0({timestamp:ka.$g,connect:!0,mediaRequest:f,start:ka.requestTime,rt:[ka.$g-ka.requestTime]});}};oa.onprogress=function(a){ta=!0;ka.ox=a.loaded;n();a={mediaRequest:f,bytes:a.loaded,tempstamp:D.Og(),bytesLoaded:a.loaded};P.a0(a);};oa.onload=function(){var a;if(k!==J.Xe){g.Wa(void 0===ka.Bm);ka.Bm=D.Og();ka.$g=ka.$g||ka.Bm;if(200<=oa.status&&299>=oa.status)if(a=h(oa,P),f.hg)try{P.content=f.hg(a,P);P.da=!0;P.parsed=!0;P.raw=a;}catch(gb){Q.warn("Exception parsing response",gb,T);l(F.I.L4,void 0,J.Fe(gb));}else P.parsed=!1,P.content=a,P.da=!0;else oa.status==qa?l(F.I.uJ,oa.status):l(F.I.tJ,oa.status,oa.response,z(oa));k();}};oa.onabort=aa;oa.onerror=function(){var a,b;a=oa.status;"undefined"!==typeof t.config.CGa&&(a=t.config.CGa);if(0<a)if(a==qa)l(F.I.uJ,a);else{try{b=oa.responseText;}catch(nf){}l(F.I.tJ,a,b,z(oa));}else l(F.I.wJ);};c=D.Og();p(oa,O,!1,f);H.Vb(b.cZ,P,!0);a||(ka.requestTime=c,P.Z_({mediaRequest:f,timestamp:c}));n();H.addListener(b.eZ,d);}else m.oc(l.bind(void 0,F.I.sJ));}catch(Ee){Q.error("Exception starting download",Ee,T);l(F.I.P4,void 0,J.Fe(Ee));}else l(F.I.lra);});return P;},Wb:R,nUb:function(a){var b;b=new XMLHttpRequest();a=l(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},cEb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},Ryb:function(a){var b,f,h;b=new XMLHttpRequest();f=a.url;h=a.Oyb;b.open("HEAD",f);b.timeout=Math.max(2*h.ysb,t.config.ika);b.onreadystatechange=function(){2==b.readyState&&h&&h.ls({url:f});};b.ontimeout=b.onerror=function(){h&&h.hja({url:f});};b.send();},x1a:T};}();b.epb=c;b.bpb=l;b.dpb=q;b.cpb=n;b.dZ=z.Pva;b.fpb=k;b.M2a=p;b.L2a=h;b.cZ=1;b.rJa=2;b.sJa=3;b.eZ=4;b.gga=5;b.ega=1;b.fga=2;b.FN=3;qa=420;N._cad_global.http=b.Re;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O3=b.kD=b.dS=b.$R=void 0;b.$R="EventSourceSymbol";b.dS="GlobalEventSourceSymbol";b.kD="DebugEventSourceSymbol";b.O3="DiagnosticsEventSourceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ED=b.tw=void 0;b.tw="TimingApiSymbol";b.ED="MilestoneTimingApiSymbol";},function(d,b,a){var c,l,q,n,k,p;c=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};l=a(495);d=a(116);q=a(259);n=a(258);k=function(a){function b(b,f,h){var c;a.call(this);this.MC=null;this.wg=this.Hm=this.LC=!1;switch(arguments.length){case 0:this.destination=q.empty;break;case 1:if(!b){this.destination=q.empty;break;}if("object"===typeof b){if(b instanceof k||"syncErrorThrowable"in b&&b[n.vC]){c=b[n.vC]();this.Hm=c.Hm;this.destination=c;c.add(this);}else this.Hm=!0,this.destination=new p(this,b);break;}default:this.Hm=!0,this.destination=new p(this,b,f,h);}}c(b,a);b.prototype[n.vC]=function(){return this;};b.create=function(a,f,h){a=new b(a,f,h);a.Hm=!1;return a;};b.prototype.next=function(a){this.wg||this.Vk(a);};b.prototype.error=function(a){this.wg||(this.wg=!0,this.Ye(a));};b.prototype.complete=function(){this.wg||(this.wg=!0,this.Pd());};b.prototype.unsubscribe=function(){this.closed||(this.wg=!0,a.prototype.unsubscribe.call(this));};b.prototype.Vk=function(a){this.destination.next(a);};b.prototype.Ye=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.Pd=function(){this.destination.complete();this.unsubscribe();};b.prototype.b8a=function(){var a,b;a=this.mo;b=this.cA;this.cA=this.mo=null;this.unsubscribe();this.wg=this.closed=!1;this.mo=a;this.cA=b;};return b;}(d.rw);b.Wm=k;p=function(a){function b(b,f,h,c){var k;a.call(this);this.aL=b;b=this;l.Tb(f)?k=f:f&&(k=f.next,h=f.error,c=f.complete,f!==q.empty&&(b=Object.create(f),l.Tb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.hj=b;this.Vk=k;this.Ye=h;this.Pd=c;}c(b,a);b.prototype.next=function(a){var b;if(!this.wg&&this.Vk){b=this.aL;b.Hm?this.l8(b,this.Vk,a)&&this.unsubscribe():this.m8(this.Vk,a);}};b.prototype.error=function(a){var b;if(!this.wg){b=this.aL;if(this.Ye)b.Hm?this.l8(b,this.Ye,a):this.m8(this.Ye,a),this.unsubscribe();else if(b.Hm)b.MC=a,b.LC=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){var a,b,f;a=this;if(!this.wg){b=this.aL;if(this.Pd){f=function(){return a.Pd.call(a.hj);};b.Hm?this.l8(b,f):this.m8(f);}this.unsubscribe();}};b.prototype.m8=function(a,b){try{a.call(this.hj,b);}catch(G){throw this.unsubscribe(),G;}};b.prototype.l8=function(a,b,f){try{b.call(this.hj,f);}catch(D){return a.MC=D,a.LC=!0;}return!1;};b.prototype.v$=function(){var a;a=this.aL;this.aL=this.hj=null;a.unsubscribe();};return b;}(k);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kq=b.G7=void 0;b.G7="StorageValidatorSymbol";b.Kq="AppStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oq=void 0;b.Oq="DeviceFactorySymbol";},function(d){d.P=function a(c,l){var q;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(a){q=Object.getOwnPropertyDescriptor(c,a);void 0!==q&&Object.defineProperty(l,a,q);});};},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.zh=void 0;c=a(0);a(6);l=a(18);q=a(73);n=a(396);k=a(34);d=a(39);p=a(163);h=a(221);a=a(109);f=function(a){function b(b,f){var c;c=a.call(this,b,f)||this;c.jj=f.index;c.iE=f.Ra;c.qt=f.gb;c.l8a=f.uc?f.uc:b.uc;c.XH=f.XH;c.jAa=f.Hj||0;c.qza=!!f.Tu;c.ug=void 0===f.dea||void 0===f.bea||f.dea===f.Ra&&f.bea===f.gb?c:new h.dD(c,{Ra:f.dea,gb:f.bea});c.B5a=f.Mia;c.U2a=f.ki;c.tt=f.Sa?c.YMa(f.Sa):void 0;c.IAa=f.Hv;c.Hi=!1;return c;}c.__extends(b,a);b.ifb=function(a){for(var b=new Uint32Array(a.length),f=new Uint32Array(a.length),h=0,c,k,p=0;p<a.length;++p)c=a[p],k=c.ac,b[p]=c.qt-c.iE,f[p]=k,h+=k;return new n.z7(b,f,a.length?a[0].S:1E3,h);};Object.defineProperties(b.prototype,{zB:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.jj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uc:{get:function(){return this.l8a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.iE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gb:{get:function(){return this.qt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hj:{get:function(){return this.jAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tu:{get:function(){return this.qza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mia:{get:function(){return this.B5a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return this.U2a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Sa:{get:function(){return this.tt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hv:{get:function(){return this.IAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dea:{get:function(){return this.ug.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bea:{get:function(){return this.ug.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qjb:{get:function(){return this.ug.Ho;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JGa:{get:function(){return this.ug.Sja;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fx:{get:function(){return this.ug.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RX:{get:function(){return this.ug.te;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IGa:{get:function(){return this.ug.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cea:{get:function(){return this.ug.xc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pjb:{get:function(){return this.ug.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cN:{get:function(){return this.Qjb/this.stream.Ta.Ab;},enumerable:!1,configurable:!0}});b.prototype.zRa=function(a){this.jAa=a.Jf(this.S).Ab;};b.prototype.GLa=function(){this.qza=!0;};b.prototype.rDb=function(a){this.XH={ke:a.nHa(),Uga:a.Gs};};b.prototype.eQ=function(a){this.IAa=a;};b.prototype.Ij=function(a){var b,f;void 0===a&&(a={});b=this.stream.Ta.Ab;f=this.tt||{start:0,end:this.cN};a=this.YMa(a);this.ug&&this.ug!==this||(this.ug=new h.dD(this,this));a.start>f.start&&(this.iE=this.ug.Ra+a.start*b);a.end<f.end&&(this.qt=this.ug.Ra+a.end*b);this.tt=a;};b.prototype.Sca=function(a){void 0===a&&(a=1);this.tt?this.Ij({start:this.tt.start+a,end:this.tt.end}):this.Ij({start:a});};b.prototype.phb=function(){this.tt?this.Ij({start:this.tt.start,end:(this.tt.end||0)-1}):this.Ij({start:0,end:-1});};b.prototype.tjb=function(a){var f;if(!(a<this.T||a>=this.na)&&this.ki&&this.ki.length){a=new k.ka(a+1-this.T,1E3).su(this.stream.Ta);for(var b=this.ki.length-1;0<=b;--b){f=this.ki[b];if(f.Cm<=a)return f;}return{Cm:0,Rc:this.Fx};}};b.prototype.sjb=function(a){var f;if(!(a<this.T||a>=this.na)&&this.ki&&this.ki.length){a=new k.ka(a+1-this.T,1E3).su(this.stream.Ta);for(var b=this.ki.length-1;0<=b;--b){f=this.ki[b];if(f.Cm<=a)return f;}return{Cm:0,Rc:this.Fx};}};b.prototype.iGa=function(a,b){var f,h,c;if(!(a<this.T||a>=this.na)){f=this.Ta.Ab;h=this.Ta.S;c=Math.floor(this.Ho/f);a=Math.min((b?Math.ceil:Math.floor)((k.ka.Pia(a,h)-this.Ra+(b?-1:1)*(h/1E3-1))/f),c);f=k.ka.Wma(this.Ra+a*f,h);return a===c?void 0:{Cm:a,Rc:f};}};b.prototype.EX=function(a){return this.M===l.La.VIDEO?this.tjb(a):this.iGa(a,!1);};b.prototype.qjb=function(a){return this.M===l.La.VIDEO?this.sjb(a):this.iGa(a,!0);};b.prototype.Y$=function(a){this.ac+=a.aa;this.qt=a.gb;};b.prototype.toString=function(){return"["+this.sa+", "+this.O+"kbit/s, "+("c:"+this.xc+"-"+this.Ub+",")+("p:"+this.bd+"-"+this.te+",d:"+this.duration+"]");};b.prototype.toJSON=function(){var a;a=p.Sv.prototype.toJSON.call(this);q({index:this.index,startPts:this.T,endPts:this.na,contentStartPts:this.xc,contentEndPts:this.Ub,fragmentStartPts:this.Fx!==this.T?this.Fx:void 0,fragmentEndPts:this.RX!==this.na?this.RX:void 0,edit:this.Sa},a);return a;};b.prototype.nGa=function(a){var b;if(this.ki)for(var f=0;f<this.ki.length;++f)this.ki[f].Cm===a&&(b=this.ki[f].offset);return b;};b.prototype.YMa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.cN)+(a.end||0)};};return b;}(p.Sv);b.zh=f;d.pf(a.$y,f);d.pf(a.Xy,f);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(128);b.Tz=function(a){c.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};b.xya=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};b.$Pb=function(a,b){return Math.floor(1E3*a/b);};},function(d,b,a){var l,q;function c(){var a,b;a=this;this.Ep={};this.on=function(b,h,f){a.addListener(b,h,f);};this.addListener=function(b,h,f){a.Ep&&(a.Ep[b]=a.Ep[b]||new q.i7(!0)).add(h,f);};this.removeListener=function(b,h){a.Ep&&a.Ep[b]&&a.Ep[b].removeAll(h);};this.Gea=function(b){return a.Ep&&a.Ep[b]?a.Ep[b].Mr():[];};b=this;this.Vb=function(a,h,f){var c;if(b.Ep){c=b.Gea(a);for(a={yj:0};a.yj<c.length;a={yj:a.yj},a.yj++)f?function(a){return function(){var b;b=c[a.yj];l.oc(function(){b(h);});};}(a)():c[a.yj].call(this,h);}};}Object.defineProperty(b,"__esModule",{value:!0});b.dj=void 0;l=a(59);q=a(463);c.prototype.sg=function(){this.Ep=void 0;};b.dj=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dg=void 0;b.Dg={audio:"audio",video:"video",d2:"timedtext",gna:"trickplay"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h4=b.B7=b.h5=b.F7=b.E7=b.ZR=b.El=void 0;b.El={start:"start",stop:"stop",WN:"keepAlive",UM:"engage",splice:"splice"};b.ZR="EventPboCommandFactorySymbol";b.E7="StartEventPboCommandSymbol";b.F7="StopEventPboCommandSymbol";b.h5="KeepAliveEventPboCommandSymbol";b.B7="SpliceEventPboCommandSymbol";b.h4="EngageEventPboCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xp={Request:"Request",A7:"Singleton",KT:"Transient"};b.Ai={tpa:"ConstantValue",upa:"Constructor",oqa:"DynamicValue",p4:"Factory",Function:"Function",Z4:"Instance",i_a:"Invalid",Lva:"Provider"};b.jt={npa:"ClassProperty",vpa:"ConstructorArgument",b8:"Variable"};},function(d,b){var c;function a(a,b){var n;n=this;this.b9=[];c.forEach(function(c){(c=c(a,b))&&n.b9.push(c);});}Object.defineProperty(b,"__esModule",{value:!0});b.xz=b.Ata=void 0;c=[];a.prototype.Bs=function(a){var k;for(var b=[],c=this.b9.length;c--;){k=this.b9[c];k.Bs(a)&&b.push(k.cG);}if(b.length)return b;};b.Ata=a;b.xz=function(a){c.push(a);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.zd=this.ws([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{WSb:"int32"},{mWb:"int32"},{offset:32,type:"offset"},{Rjb:"int16"},{pcb:{type:"int8",R9a:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};b.ic=!0;return b;}(a(226)["default"]);b["default"]=d;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="avc1";return b;}(d);b.vVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="avc2";return b;}(d);b.wVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="avc3";return b;}(d);b.xVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="avc4";return b;}(d);b.yVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="hvc1";return b;}(d);b.eZa=a;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="hev1";return b;}(d);b.$Ya=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X5="6674654e-696c-5078-6966-665374726d21";b.Y5="6674654e-696c-4878-6165-6465722e7632";b.Mta="6674654e-696c-5078-6966-66496e646578";b.PS="6674654e-696c-4d78-6f6f-6653697a6573";b.OS="6674654e-696c-5378-6565-6b506f696e74";b.kua="cedb7489-e77b-514c-84f9-7148f9882554";b.jua="524f39a2-9b5a-144f-a244-6c427c648df4";b.W5="6674654e-696c-4678-7261-6d6552617465";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lq=void 0;d=function(){function a(a){this.Be=a;}a.prototype.ARa=function(a){this.Be=a;};a.prototype.rDa=function(){this.Be=void 0;};a.prototype.bN=function(a){return this.Be&&this.Be.b0&&this.Be.b0(a);};a.prototype.kB=function(a){this.Be&&this.Be.ov&&this.Be.ov(a);};a.prototype.jB=function(a){this.Be&&this.Be.YO&&this.Be.YO(a);};a.prototype.hG=function(a){this.Be&&this.Be.ZO&&this.Be.ZO(a);};a.prototype.EGa=function(a){this.Be&&this.Be.wja&&this.Be.wja(a);};a.prototype.Vp=function(a){this.Be&&this.Be.Vi&&this.Be.Vi(a);};a.prototype.QX=function(a){this.Be&&this.Be.XO&&this.Be.XO(a);};a.prototype.PX=function(a,b,q){this.Be&&this.Be.WO&&this.Be.WO(a,b,q);};return a;}();b.Lq=d;d.prototype.b0=d.prototype.bN;d.prototype.ov=d.prototype.kB;d.prototype.YO=d.prototype.jB;d.prototype.ZO=d.prototype.hG;d.prototype.Vi=d.prototype.Vp;d.prototype.XO=d.prototype.QX;d.prototype.WO=d.prototype.PX;d.prototype.wja=d.prototype.EGa;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TI=b.IVa=b.U2=b.V2=void 0;(function(a){a[a.nFa=0]="downloading";a[a.jhb=1]="downloaded";a[a.Hi=2]="appended";a[a.buffered=3]="buffered";a[a.MAb=4]="removed";a[a.cWb=5]="unused";}(b.V2||(b.V2={})));(function(a){a[a.waiting=1]="waiting";a[a.vUb=2]="ondeck";a[a.nFa=4]="downloading";a[a.jhb=8]="downloaded";a[a.ON=6]="inprogress";}(b.U2||(b.U2={})));b.IVa="AseBufferViewSymbol";b.TI="AseBufferAccountingSymbol";},function(d,b,a){d=a(143);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;d="undefined"!==typeof N&&N||"undefined"!==typeof d&&d||a;b.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nq=b.I3=void 0;b.I3="DebugConfigSymbol";b.Nq="DebugSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wha=b.ej=void 0;(function(a){a[a.Sm=0]="STANDARD";a[a.dw=1]="LIMITED";}(b.ej||(b.ej={})));b.wha=function(a){return["STANDARD","LIMITED"][a];};},function(d,b,a){var l,q;function c(a,b,c,h,f){a=void 0===a?l.J.Pk:a;return q.Bc.call(this,a,b,c,void 0,void 0,h,q.Bc.Fe(f),f)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.Kf=void 0;l=a(2);q=a(47);ca(c,q.Bc);b.Kf=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TD=b.Ws=b.Y4=void 0;b.Y4="Injector";b.Ws=145152E5;b.TD="ProfileSymbol";},function(d,b,a){var q,n;function c(a,b,h,f,c){var k,p,n;k={};p="number"===typeof c;c=void 0!==c&&p?c.toString():h;if(p&&void 0!==h)throw Error(q.VZa);Reflect.Ofa(a,b)&&(k=Reflect.getMetadata(a,b));h=k[c];if(Array.isArray(h))for(var p=0,t=h;p<t.length;p++){n=t[p];if(n.key===f.key)throw Error(q.YXa+" "+n.key.toString());}else h=[];h.push(f);k[c]=h;Reflect.uca(a,k,b);}function l(a,b){return function(h,f){b(h,f,a);};}Object.defineProperty(b,"__esModule",{value:!0});q=a(55);n=a(38);b.NC=function(a,b,h,f){c(n.Wwa,a,b,f,h);};b.DQ=function(a,b,h){c(n.Xwa,a.constructor,b,h);};b.rx=function(a,b,h){"number"===typeof h?Reflect.rx([l(h,a)],b):"string"===typeof h?Reflect.rx([a],b,h):Reflect.rx([a],b);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.fh=b.o0a=b.Pm=void 0;c=a(15);b.Pm=b.Pm||function(a,b,c){return a>=b?a<=c?a:c:b;};b.o0a=function(a,b,c,k,p){return(a-b)*(p-k)/(c-b)+k;};b.fh=function(a){if(c.la(a))return(a/1E3).toFixed(3);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ew=b.gZa=b.ResponseType=void 0;d=b.ResponseType||(b.ResponseType={});d[d.Text=0]="Text";d[d.RPb=1]="Xml";d[d.YJb=2]="Binary";b.gZa="HttpClientSymbol";b.ew="LegacyHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lw=void 0;b.lw="PboConfigSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(228);c=a(127);b.$Xa=c;c=a(405);b.V7=c;c=a(401);b.CQb=c;b.Cwa=d.iH.Pc.sidx;d=a(842);b.jw=d.jw;d=a(397);b.DJ=d.DJ;d=a(838);b.iw=d.iw;b.nO=d.nO;d=a(75);b.Tz=d.Tz;a=a(837);b.Vq=a.Vq;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tz=void 0;b.tz="LoggerSinksSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kz=void 0;b.Kz="ThrottleFactorySymbol";},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.qw=void 0;c=a(0);l=a(1);d=function(){var b;function a(){}a.prototype.format=function(a,b){var f;for(var c=1;c<arguments.length;++c);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof f[b]?f[b]:a;});};a.prototype.SEb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};a.prototype.ASa=function(a){return JSON.stringify(a,null,"  ");};b=a;return b=c.__decorate([l.N()],b);}();b.qw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uw=void 0;b.uw="Utf8EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uv=void 0;b.Uv="Base16EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ys=void 0;b.Ys="MediaKeySystemAccessServicesSymbol";},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rq=void 0;d=b.Rq||(b.Rq={});d[d.WJb=8]="Backspace";d[d.Tab=9]="Tab";d[d.jLb=13]="Enter";d[d.rPb=16]="Shift";d[d.uKb=17]="Ctrl";d[d.yJb=18]="Alt";d[d.hOb=19]="PauseBreak";d[d.nKb=20]="CapsLock";d[d.lLb=27]="Escape";d[d.tPb=32]="Space";d[d.gOb=33]="PageUp";d[d.fOb=34]="PageDown";d[d.iLb=35]="End";d[d.XLb=36]="Home";d[d.rMb=37]="LeftArrow";d[d.IPb=38]="UpArrow";d[d.xOb=39]="RightArrow";d[d.RKb=40]="DownArrow";d[d.lMb=45]="Insert";d[d.OKb=46]="Delete";d[d.UPb=48]="Zero";d[d.FNb=49]="One";d[d.CPb=50]="Two";d[d.APb=51]="Three";d[d.GLb=52]="Four";d[d.ELb=53]="Five";d[d.sPb=54]="Six";d[d.qPb=55]="Seven";d[d.hLb=56]="Eight";d[d.mNb=57]="Nine";d[d.oJb=65]="A";d[d.AJb=66]="B";d[d.dKb=67]="C";d[d.ZWa=68]="D";d[d.E=69]="E";d[d.mLb=70]="F";d[d.HLb=71]="G";d[d.KLb=72]="H";d[d.hZa=73]="I";d[d.mMb=74]="J";d[d.f5=75]="K";d[d.l_a=76]="L";d[d.uMb=77]="M";d[d.Z_a=78]="N";d[d.zNb=79]="O";d[d.HNb=80]="P";d[d.Q=81]="Q";d[d.qOb=82]="R";d[d.D1a=83]="S";d[d.m2a=84]="T";d[d.DPb=85]="U";d[d.JPb=86]="V";d[d.NPb=87]="W";d[d.h8=88]="X";d[d.SPb=89]="Y";d[d.TPb=90]="Z";d[d.sMb=91]="LeftWindowKey";d[d.yOb=92]="RightWindowKey";d[d.oPb=93]="SelectKey";d[d.pNb=96]="Numpad0";d[d.qNb=97]="Numpad1";d[d.rNb=98]="Numpad2";d[d.sNb=99]="Numpad3";d[d.tNb=100]="Numpad4";d[d.uNb=101]="Numpad5";d[d.vNb=102]="Numpad6";d[d.wNb=103]="Numpad7";d[d.xNb=104]="Numpad8";d[d.yNb=105]="Numpad9";d[d.MMb=106]="Multiply";d[d.xJb=107]="Add";d[d.vPb=109]="Subtract";d[d.NKb=110]="DecimalPoint";d[d.QKb=111]="Divide";d[d.nLb=112]="F1";d[d.rLb=113]="F2";d[d.sLb=114]="F3";d[d.tLb=115]="F4";d[d.uLb=116]="F5";d[d.vLb=117]="F6";d[d.wLb=118]="F7";d[d.xLb=119]="F8";d[d.yLb=120]="F9";d[d.oLb=121]="F10";d[d.pLb=122]="F11";d[d.qLb=123]="F12";d[d.oNb=144]="NumLock";d[d.mPb=145]="ScrollLock";d[d.pPb=186]="SemiColon";d[d.kLb=187]="Equals";d[d.qKb=188]="Comma";d[d.MKb=189]="Dash";d[d.iOb=190]="Period";d[d.FLb=191]="ForwardSlash";d[d.BPb=192]="Tilde";d[d.GNb=219]="OpenBracket";d[d.VJb=220]="BackSlash";d[d.pKb=221]="CloseBracket";d[d.pOb=222]="Quote";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nz=void 0;b.Nz="VideoPreparerSymbol";},function(d,b,a){(function(b,l){var n;function c(a,b){var c;c=Date.now();this.rEb=c;this.rX=c+a;this.pxb=a;this.Dfb=c+b;this.debug=!1;this.rM=this.lq=0;}n=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.xb=function(a,c){var h;a=((a-this.rEb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;h=b.Vtb();n.debug(a+(" "+Math.floor(h.TSb/1024/1024)+" MB/"+Math.floor(h.mJa/1024/1024)+" MB ")+this.lca+c);};c.prototype.w7a=function(a){var b;b=Date.now();this.lca=a;this.lq=0;this.origin=b;this.xb(b,"starting");};c.prototype.c8a=function(a){var c,h;this.rM++;if(!(1E3>this.rM)){this.rM=0;c=Date.now();if(c>=this.Dfb)throw Error("Execution deadline exceeded: "+this.lca);h=b.Vtb();this.lq=Math.max(this.lq,h.mJa);if(7516192768<h.mJa)throw Error("Heap total limit exceeded: "+this.lca);if(!(c<=this.rX)){for(;c>this.rX;)this.rX+=this.pxb;this.xb(c,a);}}};c.Db=function(){l.IH=new c(5E3,33E5);};c.y1=function(a){l.IH&&l.IH.w7a(a);};c.update=function(a){l.IH&&l.IH.c8a(a);};c.Xea=function(){if(l.IH)return l.IH.lq;};d.P=c;}.call(this,a(250),a(143)));},function(d,b,a){d.P={EventEmitter:a(745),Fl:a(744)};},function(d,b,a){var k,p;function c(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function l(a){return k.Jd(a);}function q(a){return k.la(a);}function n(a){return!c(a)&&!l(a)&&!q(a)&&!Array.isArray(a)&&k.Se(a);}k=a(7);p={fz:0,BT:1,g0a:2,OBJECT:3,Pk:4};d.P={Dfa:function(a){return c(a)?p.fz:l(a)?p.BT:q(a)?p.g0a:n(a)?p.OBJECT:p.Pk;},zZ:c,Jd:l,la:q,Se:n,co:p};},function(d){var b;b={LN:function(a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);}};d.P=b;},function(d,b,a){var q,n,k,p,h,f,t,z;function c(a){var b;if(!a.w$){b=a.GIa();a.Uk.uA(b["default"].Ca,a.bi);a.Uk.ZC(b.gq?b.gq.m0:void 0,b.gq?b.gq.wC:void 0);q.Ma(a.Rb)||(a.w$=!0);}}function l(a,b,c){var h;this.K=c;this.Gp={};this.nE=c.nE;this.Rya=new p(this.nE);this.AK=new f(!0);this.lK=new f(!1);this.reset();this.D9=a;this.Uk=b;this.mza=n.qm.name();this.Uk.x1(this.mza);this.fL=this.Oz=0;this.mK=[];n.events.on("networkchange",function(a){this.mza=a;this.Uk.x1(a);}.bind(this));h=c.kca;h&&(h={Fd:k.Le.nJ,Fa:{Ca:parseInt(h,10),yh:0},th:{K$a:0,yh:0},fq:{K$a:0,yh:0}},this.get=function(){return h;});z=this;}q=a(7);n=a(4);k=a(18);a(11);b=a(21).EventEmitter;p=a(393).Yqa;h=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");f=a(823).Hqa;t=a(821);z=void 0;l.prototype.constructor=l;l.prototype=Object.create(b.prototype);l.eg=function(){t(void 0!==z);return z;};l.reset=function(){z&&z.reset();};Object.defineProperties(l.prototype,{startTime:{get:function(){return this.ae;}},Fd:{get:function(){return this.bi;}},uo:{get:function(){return this.Oz;}},cBa:{get:function(){return this.mK;}}});l.prototype.S3a=function(){var a,b,f,c;a=this.K;b=a.g4a.concat(a.o4a);f=a.a9;c=this.Rya;return b.reduce(function(a,b){a[b]=c.create(b,f);return a;},{});};l.prototype.reset=function(){var a,b,f;a=this.K.a9;b=this.Rya;f=this.K;this.location=null;this.Gp=this.S3a();this.AK.reset();this.lK.reset();this.Gt=b.create("respconn-ewma",a);this.yt=b.create("respconn-ewma",a);this.bi=k.Le.HAVE_NOTHING;this.e8a=function(){c(this);}.bind(this);this.AV=void 0;this.Kw=this.ac=this.Rb=this.ae=null;this.o3a=this.uV=this.pL=0;this.Q9=!1;f.rQa&&(this.fL=this.Oz=0,this.mK=[]);};l.prototype.bQ=function(a){var b;b=this.Gp;if(a!==this.location){q.X(this.AV)||(clearInterval(this.AV),this.AV=void 0);q.Ma(this.location)&&(this.uV=this.pL=0,this.ae=null);if(!q.Ma(a)){this.bi=k.Le.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.Gt.reset();this.yt.reset();}q.Ma(this.ae)||(this.pL+=(q.Ma(this.Rb)?n.time.ea():this.Rb)-this.ae,this.uV+=this.ac);this.Rb=this.ae=null;this.ac=0;this.location=a;this.Uk.bQ(a);}};l.prototype.x1=function(a){this.Uk.x1(a);};l.prototype.M8a=function(a){this.Gp.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Gp.QoEEvaluator=a;};l.prototype.zAb=function(){delete this.Gp.QoEEvaluator;};l.prototype.Yw=function(a,b,f,p){var t,n;t=this.K;n=this.Gp;if(!0===p.bD)(p=n["throughput-wssl"])&&p.add(a,b,f,!0);else if(q.X(b))h.warn("addDataReceived called with undefined start time");else{t.n4a&&10>f-b?b=f-10:0===f-b&&(b=f-1);this.AK.Yw(a,b,f,p);this.lK.Yw(a,b,f,p);for(var l in n)n[l]&&n[l].add&&n[l].add(a,b,f);this.bi=Math.max(this.bi,k.Le.lz);q.Ma(this.ae)&&(this.ae=b,this.Rb=null,this.w$=!1,this.ac=0);q.Ma(this.Rb)||(b>this.Rb&&(this.ae+=b-this.Rb),this.Rb=null,this.w$=!1);this.ac+=a;this.bi<k.Le.kz&&(f-this.ae>t.z5a||this.ac>t.y5a)&&(this.bi=k.Le.kz);this.bi<k.Le.nJ&&(f-this.ae>t.M6a||this.ac>t.L6a)&&(!this.Q9||this.o3a>t.x5a)&&(this.bi=k.Le.nJ,c(this),this.AV=setInterval(this.e8a,t.k5a));q.Ma(this.Kw)||(b-this.Kw>t.Jza?this.D9.SJa(this.Kw,b):f-b>t.Jza&&this.D9.SJa(b,f));this.Kw=Math.max(f,this.Kw);}};l.prototype.Rt=function(a){this.Gt.add(a);this.Uk.Rt(a);};l.prototype.Qt=function(a){this.yt.add(a);this.Uk.Qt(a);};l.prototype.start=function(a){var b;q.Ma(this.Kw)&&!q.Ma(this.Rb)&&(this.Kw=a);b=this.Gp;if(this.K.rma)for(var f in b)b[f]&&b[f].start&&b[f].start(a);};l.prototype.stop=function(a){var b,f;b=this.Gp;for(f in b)b[f]&&b[f].stop&&b[f].stop(a);this.Rb=q.Ma(this.Rb)?a:Math.min(this.Rb,a);this.Kw=null;};l.prototype.flush=function(){var a,b;a=this.Gp;for(b in a)a[b]&&a[b].flush&&a[b].flush();};l.prototype.fail=function(){this.ae=null;};l.prototype.AHa=function(){var a,b;a=this.Gp.entropy;a&&(b=a.Mab(),a.reset());return b;};l.prototype.GIa=function(){var a,b,f,c,h,k,p;a=n.time.ea();b={};f=this.Gp;c=this.K;h=c.W3a;k=c.s7a;for(p in f)f[p]&&f[p].get&&(b[p]=f[p].get(a),"iqr"===f[p].type&&(b.gq=b[p]),"tdigest"===f[p].type&&(b.xi=b[p]),"wssl"===f[p].type&&(b.bD=b[p]));b.cdnavtp=this.AK.hm();b.activecdnavtp=this.lK.hm();b["default"]=h&&b[h]?b[h]:b["throughput-ewma"];"none"!==c.tla&&"none"!==k&&(b.UQa=k&&b[k]?b[k]:b["throughput-sw"]);return b;};l.prototype.get=function(){var a,b,f,c,h,k;a=this.GIa();b=a["default"];f=this.Gt.get();c=this.yt.get();h=this.K;if(a.UQa)k=a.UQa,b=q.la(b.Ca)&&q.la(k.Ca)&&b.Ca>k.Ca&&0<k.Ca?k:b;a.Fd=this.bi;a.Fa=b;!h.nX||!b||q.Ma(b.Ca)||isNaN(b.Ca)||!a.bD||q.Ma(a.bD.Ca)||isNaN(a.bD.Ca)||("max"===h.QUa?a.Fa.Ca=Math.max(a.bD.Ca,b.Ca):"sum"===h.QUa&&(a.Fa.Ca+=a.bD.Ca));a.th=f;a.fq=c;b=this.pL+!q.Ma(this.ae)?(q.Ma(this.Rb)?n.time.ea():this.Rb)-this.ae:0;a.time=b;return a;};l.prototype.rkb=function(){var a;a=this.pL+!q.Ma(this.ae)?(q.Ma(this.Rb)?n.time.ea():this.Rb)-this.ae:0;return{iF:Math.floor(8*(this.uV+this.ac)/a),USb:this.D9.Yc()};};l.prototype.Hnb=function(){var a,b,f;a={};b=this.get(!0);if(b.Fd&&b.Fa){a.aseavtp=Number(b.Fa.Ca).toFixed(2);a.asevartp=Number(b.Fa.yh).toFixed(2);if(b.gq){f=b.gq.m0;!f||isNaN(f.yk)||isNaN(f.xk)||isNaN(f.Wi)||(a.aseniqr=0<f.Wi?Number((f.yk-f.xk)/f.Wi).toFixed(2):-1,a.aseiqr=Number(f.yk-f.xk).toFixed(2),a.asemedtp=Number(f.Wi).toFixed(2));a.iqrsamples=b.gq.wC;}b.xi&&b.xi.Cu&&(a.tdigest=b.xi.Cu());}return a;};l.prototype.qC=function(a,b){var f;f=b.requestId;1===++this.Oz&&(this.emit("active",a),this.start(a));f&&this.mK.push(f);this.AK.qC(a,b);this.lK.qC(a,b);};l.prototype.Wka=function(){++this.fL;};l.prototype.sC=function(a,b,f){var c;c=f.requestId;b&&--this.fL;--this.Oz;this.K.rQa&&(this.Oz=Math.max(this.Oz,0),this.fL=Math.max(this.fL,0));0===this.Oz&&(this.stop(a),this.emit("inactive",a));c&&(b=this.mK.indexOf(c),0<=b&&this.mK.splice(b,1));this.AK.sC(a,f);this.lK.sC(a,f);};d.P=l;},function(d,b,a){var k;function c(a,b){return void 0===a?void 0:0===a?k.ka.sd:new k.ka(a,b);}function l(a,b){return a&&Math.floor(k.ka.Wma(a,b));}function q(a,b){return void 0===a||void 0===b?void 0:a+b;}function n(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(b,"__esModule",{value:!0});b.Xy=b.$y=void 0;k=a(34);d=function(){function a(){}Object.defineProperties(a.prototype,{Ho:{get:function(){return n(this.gb,this.Ra)||0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sja:{get:function(){return q(this.Ra,this.Hj);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IOa:{get:function(){return q(this.gb,this.Hj);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uca:{get:function(){return c(this.Ho,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zl:{get:function(){return c(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pp:{get:function(){return c(this.gb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qy:{get:function(){return c(this.Sja,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{v0:{get:function(){return c(this.IOa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jzb:{get:function(){return c(this.Hj,this.S);},enumerable:!1,configurable:!0}});return a;}();b.$y=d;d=function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return n(this.na,this.T)||0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return l(q(this.Ra,this.Hj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{na:{get:function(){return l(q(this.gb,this.Hj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xm:{get:function(){return l(this.Hj,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Li:{get:function(){return l(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xc:{get:function(){return l(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ub:{get:function(){return l(this.gb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bd:{get:function(){return l(q(this.Ra,this.Hj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{te:{get:function(){return l(q(this.gb,this.Hj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hr:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yv:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JH:{get:function(){return this.na;},enumerable:!1,configurable:!0}});return a;}();b.Xy=d;},function(d,b,a){var t;function c(a,b){if(a.length==b.length&&1<a.length){for(var f=a.length,c=0,h=k(a),p=k(b),t=0;t<f;t++)c+=a[t]*b[t];return(c-h*p/f)/f;}return!1;}function l(a){if(!Array.isArray(a)||2>a.length)return!1;a=q(a);return Math.sqrt(a);}function q(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=n(a);return k(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function n(a){return Array.isArray(a)&&a.length?k(a)/a.length:!1;}function k(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function p(a,b,f){return Math.max(Math.min(a,f),b);}function h(a,b){return"number"===typeof a?a:b;}function f(a){return 1/(1+Math.exp(-a));}t=a(7);d.P={Ia:function(a,b,f){try{a.emit(b,f);}catch(J){a.Ye("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",J,"Event:",f);}},Dr:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a+b.byteLength;},0);return f.buffer;},kW:p,Lbb:function(a,b,f,c){return{min:p(h(a.min,b),f,c),max:p(h(a.max,b),f,c),hu:p(a.hu||6E4,0,6E5),aDa:p(a.aDa||0,-3E5,3E5),scale:p(a.scale||6E4,0,3E5),PQa:p(a.PQa||0,-3E5,3E5),gamma:p(a.gamma||1,.1,10)};},xd:function(a,b){void 0!==a&&t.Iwb(a).forEach(function(a){b(a[0],a[1]);});},TFa:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(f(6*(b-(a.hu+(a.aDa||0)*(1-c)))/(a.scale+(a.PQa||0)*(1-c))),a.gamma));},xib:function(a,b){return a.min+(a.max-a.min)*Math.pow(f(6*(b-a.hu)/a.scale),a.gamma);},KSb:k,Bkb:n,Vnb:q,ISb:l,vSb:c,uSb:function(a,b){var f;if(a.length==b.length){f=c(a,b);a=l(a);b=l(b);if(0<a&&0<b)return f/(a*b);}return!1;},cy:function(a,b,f){return b.jEa?b.jEa(f):new a.Console("ASEJS","media|asejs",f);},Ala:function(a){return a.length?"{"+a+"} ":"";},OBb:function(a,b,f){return{min:a.min*f+(1-f)*b.min,max:a.max*f+(1-f)*b.max,hu:a.hu*f+(1-f)*b.hu,scale:a.scale*f+(1-f)*b.scale,gamma:a.gamma*f+(1-f)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},ema:f,mm:function(a){var b;b=a.Ha.Xc.ca.id;return{T:a.T,duration:a.duration,offset:a.offset,aa:a.aa,O:a.O,profile:a.profile,bc:a.bc,Na:b,sa:a.sa,Kb:a.Kb,location:a.location,xj:a.xj,Li:a.Li,rv:{Xc:{ca:{id:b}}}};}};},function(d,b,a){var c;c=a(167);d.P=function(a){return function n(b){return 0===arguments.length||c(b)?n:a.apply(this,arguments);};};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ps=b.Eia=b.fMa=void 0;d=a(946);a=a(943);b.fMa=d;b.Eia=function(a,l){return b.fMa(function(a,b){return void 0!==b?b:a;},a,l);};b.ps=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jz=void 0;b.Jz="SourceBufferTypeProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pz=void 0;b.pz="IdProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g7=b.ze=void 0;(function(a){a.iz=function(){function a(){}a.vWa="cache_start";a.wWa="cache_success";a.sWa="cache_abort";a.uWa="cache_fail";a.tWa="cache_evict";a.I0a="pb_request";a.W1a="start_playback";return a;}();a.Pj=function(){function a(){}a.Kna="auth";a.qz="ldl";a.rJ="hdr";a.MEDIA="media";return a;}();a.nR=function(){function a(){}a.xR="cached";a.LOADING="loading";a.yYa="expired";return a;}();}(b.ze||(b.ze={})));b.g7="PrefetchEventsFactorySymbol";},function(d,b,a){var l,q,n,k,p,h;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof h.MT?b.ZF:b);},[]);}l=a(176);q=a(494);n=a(495);k=a(1102);p=a(493);h=a(1101);d=function(){function a(a){this.closed=!1;this.TE=this.cA=this.mo=null;a&&(this.v$=a);}a.prototype.unsubscribe=function(){var a,b,f,d,g,F;a=!1;if(!this.closed){f=this.mo;d=this.cA;g=this.v$;F=this.TE;this.closed=!0;this.TE=this.cA=this.mo=null;for(var L=-1,H=d?d.length:0;f;)f.remove(this),f=++L<H&&d[L]||null;n.Tb(g)&&(f=k.FTa(g).call(this),f===p.zx&&(a=!0,b=b||(p.zx.e instanceof h.MT?c(p.zx.e.ZF):[p.zx.e])));if(l.isArray(F))for(L=-1,H=F.length;++L<H;)f=F[L],q.Se(f)&&(f=k.FTa(f.unsubscribe).call(f),f===p.zx&&(a=!0,b=b||[],f=p.zx.e,f instanceof h.MT?b=b.concat(c(f.ZF)):b.push(f)));if(a)throw new h.MT(b);}};a.prototype.add=function(b){var f;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;f=b;switch(typeof b){case"function":f=new a(b);case"object":if(f.closed||"function"!==typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;"function"!==typeof f.fya&&(b=f,f=new a(),f.TE=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.TE||(this.TE=[])).push(f);f.fya(this);return f;};a.prototype.remove=function(a){var b;b=this.TE;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.fya=function(a){var b,f;b=this.mo;f=this.cA;b&&b!==a?f?-1===f.indexOf(a)&&f.push(a):this.cA=[a]:this.mo=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();b.rw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vy=void 0;b.Vy="ApiInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJ=b.W3=void 0;b.W3="DrmServicesSymbol";b.iJ="DrmServicesProviderSymbol";},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,G,D,g,F,L,H,U,R;Object.defineProperty(b,"__esModule",{value:!0});b.hK=void 0;c=a(189);l=a(12);q=a(57);n=a(5);k=a(192);p=a(2);h=a(28);f=a(199);t=a(149);z=a(280);G=a(180);D=a(103);g=a(24);F=a(277);L=a(25);H=a(144);U=a(166);R=a(500);d=function(){function a(b){var h,t;h=this;this.createPlayer=function(a,b){var f;b=void 0===b?{}:b;b="number"===typeof b?{Uh:b}:b;f=n.Y.get(U.CD);f=b.manifest?f.create(b.manifest):void 0;a=n.Y.get(G.RJ).efb(a);return h.lEa(a,b,f);};this.createPlaygraphPlayer=function(a,b,f){var c;c=n.Y.get(U.CD);f=f?c.create(f):void 0;return h.lEa(H.p1a.encode(a),b,f);};this.closeAllPlayers=function(a){q.T6(void 0===a?function(){}:a);};this.init=function(b){b=void 0===b?function(){}:b;h.gF.fO(function(f){f.da?(l.config.t1?h.xCb().then(function(){c.Xua();})["catch"](function(a){n.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(h,a.HL);b(Object.assign({success:!0},a.HL));}):b({success:!1,error:n.kva(f.errorCode||p.J.Bra,f)});});};this.applyConfig=function(a){h.ZTa(a);l.Aba(a);};this.prepare=function(a,b){var f;a=h.dka.UEa(a)||[];f=new Set();a=a.filter(function(a){var b;b=f.has(a.u);f.add(a.u);return!b;});if(l.config.ep&&h.Ac())try{h.Ac().wv(a,b);}catch(ka){n.log.warn("Prepare call failed",ka);}};this.predownload=function(a,b){if((a=h.dka.UEa(a))&&l.config.Ry&&h.Ac())try{h.Ac().syb(a,b);}catch(W){n.log.warn("Predownload call failed",W);}};this.lookupPredownloaded=function(){return l.config.Ry&&h.Ac()?h.Ac().Xu():Promise.resolve([]);};this.ppmUpdate=function(a){N._cad_global.playerPredictionModel?((a=h.dka.xgb(a))&&N._cad_global.playerPredictionModel.update(a),N._cad_global.prefetchEvents&&N._cad_global.prefetchEvents.update(a)):n.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){n.mB().wQ().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){n.mB().xQ().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){n.mB().tQ().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){n.mB().uQ().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=n.Y.get(f.GJ).Qba();return a?Promise.resolve(a.hm()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=n.Y.get(f.GJ).Qba();return a?Promise.resolve(a.ymb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.Yhb;};this.ZTa(b);this.dka=n.Y.get(k.jT);this.gF=n.Y.get(g.sf);this.Ac=n.Y.get(D.Nz);t=n.Y.get(R.M6).apply();l.PDa([b],t);n.mB().xQ();}a.prototype.ZTa=function(a){n.Y.get(h.zJ).Wtb(a);};a.prototype.xCb=function(){return n.Y.get(t.NJ)()["catch"](function(a){n.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){n.log.error("Unable to send deferred playdata",a);});};a.prototype.lEa=function(a,b,f){var c,h,k,p;b=void 0===b?{}:b;c=n.Y.get(L.Ue);h=n.Y.get(z.c7);k=n.Y.get(F.e7);p=n.Y.get(G.RJ);h=h.create(a);a=h.gY();c=c.Zb();b=Object.assign(Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.mf,uiPlayStartTime:Date.now()},b),{endPts:a.tg,isPlaygraph:!0});k=k.create(c,h,p);k.addEpisode({movieId:a.oa,playbackParams:b,manifest:f});return k;};a.HL={};return a;}();b.hK=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Zn=void 0;c=a(0);l=a(1);q=a(42);n=a(66);a(153);d=function(){var b;function a(a,b,c,k,p){b=n.dh.call(this,a,b,k,q.hh.events,p,q.hh.events+"/"+c)||this;b.context=a;b.yib=c;return b;}ca(a,n.dh);a.prototype.ff=function(a,b){var f,c;f=this;c=this.ZV(b);return this.send(a,b.href,c).then(function(){return b;})["catch"](function(a){throw f.em(a);});};a.prototype.Jo=function(a,b,c){var f,h;f=this;h=this.ZV(c);return this.send(a,b.Sea("events").href,h).then(function(a){b.P$(a.result.links);return c;})["catch"](function(a){throw f.em(a);});};a.prototype.ZV=function(a){return{event:this.yib,xid:a.ha,position:a.position||0,clientTime:a.iM,sessionStartTime:a.ZP,mediaId:a.WG,trackId:a.cb,sessionId:a.sessionId,appId:a.CL,playTimes:this.Dab(a.eP),sessionParams:a.Un,mdxControllerEsn:a.ria};};a.prototype.Naa=function(a){return{downloadableId:a.ld,duration:a.duration};};a.prototype.Dab=function(a){var b;b={total:a.total,audio:a.audio.map(this.Naa),video:a.video.map(this.Naa),text:a.text.map(this.Naa)};a.total!==a.TC&&(b.totalContentTime=a.TC);return b;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.Vh()),c.__param(1,l.Vh()),c.__param(2,l.Vh()),c.__param(3,l.Vh()),c.__param(4,l.Vh())],b);}();b.Zn=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.mh=void 0;c=a(9);l=a(12);d=a(2);q=a(16);n=a(5);k=a(351);p=a(10);h=a(24);f=a(33);t=n.Y.get(h.sf);t.register(d.J.U4,function(a){var h,d,z,F;h=n.Y.get(f.Wj);q.Wa(l.config);q.Wa(p.ct&&p.ct.getDeviceId||p.RS||h.VX);d=n.Y.get(k.N3);z=n.rh("Device");t.dd("devs");F=n.Y.get(f.Cp);d.create({deviceId:l.config.deviceId,VX:h.VX,ZEa:"deviceid",oh:l.config.oh,Ax:F.wqa,Bca:h.Bca,userAgent:p.Hl,Fha:l.config.Fha,Cea:l.config.Cea,Ggb:F.uXa||!1,A$a:l.config.kCa.e,Fgb:F.BKb||!1,dUb:l.config.Ir?"mslstoretest":"mslstore"}).then(function(f){b.mh=f;N._cad_global.device=b.mh;z.info("Esn source: "+b.mh.qda);t.dd("devdone");a(c.gd);})["catch"](function(b){b.da=void 0;a(b);});});},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,G,D,g,F,L;Object.defineProperty(b,"__esModule",{value:!0});b.Wc=b.$k=void 0;c=a(50);l=a(313);q=a(623);n=a(186);k=a(12);p=a(9);h=a(148);f=a(298);t=a(35);d=a(2);z=a(5);G=a(199);D=a(10);g=a(145);F=a(24);L=a(57);z.Y.get(F.sf).register(d.J.Cra,function(d){var F,J,H,m,y,r,u;F=z.Y.get(G.GJ).Qba();J=z.Y.get(h.T3).lD;H=z.Y.get(l.K5).Tj;m={eC:z.hN("ASE"),T9a:z.hN("JS-ASE",void 0,"Platform"),rh:z.hN,storage:g.storage,Go:g.Go,zmb:D.jD,getTime:t.Og,NG:{},Tj:H,Zq:q.Zq,lD:J,MediaSource:f.yta,SourceBuffer:n.I5,lk:function(){return[k.config.OV,k.config.QV];},px:function(a){L.Rm.forEach(function(b){b.JRa(a);});}};J=new Promise(function(a){g.storage.load("nh",function(b){m.NG.nh=b.da?b.data:void 0;a();});});H=new Promise(function(a){g.storage.load("lh",function(b){m.NG.lh=b.da?b.data:void 0;a();});});y=new Promise(function(a){g.storage.load("gh",function(b){m.NG.gh=b.da?b.data:void 0;a();});});r=new Promise(function(a){g.storage.load("sth",function(b){m.NG.sth=b.da?b.data:void 0;a();});});u=new Promise(function(a){g.storage.load("vb",function(b){m.NG.vb=b.da?b.data:void 0;a();});});Promise.all([J,H,u,r,y]).then(function(){var f;f=a(621)(m);b.Wc=a(297);b.Wc.declare(c.am);b.Wc.declare({Ry:["useMediaCache",!1],tx:["diskCacheSizeLimit",0],wRb:["dailyDiskCacheWriteLimit",0],v_:["mediaCachePrefetchMs",8E3],sia:["mediaCachePartitionConfig",{}]});b.Wc.set(a(154)(k.config),!0,z.hN("ASE"));f=c.tLa(f);b.$k=new f(b.Wc,F);b.$k.Db(k.config.OV,k.config.QV,{eC:m.eC},k.config.GP);d(p.gd);})["catch"](function(a){m.eC.error("Exception loading location history from local storage",a);});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eT=b.Mk=b.zh=void 0;b.zh=function(){};(function(a){a.r6="PRE_FETCH";a.j7="QC";a.Sm="STANDARD";a.v7="SUPPLEMENTAL";a.VXa="DOWNLOAD";}(b.Mk||(b.Mk={})));b.eT="PboManifestCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.SD=void 0;b.SD="PlaygraphConfigSymbol";},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Zsb=b.kOa=b.Qwb=b.oHa=b.Ywb=b.Uy=b.K2=b.wp=b.RI=b.QI=b.yi=void 0;c=a(20);l=a(16);b.yi="$attributes";b.QI="$children";b.RI="$name";b.wp="$text";b.K2="$parent";b.Uy="$sibling";b.Ywb=/^\s*\<\?xml.*\?\>/i;b.oHa=function(a,b,c){for(var k=2;k<arguments.length;++k);for(k=1;(b=arguments[k++])&&(a=a[b]););return a;};b.Qwb=function(a,n){var k;a?k=c.Kd(a[b.wp]):void 0!==n&&(k=n);l.BM(k);return k;};b.kOa=function(a,c){var k;a?k=a[b.wp]:void 0!==c&&(k=c);l.wEa(k);return k;};b.Zsb=function(a,c){var k;k={};k[b.yi]=a;k[b.wp]=c;return k;};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(225);d=function(){function a(a,b,c){this.tag=a;this.view=b;this.L=c;this.startOffset=c.offset;}a.APa=function(b,c){var k,h;k=b.qd();h=b.Ezb();b=new(l.IF[k]||a)(k,b.jlb(h),b);b.parse(c);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.L.offset=this.startOffset+this.length;this.L.UB=0;return!0;};a.prototype.jGa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.IF)for(var p=0;p<this.IF.length;p++)b=c.__spreadArrays(b,this.IF[p].jGa(a));return b;};a.prototype.hB=function(a){for(a=this.jGa(a);0<a.length;)return a[0];};a.prototype.nAa=function(){for(this.IF=[];this.L.offset<this.startOffset+this.length;)this.IF.push(a.APa(this.L,this));};return a;}();b.L3=d;d.prototype.skip=d.prototype.parse;},function(d){var c,l;function b(){var b,n;if(DataView.prototype&&DataView.prototype.tG&&!l){try{b=new ArrayBuffer(4);n=new DataView(b);n.uG(0,4,1);}catch(k){return;}try{b=new ArrayBuffer(4);n=new DataView(b);n.uG(1,2,2);}catch(k){DataView.prototype.uG=a(DataView.prototype.uG,DataView.prototype.getUint8,Uint8Array);DataView.prototype.DY=a(DataView.prototype.DY,DataView.prototype.getUint16,Uint16Array);DataView.prototype.tG=a(DataView.prototype.tG,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Nea=a(DataView.prototype.Nea,DataView.prototype.getInt8,Int8Array);DataView.prototype.Lea=a(DataView.prototype.Lea,DataView.prototype.getInt16,Int16Array);DataView.prototype.Mea=a(DataView.prototype.Mea,DataView.prototype.getInt32,Int32Array);}c.Rnb=function(a,b,c,f,t){return a.uG(b,c,f||1,t);};c.Pnb=function(a,b,c,f,t){return a.DY(b,c,f||2,t);};c.Qnb=function(a,b,c,f,t){return a.tG(b,c,f||4,t);};c.zSb=function(a,b,c,f,t){return a.Nea(b,c,f||1,t);};c.xSb=function(a,b,c,f,t){return a.Lea(b,c,f||2,t);};c.ySb=function(a,b,c,f,t){return a.Mea(b,c,f||4,t);};l=!0;}}function a(a,b,c){return function(k,h,f,t){var p;f=f||c.BYTES_PER_ELEMENT;if(k+h*f>this.byteLength){p=new c(h);p.set(a.call(this,k,h-1,f,t));p[h-1]=b.call(this,k+(h-1*f),t);return p;}return a.call(this,k,h,f,t);};}c={uG:function(a,b,c,p,h){var f;f=new Uint8Array(c);p=p||1;for(var k=0;k<c;++k,b+=p)f[k]=a.getUint8(b,h);return f;},DY:function(a,b,c,p,h){var f;f=new Uint16Array(c);p=p||2;for(var k=0;k<c;++k,b+=p)f[k]=a.getUint16(b,h);return f;},tG:function(a,b,c,p,h){var f;f=new Uint32Array(c);p=p||4;for(var k=0;k<c;++k,b+=p)f[k]=a.getUint32(b,h);return f;},Nea:function(a,b,c,p,h){var f;f=new Int8Array(c);p=p||1;for(var k=0;k<c;++k,b+=p)f[k]=a.getInt8(b,h);return f;},Lea:function(a,b,c,p,h){var f;f=new Int16Array(c);p=p||2;for(var k=0;k<c;++k,b+=p)f[k]=a.getInt16(b,h);return f;},Mea:function(a,b,c,p,h){var f;f=new Int32Array(c);p=p||4;for(var k=0;k<c;++k,b+=p)f[k]=a.getInt32(b,h);return f;},jSb:b};l=!1;c.olb=function(){return l;};b();d.P=c;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);return b;}(Error);b.assert=function(a,b){if(!a)throw new l(b||"Assertion failed");};},function(d){var n,k,p,h;function b(){b.Db.call(this);}function a(a,c,h,k){var f,p;if("function"!==typeof h)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h);f=a.Yf;void 0===f?(f=a.Yf=Object.create(null),a.Wz=0):(void 0!==f.kUb&&(a.emit("newListener",c,h.listener?h.listener:h),f=a.Yf),p=f[c]);void 0===p?(f[c]=h,++a.Wz):("function"===typeof p?p=f[c]=k?[h,p]:[p,h]:k?p.unshift(h):p.push(h),h=void 0===a.VK?b.bgb:a.VK,0<h&&p.length>h&&!p.yIb&&(p.yIb=!0,h=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),h.name="MaxListenersExceededWarning",h.vu=a,h.type=c,h.count=p.length,console&&console.warn&&console.warn(h)));return a;}function c(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.rGa||(this.target.removeListener(this.type,this.MUa),this.rGa=!0,k(this.listener,this.target,a));}function l(a,b,h){a={rGa:!1,MUa:void 0,target:a,type:b,listener:h};b=c.bind(a);b.listener=h;return a.MUa=b;}function q(a){var b;b=this.Yf;if(void 0!==b){a=b[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}n="object"===typeof Reflect?Reflect:null;k=n&&"function"===typeof n.apply?n.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c);};p=Number.isNaN||function(a){return a!==a;};d.P=b;b.EventEmitter=b;b.prototype.Yf=void 0;b.prototype.Wz=0;b.prototype.VK=void 0;h=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return h;},set:function(a){if("number"!==typeof a||0>a||p(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");h=a;}});b.Db=function(){if(void 0===this.Yf||this.Yf===Object.getPrototypeOf(this).Yf)this.Yf=Object.create(null),this.Wz=0;this.VK=this.VK||void 0;};b.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||p(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.VK=a;return this;};b.prototype.emit=function(a){var c,f,h;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);c="error"===a;f=this.Yf;if(void 0!==f)c=c&&void 0===f.error;else if(!c)return!1;if(c){0<b.length&&(h=b[0]);if(h instanceof Error)throw h;b=Error("Unhandled error."+(h?" ("+h.message+")":""));b.context=h;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)k(f,this,b);else{h=f.length;for(var c=Array(h),p=0;p<h;++p)c[p]=f[p];for(f=0;f<h;++f)k(c[f],this,b);}return!0;};b.prototype.addListener=function(b,c){return a(this,b,c,!1);};b.prototype.on=b.prototype.addListener;b.prototype.XOa=function(b,c){return a(this,b,c,!0);};b.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.on(a,l(this,a,b));return this;};b.prototype.Fyb=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.XOa(a,l(this,a,b));return this;};b.prototype.removeListener=function(a,b){var f,c,h,k,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);c=this.Yf;if(void 0===c)return this;f=c[a];if(void 0===f)return this;if(f===b||f.listener===b)0===--this.Wz?this.Yf=Object.create(null):(delete c[a],c.removeListener&&this.emit("removeListener",a,f.listener||b));else if("function"!==typeof f){h=-1;for(k=f.length-1;0<=k;k--)if(f[k]===b||f[k].listener===b){p=f[k].listener;h=k;break;}if(0>h)return this;if(0===h)f.shift();else{for(;h+1<f.length;h++)f[h]=f[h+1];f.pop();}1===f.length&&(c[a]=f[0]);void 0!==c.removeListener&&this.emit("removeListener",a,p||b);}return this;};b.prototype.rH=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,f,c;f=this.Yf;if(void 0===f)return this;if(void 0===f.removeListener)return 0===arguments.length?(this.Yf=Object.create(null),this.Wz=0):void 0!==f[a]&&(0===--this.Wz?this.Yf=Object.create(null):delete f[a]),this;if(0===arguments.length){b=Object.keys(f);for(f=0;f<b.length;++f)c=b[f],"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.Yf=Object.create(null);this.Wz=0;return this;}b=f[a];if("function"===typeof b)this.removeListener(a,b);else if(void 0!==b)for(f=b.length-1;0<=f;f--)this.removeListener(a,b[f]);return this;};b.prototype.listeners=function(a){var b;b=this.Yf;if(void 0===b)a=[];else if(a=b[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var b=Array(a.length),f=0;f<b.length;++f)b[f]=a[f].listener||a[f];a=b;}return a;};b.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):q.call(a,b);};b.prototype.listenerCount=q;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JT=b.Ym=void 0;b.Ym={ND:"PRIMARY",Jna:"ASSISTIVE",Soa:"COMMENTARY",NONE:"NONE"};b.JT={assistive:b.Ym.Jna,closedcaptions:b.Ym.Jna,directorscommentary:b.Ym.Soa,commentary:b.Ym.Soa,subtitles:b.Ym.ND,primary:b.Ym.ND,none:b.Ym.NONE};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.FD=void 0;b.FD="MslProviderSymbol";},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Cl=void 0;c=a(32);l=a(61);q=a(444);d=a(97);n=a(133);new d.qw();a=function(){function a(a,b,f){var h;h=q.aJ.call(this,a,b,c.Vq.Mxa)||this;h.config=a;h.Aia=b;h.is=f;h.type=c.Xj.gz;h.fR=n.Bd.mEa();return h;}ca(a,q.aJ);a.prototype.Fs=function(){return Promise.resolve(!1);};a.prototype.kG=function(){return Promise.resolve("");};a.prototype.wQ=function(){return Promise.resolve(!1);};a.prototype.uQ=function(){return Promise.resolve(!1);};a.prototype.xQ=function(){return Promise.resolve(!1);};a.prototype.tQ=function(){return Promise.resolve(!1);};a.prototype.iG=function(a){return this.fR[a];};a.prototype.N$=function(a){return a;};a.prototype.CLa=function(a){switch(a){case c.Xh.Sq:return"1.4";case c.Xh.rz:return"2.2";}};a.prototype.NA=function(){var a;a={};a[l.V.lJ]="avc1.4D401E";a[l.V.sD]="avc1.4D401F";a[l.V.hS]="avc1.4D4028";a[l.V.E4]="hev1.1.6.L90.B0";a[l.V.F4]="hev1.1.6.L93.B0";a[l.V.G4]="hev1.1.6.L120.B0";a[l.V.H4]="hev1.1.6.L123.B0";a[l.V.I4]="hev1.1.6.L150.B0";a[l.V.J4]="hev1.1.6.L153.B0";a[l.V.A4]="hev1.2.6.L90.B0";a[l.V.B4]="hev1.2.6.L93.B0";a[l.V.C4]="hev1.2.6.L120.B0";a[l.V.D4]="hev1.2.6.L123.B0";a[l.V.uD]="hev1.2.6.L150.B0";a[l.V.vD]="hev1.2.6.L153.B0";a[l.V.oS]="hev1.2.6.L90.B0";a[l.V.qS]="hev1.2.6.L93.B0";a[l.V.sS]="hev1.2.6.L120.B0";a[l.V.uS]="hev1.2.6.L123.B0";a[l.V.t4]="hev1.2.6.L90.B0";a[l.V.u4]="hev1.2.6.L93.B0";a[l.V.v4]="hev1.2.6.L120.B0";a[l.V.w4]="hev1.2.6.L123.B0";a[l.V.x4]="hev1.2.6.L150.B0";a[l.V.y4]="hev1.2.6.L153.B0";a[l.V.oJ]="hev1.2.6.L90.B0";a[l.V.pJ]="hev1.2.6.L93.B0";a[l.V.tD]="hev1.2.6.L120.B0";a[l.V.qJ]="hev1.2.6.L123.B0";a[l.V.bJ]=n.Bd.F3;a[l.V.cJ]=n.Bd.Kpa;a[l.V.iD]=n.Bd.Lpa;a[l.V.dJ]=n.Bd.Mpa;a[l.V.eJ]=n.Bd.Npa;a[l.V.PR]=n.Bd.Opa;a[l.V.PYa]="avc1.640016";a[l.V.eS]="avc1.64001E";a[l.V.fS]="avc1.64001F";a[l.V.gS]="avc1.640028";a[l.V.Jxa]=n.Bd.dK;a[l.V.eK]=n.Bd.dK;a[l.V.fK]=n.Bd.dK;a[l.V.gK]=n.Bd.dK;a[l.V.Exa]=n.Bd.cK;a[l.V.Fxa]=n.Bd.cK;a[l.V.Gxa]=n.Bd.cK;a[l.V.Hxa]=n.Bd.cK;a[l.V.Ixa]=n.Bd.cK;a[l.V.Lna]=n.Bd.zi;a[l.V.Mna]=n.Bd.zi;a[l.V.Nna]=n.Bd.zi;a[l.V.Ona]=n.Bd.zi;a[l.V.Pna]=n.Bd.zi;a[l.V.Qna]=n.Bd.zi;a[l.V.Rna]=n.Bd.zi;a[l.V.Sna]=n.Bd.zi;return a;};a.prototype.mIa=function(){return this.config().JI;};a.prototype.pG=function(){return Promise.resolve(void 0);};a.prototype.uN=function(){return Promise.resolve(void 0);};a.prototype.vM=function(a){var b;b=[];this.is.Td(a)&&b.push(this.CLa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};a.CI="video/mp4;codecs={0};";return a;}();b.Cl=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Bd=void 0;c=a(32);b.Bd=function(){function a(){}a.mEa=function(b){var n;n={};n[c.vd.VJ]=a.rD;n[c.vd.iS]=a.rD;n[c.vd.LT]=a.mJ;n[c.vd.Us]=a.Us;n[c.vd.Ss]=b||a.Ss;n[c.vd.cD]=a.rD;n[c.vd.vw]=a.dK;n[c.vd.zi]=a.zi;return n;};a.rD="avc1.640028";a.mJ="hev1.1.6.L93.B0";a.F3="dvhe.05.01";a.Kpa="dvhe.05.04";a.Lpa="dvhe.05.05";a.Mpa="dvhe.05.06";a.Npa="dvhe.05.07";a.Opa="dvhe.05.09";a.Ss=a.F3;a.Us=a.mJ;a.lR="mp4a.40.2";a.PT="mp4a.40.42";a.wKb="ec-3";a.LPb="vp9";a.dK="vp09.00.11.08.02";a.cK="vp09.02.31.10.01";a.zi="av01.0.04M.08";a.SWa=[a.Opa,a.Npa,a.Mpa,a.Lpa,a.Kpa,a.F3];return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.SJ=b.I7=void 0;b.I7="SystemRandomSymbol";b.SJ="RandomGeneratorSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(19),b);d.__exportStar(a(492),b);d.__exportStar(a(1098),b);d.__exportStar(a(259),b);d.__exportStar(a(116),b);a(1091);a(1087);a(1084);a(1080);a(1077);a(1074);a(1072);a(1069);a(1065);a(1062);a(1061);a(1055);a(1053);a(1051);a(1049);a(1048);a(1042);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.FT=b.Qm=void 0;b.Qm=function(){};b.FT="StringObjectReaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;b.DD="MediaKeysStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mqa=b.Nm=void 0;d=b.Nm||(b.Nm={});d[d.iC=0]="playready";d[d.H2=1]="widevine";d[d.fB=2]="fairplay";d[d.kRb=3]="clearkey";b.mqa="DrmTypeSymbol";},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.mD=b.ob=void 0;c=a(138);l=a(47);q=a(2);b.ob=function(){function a(){}a.Dea=function(a){if(a){if(a.includes(b.mD.iC))return c.Nm.iC;if(a.includes("fps"))return c.Nm.fB;if(a.includes(b.mD.H2))return c.Nm.H2;}throw new l.Bc(q.J.qYa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};a.tHa=function(a){switch(a){case c.Nm.iC:return b.mD.iC;case c.Nm.fB:return b.mD.fB;default:return b.mD.H2;}};a.Yq="com.microsoft.playready";a.Cd="com.microsoft.playready.hardware";a.QJ="com.microsoft.playready.software";a.kOb="com.chromecast.playready";a.lOb="org.chromium.external.playready";a.DLb="com.apple.fps.2_0";a.K2a="com.widevine.alpha";a.mOb="com.microsoft.playready.recommendation";a.nOb="com.microsoft.playready.recommendation.3000";a.oOb="com.microsoft.playready.recommendation.2000";return a;}();b.mD={fB:"fairplay",H2:"widevine",iC:"playready"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OD=void 0;b.OD="PlatformConfigDefaultsSymbol";},function(d,b,a){var p;function c(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function l(a,b){return null===a.pv?!1:a.pv.lf===b?!0:l(a.pv,b);}function q(a){function b(a,f){void 0===f&&(f=[]);f.push(c(a.lf));return null!==a.pv?b(a.pv,f):f;}return b(a).reverse().join(" --\x3e ");}function n(a){a.fba.forEach(function(a){if(l(a,a.lf))throw a=q(a),Error(p.AWa+" "+a);n(a);});}function k(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(b,"__esModule",{value:!0});p=a(55);b.rG=c;b.UKa=function(a,b,c){var f;f="";a=c(a,b);0!==a.length&&(f="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.qk&&(b=k(a.qk));f=f+"\n "+b;a.KA.iMa&&(f=f+" - "+a.KA.iMa);}));return f;};b.Kbb=n;b.Prb=function(a,b){var f,c;if(b.Tga()||b.Mga()){f="";c=b.umb();b=b.ilb();null!==c&&(f+=c.toString()+"\n");null!==b&&b.forEach(function(a){f+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+f;}return" "+a;};b.getFunctionName=k;},function(d,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vs=void 0;c=/^\S+$/;a.prototype.SA=function(a){return void 0!==a;};a.prototype.Td=function(a){return null!==a&&void 0!==a;};a.prototype.wA=function(b){return a.FBa(b);};a.prototype.E$=function(b){return!(!b||!a.FBa(b));};a.prototype.Tt=function(a){return Array.isArray(a);};a.prototype.GBa=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.jh=function(b,c,n){return a.$Aa(b,c,n);};a.prototype.D$=function(b){return a.D$(b);};a.prototype.caa=function(b,c,n){return a.KV(b,c,n)&&0===b%1;};a.prototype.qr=function(b,c,n){return a.KV(b,c||0,n);};a.prototype.uL=function(b){return a.KV(b,1);};a.prototype.r8a=function(b){return a.KV(b,0,255);};a.prototype.s8a=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.HBa=function(a){return!(!a||!c.test(a));};a.prototype.nn=function(b){return a.aBa(b);};a.prototype.Ql=function(b){return!(!a.aBa(b)||!b);};a.prototype.tL=function(a){return!0===a||!1===a;};a.prototype.CV=function(a){return"function"==typeof a;};a.aBa=function(a){return"string"==typeof a;};a.$Aa=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.D$=function(a){return"number"==typeof a&&isNaN(a);};a.KV=function(b,c,n){return a.$Aa(b,c,n)&&0===b%1;};a.FBa=function(a){return"object"==typeof a;};b.Vs=new a();},function(d){var b;b=function(){return this;}();try{b=b||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof N&&(b=N);}d.P=b;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(569),b);d.__exportStar(a(568),b);},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Go=b.storage=void 0;c=a(12);l=a(9);q=a(302);d=a(2);n=a(301);k=a(299);p=a(5);a=a(24);b.storage=b.storage||void 0;b.Go=b.Go||void 0;p.Y.get(a.sf).register(d.J.Lra,function(a){var f;switch(c.config.KEb){case"idb":f=n.sSa;break;case"none":f=q.uSa;break;case"ls":f=k.tSa;}f(function(f){f.da?(b.storage=f.storage,b.Go=f.Go,a(l.gd)):a(f);});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OJ=void 0;b.OJ="PboPublisherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qb=void 0;b.Qb=function(){function a(){}a.Nd={Wta:"mr1",Vta:"mr2",Xta:"mr3",IJ:"mr4",q0a:"mr5",Az:"mr6"};a.jc={UNSENT:0,OPENED:1,ow:2,Ez:3,DONE:5,Yv:6,SI:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.uOb={Ina:0,Iz:1,Nta:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.oD={NO_ERROR:-1,FXa:0,Ipa:1,RXa:2,JXa:3,HWa:4,Uoa:5,p3:6,IWa:7,JWa:8,KWa:9,EWa:10,GWa:11,Toa:12,FWa:13,DWa:14,bZa:15,nra:16,mra:17,M4:18,O4:19,N4:20,pra:21,dZa:22,yS:23,ora:24,cZa:25,MXa:26,GXa:27,T1a:28,wXa:29,xXa:30,yXa:31,zXa:32,AXa:33,BXa:34,CXa:35,DXa:36,EXa:37,HXa:38,IXa:39,KXa:40,LXa:41,NXa:42,OXa:43,PXa:44,QXa:45,SXa:46,TXa:47,S1a:48,TIMEOUT:49,K4:50,kra:51,aZa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.vc={SH:{Ina:!0,Iz:!1,Nta:!0}};return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T3=b.dqa=void 0;b.dqa=function(){this.AUDIO=0;this.VIDEO=1;this.YYa=2;this.ff=function(){};};b.T3="DownloadTrackConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.NJ=b.G6=void 0;b.G6="PboPlaydataServicesSymbol";b.NJ="PboPlaydataServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.mk=function(){return this.buffer.length-this.position;};a.prototype.ue=function(){return this.buffer[this.position++];};a.prototype.Ld=function(a){var b;b=this.position;this.position+=a;return this.Vqb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Vqb=function(a){return void 0!==a.subarray;};a.prototype.zc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.vs=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.yka=function(){for(var a="",b;b=this.ue();)a+=String.fromCharCode(b);return a;};a.prototype.Pb=function(){return this.zc(2);};a.prototype.Pa=function(){return this.zc(4);};a.prototype.yg=function(){return this.zc(8);};a.prototype.K0=function(){return this.zc(2)/256;};a.prototype.vP=function(){return this.zc(4)/65536;};a.prototype.Hf=function(a){for(var b,c="";a--;)b=this.ue(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;};a.prototype.xy=function(){return this.Hf(4)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(6);};a.prototype.wP=function(a){for(var b=0,c=0;c<a;c++)b+=this.ue()<<(c<<3);return b;};a.prototype.oC=function(){return this.wP(4);};a.prototype.jR=function(a){this.buffer[this.position++]=a;};a.prototype.J2=function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);};a.prototype.iR=function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];};a.prototype.aD=function(a,b){this.iR(a.Ld(b));};a.prototype.PUa=function(b){b=new a(b);for(var c,q;;)if(c=b.mk(),q=c>>>14)q=Math.min(4,q),this.jR(192|q),this.aD(b,16384*q);else{128>c?this.jR(c):this.J2(c|32768,2);this.aD(b,c);break;}};a.prototype.xPa=function(){var q;for(var b=[],l=new a(b);;){q=this.ue();if(q&128)if(128==(q&192))q&=63,q=(q<<8)+this.ue(),l.aD(this,q);else if(q&=63,0<q&&4>=q){l.aD(this,16384*q);continue;}else throw Error("bad asn1");else l.aD(this,q);break;}return new Uint8Array(b);};return a;}();b.fJ=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yD=void 0;b.yD="LicenseProviderSymbol";},function(d,b,a){var l,q;function c(a){switch(a){case l.I.tJ:return"http";case l.I.vJ:return"connectiontimeout";case l.I.mz:return"readtimeout";case l.I.L4:return"corruptcontent";case l.I.Zv:return"abort";case l.I.wJ:case l.I.P4:return"unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.ofa=b.efa=b.dfa=void 0;l=a(2);q=a(10);b.dfa=c;b.efa=function(a,b){a={errorcode:a+(b.errorCode||l.J.Pk)};b.ga&&(a.errorsubcode=b.ga);b.re&&(a.errorextcode=b.re);b.oda&&(a.erroredgecode=b.oda);b.rb&&(a.errordetails=b.rb);b.Ni&&(a.httperr=b.Ni);b.L_&&(a.aseneterr=b.L_);b.sX&&(a.errordata=b.sX);b.tO&&(a.mediaerrormessage=b.tO);(b=c(Number(b.ga)))&&(a.nwerr=b);return a;};b.ofa=function(){return{screensize:q.Xq.width+"x"+q.Xq.height,screenavailsize:q.Xq.availWidth+"x"+q.Xq.availHeight,clientsize:N.innerWidth+"x"+N.innerHeight};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QR=b.J3=void 0;(b.J3||(b.J3={})).l1a="PboDebugEvent";b.QR={T_a:"Manifest",Event:"Event",tMb:"Logblob"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d.P=function(a){return{minInitVideoBitrate:a.js,minHCInitVideoBitrate:a.Gia,maxInitVideoBitrate:a.bv,minInitAudioBitrate:a.EO,maxInitAudioBitrate:a.oO,minHCInitAudioBitrate:a.DO,minAcceptableVideoBitrate:a.AO,minRequiredBuffer:a.FO,minPrebufSize:a.Vg,rebufferingFactor:a.Cka,useMaxPrebufSize:a.vna,maxPrebufSize:a.gy,maxRebufSize:a.mia,maxBufferingTime:a.Yo,minAudioMediaRequestSizeBytes:a.A_,minVideoMediaRequestSizeBytes:a.F_,initialBitrateSelectionCurve:a.nZ,initSelectionLowerBound:a.GJa,initSelectionUpperBound:a.HJa,throughputPercentForAudio:a.b2,bandwidthMargin:a.zaa,bandwidthMarginContinuous:a.Aaa,bandwidthMarginCurve:a.Baa,conservBandwidthMargin:a.Eba,switchConfigBasedOnInSessionTput:a.Fma,conservBandwidthMarginTputThreshold:a.nM,conservBandwidthMarginCurve:a.Fba,switchAlgoBasedOnHistIQR:a.KSa,switchConfigBasedOnThroughputHistory:a.My,maxPlayerStateToSwitchConfig:a.lia,lowEndMarkingCriteria:a.Nha,IQRThreshold:a.V4,histIQRCalcToUse:a.cga,maxTotalBufferLevelPerSession:a.ev,highWatermarkLevel:a.pJa,toStableThreshold:a.lTa,toUnstableThreshold:a.f2,skipBitrateInUpswitch:a.kma,watermarkLevelForSkipStart:a.Cna,highStreamRetentionWindow:a.Wfa,lowStreamTransitionWindow:a.Oha,highStreamRetentionWindowUp:a.Yfa,lowStreamTransitionWindowUp:a.Qha,highStreamRetentionWindowDown:a.Xfa,lowStreamTransitionWindowDown:a.Pha,highStreamInfeasibleBitrateFactor:a.Vfa,lowestBufForUpswitch:a.Yu,lockPeriodAfterDownswitch:a.f_,lowWatermarkLevel:a.Sha,lowestWaterMarkLevel:a.Zu,lowestWaterMarkLevelBufferRelaxed:a.Tha,mediaRate:a.zia,maxTrailingBufferLen:a.s_,audioBufferTargetAvailableSize:a.JL,videoBufferTargetAvailableSize:a.cR,maxVideoTrailingBufferSize:a.YLa,maxAudioTrailingBufferSize:a.JLa,fastUpswitchFactor:a.zX,fastDownswitchFactor:a.Dda,maxMediaBufferAllowed:a.cv,maxMediaBufferAllowedInBytes:a.ds,simulatePartialBlocks:a.hma,simulateBufferFull:a.URa,considerConnectTime:a.Gba,connectTimeMultiplier:a.Dba,lowGradeModeEnterThreshold:a.mLa,lowGradeModeExitThreshold:a.nLa,maxDomainFailureWaitDuration:a.MLa,maxAttemptsOnFailure:a.ILa,exhaustAllLocationsForFailure:a.VFa,maxNetworkErrorsDuringBuffering:a.SLa,maxBufferingTimeAllowedWithNetworkError:a.fia,fastDomainSelectionBwThreshold:a.cGa,throughputProbingEnterThreshold:a.XSa,throughputProbingExitThreshold:a.YSa,locationProbingTimeout:a.$Ka,finalLocationSelectionBwThreshold:a.gGa,throughputHighConfidenceLevel:a.VSa,throughputLowConfidenceLevel:a.WSa,locationStatisticsUpdateInterval:a.Cha,enablePerfBasedLocationSwitch:a.EFa,probeServerWhenError:a.tq,probeRequestTimeoutMilliseconds:a.ika,allowSwitchback:a.St,probeDetailDenominator:a.kC,maxDelayToReportFailure:a.n_,countGapInBuffer:a.$Da,bufferThresholdForAbort:a.ECa,allowCallToStreamSelector:a.BBa,pipelineScheduleTimeoutMs:a.Kja,maxPartialBuffersAtBufferingStart:a.dv,minPendingBufferLen:a.Hia,maxPendingBufferLen:a.fy,maxPendingBufferLenSABCell100:a.p_,maxActiveRequestsSABCell100:a.l_,maxStreamingSkew:a.nia,maxPendingBufferPercentage:a.kia,maxRequestsInBuffer:a.MB,headerRequestSize:a.YY,minBufferLenForHeaderDownloading:a.CO,reserveForSkipbackBufferMs:a.GP,numExtraFragmentsAllowed:a.kja,pipelineEnabled:a.ap,maxParallelConnections:a.UG,socketReceiveBufferSize:a.$Ra,audioSocketReceiveBufferSize:a.VV,videoSocketReceiveBufferSize:a.LI,headersSocketReceiveBufferSize:a.Tfa,updatePtsIntervalMs:a.r2,bufferTraceDenominator:a.Jaa,bufferLevelNotifyIntervalMs:a.DA,aseReportDenominator:a.GL,aseReportIntervalMs:a.naa,enableAbortTesting:a.AFa,abortRequestFrequency:a.bBa,streamingStatusIntervalMs:a.yma,prebufferTimeLimit:a.vv,minBufferLevelForTrackSwitch:a.B_,penaltyFactorForLongConnectTime:a.Fja,longConnectTimeThreshold:a.Lha,additionalBufferingLongConnectTime:a.U$,additionalBufferingPerFailure:a.V$,rebufferCheckDuration:a.yP,enableLookaheadHints:a.DFa,lookaheadFragments:a.iLa,enableOCSideChannel:a.$A,OCSCBufferQuantizationConfig:a.WS,updateDrmRequestOnNetworkFailure:a.WTa,deferAseScheduling:a.OEa,maxDiffAudioVideoEndPtsMs:a.LLa,useHeaderCache:a.EI,useHeaderCacheData:a.jX,defaultHeaderCacheSize:a.NW,defaultHeaderCacheDataPrefetchMs:a.rca,headerCacheMaxPendingData:a.Pfa,neverWipeHeaderCache:a.Via,headerCachePriorityLimit:a.Qfa,enableUsingHeaderCount:a.TM,networkFailureResetWaitMs:a.Tia,networkFailureAbandonMs:a.Sia,maxThrottledNetworkFailures:a.r_,throttledNetworkFailureThresholdMs:a.a2,lowThroughputThreshold:a.Rha,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.uda,mp4ParsingInNative:a.zMa,sourceBufferInOrderAppend:a.aSa,requireAudioStreamToEncompassVideo:a.zs,allowAudioToStreamPastVideo:a.ABa,enableManagerDebugTraces:a.Pg,managerDebugMessageInterval:a.zLa,managerDebugMessageCount:a.yLa,bufferThresholdToSwitchToSingleConnMs:a.Iaa,bufferThresholdToSwitchToParallelConnMs:a.Haa,netIntrStoreWindow:a.Wub,minNetIntrDuration:a.uub,fastHistoricBandwidthExpirationTime:a.Qib,bandwidthExpirationTime:a.P$a,failureExpirationTime:a.Nib,historyTimeOfDayGranularity:a.Wob,expandDownloadTime:a.Eib,minimumMeasurementTime:a.Fub,minimumMeasurementBytes:a.Eub,throughputMeasurementTimeout:a.EFb,initThroughputMeasureDataSize:a.Lpb,throughputMeasureWindow:a.DFb,throughputIQRMeasureWindow:a.CFb,IQRBucketizerWindow:a.g_a,connectTimeHalflife:a.zcb,responseTimeHalflife:a.sBb,historicBandwidthUpdateInterval:a.Vob,throughputWarmupTime:a.HFb,minimumBufferToStopProbing:a.Cub,throughputPredictor:a.FFb,ase_stream_selector:a.V9a,enableFilters:a.Jhb,filterDefinitionOverrides:a.ejb,defaultFilter:a.$fb,secondaryFilter:a.XBb,defaultFilterDefinitions:a.agb,initBitrateSelectorAlgorithm:a.xga,bufferingSelectorAlgorithm:a.Laa,ase_ls_failure_simulation:a.yEa,ase_dump_fragments:a.ica,ase_location_history:a.jca,ase_throughput:a.kca,ase_simulate_verbose:a.AEa,secondThroughputEstimator:a.tla,secondThroughputMeasureWindowInMs:a.TQa,marginPredictor:a.bia,networkMeasurementGranularity:a.Uia,HistoricalTDigestConfig:a.tra,maxIQRSamples:a.PLa,minIQRSamples:a.nMa,periodicHistoryPersistMs:a.o0,saveVideoBitrateMs:a.i1,needMinimumNetworkConfidence:a.KO,biasTowardHistoricalThroughput:a.Faa,maxFastPlayBufferInMs:a.hia,maxFastPlayBitThreshold:a.gia,headerCacheTruncateHeaderAfterParsing:a.kJa,minAudioMediaRequestDuration:a.$G,minVideoMediaRequestDuration:a.eH,minAudioMediaRequestDurationCache:a.$G,minVideoMediaRequestDurationCache:a.eH,addHeaderDataToNetworkMonitor:a.FV,useMediaCache:a.Ry,mediaCachePartitionConfig:a.sia,diskCacheSizeLimit:a.tx,mediaCachePrefetchMs:a.v_,hindsightDenominator:a.bga,hindsightDebugDenominator:a.aga,hindsightParam:a.aZ,minimumTimeBeforeBranchDecision:a.G_,enableSessionHistoryReport:a.SM,earlyStageEstimatePeriod:a.Xca,lateStageEstimatePeriod:a.MKa,maxNumSessionHistoryStored:a.o_,minSessionHistoryDuration:a.E_,appendMediaRequestOnComplete:a.OBa,waitForDrmToAppendMedia:a.MI,forceAppendHeadersAfterDrm:a.LX,startMonitorOnLoadStart:a.rma,reportFailedRequestsToNetworkMonitor:a.Pka,reappendRequestsOnSkip:a.xP,maxActiveRequestsPerSession:a.as,limitAudioDiscountByMaxAudioBitrate:a.xha,appendFirstHeaderOnComplete:a.faa,maxAudioFragmentOverlapMs:0,editAudioFragments:a.fX,editVideoFragments:a.xx,declareBufferingCompleteAtSegmentEnd:a.mca,applyProfileTimestampOffset:a.xA,applyProfileStreamingOffset:a.wo,requireDownloadDataAtBuffering:a.Y0,requireSetupConnectionDuringBuffering:a.Z0,recordFirstFragmentOnSubBranchCreate:a.Eka,earlyAppendSingleChildBranch:a.eX,selectStartingVMAFMethod:a.YH,activateSelectStartingVMAF:a.wL,minStartingVideoVMAF:a.dH,minAcceptableVMAF:a.zO,minAllowedVmaf:a.BO,alwaysNotifyEOSForPlaygraph:a.baa,enableNewAse:a.mX,useNewApi:a.GI,enableHudsonFieldTest:a.lX,hudsonTitles:a.HN,maxPartialBuffersAtHudson:a.jia,numberOfChunksPerSegment:a.pH,targetContentLatency:a.Z1,targetLongContentLatency:a.Jma,minimumTimeDelay:a.Jia,enableWsslEstimate:a.nX,maxAllowedOutstandingRequests:a.eia};};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Xva=b.RD=void 0;c=a(0);l=a(761);(function(a){a[a.tma=0]="startPlayback";a[a.eda=1]="endPlayback";}(b.RD||(b.RD={})));d=function(){function a(a){this.config=a;this.iQa=[];}a.prototype.T$=function(a){var b,p;p=c.__read(this.config.Cca.filter(function(b){return b.mM===a.mM;}),1)[0];(null!==(b=null===p||void 0===p?void 0:p.enabled)&&void 0!==b?b:a.enabled)&&this.iQa.push(a);};a.prototype.fN=function(a){var b,p,h,f,q,d;h={};f=[];try{for(var t=c.__values(this.iQa),n=t.next();!n.done;n=t.next()){q=n.value;try{d=q.fN({iq:a});d&&(q.JMa?h[q.JMa]=d:h=c.__assign(c.__assign({},h),d));}catch(J){f.push(J);}}}catch(J){b={error:J};}finally{try{n&&!n.done&&(p=t["return"])&&p.call(t);}finally{if(b)throw b.error;}}f.length&&(h["rpt-error"]=new l.Wna("Reporting error",f));return h;};return a;}();b.Xva=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.yp=void 0;c=a(0);l=a(18);q=a(781);n=a(4);d=function(){function b(a){this.kK=a;this.zl=[];this.console=new n.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{eg:{get:function(){var c;if(void 0===b.Xz){c=a(4);b.Xz=new b(c.lD);}return b.Xz;},enumerable:!1,configurable:!0}});b.reset=function(){b.Xz=void 0;};b.prototype.OA=function(a,b,f,c,k,n){var h,p,t,l;h=!1;t=n.KDb?this.njb(f,b,a):-1;if(-1===t){p={track:this.Jeb(f,c,a,k,n),rq:f,u:b,tPa:a,NH:[],Rp:!1,WEa:!1};this.zl.push(p);l=function(){p.Rp=!0;p.track.removeListener("created",l);};p.track.on("created",l);h=!1;}else h=!0,p=this.zl[t];a=new q.bwa(this.console,p.track,p.Rp,h);p.NH.push(a);return a;};b.prototype.VW=function(a){var b,f;a.An();b=this.FX(function(b){return b.track===a.track;});if(-1!==b)if(b=this.zl[b],1===b.NH.length)b.track.An(),b.WEa=!0;else{f=b.NH.indexOf(a);0<=f&&b.NH.splice(f,1);}else a.track.An();};b.prototype.ff=function(){this.kK.ff();};b.prototype.Jeb=function(a,b,f,k,n){var h,p,t;h=this;p=!1;a?1===f?(a=!1,b=1,n.ap?(a=!0,b=n.UG):n.as&&2<n.as&&(a=!0,b=n.as),a={type:this.kK.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:n.LI,minRequestSize:n.cH}):0===f?(p=n.ap&&(n.MHb||b&&n.NHb),a={type:this.kK.AUDIO,openRange:!p,pipeline:p,connections:1,socketBufferSize:n.VV,minRequestSize:n.cH}):a={type:this.kK.YYa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:n.Tfa,minRequestSize:n.cH}:a={type:0===f?l.La.AUDIO:l.La.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===f?n.VV:n.LI,minRequestSize:n.cH};t=new this.kK(a,k);t.on("transportreport",function(a){var b;b=h.FX(function(a){return a.track===t;});-1!==b&&(b=h.zl[b],b.NH.length&&b.NH[0].emit("transportreport",a));});t.on("destroyed",function(){var a;a=h.FX(function(a){return a.track===t;});-1!==a&&h.zl.splice(a,1);t.removeAllListeners();});if(p&&n.LHb||n.oUa)t.on("pipelinedisabled",function(){n.oUa&&1===t.config.type?t.O0(c.__assign(c.__assign({},t.config),{socketBufferSize:n.zub,pipeline:!1,openRange:!0,connections:1})):t.O0(c.__assign(c.__assign({},t.config),{pipeline:!1,openRange:!0}));});return t;};b.prototype.njb=function(a,b,f){return this.FX(function(c){return!c.WEa&&(a?c.rq&&c.u===b&&c.tPa===f:!c.rq&&c.tPa===f);});};b.prototype.FX=function(a){for(var b=0;b<this.zl.length;++b)if(a(this.zl[b]))return b;return-1;};return b;}();b.yp=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ea=b.aaa=void 0;b.aaa=function(a,b){var c,q,n;c=b.profile;b=b.u;q=a.TBb;n=a.UBb;return a.SBb||Array.isArray(q)&&-1!==q.indexOf(c)||"object"===typeof n&&Array.isArray(n[c])&&-1!==n[c].indexOf(""+b);};b.$ea=function(a,b){return void 0!==a.aH?a.aH:b&&void 0!==b.aH?b.aH:100;};},function(d,b,a){var q,n,k,p,h,f,t,z;function c(a){return a&&"function"===typeof a.sg?!0:!1;}function l(a){return c(a)&&(a=typeof a.mqb,"boolean"===a||"undefined"===a)?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mr=b.map=b.YWa=b.Iib=b.lqb=b.GVa=b.az=void 0;q=a(0);n=a(63);k=a(4).Promise;h=function(){function a(a){var b;b=this;this.Q4a=a;this.NK=!1;this.O6a=function(a){return b.Vyb(a);};this.aEa();}a.crb=function(a,b){function f(){var c;c=a.next();c.then(function(f){l(a)&&a.mqb||b(f);});c.then(function(a){return!a.done&&f();});}f();};Object.defineProperties(a.prototype,{Nu:{get:function(){return this.NK;},enumerable:!1,configurable:!0}});a.Blb=function(){return new f([]);};a.zfa=function(){p||(p=k.resolve({done:!0}));return p;};a.MSb=function(){return{done:!0};};Object.defineProperties(a.prototype,{EG:{get:function(){return this.br||!1;},enumerable:!1,configurable:!0}});a.prototype.sg=function(){this.cancel();};a.prototype.cancel=function(){this.Xza();this.br=!0;return this.C8;};a.prototype.next=function(){return this.br?this.C8:k.race([this.C8,this.Q4a()]).then(this.O6a);};a.prototype.Vyb=function(a){a.done&&(this.NK=!0,this.sg());this.EG||(this.Xza(),this.aEa());return a;};a.prototype.aEa=function(){var a;a=this;this.C8=new k(function(b){a.Xza=function(){b({done:!0});};});};return a;}();b.az=h;f=function(a){function b(b){var f;f=a.call(this,function(){return f.wmb();})||this;f.rn=b;f.index=0;return f;}q.__extends(b,a);b.prototype.sg=function(){c(this.rn)&&this.rn.sg();a.prototype.sg.call(this);};b.prototype.wmb=function(){return this.rn.length>this.index?k.resolve({value:this.rn[this.index++],done:!1}):k.resolve({done:!0});};return b;}(h);b.GVa=f;b.lqb=c;b.Iib=l;t=function(a){function b(b,c,h){var k;k=a.call(this,function(){return k.Wia();})||this;k.console=c;k.kj=h;k.kka=!1;Array.isArray(b)?k.ZK=new f(b):k.ZK=b;return k;}q.__extends(b,a);b.prototype.Xyb=function(a){var b;this.kka=!1;b=this.console;n.Ya&&b&&b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.uE)return c(a)&&a.sg(),h.zfa();Array.isArray(a)?this.kj=new f(a):this.kj=a;return this.Wia();};b.prototype.Wyb=function(a){var b;b=this.console;n.Ya&&b&&b.trace("CompoundIterator: processNextInnerResult",this.uE,a.done);if(!a.done||this.uE)return a;this.kj=void 0;return this.Wia();};b.prototype.sg=function(){var b;b=this.console;n.Ya&&b&&b.trace("CompoundIterator: dispose");this.uE=!0;a.prototype.sg.call(this);c(this.ZK)&&this.ZK.sg();c(this.kj)&&this.kj.sg();};b.prototype.toString=function(){return"CompoundIterator "+this.uE+" "+this.ZK+" "+this.kj;};b.prototype.Wia=function(){var a,b;a=this;b=this.console;n.Ya&&b&&b.trace("CompoundIterator: nextImpl");if(this.kj)return n.Ya&&b&&b.trace("CompoundIterator: getNextInner"),this.kj.next().then(function(b){return a.Wyb(b);});this.kka=!0;n.Ya&&b&&b.trace("CompoundIterator: getNextOuter");return this.ZK.next().then(function(b){return a.Xyb(b);});};return b;}(h);b.YWa=t;b.map=function(a,b,f){return new z(a,b,f);};z=function(a){function b(b,f,c){var h;h=a.call(this,function(){return h.B4a();})||this;h.source=b;h.aia=f;h.scb=c;return h;}q.__extends(b,a);b.prototype.sg=function(){c(this.source)&&this.source.sg();a.prototype.sg.call(this);};b.prototype.B4a=function(){var a,b,f;a=this.scb;b=this.aia;f=this.source;n.Ya&&a&&a.trace("MappedIterator: Requesting next");return f.next().then(function(a){return a.done?a:b(a.value);});};return b;}(h);b.Mr=function(a,b,f){return new t(a,b,f);};},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Zy=void 0;c=a(0);l=a(6);q=a(18);n=a(4);d=function(a){function b(b,f,c,k,p){c=a.call(this,c)||this;c.X$=!1;c.nQa=b;c.Wc=k;c.tza=b.location||f.location;c.mL=b.qc||f.Kb;c.Nla=b.Nla||f.Nla;c.TVb=n.time.ea();l.assert(p);c.G=p;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.tza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kb:{get:function(){return this.mL;},enumerable:!1,configurable:!0}});b.prototype.Db=function(a){this.Ha=a;};b.prototype.B1=function(a,b){this.tza=a;this.mL=b;};b.prototype.$U=function(a){var b,c,h;b={type:"logdata",target:"endplay",fields:{}};c=this.M===q.La.AUDIO?"audioedit":"videoedit";h=[this.Fx===this.T?this.Ub:this.xc,this.Fx===this.T?-this.duration:this.duration];a&&a.Ds&&h.push(a.Ds);b.fields[c]={type:"array",value:h};return b;};b.prototype.QU=function(a){this.Wc.xP&&(this.KGa=!0,this.uFa=a);};b.prototype.t2=function(){var a,b;if(this.complete)return 0;a=this.nQa;b=a.R;return a.url?this.url===a.url||(b.B1(this,a.location,a.qc),this.zQ(a.url))?0:(this.G.warn("swapUrl failed: ",this.bG),2):(this.G.warn("updateurl, missing url for streamId:",a.sa,"mediaRequest:",this,"stream:",a),1);};return b;}(a(83).Lq);b.Zy=d;},function(d,b,a){function c(a,b){this.YE=a;this.ji=Math.floor((a+b-1)/b);this.Oc=b;this.reset();}a(6);c.prototype.shift=function(){this.Uc.shift();this.nr.shift();};c.prototype.xH=function(a){return this.RCa(this.Uc[a],a);};c.prototype.update=function(a,b){this.Uc[a]=(this.Uc[a]||0)+b;};c.prototype.push=function(){this.Uc.push(0);this.nr.push(0);this.Qa+=this.Oc;};c.prototype.add=function(a,b,c){var k,p,h;if(null===this.Qa)for(k=Math.max(Math.floor((c-b+this.Oc-1)/this.Oc),1),this.Qa=b;this.Uc.length<k;)this.push();for(;this.Qa<=c;)this.push(),this.Uc.length>this.ji&&this.shift();if(null===this.Jl||b<this.Jl)this.Jl=b;if(b>this.Qa-this.Oc)this.update(this.Uc.length-1,a);else if(b==c)k=this.Uc.length-Math.max(Math.ceil((this.Qa-c)/this.Oc),1),0<=k&&this.update(k,a);else for(k=1;k<=this.Uc.length;++k){p=this.Qa-k*this.Oc;h=p+this.Oc;if(!(p>c)){if(h<b)break;this.update(this.Uc.length-k,Math.round(a*(Math.min(h,c)-Math.max(p,b))/(c-b)));}}for(;this.Uc.length>this.ji;)this.shift();};c.prototype.start=function(a){null===this.Jl&&(this.Jl=a);null===this.Qa&&(this.Qa=a);};c.prototype.stop=function(a){var b,c;if(null!==this.Qa)if(a-this.Qa>10*this.YE)this.reset();else{for(;this.Qa<=a;)this.push(),this.Uc.length>this.ji&&this.shift();b=this.Uc.length-Math.ceil((this.Qa-this.Jl)/this.Oc);0>b&&(this.Jl=this.Qa-this.Oc*this.Uc.length,b=0);c=this.Uc.length-Math.ceil((this.Qa-a)/this.Oc);if(b===c)this.nr[b]+=a-this.Jl;else if(c>b)for(this.nr[b]+=(this.Qa-this.Jl)%this.Oc,this.nr[c]+=this.Oc-(this.Qa-a)%this.Oc,a=b+1;a<c;++a)this.nr[a]=this.Oc;this.Jl=null;}};c.prototype.RCa=function(a,b){b=this.nea(b);return 0===b?null:8*a/b;};c.prototype.nea=function(a){var b;b=this.nr[a];null!==this.Jl&&(a=this.Qa-(this.Uc.length-a-1)*this.Oc,a>this.Jl&&(b=a-this.Jl<=this.Oc?b+(a-this.Jl):this.Oc));return b;};c.prototype.get=function(a,b){var c,k;c=this.Uc.map(this.RCa,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Oc));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(k||0):k=void 0!==k?b*c[a]+(1-b)*k:c[a];}return c;};c.prototype.reset=function(){this.i9||(this.Uc=[],this.nr=[],this.Jl=this.Qa=null);};c.prototype.setInterval=function(a){this.ji=Math.floor((a+this.Oc-1)/this.Oc);};d.P=c;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qs=void 0;c=a(219);l=a(6);d=function(){function a(a){this.config=a;this.reset();}a.eg=function(){l.assert(void 0!==a.Xz);return a.Xz;};a.ycb=function(b){a.Xz=new a(b);};a.iRb=function(){a.Xz=void 0;};a.prototype.push=function(a){this.xi&&this.xi.push(a);};a.prototype.lb=function(){if(this.xi)return this.xi.mu(),this.xi.Mh([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.FFa&&this.config.d5&&(this.xi=new c.wPb(this.config.d5.c,this.config.d5.maxc));};return a;}();b.Qs=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,z;Object.defineProperty(b,"__esModule",{value:!0});b.Yy=void 0;c=a(0);d=a(21);l=a(7);q=d.Fl;n=a(4);k=n.Tj;p=a(161);h=a(108);f=a(11);d=a(39);t=a(159);z=a(163);a=function(a){function b(b,f,c,h,p,n,l){f=a.call(this,f,c)||this;t.Zy.call(f,b,h,p,n,l);z.Sv.call(f,b,h);f.jK=b.url||h.url;f.iK=h.responseType;f.Zxa=h.E1;void 0===f.iK&&(f.iK=k.vc&&!k.vc.SH.Iz?0:1);f.Nf=new q();f.Nf.on(f,k.Nd.Wta,f.YK);f.Nf.on(f,k.Nd.Vta,f.I9);f.Nf.on(f,k.Nd.Xta,f.J9);f.Nf.on(f,k.Nd.IJ,f.XK);f.Nf.on(f,k.Nd.Az,f.FE);f.WD=!1;f.Tc=!1;f.qg=!1;f.jr=!1;f.DK=!1;f.sl=0;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{PPa:{get:function(){return this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!this.WD&&5===this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{or:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oga:{get:function(){return this.jr&&!this.DK;},enumerable:!1,configurable:!0}});b.prototype.Db=function(a){t.Zy.prototype.Db.call(this,a);this.Yb||!this.Wc.FV&&this.bc||(this.Yb=h.eg(),this.active&&(this.Yb.qC(n.time.ea(),{requestId:this.gn(),ee:this.Kb,type:this.M}),this.qg&&(this.Yb.Wka(n.time.ea()),this.connect&&0<this.hp.length&&this.Yb.Rt(this.hp[0]))));};b.prototype.xB=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};b.prototype.dF=function(a){this.Hi=a.appendBuffer(this.response,f.mm(this));return{da:this.Hi};};b.prototype.ns=function(){(this.jr=k.prototype.open.call(this,this.jK,{start:this.offset,end:this.offset+this.aa-1},this.iK,{},void 0,void 0,this.Zxa))&&this.bN(this);return this.jr;};b.prototype.abort=function(){var a;if(this.or)return!0;a=this.Tc;this.Yb&&a&&this.Yb.sC(n.time.ea(),this.qg,{requestId:this.gn(),ee:this.Kb,type:this.M});this.WD=!0;this.qg=this.Tc=!1;k.prototype.abort.call(this);this.PX(this,a,this.Oga);return!0;};b.prototype.wc=function(){7!==this.readyState&&5!==this.readyState&&(this.G.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Nf&&this.Nf.clear();a.prototype.wc.call(this);};b.prototype.YK=function(){var a;a=this.$c||this.hf;p.Qs.eg().push(n.time.ea()-a);this.Tc||(this.Tc=!0,this.Ln=this.track.Ln(),this.stream.K.HLa||this.Yb&&this.Yb.qC(a,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.kB(this),this.tl=this.$c);};b.prototype.I9=function(){var a,b,f;a=this.$c||this.Mda;b=this.connect;f=this.hp;p.Qs.eg().push(n.time.ea()-a);this.Tc||(this.Tc=!0);this.qg||(this.qg=!0,this.stream.K.HLa&&this.Yb&&this.Yb.qC(a,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.Yb&&this.Yb.Wka(),b&&0<f.length&&this.Yb&&this.Yb.Rt(f[0]),this.jB(this),this.tl=a);};b.prototype.J9=function(){var a,b,f;a=this;b=this.$c;f=this.Ce-this.sl;p.Qs.eg().push(n.time.ea()-b);this.qg||(this.qg=!0);this.Yb&&(void 0===this.tl||this.Yb.Yw(f,this.tl,b,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.hp&&this.hp.length&&this.hp.forEach(function(b){a.Yb.Qt(b);}));this.hG(this);this.tl=b;this.sl=this.Ce;};b.prototype.XK=function(){var a,b,f;a=this;b=this.$c;f=this.Ce-this.sl;p.Qs.eg().push(n.time.ea()-b);this.Yb&&(0<f&&this.Yb.Yw(f,this.tl,b,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.hp&&this.hp.length&&this.hp.forEach(function(b){a.Yb.Qt(b);}),this.Yb.sC(b,this.qg,{requestId:this.gn(),ee:this.Kb,type:this.M}));this.qg=this.Tc=!1;this.DK=!0;this.Vp(this);this.tl=b;this.sl=this.Ce;this.wc();};b.prototype.gn=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.$V;b&&(a+=",range "+b.start+"-"+b.end);return a;};b.prototype.FE=function(){var a,b,f,c;this.G.warn("AseMediaRequest._onError:",this.toString());a=this.$c;b=this.status;f=this.qh;c=this.Ui;p.Qs.eg().push(n.time.ea()-a);this.complete?this.G.warn("Error on a done request "+this.toString()+", failurecode: "+f):this.or?this.G.warn("Error on an aborted request "+this.toString()+", failurecode: "+f):l.la(f)?(this.Yb&&this.Wc&&this.Wc.Pka&&this.hf&&void 0===b&&this.Yb.Yw(this.sl?this.Ce-this.sl:this.Ce,this.tl?this.tl:this.hf,a,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.QX(this)):this.G.warn("ignoring undefined request error (nativecode: "+c+")");};return b;}(k);b.Yy=a;d.pf(t.Zy,a,!1);d.pf(z.Sv,a,!1);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Sv=void 0;a(6);d=function(){function a(a,b){this.Ed=a;this.ac=b.aa;this.Qd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Ed;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.ac;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Ed.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Ed.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Ed.M;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.Ed.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Ed.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Ed.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Ed.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hH:{get:function(){return this.Ed.hH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.Ed.Ta;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.u,streamId:this.sa,offset:this.offset,bytes:this.aa};};return a;}();b.Sv=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(27);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.L.offset+=8;this.tbb=this.L.Yg();this.JBb=this.L.Yg();this.L.offset+=4;this.MQa=this.L.Yg();this.L.offset+=2;l.Ya&&this.L.console.trace("MP4AudioSampleEntry: channelcount: "+this.tbb+", samplesize: "+this.JBb+", samplerate: "+this.MQa);return b;};b.ic=!1;return b;}(a(226)["default"]);b["default"]=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Bl=void 0;c=a(4);l=a(11);d=function(){function a(a){this.G=new c.Console("ASEJS","media|asejs","("+a+")");this.z9=[];}a.prototype.Gn=function(a){this.z9[a]||(this.z9[a]=l.cy(c,this.G,"["+a+"]"));return this.z9[a];};return a;}();b.Bl=new d(0);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CD=void 0;b.CD="ManifestFactorySymbol";},function(d){d.P=function(b){return null!=b&&"object"===typeof b&&!0===b["@@functional/placeholder"];};},function(d,b,a){var c,l,q;c=a(111);l=a(51);q=a(167);d.P=function(a){return function p(b,f,t){switch(arguments.length){case 0:return p;case 1:return q(b)?p:l(function(f,c){return a(b,f,c);});case 2:return q(b)&&q(f)?p:q(b)?l(function(b,c){return a(b,f,c);}):q(f)?l(function(f,c){return a(b,f,c);}):c(function(c){return a(b,f,c);});default:return q(b)&&q(f)&&q(t)?p:q(b)&&q(f)?l(function(b,f){return a(b,f,t);}):q(b)&&q(t)?l(function(b,c){return a(b,f,c);}):q(f)&&q(t)?l(function(f,c){return a(b,f,c);}):q(b)?c(function(b){return a(b,f,t);}):q(f)?c(function(f){return a(b,f,t);}):q(t)?c(function(c){return a(b,f,c);}):a(b,f,t);}};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DS=b.X4=b.R4=void 0;b.R4="IDBDatabaseFactorySymbol";b.X4="IndexedDBFactorySymbol";b.DS="IndexedDBStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S4=b.Z5=b.Ota=void 0;b.Ota="NativeLocalStorageSymbol";b.Z5="NativeLocalStorageFactorySymbol";b.S4="IDBFactorySymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gJ=b.bYa=void 0;c=a(32);b.bYa=function(){this.KL=[];this.JI=[];this.raa=c.Tv.gz;this.C2=c.Xj.gz;};b.gJ="DeviceCapabilitiesConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZJ=void 0;b.ZJ="TimeoutMonitorFactorySymbol";},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b){a.call(this);this.ta=b;}c(b,a);b.create=function(a){return new b(a);};b.oc=function(a){a.aj.complete();};b.prototype.Ol=function(a){var c;c=this.ta;if(c)return c.Kc(b.oc,0,{aj:a});a.complete();};return b;}(a(19).mb);b.YR=d;},function(d,b,a){var c,l,q,n,k,p,h,f;c=a(85);l=a(486);q=a(485);n=a(494);k=a(19);p=a(256);h=a(1088);f=a(257);b.Y1=function(a,b,d,D){var t;t=new h.fsa(a,d,D);if(t.closed)return null;if(b instanceof k.mb)if(b.zt)t.next(b.value),t.complete();else return t.Hm=!0,b.subscribe(t);else if(l.UJa(b)){a=0;for(d=b.length;a<d&&!t.closed;a++)t.next(b[a]);t.closed||t.complete();}else{if(q.jKa(b))return b.then(function(a){t.closed||(t.next(a),t.complete());},function(a){return t.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),t;if(b&&"function"===typeof b[p.iterator]){b=b[p.iterator]();do{a=b.next();if(a.done){t.complete();break;}t.next(a.value);if(t.closed)break;}while(1);}else if(b&&"function"===typeof b[f.observable])if(b=b[f.observable](),"function"!==typeof b.subscribe)t.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new h.fsa(a,d,D));else b="You provided "+(n.Se(b)?"an invalid object":"'"+b+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",t.error(new TypeError(b));}return null;};},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.V_=function(a,b){this.destination.next(b);};b.prototype.qvb=function(a){this.destination.error(a);};b.prototype.ls=function(){this.destination.complete();};return b;}(a(70).Wm);b.ZS=d;},function(d,b){b.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s4=b.r4=b.o7=b.p7=void 0;b.p7="ReportSyncSymbol";b.o7="ReportApiErrorSyncSymbol";b.r4="FtlProbeConfigSymbol";b.s4="FtlProbeSymbol";},function(d){d.P={Rs:{K7:0,ewa:1,gj:2,name:["transient","semiTransient","permanent"]},Ps:{Sqa:0,cwa:1,yT:2,KJ:3,et:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},KPb:{yPb:0,AMb:1,mKb:2,et:100,name:["trailer","montage","content"]},Uq:{nsa:0,Rva:1,A2a:2,UXa:3,et:100,name:["left","right","up","down"]},AJ:{QWa:0,yT:1,JLb:2,gLb:3,EJb:4,ILb:5,KVa:6,et:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},xD:{KJ:0,Fpa:1,et:100,name:["playFocused","detailsOpened"]}};},function(d,b,a){b=a(250);d.P="undefined"!==typeof b&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.RJ=void 0;b.RJ="PlaygraphHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fo=void 0;d=b.fo||(b.fo={});d[d.Sta=0]="None";d[d.Xqa=1]="Fetching";d[d.R3=2]="Done";d[d.Error=3]="Error";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m7=void 0;b.m7=function(a,b){var c;this.Yla=function(){c||(c=setInterval(b,a));};this.mba=function(){c&&(clearInterval(c),c=void 0);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$h=void 0;d=b.$h||(b.$h={});d[d.dSa=1]="sourceopen";d[d.Fo=2]="currentTimeChanged";d[d.PP=3]="seeked";d[d.eUb=4]="needlicense";d[d.SKa=5]="licenseadded";d[d.cSa=6]="sourceBuffersAdded";d[d.rja=7]="onNeedKey";},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.oEa=b.Uha=void 0;c=a(16);l=a(20);q=a(15);(function(){var k,p,h;function a(a){c.Wa(void 0!==k[a]);return k[a];}k={'"':'""',"\r":"","\n":" "};p=/["\r\n]/g;h=/[", ]/;b.oEa=function(b){return q.Xb(b)?q.la(b)?b:q.Jd(b)?b.replace(p,a):q.Hga(b)?b:isNaN(b)?"NaN":"":"";};b.Uha=function(a){var f,c;f=b.oEa;c="";l.xd(a,function(a,b){a=f(a)+"="+f(b);h.test(a)&&(a='"'+a+'"');c=c?c+(","+a):a;});return c;};}());},function(d,b,a){var l,q,n;function c(a,b){this.fr=b?[b]:[];this.h9="$op$"+n++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;l=a(9);q=a(16);n=0;c.prototype.addListener=function(a,b){var c;c=this;q.hca(a);q.Wa(0>this.fr.indexOf(a));a[l.XS+this.h9]=b;this.fr=this.fr.slice();this.fr.push(a);this.fr.sort(function(a,b){return c.lEb(a,b);});};c.prototype.removeListener=function(a){var b;q.hca(a);this.fr=this.fr.slice();0<=(b=this.fr.indexOf(a))&&this.fr.splice(b,1);};c.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,qx:b};this.o=a;a=this.fr;for(var c=a.length,f=0;f<c;f++)a[f](b);}};c.prototype.when=function(a){var b;b=this;return new Promise(function(c){function f(h){if(a(h.newValue))return b.removeListener(f),c(h.newValue);}if(a(b.o))return c(b.o);b.addListener(f);});};c.prototype.lEb=function(a,b){return(a[l.XS+this.h9]||0)-(b[l.XS+this.h9]||0);};na.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Mc=c;},function(d,b,a){var l,q,n,k,p,h,f,t,z,G,D,g,F;function c(a,b,c,d,z){var G,g;G=this;this.j=a;this.type=b;this.iya=d;this.log=z;this.CU=new p.Mc(!1);this.Vz={data:[],state:"",operation:""};this.ZG=this.ZFa((this.type===l.yc.La.VIDEO?this.j.mg.value:this.j.jd.value).dc);this.Zj=new h.dj();this.t9={Type:this.type};k.config.$x&&(g=!0,this.Qda=new p.Mc(!1));this.log.trace("Adding source buffer",this.t9,{TypeId:this.ZG});this.Ec=c.addSourceBuffer(this.ZG);this.Ec.addEventListener("updatestart",function(){G.Vz.state="updatestart";});this.Ec.addEventListener("update",function(){G.Vz.state="update";});this.Ec.addEventListener("updateend",function(){var a;G.CU.set(!1);G.qya&&G.qya();G.Vz.state="updateend";a=0;try{a=G.Ec.buffered.length;}catch(qa){}g&&a&&(g=!1,G.Qda.set(!0));});this.Ec.addEventListener("error",function(b){var c;try{c=b.target.error&&b.target.error.message;(b.message||c)&&z.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(da){}b=f.Y.get(n.Nk);a.Sd(b(t.J.b1a,q.kY(G.type)));});this.Ec.addEventListener("abort",function(){});a.addEventListener(D.U.closed,function(){G.Ec=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.I5=void 0;l=a(50);q=a(232);n=a(60);k=a(12);p=a(185);h=a(76);f=a(5);a(84);t=a(2);a(3);z=a(16);G=a(15);D=a(13);g=a(113);F=a(147);c.prototype.kk=function(){return this.CU.value;};c.prototype.updating=function(){return this.Ec?this.Ec.updating:!1;};c.prototype.rRa=function(a){this.qya=a;};c.prototype.gY=function(){return this.Vz;};c.prototype.buffered=function(){return this.Ec.buffered;};c.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};c.prototype.toJSON=function(){return{type:this.type};};c.prototype.cY=function(){var a,b,f,c,h,k,p;try{a=this.Ec.buffered;h=0;if(a)for(b=[],f=0,c=a.length,f=0;f<c;f++){k=a.start(f);p=a.end(f);h=h+(p-k);z.Wa(p>k);b.push(k+"-"+p);}if(b)return{Buffered:h.toFixed(3),Ranges:b.join("|")};}catch(T){}};c.prototype.NBa=function(a,b){try{z.Wa(this.Ec.buffered&&1>=this.Ec.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.cY()));}catch(U){}z.Wa(!this.kk());this.NRa("append",a);b=b&&b.xm/1E3;G.la(b)&&this.Ec.timestampOffset!==b&&(this.Ec.timestampOffset=b);this.Ec.appendBuffer(a);this.CU.set(!0);};c.prototype.remove=function(a,b){z.Wa(!this.kk());try{this.NRa("remove");this.Ec.remove(a,b);this.CU.set(!0);}catch(U){this.log.error("SourceBuffer remove exception",U,this.t9);}};c.prototype.NRa=function(a,b){this.Vz.data=b||[];this.Vz.state="init";this.Vz.operation=a;};c.prototype.xDb=function(a,b){this.Hrb=Math.floor(1E3*a/b);};c.prototype.sbb=function(a){var b;if(this.Ec){if(a=this.ZFa([{type:this.Fcb,Qf:a}]),a!==this.ZG){b=this.ZG;this.log.info("Changing SourceBuffer mime-type from: "+this.ZG+" to: "+a);try{if(this.Ec.changeType)this.Ec.changeType(a),this.ZG=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(U){throw this.log.error("Error changing SourceBuffer type",U,this.t9,{From:b,To:a}),U;}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b||b.bc?this.gaa(a,b):this.MV(a,b);return!0;};c.prototype.gaa=function(a,b){this.j.Ti.gaa(this,a,b||{});};c.prototype.MV=function(a,b){this.j.Ti.MV(this.Acb(a,b));};c.prototype.Acb=function(a,b){var f;f=this.Hrb||0;return{oDa:function(){this.response=void 0;},xj:function(){return this.requestId;},constructor:{name:"MediaRequest"},M:this.M,readyState:F.Qb.jc.DONE,yv:b.T,JH:b.T+b.duration,Hr:b.duration,xm:f,Li:b.Li,Na:b.Na,sa:b.sa,Kb:+b.Kb,location:b.location,aM:b.offset,$L:b.offset+b.aa-1,O:b.O,response:a,$Ia:a&&0<a.byteLength,zB:!0,get bc(){return!this.zB;},ZQa:this.ij-f||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Na,isHeader:this.bc,ptsStart:this.yv,ptsOffset:this.xm,responseType:this.mQb,duration:this.Hr,readystate:this.pg};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.vo("EndOfStream");null===(a=this.j.Ti)||void 0===a?void 0:a.U_(this.M);};c.prototype.addEventListener=function(a,b,f){this.Zj.addListener(a,b,f);};c.prototype.removeEventListener=function(a,b){this.Zj.removeListener(a,b);};c.prototype.ZFa=function(a){var b;b=f.Y.get(g.Jz);return this.type===l.yc.La.VIDEO?b.xM(a):b.sM(a);};na.Object.defineProperties(c.prototype,{M:{configurable:!0,enumerable:!0,get:function(){return this.type;}},YV:{configurable:!0,enumerable:!0,get:function(){return this.iya.YV;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.iya.sourceId;}},Fcb:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});b.I5=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bT=void 0;b.bT="PboBindCommandSymbol";},function(d,b,a){var l,q,n,k,p,h,f,t,z,G,D,g,F,L,H,U,R;function c(a,b){var c;function f(a){return a&&0<a.length&&a[0].Zx;}c=k.Y.get(D.yD);return a.ha&&f(a.pc)?c.release(Object.assign(Object.assign({},b),{ha:a.ha,pc:a.pc})):b.ha&&f(b.pc)?c.release(b):Promise.resolve(l.gd);}Object.defineProperty(b,"__esModule",{value:!0});b.WPa=b.ypa=void 0;l=a(9);q=a(12);n=a(35);k=a(5);p=a(16);h=a(499);f=a(2);t=a(52);z=a(59);G=a(15);D=a(151);g=a(149);F=a(13);L=a(93);H=a(103);U=a(187);R=a(33);d=function(){function a(a){var b;b=this;this.j=a;this.lCa=this.TKa=!1;this.log=k.Qg(this.j,"Playback");this.c_=k.Y.get(D.yD);this.Dj=k.Y.get(L.lw);this.Ac=k.Y.get(H.Nz);this.exb=k.Y.get(U.bT);this.j.addEventListener(F.U.eO,function(){return b.yHb();});p.Wa(q.config);q.config.sp||(this.mhb=k.Y.get(h.U3));}a.prototype.OL=function(a){var h,k,t;function b(){h.j.dRa().then(c)["catch"](a);}function c(b){try{h.j.ePa(b);a(l.gd);h.vjb();}catch(O){h.log.error("Exception processing authorization response",O);a({da:!1,ga:f.I.j1a});}}h=this;p.DF(this.j.u);p.DF(this.j.Uh);k=this.j.ya;if(k){t=k.Pf.vda;t?(t-=n.pba(),18E5<t?z.oc(function(){c(k);h.j.du="ui";}):(this.log.error("manifest is expired",{gap:t}),b())):z.oc(function(){c(k);h.j.du="ui";});}else q.config.ep&&this.Ac()?(t=this.Ac().Xp(this.j.u,"manifest"))&&t.then(function(a){c(a);h.j.du="videopreparer";})["catch"](function(a){h.log.warn("manifest not in cache",a);b();}):b();};a.prototype.qN=function(a){var b;b=this;return new Promise(function(f,c){var h,p,n;h=t.Od.WDa(a.ri);p=a.li.map(function(a){return{sessionId:a.sessionId,dataBase64:k.vr(a.data)};});n=b.j.Mmb(a.li[0].sessionId);h={ig:n.ig,ri:G.is.Ql(a.ri)?a.ri:h,bX:[n.jk],li:p,ha:n.ha,Gr:a.Gr,Bj:n.ya.Bj};b.j.pM&&b.j.pM.tW&&(h.sO=b.j.pM.tW);b.c_.tA(h).then(function(a){b.j.pc=a.pc;f(a);b.wjb(n);})["catch"](c);});};a.prototype.release=function(a){return c(this.j,a);};a.prototype.bEa=function(){var a;a=this.mhb.create();this.j.zf&&(a.Yd=this.j.zf.kG());a.pc=this.j.pc;a.ha=this.j.ha;a.u=this.j.u;return a;};a.prototype.wjb=function(a){this.TKa||(this.TKa=!0,this.j.fireEvent(F.U.eO,{u:a.u}));};a.prototype.vjb=function(){var a;a=this;this.lCa||(this.lCa=!0,this.j.fireEvent(F.U.C$a),k.Y.get(g.NJ)().then(function(b){b.tma(a.j);}));};a.prototype.yHb=function(){var b,c;b=this;c=k.Y.get(R.Wj);this.Dj.GG||a.hUa||(a.hUa=!0,c.WHb&&q.config.xHb&&this.exb.ff(this.log,{}).then(function(){return b.log.trace("Updated NetflixId");})["catch"](function(a){return b.log.error("NetflixId upgrade failed",f.Ap(a));}));};a.hUa=!1;return a;}();b.ypa=d;b.WPa=c;},function(d,b,a){var n,k,p,h,f,t,z,G,D,g,F,L,H,U,R,m,r,y;function c(a,b){var F;function c(b){return n.WPa(a,b);}function h(){var a,b,h,k;b=t.rh("Eme");h=t.Y.get(f.Cp);a=new h.hz(b,void 0,c,{Kh:!1,TN:!1});k=t.Y.get(G.Jz);return h.jz(b,"cenc",void 0,{Kh:!1,TN:!1,oKa:p.config.vi,XQa:{hMa:p.config.bCb,eDa:p.config.vla,bWb:p.config.aCb},Ay:a,hPa:p.config.nka,$C:p.config.ada,GUb:p.config.cCb,dCa:k.sM([]),xUa:k.xM([]),CG:p.config.CG});}function d(a,b){var f,c;c=t.Y.get(r.lT)(0,b.movieId,void 0,{},b.xid,R.Ib(m.Og()),!1,void 0,function(){return null;});p.config.vi&&(F.info("secure stop is enabled"),f=a.da?{success:a.da,persisted:!0,ss_km:a.gMa,ss_sr:a.YP,ss_ka:a.JDa}:{success:a.da,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.cd,ErrorExternalCode:a.ph,ErrorEdgeCode:a.PF,ErrorDetails:a.cause&&a.cause.rb},f.browserua=g.Hl,b=t.Y.get(H.Sj),a=t.Y.get(U.bo).xn("securestop",a.da?"info":"error",f,c),b.Jc(a));}function D(){function a(a,b){var f;if(!b.pc||0===b.pc.length||!b.pc[0].Zx)return F.error("releaseDrmSession exception: missing valid keySessionData"),l(a,b);if(0<b.pc.length){F.info("Sending the deferred playdata and secure stop data");f=h();return f.create(p.config.Yd).then(function(){return f.FRb(b);}).then(function(f){F.info("Sent the deferred playdata and secure stop data");d(f,b);return l(a,b);})["catch"](function(f){f&&f.code===z.J.K1a&&l(a,b);f&&f.code===z.J.J1a&&l(a,b);F.error("Unable to send last stop",f);d(f,b);throw f;});}F.info("No key session so just send the playdata");return c(b).then(function(){F.trace("Successfully sent stop command for previous session");return l(a,b);})["catch"](function(a){F.error("Unable to send stop command for previous session",a);throw a;});}q(F).then(function(f){var c;c=f.cX.filter(function(a){return!1===a.active;}).map(function(b){return a(f,b);});Promise.all(c).then(function(){F.info("release drm session completed for "+c.length+" entries");b(k.gd);})["catch"](function(a){a=a||{};a.DrmCacheSize=c.length;F.error("Unable to release one or more DRM session data",a);b(k.gd);});})["catch"](function(a){F.error("Unable to load DRM session data",a);b(k.gd);});}F=t.rh("PlayDataManager");b=b||k.Xe;p.config.sp?b(k.gd):D();}function l(a,b){return a?a.Nka(b):Promise.resolve();}function q(a){var f;if(!b.Pca){f=t.Y.get(D.HR);b.Pca=new Promise(function(b,c){f.BPa().then(function(){b(f);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);c(b);});});}return b.Pca;}Object.defineProperty(b,"__esModule",{value:!0});b.Xua=b.Wua=b.Pca=void 0;n=a(188);k=a(9);p=a(12);h=a(56);f=a(33);t=a(5);z=a(2);G=a(113);D=a(261);g=a(10);F=a(149);L=a(13);H=a(46);U=a(62);R=a(3);m=a(35);r=a(191);d=a(24);y=a(264);b.Wua=function(a){var d,z,G,D,g,J;function b(){z||(a.dd("pdsb"),z=t.Y.get(F.NJ)().then(function(b){D=b;a.dd("pdsc");return b;})["catch"](function(b){d.error("Unable to initialize the playdata services",b);a.dd("pdse");throw b;}));return z;}function n(){G=!0;D&&D.close();h.He.removeListener(h.ll,n);}d=t.Qg(a,"PlayDataManager");G=!1;g=t.Y.get(f.Cp);if(!g.jz||!g.hz){J=t.Y.get(y.iT)();g.jz=J.sb;g.hz=J.request;}a.dd("pdctor");a.addEventListener(L.U.yf,function(){h.He.removeListener(h.ll,n);});a.addEventListener(L.U.eO,function(){var b;if(!p.config.sp&&a.zf){b=a.oM.bEa();q(d).then(function(a){return a.fBa(b);})["catch"](function(){d.error("Unable to load/add cached DRM data");});}});a.addEventListener(L.U.yf,function(){var f;if(!G){a.wIb();f=[function(){return p.config.sp||!a.zf?Promise.resolve():new Promise(function(b){var f;d.info("Sending the expedited playdata and secure stop data");f=a.oM.bEa();a.zf.hSb(f).then(function(b){d.info("Sent the expedited playdata and secure stop data");p.config.vi&&a.Wu.m1({success:b.da,persisted:!1,ss_km:b.gMa,ss_sr:b.YP,ss_ka:b.JDa});return q(d);}).then(function(a){return l(a,f);}).then(function(){b();})["catch"](function(f){d.error("Unable to send the expedited playdata and secure stop data",f);p.config.vi&&a.Wu.m1({success:f.da,state:f.state,ErrorCode:f.code,ErrorSubCode:f.cd,ErrorExternalCode:f.ph,ErrorEdgeCode:f.PF,ErrorDetails:f.cause&&f.cause.rb});b();});});}(),function(){return b().then(function(b){return b.qSa(a.fa);}).then(function(){d.info("Sent the playdata");})["catch"](function(a){d.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){t.Y.get(H.Sj).flush(!1)["catch"](function(){d.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(f).then(function(){a.T_();})["catch"](function(){a.T_();});}});h.He.addListener(h.ll,n);return{wCb:function(f){a.dd("pdpb");p.config.t1||b().then(function(b){return b.send(a.u);}).then(function(){p.config.sp?(a.dd("pdpc"),f(k.gd)):c(a,function(){a.dd("pdpc");f(k.gd);});})["catch"](function(){a.dd("pdpe");f(k.gd);});}};};b.Xua=function(){return new Promise(function(a){c({},function(b){a(b);});});};t.Y.get(d.sf).register(z.J.$v,function(a){a(k.gd);});},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,G;Object.defineProperty(b,"__esModule",{value:!0});b.JC=void 0;c=a(9);l=a(12);q=a(56);n=a(35);k=a(2);p=a(16);h=a(5);f=a(20);t=a(10);z=a(145);G=a(15);d=a(24);h.Y.get(d.sf).register(k.J.Mra,function(a){var g,H,U;function d(){var a;d=c.Xe;a=setInterval(D,l.config.Asb);q.He.addListener(q.ll,function(b){b&&b.isPopStateEvent?g.trace("popstate event, Lock timers can stay"):(f.xd(H,function(a,b){localStorage.removeItem(b.Uo);}),clearInterval(a));},c.Bz);}function D(){var a;a=n.jM();f.xd(H,function(b,f){b=localStorage.getItem(f.Uo);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:U,count:1};localStorage.setItem(f.Uo,JSON.stringify(b));});}p.Wa(z.storage);g=h.rh("StorageLock");H={};U=Date.now()+"-"+Math.floor(1E6*Math.random());b.JC={tA:function(a,b,h){var q,z,D,F,L,J,R,m,r,aa;function p(a){localStorage.setItem(D,JSON.stringify(a));a={Uo:D};H[D]=a;g.trace("Lock acquired",{Name:a.Uo});d();b({da:!0,g_:a});}h=void 0===h?!1:h;q=this;if(localStorage){z=n.jM();D="lock-"+a;F={updated:z,sessionId:U,count:1};try{if(D in localStorage){L=localStorage.getItem(D);J=0;R=JSON.parse(L);G.Qu(R.updated)&&(J=R.updated);m=t.vz(z-J)*c.fj;r=U===R.sessionId;if(m<l.config.aLa)if(r)R.count+=1,g.debug("Incremented lock count for existing playbackSession",{id:U,count:R.count}),R.updated=z,p(R);else if(h){aa=l.config.aLa-m+c.fj;g.error("Waiting until current expiration to confirm whether lock is still active",{id:U,count:R.count,Epoch:z,LockEpoch:J,waitTimeoutMs:aa});N.setTimeout(function(){return q.tA(a,b,!1);},aa);}else b({da:!1});else g.error("Lock was expired or invalid, ignoring",{Epoch:z,LockEpoch:J}),p(F);}else p(F);}catch(va){g.error("Error acquiring Lock",{errorSubCode:k.I.Ah,errorDetails:f.Fe(va)});b({da:!0});}}else t.Aha?g.error("Local storage access exception",{errorSubCode:k.I.Z1a,errorDetails:f.Fe(t.Aha)}):g.error("No localstorage",{errorSubCode:k.I.$1a}),b({da:!0});},release:function(a,b){var f,h;p.Wa(H[a.Uo]==a);if(localStorage){try{f=localStorage.getItem(a.Uo);h=JSON.parse(f);1<h.count?(--h.count,localStorage.setItem(a.Uo,JSON.stringify(h)),g.trace("Lock count decremented",{Name:a.Uo,count:h.count})):(localStorage.removeItem(a.Uo),delete H[a.Uo],g.trace("Lock released",{Name:a.Uo}));}catch(T){g.error("Unable to release Lock",{Name:a.Uo},T);}b&&b(c.gd);}}};l.config.pX?b.JC.tA("session",function(f){b.JC.pRa=f;a(c.gd);}):a(c.gd);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lT=void 0;b.lT="PlaybackSegmentDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jT=void 0;b.jT="PlayPredictionDeserializerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$N=void 0;b.$N=function(a,b,l){var c;if(l.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");c=l.get;l.get=function(){var n,k;n=c.apply(this,arguments);k={enumerable:l.enumerable,value:n};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,k):Object.defineProperty(this,b,k);return n;};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w5=void 0;b.w5=function(){function a(){}a.vXa="display";a.LWa="console";a.rOb="remote";a.OPb="writer";return a;}();},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KR=void 0;l=a(10);c.Mba=function(a){var b;if(l.ne.queryCommandSupported&&l.ne.queryCommandSupported("copy")){b=l.ne.createElement("textarea");b.textContent=a;b.style.position="fixed";l.ne.body.appendChild(b);b.select();try{l.ne.execCommand("copy");}catch(k){console.warn("Copy to clipboard failed.",k);}finally{l.ne.body.removeChild(b);}}};b.KR=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F6=b.E6=b.H6=void 0;b.H6="PboPlaydataValidatorSymbol";b.E6="PboPlaydataArrayValidatorSymbol";b.F6="PboPlaydataCollectionValidatorSymbol";},function(d,b,a){var n,k,p,h,f,t,z;function c(){}function l(){}function q(){}Object.defineProperty(b,"__esModule",{value:!0});b.Nua=b.fT=void 0;n=a(0);k=a(1);p=a(40);h=a(3);f=a(14);t=a(25);z=a(89);q.prototype.encode=function(a){return{downloadableId:a.ld,duration:a.duration};};q.prototype.decode=function(a){return{ld:a.downloadableId,duration:a.duration};};l.prototype.encode=function(a){return{total:a.total,totalContentTime:a.TC,audio:a.audio.map(new q().encode),video:a.video.map(new q().encode),text:a.text.map(new q().encode)};};l.prototype.decode=function(a){var b;return{total:a.total,TC:null!==(b=a.totalContentTime)&&void 0!==b?b:a.total,audio:a.audio.map(new q().decode),video:a.video.map(new q().decode),text:a.text.map(new q().decode)};};c.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ha,movieId:a.u,position:a.position,clientTime:a.iM,sessionStartTime:a.ZP,mediaId:a.WG,playTimes:new l().encode(a.eP),trackId:a.cb,sessionId:a.sessionId,appId:a.CL,sessionParams:a.Un,mdxControllerEsn:a.ria,profileId:a.profileId};};c.prototype.decode=function(a){return{type:a.type,href:a.href,ha:a.xid,u:a.movieId,position:a.position,iM:a.clientTime,ZP:a.sessionStartTime,WG:a.mediaId,eP:new l().decode(a.playTimes),cb:a.trackId,sessionId:a.sessionId,CL:a.appId,Un:a.sessionParams,ria:a.mdxControllerEsn,profileId:a.profileId};};b.fT=c;d=function(){var b;function a(a,b,f,c){this.Ja=a;this.IY=b;this.qa=f;this.profile=c;}a.prototype.create=function(a){return{href:a.ya&&a.ya.Bj?a.ya.Bj.Sea("events").href:"",type:"online",ha:a.ha.toString(),u:a.u,position:a.cca||0,iM:this.Ja.v1.ba(h.ia),ZP:a.DG?a.DG.ba(h.ia):-1,WG:this.glb(a),eP:this.Kmb(a),cb:void 0!==a.Uh?a.Uh.toString():"",sessionId:this.IY().sessionId||this.qa.id,CL:this.IY().CL||this.qa.id,Un:a.Oa.Un||{},profileId:this.profile};};a.prototype.Neb=function(a,b){return Object.assign({},this.create(a),{ria:b&&b.tW});};a.prototype.load=function(a){return new c().decode(a);};a.prototype.glb=function(a){var b,f,c;b=a.jd.value;f=a.mg.value;c=a.tc.value;return b&&f&&c?(a=a.ya.Pf.media.find(function(a){return a.zl.AUDIO===b.cb&&a.zl.VIDEO===f.cb&&a.zl.J7===c.cb;}))?a.id:"":"";};a.prototype.hfa=function(a){return a.map(function(a){return{ld:a.downloadableId,duration:a.duration};});};a.prototype.Kmb=function(a){return(a=a.vm)?(a=a.Jmb(),{total:a.total,TC:a.totalContentTime,audio:this.hfa(a.audio),video:this.hfa(a.video),text:this.hfa(a.timedtext)}):{total:0,TC:0,video:[],audio:[],text:[]};};b=a;return b=n.__decorate([k.N(),n.__param(0,k.l(p.Bi)),n.__param(1,k.l(f.fd)),n.__param(2,k.l(t.Ue)),n.__param(3,k.l(z.TD))],b);}();b.Nua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dT=void 0;b.dT="PboLicenseResponseTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GJ=void 0;b.GJ="NetworkMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t5=b.s5=void 0;b.s5="LogMessageRulerConfigSymbol";b.t5="LogMessageRulerSymbol";},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Gna=void 0;c=a(5);l=a(2);q=a(357);n=a(356);k=a(59);b.Gna=function(a,b){var f,h;try{f=q.RUa(a);}catch(z){c.log.error("xml2xmlDoc exception",z);}k.oc(function(){if(f&&f.documentElement)try{h=n.SUa(f);}catch(z){c.log.error("xmlDoc2js exception",z);}k.oc(function(){h?b({da:!0,object:h}):b({da:!1,ga:l.I.Tqa});});});};},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.bOa=b.aOa=b.h0=b.zja=b.cOa=b.eOa=b.dOa=b.fOa=b.i0=b.gOa=b.hOa=b.$Na=void 0;c=a(16);l=a(22);q=a(9);n=a(125);k=a(10);p=a(15);h=a(20);b.$Na=function(){var da,W,ka,O,oa,ta,za,P,va,ga,Fa,Ga;function a(a){if(l.Ru(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return b.fOa[a];}}function t(a,b,f){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return k.Om(b,f);}function d(a,b){var f,c;f=a.length;c=a[f-1];if("t"===c)return parseFloat(a)*b|0;if("s"===c)return"m"===a[f-2]?parseFloat(a)|0:parseFloat(a)*q.fj|0;if((a=a.match(va))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*q.fj|0;throw Error("dfxp-badtime");}function G(a,b,f,c,h){var k,p,t,n,q,l,d,z;if(a){p=a.style;f=p?f[p]:void 0;c=(p=a.region)?c[p]:void 0;p=h.length;for(t=0;t<p;t++)if(n=h[t],q=a[n],void 0===q&&f&&(q=f[n]),void 0===q&&c&&(q=c[n]),void 0!==q&&q!==b[n]){if(!k)for(k={},l=0;l<p;l++)d=h[l],z=b[d],void 0!==z&&(k[d]=z);k[n]=q;}}return k||b;}function D(a,b,f,c,h,k,p,t,q){var z,D;function d(a,g,F){var L,J,U,R,m,y;L=a[n.yi];J=L.style||g.style||"";U=L.region||g.region||"";J||U?(R=J+"/"+U,m=f[R]):m=b;if(!m){m=b;y=l.gI(c);l.tb(y,h[J]);m=H(m,y,p,t,q);f[J+"/"]=m;U&&(l.tb(y,k[U]),l.tb(y,h[J]),m=H(m,y,p,t,q),f[R]=m);}if(!F)a:{for(F=ta.length;F--;)if(void 0!==L[ta[F]]){F=!0;break a;}F=void 0;}F&&(L=G(L,g,h,k,za),m=H(m,L,p,t,q));g=(a=a[n.QI])&&a.length;for(J=0;J<g;J++)U=a[J],l.Se(U)?ga.test(U[n.RI])?D++:d(U,L,F):(z.push({text:U,lineBreaks:D,style:m}),D=0);}z=[];D=0;d(a,c,!1);0<D&&z.push({text:"",lineBreaks:D,style:b});return z;}function g(a,b,f,c,h,k,p,t){var n,q;f&&(f=W[f]||"top",a.verticalAlignment!==f&&(a.verticalAlignment=f));c&&(f=ka[c]||"left",a.horizontalAlignment!==f&&(a.horizontalAlignment=f));h?((q=t[h])?(c=q.marginLeft,f=q.marginTop):(n=h.split(" "),c=m(n[0],p.x)||0,f=m(n[1],p.y)||0,q={Cn:0,marginLeft:c,marginTop:f,q9a:c*b.Jfa+b.zN,s9a:f*b.yna+b.A2},30>t.Cn&&(t.Cn++,t[h]=q)),a.marginLeft=q.q9a,a.marginTop=q.s9a):(f=c=0,(q=t["default"])||(t["default"]=q={Cn:0}));k&&(h=q[k],h||(n=k.split(" "),h={r9a:(1-(c+(m(n[0],p.x)||0)))*b.Jfa+b.zN,p9a:(1-(f+(m(n[1],p.y)||0)))*b.yna+b.A2},30>q.Cn&&(q.Cn++,q[k]=h)),a.marginRight=h.r9a,a.marginBottom=h.p9a);}function F(a,b,f,c,h){var k,p,t;k=a.displayAlign;p=a.textAlign;t=a.origin;a=a.extent;f=l.gI(f);g(f,b,k,p,t,a,c,h);f.id=da++;return f;}function L(f,c,h,k){var p,n,q,d,z,G;p=t(h.characterSize||c.characterSize,b.gOa,2)||1;n=(n=f.fontSize)&&Fa.test(n)?l.Pm(l.Kd(n),25,200):void 0;p*=n/100||1;n=f.textOutline;if(n&&"none"!=n){d=n.split(" ");Ga.test(d)?(G=0,z=f.color):(G=1,z=a(d[0]));q=R(d[G]);d=R(d[G+1]);}return{characterStyle:h.characterStyle||b.hOa[f.fontFamily]||c.characterStyle,characterSize:p*k,characterColor:a(h.characterColor||f.color||c.characterColor),characterOpacity:t(l.nW(h.characterOpacity,f.opacity,c.characterOpacity),b.i0,1),characterEdgeAttributes:h.characterEdgeAttributes||n&&("none"===n?b.dOa:d?b.h0:b.zja)||c.characterEdgeAttributes,characterEdgeColor:a(h.characterEdgeColor||z||c.characterEdgeColor),characterEdgeWidth:q,characterEdgeBlur:d,characterItalic:"italic"===f.fontStyle,characterUnderline:"underline"===f.textDecoration,backgroundColor:a(h.backgroundColor||f.backgroundColor||c.backgroundColor),backgroundOpacity:t(l.nW(h.backgroundOpacity,f.opacity,c.backgroundOpacity),b.i0,1)};}function H(a,b,f,c,p){var t;b=L(b,f,c,p);h.xd(b,function(b,f){f!==a[b]&&(t||(t=k.Cz(a)),t[b]=f);});return t||a;}function U(a,b,f,c,h,p,t,q){var l;l=a[n.yi];f=G(a[n.yi],b,f,h,P);b=f.region;a=l.displayAlign;f=f.textAlign;h=l.origin;l=l.extent;b||a||f||h||l?((c=c[b])?c=k.Cz(c):a||h||l?(c=k.Cz(oa),c.id=da++):c=k.Cz(O),g(c,p,a,f,h,l,t,q)):c=O;return c;}function R(a){a=l.Kd(a);return p.Qu(a,0,100)?a:0;}function m(a,b){var f;f=a[a.length-1];if("%"===f)return l.Pm(.01*parseFloat(a),0,1);if("c"===f)return l.Pm(l.Kd(a)/b,0,1);}function r(a){for(var b=a.length,f=a[--b].endTime;b--;)f=k.Om(a[b].endTime,f);return f;}function y(b){h.xd(b,function(f,c){0<=f.toLowerCase().indexOf("color")&&(b[f]=a(c));});}function T(a,b){var f,h,p,t;f=a.pixelAspectRatio;t={zN:0,Jfa:1,A2:0,yna:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(f=(f||"").split(" "),h=parseFloat(a[0])*(parseFloat(f[0])||1),p=parseFloat(a[1])*(parseFloat(f[1])||1));h=0<h&&0<p?h/p:1280/720;b=b||1280/720;f=h/b;.01<k.vz(b-h)&&(b>=h?(t.zN=(1-f)/2,t.Jfa=f):c.Wa(!1,"not implemented"));return t;}function u(a){var f,c,h,k,p;if(f=a.cellResolution)if(f=f.split(" "),2<=f.length){c=l.Kd(f[0]);f=l.Kd(f[1]);if(0<c&&0<f)return{x:c,y:f};}f=a.extent;if(f&&(f=f.split(" "),2<=f.length)){c=l.Kd(f[0]);p=l.Kd(f[1]);if(a=a.pixelAspectRatio)f=a.split(" "),h=l.Kd(f[0]),k=l.Kd(f[1]);if(c&&p&&1.5<c*(h||1)/(p*(k||1)))return b.bOa;}return b.aOa;}da=1;W={before:"top",center:"center",after:"bottom"};ka={left:"left",start:"left",center:"center",right:"right",end:"right"};O={id:da++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};oa={id:da++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};ta="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");za=ta.concat(["style","region"]);P=["region","textAlign","displayAlign","extent","origin"];va=/^([0-9]+):([0-9]+):([0-9.]+)$/;ga=/^br$/i;Fa=/^[0-9]{1,3}%$/;Ga=/^[0-9]/;return function(f,c,h,p,z){var R,m,aa,Q,W,ka,O,qa,ga,ta,va,Ea,Fa,la,Ga,Qa,Oa,A,E,vb,S,V,Y,ca,ea,fa,Ge,ia,ha,ja;function g(){try{for(var a;Y;)if(ga=Y[n.yi],ca.push({id:da++,startTime:d(ga.begin,aa),endTime:d(ga.end,aa),region:U(Y,fa,ka,qa,O,Q,la,A),textNodes:D(Y,Ge,ia,ea,ka,O,Qa,Oa,Ga)}),Y=Y[n.Uy],a=k.jD(),100<a-ha){ha=Date.now();ja=setTimeout(g,1);return;}}catch(lf){H({ga:l.I.aS,rb:l.Fe(lf)});return;}ja=setTimeout(J,1);}function J(){var b,f,c,h,k,p,t;function a(a,c){for(var h,k=[],p={},t,n=f.length;n--;)h=f[n],t=h.region.id,p[t]||(p[t]=1,k.unshift(h));(h=b[b.length-1])&&h.endTime==a&&l.Br(h.blocks,k)?h.endTime=c:b.push({id:da++,startTime:a,endTime:c,blocks:k});}try{if(!ca.length){H({da:!0,entries:[]});return;}l.TBa(ca,"startTime");b=[];f=[];c=ca[0];k=ca[0].startTime;for(p=1;f.length||c;){for(;!f.length||c&&c.startTime==k;)f.push(c),k=c.startTime,c=ca[p++];h=r(f);if(!c||h<=c.startTime)for(a(k,h),k=h,t=f.length;t--;)f[t].endTime<=k&&f.splice(t,1);else a(k,c.startTime),k=c.startTime,f.push(c),c=ca[p++];}for(p=b.length;p--;)b[p].index=p,b[p].previous=b[p-1],b[p].next=b[p+1];}catch(mf){H({ga:l.I.aS,rb:l.Fe(mf)});return;}H({da:!0,entries:b});}function H(a){setTimeout(function(){R.abort=l.Xe;z(a);},1);}R={abort:function(){ja&&clearTimeout(ja);}};try{m=f[n.yi];aa=q.fj/(l.Kd(m.tickRate)||1);Q=T(m,c);W=l.tb(oa,{marginLeft:Q.zN,marginTop:Q.A2,marginRight:Q.zN,marginBottom:Q.A2});ka={};O={};qa={};Ea=f.head;Fa=f.body;la=u(m);Ga=1/la.y*Q.yna;Qa=l.tb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.h0,characterEdgeColor:"#000000",characterSize:1},h,{nv:!0});Oa=p||{};A={Cn:0};if(Ea){E=Ea.styling;if(E)for(va=E.style;va;)ga=va[n.yi],y(ga),ka[ga.id]=ga,va=va[n.Uy];vb=Ea.layout;if(vb)for(var N=vb.region;N;){ga=N[n.yi];S=ga.id;ta=l.gI(ka[ga.style]);ta=l.tb(ta,ga);for(va=N.style;va;)l.tb(ta,va[n.yi]),va=va[n.Uy];y(ta);O[S]=ta;qa[S]=F(ta,Q,W,la,A);N=N[n.Uy];}}V=Fa.div;Y=V.p;ca=[];ea={};ea=G(Fa[n.yi],ea,ka,O,za);ea=G(V[n.yi],ea,ka,O,za);fa={};fa=G(Fa[n.yi],fa,ka,O,P);fa=G(V[n.yi],fa,ka,O,P);Ge=L(ea,Qa,Oa,Ga);l.tb(Ge,{windowColor:a(Oa.windowColor||Qa.windowColor),windowOpacity:t(l.nW(Oa.windowOpacity,Qa.windowOpacity),b.i0,1),cellResolution:la},{nv:!0});ia={};V.p=void 0;V[n.QI]=[];}catch(kf){H({ga:l.I.aS,rb:l.Fe(kf)});return;}ha=k.jD();ja=setTimeout(g,1);return R;};}();b.hOa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.gOa={SMALL:.5,MEDIUM:1,LARGE:2};b.i0={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.fOa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.dOa="NONE";b.eOa="RAISED";b.cOa="DEPRESED";b.zja="UNIFORM";b.h0="DROP_SHADOW";b.aOa={x:40,y:19};b.bOa={x:52,y:19};},function(d,b,a){var n;function c(){}function l(a,b){this.Bo=a;void 0!==b?(n(b<=a.kp,"require remain_sec <= chunk.sec but has "+b+" and "+a.kp),this.$i=b):this.$i=a.kp;}function q(a){void 0===a&&(a=[]);this.Ek=[];this.kg=this.Nj=0;for(var b in a)this.add(a[b],void 0);}n=a(6).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Do=function(){return new l(this.Bo,this.$i);};q.prototype.constructor=q;q.prototype.add=function(a,b){a=new l(a,b);this.Ek.push(a);this.kg+=a.$i;this.Nj+=a.Bo.Eu()*a.$i;};q.prototype.Do=function(){var a,b;a=new q(void 0);for(b in this.Ek)a.add(this.Ek[b].Bo,this.Ek[b].$i);return a;};q.prototype.aq=function(){try{return this.Ek[0];}catch(k){}};q.prototype.AOa=function(a){var b;for(n(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.aq())throw new c();if(a<this.aq().$i){b=this.aq().Bo.Eu()*a;this.aq().$i-=a;this.kg-=a;this.Nj-=b;a=0;}else b=this.Ek.shift(),this.kg-=b.$i,this.Nj-=b.Bo.Eu()*b.$i,a-=b.$i;}};q.prototype.Mxb=function(a){var h;n(0<=a,"unexpected play_y_kb: y="+a);for(var b=0;0<a;){if(void 0===this.aq())throw new c();if(a<this.aq().$i*this.aq().Bo.Eu()){h=a/this.aq().Bo.Eu();this.aq().$i-=h;this.kg-=h;this.Nj-=a;b+=h;a=0;}else h=this.Ek.shift(),this.kg-=h.$i,this.Nj-=h.Bo.Eu()*h.$i,b+=h.$i,a-=h.Bo.Eu()*h.$i;}return b;};d.P={Ooa:q,qWa:c};},function(d){d.P={PIa:function(b){var a;if(b&&0!==b.length){a=[];b.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.IP.push(b.Tn):a.push({error:b.error,IP:[b.Tn]});});return a;}},gHa:function(b){var a;a={freeSize:b.wj,dailyBytesRemaining:b.BF,bytesWritten:b.Ii,time:b.time,duration:b.duration};b.items&&(a.items=b.items.map(function(a){return{key:a.key,operation:a.Ef,itemBytes:a.QZ,error:a.error};}));return a;},ss:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d){d.P={Vsa:{code:-1,description:"MediaCache is not supported."},tOb:{code:100,description:"Resource was not found"},z_a:{code:101,description:"Resource Metadata was not found"},UD:{code:102,description:"Read failed",Yn:function(b,a){return{code:this.code,description:b,cause:a};}},OT:{code:200,description:"Daily write limit exceeded"},fD:{code:201,description:"Capacity has been exceeded"},NT:{code:202,description:"Write failed, cause unknown",Yn:function(b,a){return{code:this.code,description:b,cause:a};}},PPb:{code:203,description:"Write failed, cause unknown"},sXa:{code:300,description:"Failed to delete resource",Yn:function(b,a){return{code:this.code,description:b,cause:a};}},aw:{code:900,description:"Invalid partition name"},YZa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Hpa:{code:701,description:"Failed to initialize underlying disk cache."},y_a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.haa=b.uy=b.SFa=void 0;c=a(110).TFa;b.SFa=function(a,b,c){var k,p,h;k=0;if(c){a.some(function(a){var f;f=a.b;a=a.m;if(b<=f)return k=h&&f!==p?h+(a-h)/(f-p)*(b-p):a,!0;p=f;k=h=a;return!1;});}else a.some(function(a){k=a.m;return b<=a.b;});return k;};b.uy=function(a,b,n){var k;b=(null===(k=b.Fa)||void 0===k?void 0:k.Ca)||0;return a.S$a?(a=c(a.R$a,n.Yl-n.Gc,1),b*(1-a)):b*a.b2/100;};b.haa=function(a,b){return a<2*b?a/2:a-b;};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(778);l=a(777);b["default"]=function(a,b){switch(a.bia){case"manifold":return new c.lta(a,b);default:return new l.Fwa(a,b);}};},function(d,b,a){var c;b=a(795);c=a(374);a=a(793);d.P={STARTING:a.$Qa,BUFFERING:b.p1,REBUFFERING:b.p1,PLAYING:c.UP,PAUSED:c.UP};},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Wy=void 0;c=a(0);l=a(73);q=a(6);d=a(39);n=a(386);k=a(74);a=function(a){function b(b,c,h,p,n){h=a.call(this,b,c,h,p,n)||this;k.zh.call(h,b,c);h.ac=0;h.Sa||h.Ij();h.Hi=!1;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.ac+=b.aa;a.prototype.push.call(this,b);};b.prototype.xB=function(){return!this.Hi&&!!this.wa.length&&this.wa.every(function(a){return a.xB();});};b.prototype.dF=function(a,b){q.assert(!this.Hi);this.Hi=this.wa.every(function(f){return f.xB()?f.dF(a,b,void 0,void 0):!1;});return{da:this.Hi};};b.prototype.tAb=function(){this.wa.forEach(function(a){a.AP();});};b.prototype.xj=function(){return this.wa?this.wa[0].xj()+"-"+this.wa[this.wa.length-1].xj():"empty";};b.prototype.toString=function(){return k.zh.prototype.toString.call(this)+"(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);l(k.zh.prototype.toJSON.call(this),b);return b;};return b;}(n.T2);b.Wy=a;d.pf(k.zh,a);},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.qR=void 0;c=a(0);a(6);d=a(39);l=a(209);q=a(74);n=a(162);k=a(18);p=a(73);h=a(4).Tj;f=a(807);a=a(806);t=function(a){var i4Y;i4Y=2;function b(b,f,c,k,p,t,n){var E4Y,l,w4Y,S4Y,q4Y;E4Y=2;while(E4Y!==6){w4Y="ed";w4Y+="i";w4Y+="t";S4Y="c";S4Y+="a";S4Y+="che";q4Y="1SIY";q4Y+="b";q4Y+="ZrN";q4Y+="JCp9";switch(E4Y){case 7:return l;break;case 2:l=this;q4Y;l=[S4Y,w4Y].filter(function(a,b){var Q4Y;Q4Y=2;while(Q4Y!==1){switch(Q4Y){case 2:return[p,c.Sa][b];break;case 4:return[p,c.Sa][b];break;Q4Y=1;break;}}});E4Y=4;break;case 4:l=l.length?"("+l.join(",")+")":"";void 0===c.responseType&&(c.responseType=c.Sa||h.vc&&!h.vc.SH.Iz?0:1);l=a.call(this,b,f,l,c,k,t,n)||this;q.zh.call(l,b,c);E4Y=7;break;}}}while(i4Y!==3){switch(i4Y){case 14:return b;break;i4Y=3;break;case 2:c.__extends(b,a);b.create=function(a,c,p,t,q,d,z){var h4Y,G,D,g,n4Y;h4Y=2;while(h4Y!==19){n4Y="subrequ";n4Y+="e";n4Y+="st";switch(h4Y){case 20:return new b(a,p,t,q,d,c,z);break;case 11:q.push(new n.Yy(a,p,n4Y,g,q,c,z));h4Y=6;break;case 10:return q;break;case 1:return new f.doa(a,p,t,q,d,c,z);break;case 2:h4Y=!c.Ag&&t.Sa&&a.M===k.La.VIDEO&&h.vc&&h.vc.SH.Iz?1:5;break;case 4:G=Math.ceil(t.aa/t.LB);h4Y=3;break;case 7:G=Math.ceil(t.aa/G);h4Y=6;break;case 3:d=t.offset;D=t.aa;q=new l.Wy(a,t,q,c,z);h4Y=7;break;case 5:h4Y=t.LB&&t.aa>t.LB?4:20;break;case 14:g={offset:d,aa:Math.min(D,G),responseType:t.responseType};h4Y=13;break;case 13:d+=g.aa;D-=g.aa;h4Y=11;break;case 6:h4Y=0<D?14:10;break;}}};b.prototype.toString=function(){var y4Y;y4Y=2;while(y4Y!==1){switch(y4Y){case 2:return n.Yy.prototype.toString.call(this)+":"+q.zh.prototype.toString.call(this);break;}}};i4Y=4;break;case 4:return b;break;}}}(n.Yy);b.qR=t;p(a["default"],t.prototype);d.pf(q.zh,t,!1);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qv=void 0;d=b.Qv||(b.Qv={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";d[d.kKb=2]="COMPLETED";d[d.Ch=3]="PAUSED";d[d.dz=4]="CANCELLED";},function(d,b,a){var l,q,n,k,p,h;function c(a){var b;b=a.va;return a.Mb(p.ka.Bf(0>b?Math.ceil(b):Math.floor(b)));}Object.defineProperty(b,"__esModule",{value:!0});b.n3=b.Oia=void 0;l=a(0);d=a(21);q=a(18);n=a(4);k=a(811);p=a(34);h=a(6);b.Oia=c;a=function(a){function b(b,f,c,h,k,p,t){var n,q;q=a.call(this)||this;q.G=b;q.Me=f;q.af=c;q.Ec=h;q.K=k;q.W=p;q.Rf=t;q.Ye=q.G.error.bind(q.G);q.ab=q.G.warn.bind(q.G);q.mj=q.G.trace.bind(q.G);null===(n=h.events)||void 0===n?void 0:n.addListener("ready",function(){q.yw();});q.reset();return q;}l.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.qU;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YV:{get:function(){return this.Ec?this.Ec.YV:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xIb:{get:function(){return this.qo.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{trb:{get:function(){return this.Zz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ESa:{get:function(){return!!this.Ec.iib;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,f;this.Ct=!1;a||(this.qo=[]);this.HU=this.Zz=this.e9=this.xE=void 0;this.HE=p.ka.sd;this.$z=void 0;this.SQa=new k.swa(this.K,this.G);this.qU=!1;this.j$(p.ka.sd);null===(f=(b=this.Ec).reset)||void 0===f?void 0:f.call(b);};b.prototype.yGa=function(){this.e9=!0;};b.prototype.pause=function(){this.Ct=!0;};b.prototype.resume=function(){this.Ct=!1;this.yw();};b.prototype.Qea=function(){var a;return null===(a=this.Zz)||void 0===a?void 0:a.te;};b.prototype.m$a=function(a){var b;if(this.K.CFa){h.assert(a.Ha);b=a.Ha.Xc;h.assert(void 0!==a.xc);h.assert(void 0!==b.Ub);if(a.xc>=b.Ub)return;a.xm!==b.de&&a.zRa(new p.ka(b.de,1E3));}this.qo.push(a);this.yw();};b.prototype.Gq=function(){this.yw();};b.prototype.W0=function(a){a=this.qo.indexOf(a);-1!==a&&this.qo.splice(a,1);};b.prototype.eNa=function(a,b){this.K.faa&&b&&void 0===this.Zz&&this.hya(a,0);this.yw();};b.prototype.U_=function(){this.qU||(this.qU=!0,this.yw(),this.ESa||this.Ec.endOfStream());};b.prototype.u1=function(){return JSON.stringify(this.qo);};b.prototype.j$=function(a){this.LAa=a;this.Ec.xDb(a.Ab,a.S);};b.prototype.yw=function(){var a,b,f,c,h,k,p,t;b=this.K;if(this.qo.length)if(this.Ec&&!1!==this.Ec.ready){f=this.qo[0];if(this.Ct)this.IE("@"+n.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(f));else if(!f.complete&&f.or)this.ab("aborted MediaRequest should not appear in the toAppend list"),this.IE("@"+n.time.ea()+", append: removing aborted request from toAppend: "+f.toString()),this.qo.shift();else{c=f.stream;h=c.R;if(c.ni)if(this.ODb(c,f.index))this.e9=!1,this.hya(c,f.index);else if(c=this.W.Pu(h)||this.spb(c),!b.MI||c)if(c=f.bd-this.W.Wd(),!(this.Me===q.La.AUDIO&&f.Tu&&f.Sa&&!b.zs&&!this.qU&&1===this.qo.length&&c>b.sMa)||null!==(a=f.XH)&&void 0!==a&&a.Uga){if(b.CFa||b.Ohb){a=f.Ha.Xc;k=this.Cgb();if(k){p=a.Mi;t=f.Ub>=k;c=c>b.sMa;if(k<a.Ub&&t&&c&&!p)return;}}b.bxb&&this.Rf&&(b=this.Rf(h.Xa))&&!b.DL?this.pause():(this.qo.shift(),this.Z2a(f));}}}else this.IE("@"+n.time.ea()+", append: not appending, sourceBuffer not ready");};b.prototype.ODb=function(a,b){var f;if(this.e9||void 0===this.xE||a.sa!==this.xE.sa)return!0;a=a.ni;h.assert(a);f=this.xE.aKa;return f===a.length-1?!1:b>=a[f+1].lB;};b.prototype.spb=function(a){if(void 0===this.xE)return!1;a=a.ni;h.assert(a);return!1===a[this.xE.aKa].uj;};b.prototype.Cgb=function(){throw Error("not supported");};b.prototype.V2a=function(a){var b,f;if(a.si){f=null===(b=this.af.vc)||void 0===b?void 0:b.MRb;this.K.GHb&&void 0!==f&&0<=f?(b=new p.ka(f,48E3),this.HE=a.si.add(b)):this.K.xA&&(this.HE=a.si);}};b.prototype.hya=function(a,b){var f;f=a.ni.reduce(function(a,f,c){return f.lB<=b?c:a;},0);if(this.Ec.appendBuffer(a.ni[f].data,{bc:!0,profile:a.profile,O:a.O,sa:a.id}))this.IE("@"+n.time.ea()+", header appended, streamId: "+a.sa),this.xE={sa:a.sa,aKa:f},this.f7a(a.R.Xa||0,a.sa,f),this.V2a(a),this.yw();else throw this.ab("appendHeader error: "+this.Ec.error),this.IE("@"+n.time.ea()+", appendHeader error: "+this.Ec.error),Error("appendHeaderError");};b.prototype.Z2a=function(a){var b,f,c,h,k,t,l,d;k=a.jzb||p.ka.sd;t=a.Ha.Xc.ca;t.na&&Infinity!==t.na&&(t=new p.ka(t.na,1E3).add(k).ah,Infinity===this.af.duration||this.af.duration<t)&&(this.af.duration=t);if(void 0===this.HU||k&&!k.equal(this.HU))t=this.HE.add(this.SQa.kt).add(k),this.j$(t),this.HU=k;k=this.SQa.qla(this.Me,a,this.$z,this.HE,this.HU,this.Zz,this.qo[0],this.f5a,this.j$.bind(this),this.h7a.bind(this));t=k.qla;l=k.ohb;k=k.w$a;if(void 0===this.Zz&&!this.K.Bia&&a.stream.si&&this.K.wo){d=null===(b=a.Zl)||void 0===b?void 0:b.Mb(a.stream.si).add(this.LAa);d.lessThan(p.ka.sd)&&a.Sca(Math.ceil(d.J_(-1).su(a.stream.Ta)));}t=a.dF(this.Ec,this.af.vc,this.Zz,this.qo[0],t,l);b=t.da;(t=t.Nn)&&this.emit(t.type,t);if(b)void 0===this.$z||this.Me!==q.La.AUDIO||a.qy.equal(this.$z.add(k))||(this.a7a(a,this.$z.add(k)),this.$z=void 0),this.IE("@"+n.time.ea()+", request appended, type: "+a.M+", streamId: "+a.sa+", pts: "+a.bd+"-"+a.te),this.Zz=a,a.Tu?(this.$z=a.v0,this.f5a=this.s3a(a,this.LAa||p.ka.sd),null===(c=(f=this.Ec).iib)||void 0===c?void 0:c.call(f,a.XH),this.K.GI&&(null===(h=a.XH)||void 0===h?0:h.Uga)&&this.U_()):this.$z=void 0,this.g7a(a),this.yw();else{if(void 0!==this.Ec.error){if("done"===this.Ec.error)return;this.Ye("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Ec.error);throw this.Ec.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Ec.error);this.Ye(a.message);throw a;}};b.prototype.s3a=function(a,b){var f,h;f=a.stream.Ta;h=a.Pp;this.K.wo&&a.stream.si&&(h=h.Mb(a.stream.si));return c(h.Mb(f)).add(c(f)).add(c(b));};b.prototype.f7a=function(a,b,f){a={type:"headerAppended",mediaType:this.Me,manifestIndex:a,streamId:b,isIndex:f};this.emit(a.type,a);};b.prototype.g7a=function(a){a={type:"requestAppended",mediaType:this.Me,request:a};this.emit(a.type,a);};b.prototype.IE=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.a7a=function(a,b){var f;f=a.xc;a=a.qy.Mb(b).va;f={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[f,a]}}};this.emit(f.type,f);};b.prototype.h7a=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.va,minavsyncerror:b.va}};this.emit(a.type,a);};return b;}(d.EventEmitter);b.n3=a;},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.t1a=b.tR=void 0;c=a(0);d=a(21);l=a(158);q=a(63);n=a(4);k=a(11);a=a(39);p=n.Promise;h=function(){function a(a,b){this.console=a;this.Vf=b;this.F5a=this.yK=0;this.Lf=[];this.console=k.cy(n,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{qgb:{get:function(){return this.yK;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ncb:{get:function(){var a;for(a=0;a<this.Lf.length&&this.Lf[a].VN;a++);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.Vf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nu:{get:function(){return 0===this.Vf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xka:{get:function(){var a;for(a=0;a<this.Lf.length&&this.Lf[a].Sga;a++);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=c.__read(this.Lf,1)[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xia:{get:function(){var a;for(a=0;a<this.Lf.length&&this.Lf[a].VN;a++);return a;},enumerable:!1,configurable:!0}});a.prototype.qX=function(){var a;if(void 0===this.Vf){a=this.console;q.Ya&&a&&a.trace("QueueIterator: enqueueEnd");this.pna(this.Xia-(this.Vf||0));}};a.prototype.Js=function(){return this.Lf.map(function(a){return a.item;});};a.prototype.nTa=function(){return this.Lf.filter(function(a){return(null===a||void 0===a?void 0:a.item)&&!a.item.done;}).map(function(a){return a.item.value;});};a.prototype.pna=function(a){var b;q.Ya&&this.console.trace("updateCount",{tUb:this.Vf,HF:a});if(void 0!==this.Vf){b=this.Lf[this.Vf];b&&this.Dga(b);}this.Vf=void 0===this.Vf?a:void 0===a?a:this.Vf+a;void 0!==this.Vf&&(this.Vf=Math.max(0,this.Vf),(b=this.Lf[this.Vf])&&b.JG.resolve({done:!0}));};a.prototype.enqueue=function(a){q.Ya&&this.console.trace("Enqueue called");return this.gzb(this.Xia,{value:a,done:!1}).SEa.rs;};a.prototype.$0=function(){q.Ya&&this.console.trace("resetEnd");this.pna(void 0);};a.prototype.clear=function(a){var b,f,c;q.Ya&&this.console.trace("clear");this.mPa();b=this.Xka;f=this.Lf.length-b;if(0<f){c={index:b,lja:f};q.Ya&&this.console.trace("Removing items",c);this.Lf.splice(b,f);this.emit("onRemoved",c);}for(f=1;f<b;f++)this.Dga(this.Lf[f]);this.Vf=void 0;this.pna(a?a+b:a);this.yK&&(this.yK=0);};a.prototype.MHa=function(){var a,b;a=this;b=k.cy(n,this.console,"QueueIteratorInstance::");return new f(this,function(b){return a.dIa(b);},b);};a.prototype.xca=function(){var a;if(0<this.Xka){a=c.__read(this.Lf,1)[0];if(a.VN)return q.Ya&&this.console.trace("dequeue",a.id),this.mPa(1),this.emit("onDequeue",a.JG.rs);}};a.prototype.remove=function(a){var b,f,c;for(b=0;b<this.Lf.length;b++){f=this.Lf[b];c=f.item;if(c&&!c.done&&c.value===a){this.Lf.splice(b,1);q.Ya&&this.console.trace("removed",{id:f.id});this.emit("onRemoved",{index:b,lja:1});break;}}};a.prototype.mPa=function(a){var b;a=a||Math.min(this.Xka,this.Xia);if(0<a){b=this.Lf.splice(0,a);this.Vf&&(this.Vf-=a);q.Ya&&this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.SEa.resolve();});},0);this.emit("onRemoved",{index:0,lja:a});this.yK+=a;}};a.prototype.dIa=function(a){var b;q.Ya&&this.console.trace("getNextItemCalled",{offset:a});if(void 0===this.count||0<this.count){this.FJa(a);b=this.Lf[a];b.dBb.resolve();a=b.JG.rs;q.Ya&&this.console.trace("getNextItem:return",{id:b.id});}else q.Ya&&this.console.trace("getNextItem:returnDone"),a=p.resolve({done:!0});return a;};a.prototype.gzb=function(a,b){var f;f=!b.done&&b.value;f=f&&f.toJSON?f.toJSON():f;q.Ya&&this.console.trace("Providing result",{Q9a:a,item:f});this.FJa(a);a=this.Lf[a];f=a.JG.resolve;f(b);return a;};a.prototype.FJa=function(a){var b;if(void 0===this.Lf[a]){b={};this.Dga(b);this.Lf[a]=b;a===this.Vf&&b.JG.resolve({done:!0});q.Ya&&this.console.trace("Item initialized",{Q9a:a});}};a.prototype.Uba=function(a){var b;b={};b.rs=new p(function(f,c){b.resolve=function(b){f(b);a&&a(b);};b.reject=c;});return b;};a.prototype.Dga=function(a){var b;b=this;a.JG=this.Uba(function(f){a.item=f;a.VN=!0;q.Ya&&b.console.trace("Item resolved",{id:a.id});});a.id&&a.Sga&&!a.VN&&(a.JG.resolve({done:!0}),q.Ya&&this.console.warn("Overwriting requested queue item",a.id));a.SEa=this.Uba();a.dBb=this.Uba(function(){a.Sga=!0;q.Ya&&b.console.trace("Item requested",{id:a.id});});a.id=this.F5a++;a.Sga=!1;a.VN=!1;a.item=void 0;};a.prototype.Akb=function(){var a,b;a=this;b=new l.az(function(){var f,c;if(0===a.count)return l.az.zfa();f=a.dIa(0);c=a.Lf[0];f.then(function(){b.EG||c===a.Lf[0]&&a.xca();});return f;});return b;};return a;}();b.tR=h;a.pf(d.EventEmitter,h);f=function(a){function b(b,f,c){var h;h=a.call(this,function(){q.Ya&&h.console.trace("Next item requested",{index:h.index});return h.ABb(h.index++);})||this;h.parent=b;h.ABb=f;h.console=c;h.uE=!1;h.index=0;h.KK=!1;h.FNa=function(a){var b;b=a.index;a=a.lja;h.index>=b&&(h.index=Math.max(b,h.index-a));b=h.console;q.Ya&&b&&b.trace("QueueIteratorInstance: onRemoved modified",h.index);};return h;}c.__extends(b,a);b.prototype.sg=function(){this.console.trace("disposed");this.uE=!0;this.wc();a.prototype.sg.call(this);};b.prototype.next=function(){this.EG||this.uZ();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.wc();return a.prototype.cancel.call(this);};b.prototype.wc=function(){this.parent.rH("onRemoved",this.FNa);this.KK=!1;};b.prototype.uZ=function(){this.KK||(this.KK=!0,this.parent.on("onRemoved",this.FNa));};return b;}(l.az);b.t1a=f;},function(d,b,a){var k,p,h,f,t,z;function c(a){var b;b=a.a9;this.K=a;this.bi=p.Le.HAVE_NOTHING;this.nE=a.nE;a=new t(this.nE);this.oL=a.create("throughput-location-history",b);this.Gt=a.create("respconn-location-history",b);this.yt=a.create("respconn-location-history",b);this.sV=a.create("throughput-tdigest-history",b);this.BU=a.create("throughput-iqr-history",b);this.Qa=null;}function l(a,b,f,k,p){this.xt=new c(p);this.po=[];this.v5a=h.time.ea()-Date.now()%864E5;this.ut=null;this.K=p;for(a=0;a<k;++a)this.po.push(new c(p));}function q(a,b,f){return k.has(a,b)?a[b]:a[b]=f;}function n(a,b){var f;this.K=a;this.JAa=b;this.QFa();this.FK=new c(this.K);this.RK();f=a.jca;f&&(f={Fd:p.Le.nJ,Fa:{Ca:parseInt(f,10),yh:0},th:{Ca:0,yh:0},fq:{Ca:0,yh:0}},this.get=function(){return f;});}k=a(7);p=a(18);b=a(11);h=a(4);f=b.dra;t=a(393).Yqa;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");z={Fd:p.Le.HAVE_NOTHING};c.prototype.uA=function(a,b){this.bi=b;this.oL.add(a);this.sV.add(a);this.Qa=h.time.ea();};c.prototype.ZC=function(a,b){this.BU.set(a,b);};c.prototype.Rt=function(a){this.Gt.add(a);};c.prototype.Qt=function(a){this.yt.add(a);};c.prototype.Yc=function(){var a,b,f,c,p,t;a=this.oL.Yc();b=this.Gt.Yc();f=this.yt.Yc();c=this.BU.Yc();p=this.sV.Yc();if(k.Ma(a)&&k.Ma(b)&&k.Ma(f))return null;t={c:this.bi,t:h.time.Lia(this.Qa)};k.Ma(a)||(t.tp=a);k.Ma(b)||(t.rt=b);k.Ma(f)||(t.hrt=f);k.Ma(c)||(t.iqr=c);k.Ma(p)||(t.td=p);return t;};c.prototype.Zd=function(a){var b;b=h.time.now();if(!(a&&k.has(a,"c")&&k.has(a,"t")&&k.has(a,"tp")&&k.isFinite(a.c)&&k.isFinite(a.t))||0>a.c||a.c>p.Le.nJ||a.t>b||!this.oL.Zd(a.tp))return this.bi=p.Le.HAVE_NOTHING,this.ut=this.Qa=null,this.oL.Zd(null),this.Gt.Zd(null),this.yt.Zd(null),!1;this.bi=a.c;this.Qa=h.time.ija(a.t);this.Gt.Zd(k.has(a,"rt")?a.rt:null);this.yt.Zd(k.has(a,"hrt")?a.hrt:null);k.has(a,"iqr")&&this.BU.Zd(a.iqr);k.has(a,"td")&&this.sV.Zd(a.td);return!0;};c.prototype.get=function(){var a,b,c,t,n,q;a=this.K;if(k.Ma(this.Qa))return z;b=(h.time.ea()-this.Qa)/1E3;b>a.R4a?this.bi=p.Le.HAVE_NOTHING:b>a.s4a&&(this.bi=Math.min(this.bi,p.Le.lz));a=this.oL.get();c=this.Gt.get();t=this.yt.get();n=this.BU.get();q=this.sV.get();b={Sl:b,Fd:this.bi,Fa:a,th:c,fq:t,gq:n,xi:q};a&&(b.RVb=f.prototype.Yja.bind(a));c&&(b.cVb=f.prototype.Yja.bind(c));t&&(b.YSb=f.prototype.Yja.bind(t));return b;};c.prototype.time=function(){return this.Qa;};c.prototype.mE=function(){this.get();h.time.ea();};l.prototype.jj=function(){return((h.time.ea()-this.v5a)/1E3/3600/(24/this.po.length)|0)%this.po.length;};l.prototype.Yc=function(){var a;a={g:this.xt.Yc(),h:this.po.map(function(a){return a.Yc();})};k.Ma(this.ut)||(a.f=h.time.Lia(this.ut));return a;};l.prototype.Zd=function(a){var b,f;if(!this.xt.Zd(a.g))return!1;b=this.po.length;f=!1;this.po.forEach(function(c,h){f=!c.Zd(a.h[h*a.h.length/b|0])||f;});this.ut=k.has(a,"f")?h.time.ija(a.f):null;return f;};l.prototype.uA=function(a,b){this.xt.uA(a,b);this.po[this.jj()].uA(a,b);this.ut=null;};l.prototype.ZC=function(a,b){this.xt.ZC(a,b);this.po[this.jj()].ZC(a,b);};l.prototype.Rt=function(a){this.xt.Rt(a);this.po[this.jj()].Rt(a);};l.prototype.Qt=function(a){this.xt.Qt(a);this.po[this.jj()].Qt(a);};l.prototype.fail=function(a){this.ut=a;};l.prototype.get=function(){var a,b;if(!k.Ma(this.ut)){if((h.time.ea()-this.ut)/1E3<this.K.r4a)return{Fd:p.Le.HAVE_NOTHING,Cx:!0};this.ut=null;}a=this.po[this.jj()].get();b=this.xt.get();a=a.Fd>=b.Fd?a:b;a.Cx=!1;return a;};l.prototype.time=function(){return this.xt.time();};l.prototype.mE=function(a){this.xt.mE(a+": global");this.po.forEach(function(b,f,c){k.Ma(b.time())||(f=24*f/c.length,b.mE(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};n.prototype.bza=function(a,b){var f;f=this.K;a=q(this.Iw,a,{});return q(a,b,new l(0,0,0,f.Zza||4,f));};n.prototype.RK=function(){var a,b;a=h.storage.get("lh");b=h.storage.get("gh");a&&this.h$(a);b&&this.x7a(b);};n.prototype.f9=function(){var a;a={};k.Ud(this.Iw,function(b,f){k.Ud(b,function(b,c){q(a,f,{})[c]=b.Yc();},this);},this);return a;};n.prototype.x7a=function(a){this.FK.Zd(a);};n.prototype.h$=function(a){var b,f;b=null;f=this.K;k.Ud(a,function(a,c){k.Ud(a,function(a,h){var p;p=new l(0,0,0,f.Zza||4,f);p.Zd(a)?(q(this.Iw,c,{})[h]=p,b=!0):k.Ma(b)&&(b=!1);},this);},this);return k.Ma(b)?!0:b;};n.prototype.save=function(){var a;a=this.f9();h.storage.set("lh",a);h.storage.set("gh",this.FK.Yc());this.JAa&&this.JAa.Pla(this.FK.Yc());};n.prototype.QFa=function(a){a?(k.has(this.Iw,a)&&delete this.Iw[a],this.kU==a&&(this.Uz=this.kU="",this.Uk=null)):(this.Iw={},this.Uz=this.kU="",this.Uk=null);};n.prototype.bQ=function(a){this.kU=a;this.Uk=null;};n.prototype.x1=function(a){this.Uz=a;this.Uk=null;};n.prototype.wU=function(){k.Ma(this.Uk)&&(this.Uk=this.bza(this.kU,this.Uz));return this.Uk;};n.prototype.uA=function(a,b){this.wU().uA(a,b);this.FK.uA(a,b);};n.prototype.ZC=function(a,b){a&&a.xk&&a.Wi&&a.yk&&(this.wU().ZC(a,b),this.FK.ZC(a,b));};n.prototype.Rt=function(a){this.wU().Rt(a);};n.prototype.Qt=function(a){this.wU().Qt(a);};n.prototype.fail=function(a,b){this.bza(a,this.Uz).fail(b);};n.prototype.get=function(a,b){var f,c,h,t;a=(a=this.Iw[a])?a[this.Uz]:null;f=null;if(a&&(f=a.get(),f.Fd>p.Le.HAVE_NOTHING))return f;if(!1===b)return z;c=f=null;h=!1;t=null;k.Ud(this.Iw,function(a){k.Ud(a,function(a,b){var k;if(!h||b==this.Uz){k=a.get();k&&(!c||c<=k.Fd)&&(!t||c<k.Fd||t<a.time())&&(c=k.Fd,h=b==this.Uz,t=a.time(),f=k);}},this);},this);return f?f:z;};n.prototype.mE=function(){k.Ud(this.Iw,function(a,b){k.Ud(a,function(a,f){a.mE(b+":"+f);});});};d.P=n;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.hD=void 0;c=a(161);l=a(214);q=a(816);n=a(108);k=a(6);d=function(){function a(a,b){var f;f=this;this.Cf=new l(a,b);this.rm=new q(a);this.ub=new n(this.rm,this.Cf,a);c.Qs.ycb(a);a.o0&&setInterval(function(){f.Cf.save();f.rm.save();},a.o0);}a.gIa=function(b,c){void 0===p?(a.config=b,a.Iv=c,p=new a(b,c)):(k.assert(a.config===b),k.assert(a.Iv===c));return p;};a.reset=function(){a.config=void 0;p=a.Iv=void 0;};return a;}();b.hD=d;},function(d,b){function a(a){var b;b={profile:a.spoofedProfile||a.profile,gea:a.max_framerate_value,fea:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Cxb:a.pixelAspectX,Dxb:a.pixelAspectY,Ao:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(b.yUb=a.profile);return b;}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=b.$Ha=void 0;b.$Ha=function(b,l,q){var c;c=[{},{}];(0===q?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(k,p){b[k].some(function(b,f){return f===l[p]?(c[p]=a(b),!0):!1;});});return c;};b.aIa=a;},function(d,b,a){b=a(819);d.P=b;},function(d,b,a){var n;function c(a){this.XE=a;this.reset();}function l(a){this.ji=new c(a);this.Qd=0;this.Rb=null;}function q(a,b){this.XE=a;this.Aza=b;this.reset();}n=a(7);c.prototype.kAa=function(a,b){this.Qa+=a;this.ij+=a;this.ac+=b;this.Gi.push({d:a,waa:b});};c.prototype.dL=function(){var a;for(;this.ij>this.XE;){a=this.Gi.shift();this.ac-=a.waa;this.ij-=a.d;}};c.prototype.reset=function(){this.Gi=[];this.Qa=null;this.ij=this.ac=0;};c.prototype.setInterval=function(a){this.XE=a;this.dL();};c.prototype.start=function(a){n.Ma(this.Qa)&&(this.Qa=a);};c.prototype.add=function(a,b,c){n.Ma(this.Qa)&&(this.Qa=b);b>this.Qa&&this.kAa(b-this.Qa,0);this.kAa(c>this.Qa?c-this.Qa:0,a);this.dL();};c.prototype.get=function(){return{Ca:Math.floor(8*this.ac/this.ij),yh:0};};l.prototype.reset=function(){this.ji.reset();this.Qd=0;this.Rb=null;};l.prototype.add=function(a,b,c){!n.Ma(this.Rb)&&c>this.Rb&&(b>this.Rb&&(this.Qd+=b-this.Rb),this.Rb=null);this.ji.add(a,b-this.Qd,c-this.Qd);};l.prototype.start=function(a){!n.Ma(this.Rb)&&a>this.Rb&&(this.Qd+=a-this.Rb,this.Rb=null);this.ji.start(a-this.Qd);};l.prototype.stop=function(a){this.Rb=n.Ma(this.Rb)?a:Math.min(a,this.Rb);};l.prototype.get=function(){return this.ji.get();};l.prototype.setInterval=function(a){this.ji.setInterval(a);};q.prototype.reset=function(){this.Gi=[];this.ac=this.ij=0;};q.prototype.add=function(a,b,c,f){void 0!==f&&!0===f&&(b=c-b,this.ij+=b,this.ac+=a,this.Gi.push({d:b,waa:a}),this.dL());};q.prototype.dL=function(){var a;for(;this.ij>this.XE||this.Gi.length>this.Aza;){a=this.Gi.shift();this.ac-=a.waa;this.ij-=a.d;}};q.prototype.start=function(){};q.prototype.stop=function(){};q.prototype.get=function(){return{Ca:Math.floor(8*this.ac/this.ij),yh:0};};q.prototype.setInterval=function(a,b){this.XE=a;this.Aza=b;this.dL();};d.P={sKb:c,dYa:l,J2a:q};},function(d,b,a){var k;function c(a,b,f){this.LF=!1===a;this.HF=a||.01;this.f5=void 0===b?25:b;this.$oa=void 0===f?1.1:f;this.kh=new k(l);this.reset();}function l(a,b){return a.jf>b.jf?1:a.jf<b.jf?-1:0;}function q(a,b){return a.fs-b.fs;}function n(a){this.config=a||{};this.mode=this.config.mode||"auto";c.call(this,"cont"===this.mode?a.HF:!1);this.Jgb=this.config.ratio||.9;this.Kgb=this.config.QVb||1E3;this.K_=0;}k=a(832).v1a;c.prototype.reset=function(){this.kh.clear();this.tha=this.n=0;};c.prototype.size=function(){return this.kh.size;};c.prototype.Js=function(a){var b;b=[];a?(this.iU(!0),this.kh.Ud(function(a){b.push(a);})):this.kh.Ud(function(a){b.push({jf:a.jf,n:a.n});});return b;};c.prototype.summary=function(){return[(this.LF?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Mh(0),"Q1  = "+this.Mh(.25),"Q2  = "+this.Mh(.5),"Q3  = "+this.Mh(.75),"max = "+this.Mh(1)].join("\n");};c.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var f=0;f<a.length;f++)this.Hya(a[f],b);};c.prototype.qka=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Hya(a[b].jf,a[b].n);};c.prototype.iU=function(a){var b;if(!(this.n===this.tha||!a&&this.$oa&&this.$oa>this.n/this.tha)){b=0;this.kh.Ud(function(a){a.fs=b+a.n/2;b=a.xF=b+a.n;});this.n=this.tha=b;}};c.prototype.ujb=function(a){var b,f;if(0===this.size())return null;b=this.kh.lowerBound({jf:a});f=null===b.data()?b.jC():b.data();return f.jf===a||this.LF?f:(b=b.jC())&&Math.abs(b.jf-a)<Math.abs(f.jf-a)?b:f;};c.prototype.DE=function(a,b,f){a={jf:a,n:b,xF:f};this.kh.In(a);this.n+=b;return a;};c.prototype.QT=function(a,b,f){b!==a.jf&&(a.jf+=f*(b-a.jf)/(a.n+f));a.xF+=f;a.fs+=f/2;a.n+=f;this.n+=f;};c.prototype.Hya=function(a,b){var f,c,h;f=this.kh.min();c=this.kh.max();h=this.ujb(a);h&&h.jf===a?this.QT(h,a,b):h===f?this.DE(a,b,0):h===c?this.DE(a,b,this.n):this.LF?this.DE(a,b,h.xF):(f=h.fs/this.n,Math.floor(4*this.n*this.HF*f*(1-f))-h.n>=b?this.QT(h,a,b):this.DE(a,b,h.xF));this.iU(!1);!this.LF&&this.f5&&this.size()>this.f5/this.HF&&this.mu();};c.prototype.nab=function(a){var b,f;this.kh.Sk=q;b=this.kh.upperBound({fs:a});this.kh.Sk=l;f=b.jC();a=f&&f.fs===a?f:b.next();return[f,a];};c.prototype.Mh=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.G6a,this);return Array.isArray(a)?b:b[0];};c.prototype.G6a=function(a){var b,f;if(0!==this.size()){this.iU(!0);this.kh.min();this.kh.max();a*=this.n;b=this.nab(a);f=b[0];b=b[1];return b===f||null===f||null===b?(f||b).jf:this.LF?a<=f.xF?f.jf:b.jf:f.jf+(a-f.fs)*(b.jf-f.jf)/(b.fs-f.fs);}};c.prototype.mu=function(){var a;if(!this.LDa){a=this.Js();this.reset();for(this.LDa=!0;0<a.length;)this.qka(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.iU(!0);this.LDa=!1;}};n.prototype=Object.create(c.prototype);n.prototype.constructor=n;n.prototype.push=function(a){c.prototype.push.call(this,a);this.Cbb();};n.prototype.DE=function(a,b,f){this.K_+=1;c.prototype.DE.call(this,a,b,f);};n.prototype.QT=function(a,b,f){1===a.n&&--this.K_;c.prototype.QT.call(this,a,b,f);};n.prototype.Cbb=function(){!("auto"!==this.mode||this.size()<this.Kgb)&&this.K_/this.size()>this.Jgb&&(this.mode="cont",this.LF=!1,this.HF=this.config.HF||.01,this.mu());};d.P={TDigest:c,Digest:n};},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.UI=void 0;c=a(0);d=a(73);l=a(162);q=a(163);a=function(a){function b(b,c,f,k,n,l,d){c=a.call(this,b,c,f,k,n,l,d)||this;q.Sv.call(c,b,k);return c;}c.__extends(b,a);return b;}(l.Yy);b.UI=a;d(q.Sv.prototype,a.prototype);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dD=void 0;d=a(39);a=a(109);c=function(){function a(a,b){this.mo=a;this.iE=b.Ra;this.qt=b.gb;}Object.defineProperties(a.prototype,{Ra:{get:function(){return void 0!==this.iE?this.iE:this.mo.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gb:{get:function(){return void 0!==this.qt?this.qt:this.mo.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.mo.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hj:{get:function(){return this.mo.Hj;},enumerable:!1,configurable:!0}});a.prototype.$P=function(a){this.qt=a;};a.prototype.iba=function(){this.qt=void 0;};return a;}();b.dD=c;d.pf(a.$y,c);d.pf(a.Xy,c);},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(126);l=a(225);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.GPa=function(){15!==this.L.Tf(4)||this.L.Tf(24);};b.prototype.parse=function(a){if(this.kqb(a)&&64===a.Lvb)switch(this.yA=this.yPa(),this.GPa(),this.L.Tf(4),this.Kib=5===this.yA||29===this.yA?5:-1,0<this.Kib&&(this.GPa(),this.yA=this.yPa(),22===this.yA&&this.L.Tf(4)),this.yA){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.LGa=this.L.Tf(1),(this.ogb=this.L.Tf(1))&&this.L.Tf(14),this.L.Tf(1),this.SX=3===this.yA?256:23===this.yA?this.LGa?480:512:this.LGa?960:1024;}this.skip();return!0;};b.prototype.yPa=function(){var a;a=this.L.Tf(5);31===a&&(a=32+this.L.Tf(6));return a;};b.prototype.kqb=function(a){return a.tag===l.Spa.tag;};b.tag=5;return b;}(d.L3);b.aYa=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Lvb=this.L.qd();this.L.qd();this.L.Yg();this.L.qd();this.Xo=this.L.Fb();this.L$a=this.L.Fb();this.nAa();return!0;};b.tag=4;return b;}(a(126).L3);b.Spa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.L.Yg();a=this.L.qd();this.LEb=!!(a&128);this.B2a=!!(a&64);this.p0a=!!(a&32);this.LEb&&this.L.Yg();this.B2a&&this.L.J0(this.L.qd());this.p0a&&this.L.Yg();this.nAa();return!0;};b.tag=3;return b;}(a(126).L3);b.vqa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(126),b);d.__exportStar(a(224),b);d.__exportStar(a(223),b);d.__exportStar(a(222),b);d=a(223);c=a(222);a=a(224);b.IF={3:a.vqa,4:d.Spa,5:c.aYa};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.L.offset+=6;this.L.Yg();return!0;};return b;}(a(27).Wf);b["default"]=d;},function(d,b){function a(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});d=function(){function b(a,b){"object"===typeof a?(this.Lt=a.Ab,this.Pl=a.S):(this.Lt=a,this.Pl=b);}b.vwb=function(a){return new b(1,a);};b.Bf=function(a){return new b(a,1E3);};b.Wma=function(a,b){return Math.floor(1E3*a/b);};b.Pia=function(a,b){return Math.floor(a*b/1E3);};b.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.kea=function(q,n){var k;if(q.S===n.S)return new b(c(q.Ab,n.Ab),q.S);k=a(q.S,n.S);return b.kea(q.Jf(k),n.Jf(k));};Object.defineProperties(b.prototype,{Ab:{get:function(){return this.Lt;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.Pl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{va:{get:function(){return 1E3*this.Lt/this.Pl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ah:{get:function(){return this.Lt/this.Pl;},enumerable:!0,configurable:!0}});b.prototype.Jf=function(a){a/=this.S;return new b(Math.floor(this.Ab*a),Math.floor(this.S*a));};b.prototype.add=function(c){var n;if(this.S===c.S)return new b(this.Ab+c.Ab,this.S);n=a(this.S,c.S);return this.Jf(n).add(c.Jf(n));};b.prototype.Mb=function(a){return this.add(new b(-a.Ab,a.S));};b.prototype.J_=function(a){return new b(this.Ab*a,this.S);};b.prototype.su=function(b){var c;if(this.S===b.S)return this.Ab/b.Ab;c=a(this.S,b.S);return this.Jf(c).su(b.Jf(c));};b.prototype.HIa=function(b){return a(this.S,b);};b.prototype.QPa=function(){return new b(this.S,this.Ab);};b.prototype.compare=function(b,c){var k;if(this.S===c.S)return b(this.Ab,c.Ab);k=a(this.S,c.S);return b(this.Jf(k).Ab,c.Jf(k).Ab);};b.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};b.prototype.mH=function(a){return this.compare(function(a,b){return a!==b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};b.prototype.Yx=function(a){return this.compare(function(a,b){return a<=b;},a);};b.prototype.xG=function(a){return this.compare(function(a,b){return a>=b;},a);};b.prototype.toJSON=function(){return{ticks:this.Ab,timescale:this.S};};b.prototype.toString=function(){return this.Ab+"/"+this.S;};b.sd=new b(0,1);b.mv=new b(1,1E3);return b;}();b.ka=d;},function(d,b,a){var da,W,ka,O,oa,ta,za,P,va,ga,Fa,Ga,la,Ea,Qa,Oa,A,Ia,mb,E,N,Ta,jb,S,ba,sd,V,Y,ca,ea,fa;function c(a,b,f,c,h){O.call(this,a,b,f,c,h);}function l(a,b,f,c,h){O.call(this,a,b,f,c,h);}function q(a,b,f,c,h){O.call(this,a,b,f,c,h);}function n(a,b,f,c,h){O.call(this,a,b,f,c,h);this.cma=a.config.cma;this.Hd=this.sizes=void 0;}function k(a,b,f,c,h){O.call(this,a,b,f,c,h);}function p(){for(var a=new DataView(this),b="",f,c=0;c<this.byteLength;c++)f=a.getUint8(c),b+=("00"+f.toString(16)).slice(-2);return b;}function h(a,b,f,c,h){O.call(this,a,b,f,c,h);}function f(a,b,f,c,h){O.call(this,a,b,f,c,h);}function t(a,b,f,c,h){O.call(this,a,b,f,c,h);}function z(a,b,f,c,h){O.call(this,a,b,f,c,h);}function g(a,b,f,c,h){O.call(this,a,b,f,c,h);}function D(a){function b(b,f,c,h,k){O.call(this,b,f,c,h,k);this.OMa=a;}b.ic=!1;b.prototype=new O();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Jpa:{get:function(){return this.OMa;}}});b.prototype.parse=function(){this.L.console.trace("renaming '"+this.type+"' to draft type '"+this.OMa+"'");this.L.offset=this.startOffset+4;this.bb.OUa(this.Jpa);this.type=this.Jpa;return!0;};return b;}function J(a,b,f,c,h){O.call(this,a,b,f,c,h);}function F(a,b,f,c,h){O.call(this,a,b,f,c,h);}function L(a,b,f,c,h){O.call(this,a,b,f,c,h);}function H(a,b,f,c,h){O.call(this,a,b,f,c,h);}function U(a,b,f,c,h){O.call(this,a,b,f,c,h);}function R(a,b,f,c,h){O.call(this,a,b,f,c,h);}function m(a,b,f,c,h){O.call(this,a,b,f,c,h);}function r(a,b,f,c,h){O.call(this,a,b,f,c,h);}function y(a,b,f,c,h){O.call(this,a,b,f,c,h);}function T(a,b,f,c,h){O.call(this,a,b,f,c,h);}function u(a,b){a.forEach(function(a){b[a.Ne]=a;});}da=a(128).assert;b=a(82);W=a(227).ka;ka=a(405);a(127);a(75);a(75);a(75);O=a(27).Wf;oa=a(859)["default"];ta=a(858)["default"];za=a(857)["default"];P=a(856)["default"];va=a(855)["default"];ga=a(854)["default"];Fa=a(853)["default"];Ga=a(852)["default"];la=a(851)["default"];a(226);a(164);Ea=a(404).YUa;Qa=a(404).lYa;Oa=a(850)["default"];A=a(849)["default"];Ia=a(81)["default"];mb=a(81).vVa;E=a(81).wVa;N=a(81).xVa;Ta=a(81).yVa;jb=a(848)["default"];S=a(847)["default"];ba=a(81).eZa;sd=a(81).$Ya;V=a(846)["default"];Y=a(845)["default"];ca=a(844)["default"];ea=a(403)["default"];fa=a(402)["default"];a(126);a(223);a(222);a(224);a=a(843)["default"];c.ic=!0;c.prototype=new O();c.prototype.constructor=c;l.ic=!0;l.prototype=new O();l.prototype.constructor=l;q.ic=!1;q.prototype=new O();q.prototype.constructor=q;q.prototype.parse=function(){var a;this.Uf();1===this.version?(this.L.Zi(),this.L.Zi(),this.S=this.L.Fb(),this.duration=this.L.Zi()):(this.L.Fb(),this.L.Fb(),this.S=this.L.Fb(),this.duration=this.L.Fb());a=this.L.Yg()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};n.ic=!1;n.prototype=new O();n.prototype.constructor=n;n.prototype.D6a=function(){this.Uf();this.L.Fb();this.S=this.L.Fb();0===this.version?(this.Wca=this.L.Fb(),this.Sda=this.L.Fb()):(this.Wca=this.L.Zi(),this.Sda=this.L.Zi());this.iBb=this.L.Yg();this.TPa=this.L.Yg();};n.prototype.M3a=function(a,b){var f,c,h;f=this.S;a=a&&a.S||f;c=a/f;f=this.L.I0(b,12,!1);h=1===c?this.L.I0(b,12,!1):ka.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.L.Fb()*c);this.L.offset+=8;return a;},this);this.d8a(b,h,f,a);};n.prototype.d8a=function(a,b,f,c){if(this.cma){c=this.cma*c/1E3;for(var h=0,k=1;k<a;k++)Math.abs(b[h]-c)>Math.abs(b[h]+b[k]-c)?(b[h]+=b[k],f[h]+=f[k]):(++h,h!==k&&(b[h]=b[k],f[h]=f[k]));++h;b=new Uint32Array(b.buffer.slice(0,4*h));f=new Uint32Array(f.buffer.slice(0,4*h));}this.sizes=f;this.Hd=b;};n.prototype.parse=function(a){var b,f,c,h;this.D6a();this.Ta=a.Ta;b=this.S;f=this.Ta&&this.Ta.S||b;c=this.TPa;h=this.startOffset+this.length+this.Sda;b=new W(this.Wca,b).Jf(f).Ab;this.Z={S:f,Kj:b,offset:h};this.M3a(this.Ta,c);this.Z.Hd=this.Hd;this.Z.sizes=this.sizes;a.Cs=this;return!0;};k.ic=!1;k.prototype=new O();k.prototype.constructor=k;k.prototype.parse=function(){var a;this.Ty=[];this.uxb=[];a=(this.length-11)/2;this.L.qd();this.L.qd();this.L.qd();for(var b=0;b<a;b++)this.Ty.push(this.L.qd()),this.uxb.push(this.L.qd());return!0;};h.ic=!1;h.prototype=new O();h.prototype.constructor=h;h.prototype.parse=function(){this.Uf();this.L.offset+=4;this.EKa=this.L.offset;this.Xr=this.L.Czb();this.Xr.toString=p;return!0;};f.ic=!1;f.prototype=new O();f.prototype.constructor=f;f.prototype.parse=function(){this.Uf();this.Dn=this.L.Yg();this.Etb=this.L.I0(this.Dn,void 0,!0);return!0;};t.ic=!1;t.prototype=new O();t.prototype.constructor=t;t.prototype.parse=function(a){var b,f,c,h,k,p;h=a.Cs;da(h);a=a.Ta;b=h.S;h=h.TPa;da(a);da(b);da(h);this.Uf();da(2>this.version);this.Dn=this.L.Yg();this.DH=new Uint16Array(h+1);f=a.HIa(b);k=f/b;p=a.Jf(f).Ab;if(0===this.version)for(this.VH=new Uint16Array(),this.Wg=new Uint32Array(),a=b=0;a<=h;++a){if(this.DH[a]=b,a<this.Dn&&(c=this.L.qd(),0!==c))for(f=0;f<c;++f,++b)this.VH[b]=Math.floor((this.L.Fb()+1)*k)/p,this.Wg[b]=this.L.Fb();}else if(1===this.version)for(f=this.L.Azb(this.Dn),this.L.offset+=4,this.Wg=this.L.I0(this.Dn,10,!1),this.L.offset-=8,this.VH=ka.from(Uint16Array,{length:this.Dn},function(){var a;a=Math.floor((this.L.Fb()+1)*k)/p;this.L.offset+=6;return a;},this),b=a=0;a<=h;++a){for(;b<f.length&&f[b]<a;)++b;this.DH[a]=b;}this.ki={DH:this.DH,VH:this.VH,Wg:this.Wg};return!0;};z.ic=!0;z.prototype=Object.create(c.prototype);z.prototype.constructor=z;g.ic=!0;g.prototype=Object.create(c.prototype);g.prototype.constructor=g;g.prototype.dG=function(){var a;a=this.Fq("tfhd");a&&(this.Zt=a.rCa?a.Zt:this.parent.startOffset);return!0;};J.ic=!1;J.prototype=new O();J.prototype.constructor=J;J.prototype.parse=function(){var a,n,q,f,h;a=this.L.offset;this.Uf();if(1===this.version){this.L.console.trace("translating vpcC box to draft equivalent");this.L.offset+=2;for(var b=this.L.offset,f=this.L.qd(),c=this.L.qd(),h=this.L.qd(),k=this.L.qd(),p=this.L.Yg(),t=[],n=0;n<p;++n)t=this.L.qd();n=(f&240)>>>4;q=(f&14)>>>1;f=f&1;h=16===h?1:0;c!=k&&this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+c+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(c){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries "+c+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.bb.I2(this.version,a);this.bb.I2(n<<4|k,b++);this.bb.I2(q<<4|h<<1|f,b++);p+=2;t.push(0,0);this.bb.KIb(p);b+=2;t.forEach(function(a){this.bb.I2(a,b++);});}return!0;};F.ic=!1;F.prototype=new O();F.prototype.constructor=F;F.Ne="tfhd";Object.defineProperties(F.prototype,{rCa:{get:function(){return this.gf&1;}},IBb:{get:function(){return this.gf&2;}},fgb:{get:function(){return this.gf&8;}},igb:{get:function(){return this.gf&16;}},ggb:{get:function(){return this.gf&32;}}});F.prototype.parse=function(){this.Uf();this.Zma=this.L.Fb();this.Zt=this.rCa?this.L.Zi():void 0;this.IBb&&this.L.Fb();this.OW=this.fgb?this.L.Fb():void 0;this.QW=this.igb?this.L.Fb():void 0;this.PW=this.ggb?this.L.Fb():void 0;return!0;};L.ic=!1;L.prototype=new O();L.prototype.constructor=L;L.prototype.parse=function(){this.Uf();this.RL=1===this.version?this.L.Zi():this.L.Fb();return!0;};L.prototype.Sa=function(a){var b;b=this.startOffset+12;this.RL+=a;1===this.version?this.bb.LIb(this.RL,b):this.bb.up(this.RL,b);};H.ic=!1;H.prototype=new O();H.prototype.constructor=H;Object.defineProperties(H.prototype,{uEa:{get:function(){return this.gf&1;}},Xda:{get:function(){return this.gf&4;}},g1:{get:function(){return this.gf&256;}},h1:{get:function(){return this.gf&512;}},LQa:{get:function(){return this.gf&1024;}},lla:{get:function(){return this.gf&2048;}}});H.prototype.parse=function(){this.Uf();this.BCa=this.L.offset;this.je=this.L.Fb();this.pu=this.uEa?this.L.zka():0;this.Xda&&this.L.Fb();this.JP=(this.g1?4:0)+(this.h1?4:0)+(this.LQa?4:0)+(this.lla?4:0);this.IX=this.L.offset;da(this.uEa,"Expected data offset to be present in Track Run");da(this.length-(this.L.offset-this.startOffset)===this.je*this.JP,"Expected remaining data in box to be sample information");return!0;};H.prototype.eL=function(a,b,f){var c,h,k;c=this.g1?this.L.Fb():a.OW;h=this.h1?this.L.Fb():a.QW;a=this.LQa?this.L.Fb():a.PW;k=0===this.version?this.lla?this.L.Fb():0:this.lla?this.L.zka():0;return{HBb:k,pVb:a,PUb:f+k-(void 0!==b?b:k),Cv:h,KP:c};};H.prototype.Sa=function(a,b,f,c,h,k,p){var t,n,q,d;t=0;n=0;this.bb.offset=this.IX;for(c=0;c<h;++c)d=this.eL(b,q,n),0==c&&(q=d.HBb),t+=d.Cv,n+=d.KP;c=h;h=this.L.offset;d=this.eL(b,q,n);this.iI=c;this.hEb=n;if(p){if(this.OH=this.pu+t,this.zv=0,c===this.je)return!0;}else if(this.OH=this.pu,this.zv=t,0===c)return!0;if(0===c||c===this.je)return!1;this.gX=!0;if(p){this.zv+=d.Cv;for(p=c+1;p<this.je;++p)d=this.eL(b,q,n),this.zv+=d.Cv;this.bb.offset=this.BCa;this.je=c;this.bb.up(this.je);this.bb.Ena(k);this.Xda&&(this.L.offset+=4);this.Fk(this.length-(h-this.startOffset),h);}else b=h-this.IX,this.bb.offset=this.BCa,this.je-=c,this.bb.up(this.je),this.pu+=t,this.bb.Ena(k,this.pu),this.Xda&&(this.L.offset+=4),this.Fk(b,this.bb.offset);f.Fk(this.zv,a.Zt+this.OH);return!0;};H.prototype.SAb=function(a,b,f,c,h,k){var t;if(c){c=this.OH;for(var p=this.je-1;0<=p&&this.je-p<=h;--p){this.bb.offset=this.IX+p*this.JP;t=this.eL(b);if(t.KP!=k.duration){this.L.console.warn("Could not replace sample of duration "+t.KP+" with silence of duration "+k.duration);break;}if(this.h1)this.bb.offset-=this.JP-(this.g1?4:0),this.bb.up(k.Dv.byteLength);else if(k.Dv.byteLength!==t.Cv){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}c-=t.Cv;f.S0(t.Cv,k.Dv,a.Zt+c);}}else for(c=this.OH+this.zv,p=0;p<this.je&&p<h;++p){this.bb.offset=this.IX+(p+this.iI)*this.JP;t=this.eL(b);if(t.KP!=k.duration){this.L.console.warn("Could not replace sample of duration "+t.KP+" with silence of duration "+k.duration);break;}if(this.h1)this.bb.offset-=this.JP-(this.g1?4:0),this.bb.up(k.Dv.byteLength);else if(k.Dv.byteLength!==t.Cv){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}f.S0(t.Cv,k.Dv,a.Zt+c);c+=t.Cv;}};U.ic=!1;U.prototype=Object.create(O.prototype);U.prototype.constructor=U;Object.defineProperties(U.prototype,{AA:{get:function(){return this.gf&1;}}});U.prototype.parse=function(){this.Uf();this.AA&&this.L.wy();this.AA&&this.L.Fb();this.hgb=this.L.qd();this.je=this.L.Fb();this.L.J0(this.je);return!0;};U.prototype.Sa=function(a,b){if(a&&0===this.hgb){a=b?this.je-a:a;this.bb.offset=this.startOffset+13+(this.AA?8:0);this.je-=a;this.bb.up(this.je);this.jla=0;if(b)this.bb.offset+=this.je;else{for(b=0;b<a;++b)this.jla+=this.bb.qd();this.bb.offset-=a;}this.Fk(a,this.L.offset);}return!0;};R.ic=!1;R.prototype=Object.create(O.prototype);R.prototype.constructor=R;Object.defineProperties(R.prototype,{AA:{get:function(){return this.gf&1;}}});R.prototype.parse=function(){this.Uf();this.AA&&this.L.wy();this.AA&&this.L.Fb();this.Dn=this.L.Fb();da(1===this.Dn,"Expected a single entry in Sample Auxiliary Information Offsets box");this.pu=0===this.version?this.L.zka():this.L.Izb();return!0;};R.prototype.Sa=function(a,b){this.pu+=a;this.bb.offset=this.startOffset+16+(this.AA?8:0)+(0===this.version?0:4);this.bb.Ena(b,this.pu);return!0;};m.ic=!1;m.prototype=Object.create(O.prototype);m.prototype.constructor=m;Object.defineProperties(m.prototype,{VNa:{get:function(){return this.gf&1;}},QHb:{get:function(){return this.gf&2;}}});m.prototype.parse=function(){this.Uf();this.VNa&&(this.L.Fb(),this.prb=this.L.J0(16));this.je=this.L.Fb();return!0;};m.prototype.Sa=function(a,b){var f,c;f=b?this.je-a:a;this.bb.offset=this.startOffset+28+(this.VNa?20:0);this.je-=f;this.bb.up(this.je);a=this.bb.offset;if(this.QHb)for(f=b?this.je:f;0<f;--f){this.bb.offset+=8;c=this.bb.Yg();this.bb.offset+=6*c;}else this.bb.offset+=8*(b?this.je:f);b?this.Fk(this.length-(this.L.offset-this.startOffset),this.L.offset):this.Fk(this.L.offset-a,a);};r.ic=!1;r.prototype=Object.create(O.prototype);r.prototype.constructor=r;r.prototype.parse=function(){this.Uf();return!0;};r.prototype.Sa=function(a,b,f){f?this.Fk(b-a,this.startOffset+12+a):this.Fk(a,this.startOffset+12);return!0;};y.ic=!1;y.prototype=Object.create(O.prototype);y.prototype.constructor=y;y.prototype.parse=function(){this.Uf();this.L.wy();1===this.version&&this.L.Fb();this.Dn=this.L.Fb();this.LP=[];for(var a=0;a<this.Dn;++a)for(var b=this.L.Fb(),f=this.L.Fb(),c=0;c<b;++c)this.LP.push(f);return!0;};y.prototype.Sa=function(a,b){this.LP=b?this.LP.slice(0,a):this.LP.slice(a);a=this.LP.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.bb.offset=this.startOffset+16+(1===this.version?4:0);this.bb.up(a.length);a.forEach(function(a){this.bb.up(a.count);this.bb.up(a.group);}.bind(this));this.Dn>a.length&&this.Fk(8*(this.Dn-a.length));this.Dn=a.length;return!0;};T.ic=!1;T.prototype=Object.create(O.prototype);T.prototype.constructor=T;Ia={Pc:{moov:l,trak:c,mdia:c,mdhd:q,minf:c,encv:Ia,schi:c,sidx:n,sinf:c,stbl:c,tenc:h,mvex:c,moof:z,traf:g,tfhd:F,trun:H,sbgp:y,sdtp:r,saiz:U,saio:R,tfdt:L,mdat:T,vmaf:k},rGb:{vpcC:J,SmDm:D("smdm"),CoLL:D("coll")},ATa:{schm:jb},kla:{}};u([S,ga,Fa,Ga,ba,sd,oa,P,ea,fa,va,la,ta,za,a],Ia.Pc);u([Ea,Oa,mb,E,N,Ta,Qa,A,Y,V],Ia.kla);u([S,jb],Ia.ATa);Ia.Pc[b.kua]=h;Ia.Pc[b.PS]=f;Ia.Pc[b.OS]=t;Ia.Pc[b.jua]=m;Ia.kla[b.W5]=ca;Ia.Wf=O;d.P={iH:Ia};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.IFa=b.iB=b.yu=b.EHa=b.yY=void 0;c=a(6);l=a(165);b.yY=function(a,b){return!(1!==a||!b.xx)||0===a;};b.EHa=function(a,b,c,p){a=a.cm(b,void 0,!0);c&&(a=Math.floor(a/p)*p);return a;};b.yu=function(a,n,k,p,h,f){var t,q,d,g;l.Bl.Gn(a);c.assert(k.Z,"findFirstFragment called without stream fragments");t=k.Z;c.assert(p>=t.Qh(0));q=b.yY(a,n);0===a&&!f&&n.wo&&!n.xA&&k.si&&(p=Math.max(k.Z.Qh(0),p+k.si.va));d=b.EHa(t,p,k.R.kX(a),n.pH);g=k.mi(d);if(g.na<p)return g;q&&((q=g.EX(p))?(0<q.Cm&&g.Ij({start:q.Cm}),0!==a||n.Bia||(0>q.Rc&&g.Ij({start:q.Cm}),q.Rc<(n.wo&&!n.xA&&k.si?Math.floor(k.si.va):0)&&g.Sca())):p>=g.na&&d<t.length-1&&(g=k.mi(d+1)));1===a&&h&&g.na===h&&d<t.length-1&&(g=k.mi(d+1));0===a&&!g.Sa&&(n.PN||n.RJa||n.Bhb)&&f&&g.Ij({});g.eQ(p);return g;};b.iB=function(a,c,k,p,h,f,t){var n;l.Bl.Gn(a);n=k.Z;void 0===p&&(p=n.na);if(h&&(h=h.kjb(k,p,a,c,f)))return h;h=n.Ta;t=p?p+b.IFa(a,h,c.zs,t):n.ida(n.length-1);n=n.cm(t,void 0,!0);h=k.mi(n);0===n||h.T!==p||1!==a&&c.zs||(--n,h=k.mi(n));b.yY(a,c)?(t=1===a?t:p,t<h.na&&((f=h.qjb(t))&&0!==f.Cm?h.Ij({end:f.Cm}):0===a&&(f||t<h.T)&&0!==n?h=k.mi(n-1):1===a&&f&&0!==n&&(h=k.mi(n-1))),0!==a||h.Sa||!c.PN&&!c.QJa||h.Ij()):0===a&&!c.zs&&p-h.T<h.duration/2&&0!==n&&(h=k.mi(n-1));h.eQ(p);return h;};b.IFa=function(a,b,c,p){var h;return 1===a||p?0:c?null!==(h=null===b||void 0===b?void 0:b.va)&&void 0!==h?h:0:b?-b.va:0;};},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,g,D,J;Object.defineProperty(b,"__esModule",{value:!0});b.sR=void 0;c=a(0);l=a(21);q=a(868);d=a(83);n=a(861);k=a(836);p=a(833);h=a(217);f=a(818);t=a(17);z=a(4);g=a(6);D=a(384);a(216);J=function(){return function(a){var b;b=a.Rga;a=a.DZ;this.rO=this.replace=b;this.Af=a;};}();a=function(a){function b(b){var f,t,d,g,F,G,L,H,m,r,O,u,ta,za,P,va,ga,Fa,Ga,la,Ea,Qa,Oa;f=b.oa;t=b.Xa;d=b.ya;g=b.Bk;F=b.ib;G=b.qia;L=b.Ki;H=b.Kp;m=b.config;r=b.hQ;O=b.Sfa;u=b.tC;ta=b.gN;za=b.ub;P=b.Cf;va=b.nH;b=b.pda;ga=a.call(this)||this;ga.ZY=!1;ga.lza=[];ga.yza=[];ga.ih=[];ga.Ze=!1;ga.oa=f;ga.Xa=t;ga.ya=d;ga.Bk=g;ga.ib=F;ga.config=m;ga.console=new z.Console("ASEJS","media|asejs","<"+String(ga.oa)+">");ga.X6a=new D.n7();O&&(f=O.Zp,ga.Qe=new p.rra(ga,ga.console,ga.config,O.ql,O.wY,f,O.AZ,O.Pe,O.Kc,O.Rf,O.Rx));ga.Qx=new l.EventEmitter();ga.gN=ta;ga.ub=za;ga.nH=va;ga.km=new h.FS(d,za,P,ga.config,null===b||void 0===b?void 0:b.ql);b&&(O=b.Tr,ta=b.Ro,za=b.HG,P=b.zm,ga.Xk=b.zg,ga.HG=za,ga.Ro=ta,ga.Tr=O,ga.zm=P,ga.Hh=new k.Lqa(ga.km,ga.config,ga.lob.bind(ga),ga.kob.bind(ga)));r&&(b=r.aC,O=r.ha,ta=r.ux,za=r.sm,f=r.Zp,b&&O?(ga.gQ=new q.Bwa(b,{ha:String(O),ux:ta,Dtb:ga.config.WS.mx,wab:ga.config.WS.lv,oba:ga.config.oba},za),ga.Zp=f):za("SideChannel: pbcid/xid is missing."));ga.Hh&&ga.gQ&&ga.Hh.uDb(ga.gQ);ga.tC=u;ga.se=new J(G);ga.Ki=L;Fa=[[],[]];Ga=[{},{}];la=[0,0];Ea=!1;Qa=ga.ib(0);Oa=ga.ib(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0===b;f&&!Qa||1===b&&!Oa||d[a].forEach(function(a,h){a=new n.poa({R:ga,JB:a,M:b,Af:G.DZ,Kp:H,g2:h,sA:h+(f?d.video_tracks.length:0)},ga.config,ga.console);Fa[b].push(a);Ga[b]=c.__assign(c.__assign({},Ga[b]),a.sG());a.Xo>la[a.M]&&(la[a.M]=a.Xo);Ea=Ea||a.UY;});});ga.TT=Fa;ga.MEb=Ga;ga.kq=la;ga.UY=Ea;ga.h4a=ga.config&&ga.config.lX&&ga.config.HN&&!!ga.config.HN.length&&-1!==ga.config.HN.indexOf(String(ga.u));return ga;}c.__extends(b,a);Object.defineProperties(b.prototype,{dg:{get:function(){return this.lza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{utb:{get:function(){return this.yza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{u:{get:function(){return this.ya.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iu:{get:function(){return this.ya.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.ya.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hq:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ika:{get:function(){return this.X6a;},enumerable:!1,configurable:!0}});b.prototype.close=function(){this.km.close();this.Ze=!0;};b.prototype.wc=function(){this.Qe&&this.Qe.wc();};b.prototype.Mu=function(){return void 0!==this.iu;};b.prototype.getTracks=function(a){return this.TT[a];};b.prototype.getTrackById=function(a){var b;this.TT.some(function(f){return f.some(function(f){if(f.cb===a)return b=f,!0;});});b||this.console.warn("getTrackById not found:",a,"length:",this.TT.length);return b;};b.prototype.KIa=function(a,b){var f;f=this.TT[a];if(0>b||b>=f.length)this.console.warn("getTrackByIndex out of range:",b,"length:",f.length,"mediaType:",a);else return f[b];};b.prototype.Rr=function(a,b){return(a=this.sG(a))&&a[b];};b.prototype.sG=function(a){return this.MEb[a];};b.prototype.VGb=function(a,b){this.lza[a]=b;b.stream.Z&&this.aUa(a,b.stream.Z);};b.prototype.kX=function(a){return void 0===a||1===a?this.h4a:!1;};b.prototype.Wqb=function(a){var b,f;if(void 0===a.B0||void 0===a.gka){b=this.km.Tea().filter(function(b){return void 0!==b.dc[a.sa];})[0];f=b.children.filter(function(b){return b.me.some(function(b){return b.stream.id===a.sa;});})[0];a.B0=b.id;a.gka=f.id;}return{Zga:a.location===a.B0,Xqb:a.qc===a.gka};};b.prototype.B1=function(a,b,f){void 0!==b&&void 0!==f&&(this.hQa(a.M,b),a.B1(b,f));};b.prototype.hQa=function(a,b){var f,c;c=this.config.Uia;("location"===c||"video_location"===c&&1===a)&&this.ub.bQ(b);null===(f=this.gN)||void 0===f?void 0:f.call(this).hwb(a,b);};b.prototype.zg=function(a,b,f,c,h){g.assert(this.Xk,"Stream failure reporting can not be used on prefetch viewables.");return this.Xk(a,b,f,c,h);};b.prototype.rp=function(){var a,b,f;a=this;b=[];if(this.hq)return this.console.error("updateRequestUrls, closed Viewable:",this.oa),!1;t.Ke.forEach(function(f){a.ib(f)&&a.nHb(f)&&(f=a.$Gb(f),0<f.length&&b.push.apply(b,f));});f=this.WGb();0<f.length&&b.push.apply(b,f);return this.fBb(b);};b.prototype.nHb=function(a){var b,f,h,t,n;if(this.hq)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1;if(!this.ib(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1;h=!0;try{for(var k=c.__values(this.ih),p=k.next();!p.done;p=k.next()){t=p.value.Ge(a);n=this.km.UQ(this.oa,t.track.Lc);n||t.ab("location selector failed to update streamList");h=h&&n;}}catch(da){b={error:da};}finally{try{p&&!p.done&&(f=k["return"])&&f.call(k);}finally{if(b)throw b.error;}}return h;};b.prototype.WGb=function(){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.rp();};b.prototype.$Gb=function(a){var b,f,h,t;h=[];if(this.hq)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),h;if(!this.ib(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),h;try{for(var k=c.__values(this.ih),p=k.next();!p.done;p=k.next()){t=p.value.rp(a);t.length&&h.push.apply(h,t);}}catch(qa){b={error:qa};}finally{try{p&&!p.done&&(f=k["return"])&&f.call(k);}finally{if(b)throw b.error;}}return h;};b.prototype.fBb=function(a){var b,f,c;b=this;if(0===a.length)return!0;f=0;c=[];a.forEach(function(a){var h;if(a.bc){h=a.R;h.Xa>b.Xa&&(c.push({R:h,track:a.stream.track}),++f);}});c.forEach(function(a){var b;b=a.track;a.R.QH([0===b.M?b:void 0,1===b.M?b:void 0],void 0,b.M);});return f===a.length;};b.prototype.wk=function(){var a;a=this;this.km.wk();this.Hh&&this.Hh.wk();this.gQ&&(g.assert(this.Zp),t.Ke.forEach(function(b){b=a.Zp(b);a.gQ.Ela("rebuffer",b.sha);}));};b.prototype.QO=function(){this.Hh&&this.Hh.QO();};b.prototype.sna=function(a,b){g.assert(this.Qe,"Headers not available from prefetch viewables.");this.Qe.sna(a,b);};b.prototype.TY=function(){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.TY();};b.prototype.jba=function(){g.assert(this.Qe,"Headers not available from prefetch viewables.");this.Qe.jba();};b.prototype.z1=function(a){g.assert(this.Qe,"Headers not available from prefetch viewables.");this.Qe.z1(a);};b.prototype.Ri=function(a,b){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.Ri(a,b);};b.prototype.Wha=function(){g.assert(this.Qe,"Headers not available from prefetch viewables.");this.Qe.Wha();};b.prototype.eEa=function(a,b,f){g.assert(this.Qe,"Headers not available from prefetch viewables.");this.Qe.k2(a,b,f,!0);};b.prototype.GV=function(a,b,f){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.GV(a,b,!!f);};b.prototype.UC=function(a){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.UC(a);};b.prototype.F$=function(a,b){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.F$(a,b);};b.prototype.dla=function(a){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.dla(a);};b.prototype.QH=function(a,b,f){g.assert(this.Qe,"Headers not available from prefetch viewables.");return this.Qe.QH(a,b,f);};b.prototype.nob=function(a){var b,f,c,h;b=a.sa;f=a.M;this.aUa(f,a.stream.Z);b=this.Rr(f,b);c=this.Mu()?this.config.OLa:0;h=z.lk()[f];1===f&&0<this.config.ds&&(h=Math.min(h,this.config.ds));b.UTa(h,c);this.Qx.emit("onHeaderFragments",a);};b.prototype.VPa=function(a){this.ih.push(a);};b.prototype.PTa=function(a){a=this.ih.indexOf(a);g.assert(-1!==a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ih.splice(a,1);};b.prototype.b0=function(){var a;null===(a=this.tC)||void 0===a?void 0:a.bF();};b.prototype.ov=function(a){this.hq?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0!==a.location&&this.hQa(a.M,a.location);};b.prototype.ZO=function(a){g.assert(this.Hh,"Requests cannot be handled on prefetch viewables.");this.hq?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Hh.o2({timestamp:a.$c,url:a.url});};b.prototype.Vi=function(a){var b;null===(b=this.tC)||void 0===b?void 0:b.Q0();g.assert(this.Hh&&this.Ro&&this.nH,"Requests cannot be handled on prefetch viewables.");this.hq?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):(this.Ro()&&this.Hh.HP(!0),this.Hh.o2({timestamp:a.$c,mediaRequest:a}),this.nH(a));};b.prototype.WO=function(a,b,f){var c;f&&(null===(c=this.tC)||void 0===c?void 0:c.Q0());};b.prototype.XO=function(a){var b;g.assert(this.Hh&&this.Xk,"Requests cannot be handled on prefetch viewables.");if(this.hq)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else{b=a.qh;this.config.hob&&b===f.Tj.oD.K4&&0<a.Ce&&(b=f.Tj.oD.p3);this.Hh.fp({url:a.url},a.status,b,a.Ui);this.rp()||this.zg(a.bG||"unknown","NFErr_MC_StreamingFailure",a.qh,a.status,a.Ui);}};b.prototype.aUa=function(a,b){this.yza[a]=b.iia;};b.prototype.lob=function(a){var b,f,c;g.assert(this.HG&&this.Xk,"Error handling not available on prefetch viewables.");if(!this.Ze){b=a.Dqb;f=a.Awb;c=a.Bwb;a=a.Cwb;this.console.warn("Streaming failure, isBuffering "+this.HG()+" is permanent: "+b+", last error code: "+f+", last http code: "+c+", last native code: "+a);b?(this.console.warn(" > Permanent failure, done"),this.zg("Permanent failure","NFErr_MC_StreamingFailure",f,c,a)):this.HG()?(this.console.warn(" > We are buffering, calling it!"),this.zg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,c,a)):(this.console.warn(" > Resetting failures"),this.Hh.HP());}};b.prototype.kob=function(){g.assert(this.zm&&this.Tr,"Error handling not available on prefetch viewables.");this.Ze||(this.zm(),this.rp(),this.Tr());};return b;}(d.Lq);b.sR=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ke=void 0;b.Ke=[0,1];},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qva=b.zT=b.kY=void 0;c=a(50);l=a(2);b.kY=function(a){return a===c.yc.Ci.AUDIO?l.I.Zsa:l.I.$sa;};b.zT=50;b.Qva=1E3;},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,g,D,J;Object.defineProperty(b,"__esModule",{value:!0});b.Lz=void 0;c=a(0);l=a(67);q=a(12);n=a(77);k=a(5);p=a(61);h=a(16);f=a(358);t=a(15);z=a(708);g=a(13);D=a(2);(function(a){a[a.VS=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.BJ=3]="LOAD_FAILED";}(J||(J={})));d=function(){function a(a,b,f,c,h,t,q,d,l,z,g,G,F,D,m){this.j=a;this.cb=b;this.wB=f;this.ld=c;this.tu=h;this.Kca=t;this.bl=q;this.displayName=d;this.Lm=l;this.uP=z;this.profile=g;this.nq=G;this.$ia=F;this.Njb=D;this.IZ=m;this.type=n.Dg.d2;this.Hq=void 0;this.Kn=!(!g||g!=p.Ok.GD&&g!=p.Ok.QS);this.Tg={bcp47:q,trackId:b,downloadableId:c,isImageBased:this.Kn};this.log=k.Qg(a,"TimedTextTrack");this.state=J.VS;this.request=this.request.bind(this);}a.prototype.getEntries=function(){var a;a=this;if(this.j.state.value===g.nb.CLOSED||this.j.state.value===g.nb.CLOSING)return Promise.reject({da:!1});if(this.Kn)return this.Qpb();this.mFa||(this.mFa=this.lFa());return this.mFa.then(function(b){return a.Mwb(b);});};a.prototype.Yc=function(){return this.state;};a.prototype.JZ=function(){return this.$ia;};a.prototype.EZ=function(){return this.Njb;};a.prototype.Lx=function(a,b){var f;f=[];try{this.Kn?f=this.cg&&this.cg.Lx(a,b)||[]:this.entries&&(f=this.entries.filter(function(f){var c;c=S([f.startTime,f.endTime]);f=c.next().value;c=c.next().value;return f>=a&&f<=b||f<=a&&a<=c;}));}catch(R){this.log.error("error in getSubtitles",R,{start:a,end:b,isImageBased:this.Kn});}return f;};a.prototype.tnb=function(){var b;if(!t.Xb(this.T))try{this.T=this.Kn?(b=this.Lx(0,a.t_a)[0])&&b.displayTime:(b=this.entries&&this.entries[0])&&b.startTime;}catch(H){this.log.error("exception in getStartPts",H);}return this.T;};a.prototype.C1=function(a){return this.j.state.value===g.nb.CLOSING||this.j.state.value===g.nb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.tc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};a.prototype.Qpb=function(){var a,b,f,c,h,p,n,d,l;a=this;if(!this.MJa){this.state=J.LOADING;b={G$a:!1,profile:this.profile,y_:this.nq.offset,Fia:this.nq.length,Rc:this.j.$b.value||0,bufferSize:q.config.rpb,uVb:{Va:this.j.eY()}};f=k.Qg(this.j,"TimedTextTrack");f.warn=f.trace.bind(f);f.info=f.debug.bind(f);c=z.kEa(this.j,f,this.request);h=(this.Kca||[]).filter(function(b){return b.id in a.tu;}).sort(function(a,b){return a.Sf-b.Sf;}).map(function(a){return a.id;});p=0;n={};d=!0;l=function(f,z){var g;if(t.Xb(f))if(d||a.C1(a.Pr(a.Sp,"","image"))){d=!1;a.nq.url=a.tu[a.Sp];b.url=a.nq.url;n[f]=(n[f]||0)+1;g=new k.Uwa(c,b);g.on("ready",function(){a.cg=g;z({da:!0,track:a});});g.on("error",function(b){var c;b=Object.assign({da:!1},b);c=a.Pr(a.Sp,a.nq.url,"image");c.details={midxoffset:a.nq.offset,midxsize:a.nq.length};c.errorstring=b.errorString;n[f]<=q.config.dTa?(a.GX(c,!0,"retry with current cdn"),a.xaa(n[f]).then(function(b){a.log.trace("retry timed text download after "+b,a.Pr(a.Sp,"","image"));l(a.Sp,z);})):(a.Sp=h[p++],a.Sp?(a.GX(c,!0,"retry with next cdn"),a.xaa(n[f]).then(function(b){a.log.trace("retry timed text download after "+b,a.Pr(a.Sp,"","image"));l(a.Sp,z);})):(a.GX(c,!1,"all cdns tried"),z({da:!1,Mub:"all cdns failed for image subs",track:a})));});g.start();}else z({da:!1,or:!0});else z({da:!1,Mub:"cdnId is not defined for image subs downloadUrl"}),a.GX(a.Pr(0,"","image"),!1,"cdnId is undefined");};this.Sp=h[p++];this.MJa=new Promise(function(b,f){l(a.Sp,function(c){c.da?(a.log.info("Loaded image subtitle manager"),a.state=J.LOADED,b(c)):(a.log.error("Unable to load image subtitles manager",c),a.state=J.BJ,f(c));});});}return this.MJa;};a.prototype.GX=function(a,b,f){a=Object.assign({},a,{tWb:b,status:f});this.j.fireEvent(g.U.sI,a);this.log.warn("subtitleerror event",a);};a.prototype.request=function(a,b){var f;f=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,Hq:this.Hq,responseType:l.FN,headers:{},gc:this.xea(this.Sp)};this.j.fZ.download(a,function(a){f.log.trace("imgsub: request status "+a.da);a.da?b(null,new Uint8Array(a.content)):b({ga:a.ga,re:a.re});});};a.prototype.Pr=function(a,b,f){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.ld,subtitletype:f,bcp47:this.bl,trackId:this.cb,cdnCount:Object.keys(this.tu).length,isImageBased:this.Kn};};a.prototype.xea=function(a){return(this.Kca||[]).find(function(b){return b.id===a;});};a.prototype.lFa=function(){var h,k;function a(a){return c.__awaiter(h,void 0,void 0,function(){var h,p,t,n,q;function c(){for(;;)switch(h){case 0:t=f();p=n.Pr(a.gc.id,a.url,"text");p.errorstring=a.reason;if(!t||!n.C1(p)){h=1;break;}h=-1;return{value:n.xaa(k[t.id]).then(b),done:!0};case 1:return h=-1,{value:Promise.reject({da:!1,or:!0}),done:!0};default:return{value:void 0,done:!0};}}h=0;n=this;q={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};r();q[Symbol.iterator]=function(){return this;};return q;});}function b(){return c.__awaiter(h,void 0,void 0,function(){var c,h,p,t,n;function b(){for(;;)switch(c){case 0:h=(p=f())&&t.tu[p.id];if(!p||!h){c=1;break;}k[p.id]=(k[p.id]||0)+1;c=-1;return{value:t.ahb(h,p)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;t=this;n={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};r();n[Symbol.iterator]=function(){return this;};return n;});}function f(){return(h.Kca||[]).find(function(a){return!!((k[a.id]||0)<q.config.dTa&&h.tu[a.id]);});}h=this;this.state=J.LOADING;k={};return b();};a.prototype.xaa=function(a){return new Promise(function(b){var f;f=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(f);},f);});};a.prototype.Mwb=function(a){var b,c;b=this;c=this.j.KI;h.Wa(c);return f.iOa(a,c.width/c.height,q.config.eTa,q.config.Tma).then(function(a){var f;if(q.config.fTa){f=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:f,endTime:f+=q.config.fTa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Tg);b.state=J.LOADED;return{da:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",D.Ap(a),b.Tg,{url:a.url});b.state=J.BJ;a.reason="parseerror";a.track=b;throw a;});};a.prototype.ahb=function(a,b){var f;f=this;this.log.trace("Downloading",b&&{gc:b.id},this.Pr(b.id,a,"text"));return new Promise(function(c,h){var k;k={responseType:l.ega,url:a,track:f,gc:b,TA:"tt-"+f.bl};f.j.fZ.download(k,function(a){a.da?c(a.content):(a.reason="downloadfailed",a.url=k.url,a.track=f,a.gc=b,h(a));});});};a.t_a=72E7;a.t7=J;return a;}();b.Lz=d;},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.GT=void 0;l=a(10);c.jfa=function(){var a;a=l.Xq&&l.Xq.height;return a?1080<=a?1080:720:720;};b.GT=c;},function(d){d.P=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,d){return a.apply(this,arguments);};case 3:return function(b,d,q){return a.apply(this,arguments);};case 4:return function(b,d,q,n){return a.apply(this,arguments);};case 5:return function(b,d,q,n,k){return a.apply(this,arguments);};case 6:return function(b,d,q,n,k,p){return a.apply(this,arguments);};case 7:return function(b,d,q,n,k,p,h){return a.apply(this,arguments);};case 8:return function(b,d,q,n,k,p,h,f){return a.apply(this,arguments);};case 9:return function(b,d,q,n,k,p,h,f,t){return a.apply(this,arguments);};case 10:return function(b,d,q,n,k,p,h,f,t,z){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,b,a){var q,n,k,p;function c(a,b,c){for(var f=c.next();!f.done;){if((b=a["@@transducer/step"](b,f.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f=c.next();}return a["@@transducer/result"](b);}function l(a,b,c,p){return a["@@transducer/result"](c[p](k(a["@@transducer/step"],a),b));}q=a(940);n=a(938);k=a(937);g();g();r();p="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";d.P=function(a,b,k){"function"===typeof a&&(a=n(a));if(q(k)){for(var f=0,h=k.length;f<h;){if((b=a["@@transducer/step"](b,k[f]))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f+=1;}return a["@@transducer/result"](b);}if("function"===typeof k["fantasy-land/reduce"])return l(a,b,k,"fantasy-land/reduce");if(null!=k[p])return c(a,b,k[p]());if("function"===typeof k.next)return c(a,b,k);if("function"===typeof k.reduce)return l(a,b,k,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.P=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$J=void 0;b.$J="TransportConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;b.wR="BookmarkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l4=b.Xv=void 0;d=b.Xv||(b.Xv={});d.C2a="unknown";d.Tna="absent";d.Dva="present";d.Error="error";b.l4="ExternalDisplayLogHelperSymbol";},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.hw=void 0;c=a(32);d=a(97);l=a(139);q=new d.qw();b.hw=function(){function a(){this.type=c.Tv.zz;}a.Oba=function(){return{isTypeSupported:function(b){var c;try{if(-1==b.toLowerCase().indexOf("codec"))return N.MSMediaKeys.isTypeSupported(b,"video/mp4");c=b.split("|");return 1===c.length?N.MSMediaKeys.isTypeSupported(l.ob.Yq,b):"probably"===a.Dma(c[0],c[1]);}catch(h){return!1;}}};};a.yW=function(b,c,h){c=q.format(a.CI,c);if(0===h.length)return c;h=q.format('features="{0}"',h.join());return q.format("{0}|{1}{2}",b,c,h);};a.Dma=function(a,b){var c;try{c=N.MSMediaKeys.isTypeSupportedWithFeatures?N.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(f){c="exception";}return c;};a.CI='video/mp4;codecs="{0},mp4a";';return a;}();},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.JR=b.s3=void 0;c=a(61);l=a(132);q=a(32);d=a(97);n=a(133);k=a(443);p=new d.qw().format;a=function(){function a(b,c,h,k){var f;f=l.Cl.call(this,b,c,h)||this;f.cast=k;f.type=q.Xj.r3;b=a.t2a;f.fR[q.vd.LT]=n.Bd.mJ+"; "+b;f.fR[q.vd.Us]=n.Bd.Us+"; "+b;b=n.Bd.SWa.find(function(b){return f.eu(p(a.CI,b));});f.fR[q.vd.Ss]=b;return f;}ca(a,l.Cl);a.Oba=function(b,c){return(c=a.xQa(c))?{isTypeSupported:c}:b;};a.xQa=function(a){if("undefined"!==typeof a)return a.framework&&a.framework.platform&&a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType||void 0;};a.prototype.Fs=function(b){var f,c;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().kUa){c={};if(f)return c[q.Xh.Sq]="1.4",c[q.Xh.rz]="2.2",f().then(function(a){return a===c[b];});f=this.CLa(b);f=p(a.CI,n.Bd.mJ)+" hdcp="+f;f=this.eu.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};a.prototype.iG=function(a){return this.fR[a];};a.prototype.pG=function(){var a;a=this;return this.config().kUa?this.Fs(q.Xh.rz).then(function(b){return b?Promise.resolve(q.Xh.rz):a.Fs(q.Xh.Sq).then(function(a){return a?Promise.resolve(q.Xh.Sq):Promise.resolve(void 0);});}).then(function(b){return a.vM(b);}):Promise.resolve(void 0);};a.prototype.NA=function(){var b,h;b=l.Cl.prototype.NA.call(this);h=a.iJa;b[c.V.hS]=["avc1.4D4028","width=1920; height=1080; "];b[c.V.t4]=["hev1.2.6.L90.B0",h];b[c.V.u4]=["hev1.2.6.L93.B0",h];b[c.V.v4]=["hev1.2.6.L120.B0",h];b[c.V.w4]=["hev1.2.6.L123.B0",h];b[c.V.x4]=["hev1.2.6.L150.B0","width=3840; height=2160; "+h];b[c.V.y4]=["hev1.2.6.L153.B0","width=3840; height=2160; "+h];b[c.V.oJ]=["hev1.2.6.L90.B0",h];b[c.V.pJ]=["hev1.2.6.L93.B0",h];b[c.V.tD]=["hev1.2.6.L120.B0",h];b[c.V.qJ]=["hev1.2.6.L123.B0",h];b[c.V.jS]=["hev1.2.6.L150.B0","width=3840; height=2160; "+h];b[c.V.kS]=["hev1.2.6.L153.B0","width=3840; height=2160; "+h];b[c.V.E4]="hev1.1.6.L90.B0";b[c.V.F4]="hev1.1.6.L93.B0";b[c.V.G4]="hev1.1.6.L120.B0";b[c.V.H4]="hev1.1.6.L123.B0";b[c.V.I4]=["hev1.1.6.L150.B0","width=3840; height=2160; "];b[c.V.J4]=["hev1.1.6.L153.B0","width=3840; height=2160; "];b[c.V.A4]="hev1.2.6.L90.B0";b[c.V.B4]="hev1.2.6.L93.B0";b[c.V.C4]="hev1.2.6.L120.B0";b[c.V.D4]="hev1.2.6.L123.B0";b[c.V.uD]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.V.vD]=["hev1.2.6.L153.B0","width=3840; height=2160; "];b[c.V.pS]="hev1.2.6.L90.B0";b[c.V.rS]="hev1.2.6.L93.B0";b[c.V.tS]="hev1.2.6.L120.B0";b[c.V.vS]="hev1.2.6.L123.B0";b[c.V.wS]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.V.xS]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return b;};a.prototype.mHa=function(){return[k.eh.lR,k.eh.lJ,k.eh.sD];};a.prototype.Cga=function(){l.Cl.prototype.Cga.call(this);!a.xQa(this.cast)&&this.ul.push(k.eh.Us);};a.iJa="eotf=smpte2084";a.SSb="video/mp4;codecs={0}; "+a.iJa;a.t2a="width=3840; height=2160; ";return a;}();b.s3=a;b.JR="CastSDKSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N6=b.b5=void 0;b.b5="IsTypeSupportedProviderFactorySymbol";b.N6="PlatformIsTypeSupportedSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.IT=b.M7=void 0;b.M7="ThroughputTrackerSymbol";b.IT="ThroughputTrackerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gT=void 0;b.gT="PboPlaydataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CT=void 0;b.CT="SegmentManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KS=void 0;b.KS="MomentObserverFactory";},function(d,b,a){var l,q,n;function c(a,b,c,f){this.qa=a;this.bu=b;this.yl=c;this.Wl=void 0===f?"General":f;this.sba={};}Object.defineProperty(b,"__esModule",{value:!0});b.zD=void 0;l=a(8);q=a(456);n=a(1002);c.prototype.L$=function(a,b){this.sba[a]=b;};c.prototype.fatal=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Xw(l.Yh.FYa,a,n.FA(this.bu,this.jG(c)));};c.prototype.error=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Xw(l.Yh.ERROR,a,n.FA(this.bu,this.jG(c)));};c.prototype.warn=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Xw(l.Yh.d8,a,n.FA(this.bu,this.jG(c)));};c.prototype.info=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Xw(l.Yh.T4,a,n.FA(this.bu,this.jG(c)));};c.prototype.trace=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Xw(l.Yh.cxa,a,n.FA(this.bu,this.jG(c)));};c.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};c.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};c.prototype.write=function(a,b,c){for(var f=[],h=2;h<arguments.length;++h)f[h-2]=arguments[h];this.Xw(a,b,n.FA(this.bu,this.jG(f)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return{category:this.Wl};};c.prototype.Tba=function(a){return new c(this.qa,this.bu,this.yl,a);};c.prototype.Xw=function(a,b,c){a=new q.q5(a,this.Wl,this.qa.Zb(),b,c);b=S(this.yl.yl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.jG=function(a){return 0<Object.keys(this.sba).length?[].concat([this.sba],fa(a)):a;};b.zD=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i4=b.ww=void 0;b.ww="_ANY_";b.i4="EnricherSymbol";},function(d){var h,f,t,z,g,D;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(h===setTimeout)return setTimeout(a,0);if((h===b||!h)&&setTimeout)return h=setTimeout,setTimeout(a,0);try{return h(a,0);}catch(F){try{return h.call(null,a,0);}catch(L){return h.call(this,a,0);}}}function l(b){if(f===clearTimeout)clearTimeout(b);else if(f!==a&&f||!clearTimeout)try{f(b);}catch(F){try{f.call(null,b);}catch(L){f.call(this,b);}}else f=clearTimeout,clearTimeout(b);}function q(){z&&g&&(z=!1,g.length?t=g.concat(t):D=-1,t.length&&n());}function n(){var a;if(!z){a=c(q);z=!0;for(var b=t.length;b;){g=t;for(t=[];++D<b;)g&&g[D].UH();D=-1;b=t.length;}g=null;z=!1;l(a);}}function k(a,b){this.ekb=a;this.rn=b;}function p(){}d=d.P={};try{h="function"===typeof setTimeout?setTimeout:b;}catch(J){h=b;}try{f="function"===typeof clearTimeout?clearTimeout:a;}catch(J){f=a;}t=[];z=!1;D=-1;d.QMa=function(a){var b;b=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)b[f-1]=arguments[f];t.push(new k(a,b));1!==t.length||z||c(n);};k.prototype.UH=function(){this.ekb.apply(null,this.rn);};d.title="browser";d.PQb=!0;d.tib={};d.yQb=[];d.version="";d.kWb={};d.on=p;d.addListener=p;d.once=p;d.rH=p;d.removeListener=p;d.removeAllListeners=p;d.emit=p;d.XOa=p;d.Fyb=p;d.listeners=function(){return[];};d.KQb=function(){throw Error("process.binding is not supported");};d.tRb=function(){return"/";};d.hRb=function(){throw Error("process.chdir is not supported");};d.aWb=function(){return 0;};},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;c=a(0);l=a(1);q={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d=function(){var b;function a(){}a.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),f=0;f<b.length;f++)b[f]=this.mTa(a.substr(2*f,2));return b;};a.prototype.encode=function(a){for(var b="",f=a.length,c=0;c<f;c++)var k=a[c],b=b+("0123456789ABCDEF"[k>>>4]+"0123456789ABCDEF"[k&15]);return b;};a.prototype.dN=function(a,b){var f;f="";for(b<<=1;b--;)f=("0123456789ABCDEF"[a&15]||"0")+f,a>>>=4;return f;};a.prototype.mTa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var f=0,c=0;c<b;c++)f=16*f+q[a[c]];return f;};b=a;return b=c.__decorate([l.N()],b);}();b.uR=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,g;Object.defineProperty(b,"__esModule",{value:!0});b.$q=void 0;c=a(0);l=a(1);q=a(54);n=a(2);k=a(29);p=a(23);h=a(88);f=a(26);t=a(44);z=a(53);g=a(98);d=function(){var b,d;function a(a,b,f,c,h,k){this.JO=a;this.is=b;this.mc=f;this.ed=c;this.Ee=h;this.xh=k;q.om(this,"nav");}a.prototype.Kx=function(){if(this.Za)return this.Za.sessionId;};a.prototype.ZAb=function(a,b){return this.JO.requestMediaKeySystemAccess(a,b);};a.prototype.Xeb=function(a){return a.createMediaKeys();};a.prototype.yn=function(a,b){this.Za=a.createSession(b);};a.prototype.Oqb=function(){return!!this.Za;};a.prototype.tDb=function(a,b){return this.is.CV(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};a.prototype.lea=function(a,b){return this.Za?this.Za.generateRequest(a,b[0]):Promise.reject(new h.Kf(n.J.qqa,n.I.jJ,void 0,"Unable to generate a license request, key session is not valid"));};a.prototype.update=function(a){return this.Za?this.Za.update(a[0]):Promise.reject(new h.Kf(n.J.XR,n.I.jJ,void 0,"Unable to update the EME with a response, key session is not valid"));};a.prototype.load=function(a){return this.Za?this.Za.load(a):Promise.reject(new h.Kf(n.J.tYa,n.I.jJ,void 0,"Unable to load a key session, key session is not valid"));};a.prototype.close=function(){var a;if(!this.Za)return Promise.reject(new h.Kf(n.J.mYa,n.I.jJ,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Kx()&&(a=this.Za.close());this.Za=void 0;return a;};a.prototype.remove=function(){return this.Za?this.Za.remove():Promise.reject(new h.Kf(n.J.uqa,n.I.jJ,void 0,"Unable to remove a key session, key session is not valid"));};a.prototype.CP=function(){return Promise.reject(new h.Kf(n.J.WR,void 0,"Unable to renew a key session, not supported"));};a.prototype.W8a=function(a){if(!this.Za)throw ReferenceError("Unable to add message handler, key session is not valid");this.Za.addEventListener(b.zqa,a);};a.prototype.Q8a=function(a){if(!this.Za)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Za.addEventListener(b.yqa,a);};a.prototype.K8a=function(a){if(!this.Za)throw ReferenceError("Unable to add error handler, key session is not valid");this.Za.addEventListener(b.xqa,a);};a.prototype.DAb=function(a){if(!this.Za)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Za.removeEventListener(b.zqa,a);};a.prototype.AAb=function(a){if(!this.Za)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Za.removeEventListener(b.yqa,a);};a.prototype.yAb=function(a){if(!this.Za)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Za.removeEventListener(b.xqa,a);};d=b=a;d.zqa="message";d.yqa="keystatuseschange";d.xqa="error";return d=b=c.__decorate([l.N(),c.__param(0,l.l(k.dt)),c.__param(1,l.l(p.Je)),c.__param(2,l.l(t.cj)),c.__param(3,l.l(f.tf)),c.__param(4,l.l(z.Dl)),c.__param(5,l.l(g.uw))],d);}();b.$q=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kqa=b.gw=b.Tq=void 0;b.Tq='video/mp4; codecs="avc1.640028"';b.gw='audio/mp4; codecs="mp4a.40.5"';b.kqa="DrmTraitsSymbol";},function(d,b,a){var c,l,q,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(19);l=a(481);q=a(173);n=a(255);a=function(a){function b(b,f){a.call(this);this.rn=b;(this.ta=f)||1!==b.length||(this.zt=!0,this.value=b[0]);}c(b,a);b.create=function(a,f){return new b(a,f);};b.of=function(){var c;for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];f=a[a.length-1];n.LZ(f)?a.pop():f=null;c=a.length;return 1<c?new b(a,f):1===c?new l.qwa(a[0],f):new q.YR(f);};b.oc=function(a){var b,c,h;b=a.rn;c=a.index;h=a.aj;c>=a.count?h.complete():(h.next(b[c]),h.closed||(a.index=c+1,this.Kc(a)));};b.prototype.Ol=function(a){var f,c,h;f=this.rn;c=f.length;h=this.ta;if(h)return h.Kc(b.oc,0,{rn:f,index:0,count:c,aj:a});for(h=0;h<c&&!a.closed;h++)a.next(f[h]);a.complete();};return b;}(d.mb);b.S2=a;},function(d,b){b.LZ=function(a){return a&&"function"===typeof a.Kc;};},function(d,b,a){function c(a){var b,k;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){k=b[c];if("entries"!==k&&"size"!==k&&a.prototype[k]===a.prototype.entries)return k;}return"@@iterator";}d=a(85);b.MVb=c;b.iterator=c(d.root);b.PIb=b.iterator;},function(d,b,a){function c(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(85);b.LSb=c;b.observable=c(d.root);b.QIb=b.observable;},function(d,b,a){d=a(85).root.Symbol;b.vC="function"===typeof d&&"function"===typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";b.RIb=b.vC;},function(d,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.IR=void 0;b.IR="CannedChallengeProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.HR=void 0;b.HR="CachedDrmDataSymbol";},function(d,b,a){var l,q;function c(a){a?(this.active=!1,this.iea(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.gqa=b.UR=void 0;l=a(0);q=a(1);c.prototype.iea=function(a){this.pc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Zx:a.licenseContextId,PG:a.licenseId};}):[];this.ha=a.xid;this.u=a.movieId;};c.prototype.Ks=function(){return JSON.parse(JSON.stringify({keySessionData:this.pc?this.pc.map(function(a){return{id:a.id,licenseContextId:a.Zx,licenseId:a.PG};}):[],xid:this.ha,movieId:this.u}));};b.UR=c;d=function(){var b;function a(){}a.prototype.create=function(){return new c();};a.prototype.load=function(a){return new c(a);};b=a;return b=l.__decorate([q.N()],b);}();b.gqa=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,g;Object.defineProperty(b,"__esModule",{value:!0});b.QF=b.eme=void 0;d=a(1);c=a(118);l=a(499);q=a(262);n=a(261);k=a(1117);p=a(1116);h=a(100);f=a(137);t=a(1115);z=a(260);g=a(1114);b.eme=new d.Cc(function(a){a(l.U3).to(q.gqa).$();a(n.HR).to(k.apa).$();a(c.iJ).KQ(p.kPa);a(h.Ys).Qy(function(a){b.QF.parent=a.kb;return b.QF.get(h.Ys);});a(f.DD).nf(function(){return function(){return new t.uta();};});a(z.IR).to(g.cpa).$;});b.QF=new d.MR({EC:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iT=void 0;b.iT="PlatformEmeSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(266);a(504);d=function(){function a(a){this.Nb=a;}a.prototype.when=function(a){this.Nb.KA=a;return new c.vR(this.Nb);};a.prototype.gR=function(){this.Nb.KA=function(a){return null!==a.target&&!a.target.Mga()&&!a.target.Tga();};return new c.vR(this.Nb);};return a;}();b.g3=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(265);d=function(){function a(a){this.Nb=a;}a.prototype.ms=function(a){this.Nb.ms=a;return new c.g3(this.Nb);};return a;}();b.vR=d;},function(d,b,a){var q,n,k,p,h,f,t,z,G;function c(a){var b;b=[];t(a,z,function(a,f,c,h){b[b.length]=c?t(h,G,"$1"):f||a;});return b;}function l(){throw new q();}q=TypeError;n=Object.getOwnPropertyDescriptor;if(n)try{n({},"");}catch(D){n=null;}b=n?function(){try{return arguments.callee,l;}catch(D){try{return n(arguments,"callee").get;}catch(J){return l;}}}():l;k=a(1150)();p=Object.getPrototypeOf||function(a){return a.__proto__;};h="undefined"===typeof Uint8Array?void 0:p(Uint8Array);g();r();g();g();g();r();g();r();g();r();g();r();g();g();f={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":k?p([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&k?p(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&k?p(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":k?p(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":k?Symbol:void 0,"%SymbolPrototype%":k?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":b,"%TypedArray%":h,"%TypedArrayPrototype%":h?h.prototype:void 0,"%TypeError%":q,"%TypeErrorPrototype%":q.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};t=a(268).call(Function.call,String.prototype.replace);z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;G=/\\(\\)?/g;d.P=function(a,b){var h,k,t;if("string"!==typeof a||0===a.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!==typeof b)throw new TypeError('"allowMissing" argument must be a boolean');h=c(a);k="%"+(0<h.length?h[0]:"")+"%";if(!(k in f))throw new SyntaxError("intrinsic "+k+" does not exist!");if("undefined"===typeof f[k]&&!b)throw new q("intrinsic "+k+" exists, but is not available. Please file an issue!");k=f[k];for(var p=1;p<h.length;p+=1)if(null!=k)if(n&&p+1>=h.length){t=n(k,h[p]);if(!(b||h[p]in k))throw new q("base intrinsic for "+a+" exists, but the property is not available.");k=t?t.get||t.value:k[h[p]];}else k=k[h[p]];return k;};},function(d,b,a){b=a(1153);d.P=Function.prototype.bind||b;},function(d,b,a){var n;function c(a,b,c,f,t,n,d){this.ZQ=f;this.XUa=a;this.TMa=b;this.Kia=c;this.$qb=n;this.Cy=d;this.split=t;}function l(){this.H={};this.H["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new c("7","8","7","10","1.5",0,0);this.H["7"]=new c("15","16","15","9","4.5",0,0);this.H["15"]=new c("31","32","31","2","5.5",0,0);this.H["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new c("123","124","123","0","0",1,.207298);this.H["124"]=new c("123","124","123","0","0",1,.49076);this.H["64"]=new c("125","126","125","4","40.5",0,0);this.H["125"]=new c("125","126","125","0","0",1,-.00157835);this.H["126"]=new c("125","126","125","0","0",1,.934205);this.H["32"]=new c("65","66","65","135","5.5",0,0);this.H["65"]=new c("127","128","128","4","1272.5",0,0);this.H["127"]=new c("127","128","128","0","0",1,-.510333);this.H["128"]=new c("127","128","128","0","0",1,.18363);this.H["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new c("129","130","129","0","0",1,-.0464542);this.H["130"]=new c("129","130","129","0","0",1,.458833);this.H["16"]=new c("33","34","34","10","2.00001",0,0);this.H["33"]=new c("67","68","67","0","29.5",0,0);this.H["67"]=new c("131","132","131","2","39.5",0,0);this.H["131"]=new c("131","132","131","0","0",1,-.37577);this.H["132"]=new c("131","132","131","0","0",1,.512087);this.H["68"]=new c("133","134","134","140","1.5",0,0);this.H["133"]=new c("133","134","134","0","0",1,.321272);this.H["134"]=new c("133","134","134","0","0",1,-.675396);this.H["34"]=new c("69","70","70","2","24.5",0,0);this.H["69"]=new c("135","136","136","9","28.5",0,0);this.H["135"]=new c("135","136","136","0","0",1,-.0573845);this.H["136"]=new c("135","136","136","0","0",1,-.507455);this.H["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new c("137","138","137","0","0",1,-.503909);this.H["138"]=new c("137","138","137","0","0",1,.450886);this.H["8"]=new c("17","18","17","4","44189.5",0,0);this.H["17"]=new c("35","36","35","2","21.5",0,0);this.H["35"]=new c("71","72","72","0","19.5",0,0);this.H["71"]=new c("139","140","140","9","2.5",0,0);this.H["139"]=new c("139","140","140","0","0",1,.00403497);this.H["140"]=new c("139","140","140","0","0",1,-.312656);this.H["72"]=new c("141","142","141","135","96",0,0);this.H["141"]=new c("141","142","141","0","0",1,-.465786);this.H["142"]=new c("141","142","141","0","0",1,.159633);this.H["36"]=new c("73","74","73","130","89.5",0,0);this.H["73"]=new c("143","144","144","10","4.5",0,0);this.H["143"]=new c("143","144","144","0","0",1,-.76265);this.H["144"]=new c("143","144","144","0","0",1,-.580804);this.H["74"]=new c("145","146","146","10","16.5",0,0);this.H["145"]=new c("145","146","146","0","0",1,.296357);this.H["146"]=new c("145","146","146","0","0",1,-.691659);this.H["18"]=new c("37","38","38","9","1.5",0,0);this.H["37"]=new c("37","38","38","0","0",1,.993951);this.H["38"]=new c("75","76","75","0","19",0,0);this.H["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new c("147","148","147","0","0",1,-.346535);this.H["148"]=new c("147","148","147","0","0",1,-.995745);this.H["76"]=new c("147","148","147","0","0",1,-.99978);this.H["4"]=new c("9","10","9","5","4.5",0,0);this.H["9"]=new c("19","20","19","2","4.5",0,0);this.H["19"]=new c("39","40","39","140","7.5",0,0);this.H["39"]=new c("77","78","78","134","6.5",0,0);this.H["77"]=new c("149","150","150","7","11.5",0,0);this.H["149"]=new c("149","150","150","0","0",1,.729843);this.H["150"]=new c("149","150","150","0","0",1,.383857);this.H["78"]=new c("151","152","151","133","4.5",0,0);this.H["151"]=new c("151","152","151","0","0",1,.39017);this.H["152"]=new c("151","152","151","0","0",1,.0434342);this.H["40"]=new c("79","80","79","133","3.5",0,0);this.H["79"]=new c("153","154","154","8","4.5",0,0);this.H["153"]=new c("153","154","154","0","0",1,-.99536);this.H["154"]=new c("153","154","154","0","0",1,-.00943396);this.H["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new c("155","156","155","0","0",1,.266272);this.H["156"]=new c("155","156","155","0","0",1,.959904);this.H["20"]=new c("41","42","42","10","65.5",0,0);this.H["41"]=new c("81","82","82","7","10.5",0,0);this.H["81"]=new c("157","158","158","2","37.5",0,0);this.H["157"]=new c("157","158","158","0","0",1,-.701873);this.H["158"]=new c("157","158","158","0","0",1,.224649);this.H["82"]=new c("159","160","159","133","9.5",0,0);this.H["159"]=new c("159","160","159","0","0",1,.0955181);this.H["160"]=new c("159","160","159","0","0",1,-.58962);this.H["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new c("161","162","161","135","31",0,0);this.H["161"]=new c("161","162","161","0","0",1,-.229692);this.H["162"]=new c("161","162","161","0","0",1,.88595);this.H["84"]=new c("163","164","164","1","13.5",0,0);this.H["163"]=new c("163","164","164","0","0",1,-.992157);this.H["164"]=new c("163","164","164","0","0",1,.922159);this.H["10"]=new c("21","22","22","4","486",0,0);this.H["21"]=new c("43","44","44","133","4.5",0,0);this.H["43"]=new c("85","86","86","10","4.5",0,0);this.H["85"]=new c("165","166","166","4","158.5",0,0);this.H["165"]=new c("165","166","166","0","0",1,-.127778);this.H["166"]=new c("165","166","166","0","0",1,.955189);this.H["86"]=new c("165","166","166","0","0",1,-.994012);this.H["44"]=new c("87","88","88","1","3.5",0,0);this.H["87"]=new c("167","168","168","135","7",0,0);this.H["167"]=new c("167","168","168","0","0",1,-.997015);this.H["168"]=new c("167","168","168","0","0",1,.400821);this.H["88"]=new c("169","170","169","130","36",0,0);this.H["169"]=new c("169","170","169","0","0",1,-.898638);this.H["170"]=new c("169","170","169","0","0",1,.56129);this.H["22"]=new c("45","46","45","9","2.5",0,0);this.H["45"]=new c("89","90","90","9","1.5",0,0);this.H["89"]=new c("171","172","171","10","10.5",0,0);this.H["171"]=new c("171","172","171","0","0",1,.573986);this.H["172"]=new c("171","172","171","0","0",1,-.627266);this.H["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new c("173","174","173","0","0",1,.925273);this.H["174"]=new c("173","174","173","0","0",1,-.994805);this.H["46"]=new c("91","92","91","136","5.5",0,0);this.H["91"]=new c("175","176","175","10","10.5",0,0);this.H["175"]=new c("175","176","175","0","0",1,.548352);this.H["176"]=new c("175","176","175","0","0",1,-.879195);this.H["92"]=new c("177","178","178","8","14.5",0,0);this.H["177"]=new c("177","178","178","0","0",1,.457305);this.H["178"]=new c("177","178","178","0","0",1,-.998992);this.H["2"]=new c("5","6","5","10","2.5",0,0);this.H["5"]=new c("11","12","11","9","4.5",0,0);this.H["11"]=new c("23","24","24","10","4.00001",0,0);this.H["23"]=new c("47","48","48","133","5.5",0,0);this.H["47"]=new c("93","94","93","3","13.5",0,0);this.H["93"]=new c("179","180","179","138","15.5",0,0);this.H["179"]=new c("179","180","179","0","0",1,.658398);this.H["180"]=new c("179","180","179","0","0",1,-.927007);this.H["94"]=new c("181","182","182","3","15.5",0,0);this.H["181"]=new c("181","182","182","0","0",1,-.111351);this.H["182"]=new c("181","182","182","0","0",1,-.99827);this.H["48"]=new c("95","96","95","7","167",0,0);this.H["95"]=new c("183","184","183","132","36.5",0,0);this.H["183"]=new c("183","184","183","0","0",1,.895161);this.H["184"]=new c("183","184","183","0","0",1,-.765217);this.H["96"]=new c("185","186","186","137","6.00001",0,0);this.H["185"]=new c("185","186","186","0","0",1,-.851095);this.H["186"]=new c("185","186","186","0","0",1,.674286);this.H["24"]=new c("49","50","49","137","5.5",0,0);this.H["49"]=new c("97","98","97","5","23.5",0,0);this.H["97"]=new c("187","188","187","3","28.5",0,0);this.H["187"]=new c("187","188","187","0","0",1,.951654);this.H["188"]=new c("187","188","187","0","0",1,-.993808);this.H["98"]=new c("187","188","187","0","0",1,-.99705);this.H["50"]=new c("187","188","187","0","0",1,-.997525);this.H["12"]=new c("25","26","25","8","8.5",0,0);this.H["25"]=new c("51","52","52","10","4.00001",0,0);this.H["51"]=new c("99","100","100","133","5.5",0,0);this.H["99"]=new c("189","190","190","7","40.5",0,0);this.H["189"]=new c("189","190","190","0","0",1,.151839);this.H["190"]=new c("189","190","190","0","0",1,-.855517);this.H["100"]=new c("191","192","192","133","14.5",0,0);this.H["191"]=new c("191","192","192","0","0",1,.86223);this.H["192"]=new c("191","192","192","0","0",1,.544394);this.H["52"]=new c("101","102","101","135","47.5",0,0);this.H["101"]=new c("193","194","194","4","24.5",0,0);this.H["193"]=new c("193","194","194","0","0",1,.946185);this.H["194"]=new c("193","194","194","0","0",1,.811859);this.H["102"]=new c("193","194","194","0","0",1,-.991561);this.H["26"]=new c("53","54","54","132","6.5",0,0);this.H["53"]=new c("103","104","103","131","85",0,0);this.H["103"]=new c("195","196","196","134","16.5",0,0);this.H["195"]=new c("195","196","196","0","0",1,.0473538);this.H["196"]=new c("195","196","196","0","0",1,-.999401);this.H["104"]=new c("197","198","198","8","15.5",0,0);this.H["197"]=new c("197","198","198","0","0",1,.816129);this.H["198"]=new c("197","198","198","0","0",1,-.99322);this.H["54"]=new c("105","106","105","133","3.5",0,0);this.H["105"]=new c("105","106","105","0","0",1,-.998783);this.H["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new c("199","200","199","0","0",1,.528588);this.H["200"]=new c("199","200","199","0","0",1,-.998599);this.H["6"]=new c("13","14","14","10","7.5",0,0);this.H["13"]=new c("27","28","28","133","7.5",0,0);this.H["27"]=new c("55","56","56","10","4.5",0,0);this.H["55"]=new c("107","108","107","3","3.5",0,0);this.H["107"]=new c("201","202","201","4","17.5",0,0);this.H["201"]=new c("201","202","201","0","0",1,-.379512);this.H["202"]=new c("201","202","201","0","0",1,.15165);this.H["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new c("203","204","203","0","0",1,-.884606);this.H["204"]=new c("203","204","203","0","0",1,.265406);this.H["56"]=new c("109","110","109","136","6.5",0,0);this.H["109"]=new c("205","206","205","4","157.5",0,0);this.H["205"]=new c("205","206","205","0","0",1,-.0142737);this.H["206"]=new c("205","206","205","0","0",1,.691279);this.H["110"]=new c("205","206","205","0","0",1,-.998086);this.H["28"]=new c("57","58","58","138","11.5",0,0);this.H["57"]=new c("111","112","112","2","6.5",0,0);this.H["111"]=new c("207","208","208","7","67.5",0,0);this.H["207"]=new c("207","208","208","0","0",1,.763925);this.H["208"]=new c("207","208","208","0","0",1,-.309645);this.H["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new c("209","210","209","0","0",1,-.306635);this.H["210"]=new c("209","210","209","0","0",1,.556696);this.H["58"]=new c("113","114","113","138","50.5",0,0);this.H["113"]=new c("211","212","212","8","25.5",0,0);this.H["211"]=new c("211","212","212","0","0",1,.508234);this.H["212"]=new c("211","212","212","0","0",1,.793551);this.H["114"]=new c("211","212","212","0","0",1,-.998438);this.H["14"]=new c("29","30","29","134","27.5",0,0);this.H["29"]=new c("59","60","60","7","17.5",0,0);this.H["59"]=new c("115","116","115","135","5.5",0,0);this.H["115"]=new c("213","214","214","137","5.5",0,0);this.H["213"]=new c("213","214","214","0","0",1,.401747);this.H["214"]=new c("213","214","214","0","0",1,.0367503);this.H["116"]=new c("215","216","216","8","5.5",0,0);this.H["215"]=new c("215","216","216","0","0",1,-.0241984);this.H["216"]=new c("215","216","216","0","0",1,-.999046);this.H["60"]=new c("117","118","117","0","12.5",0,0);this.H["117"]=new c("217","218","218","132","5.5",0,0);this.H["217"]=new c("217","218","218","0","0",1,-.997294);this.H["218"]=new c("217","218","218","0","0",1,.210398);this.H["118"]=new c("219","220","219","137","1.5",0,0);this.H["219"]=new c("219","220","219","0","0",1,-.55763);this.H["220"]=new c("219","220","219","0","0",1,.074493);this.H["30"]=new c("61","62","62","133","42.5",0,0);this.H["61"]=new c("119","120","119","135","5.5",0,0);this.H["119"]=new c("221","222","222","4","473.5",0,0);this.H["221"]=new c("221","222","222","0","0",1,-.920213);this.H["222"]=new c("221","222","222","0","0",1,-.17615);this.H["120"]=new c("223","224","224","5","144",0,0);this.H["223"]=new c("223","224","224","0","0",1,-.954295);this.H["224"]=new c("223","224","224","0","0",1,-.382538);this.H["62"]=new c("121","122","121","133","50",0,0);this.H["121"]=new c("225","226","226","10","18.5",0,0);this.H["225"]=new c("225","226","226","0","0",1,-.0731343);this.H["226"]=new c("225","226","226","0","0",1,.755454);this.H["122"]=new c("227","228","228","0","30",0,0);this.H["227"]=new c("227","228","228","0","0",1,.25);this.H["228"]=new c("227","228","228","0","0",1,-.997101);}function q(a,b,c,f,t,n){this.f1=t;this.oW=n;}b=a(297);n=a(179);a={};a.p$a=new function(){this.u4a=n();this.o=0;this.update=function(){this.o=n()-this.u4a;};this.getValue=function(){return this.o;};this.type="num";}();a.Qrb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.Ba[a].context||null;};this.type="cat";}();a.Rrb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.Ba[a].context||null;};this.type="cat";}();a.Trb=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.Ba[a].context||null;};this.type="cat";}();a.Urb=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.Ba[a].context||null;};this.type="cat";}();a.Srb=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.Ba[a].context||null;};this.type="cat";}();a.Vrb=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.Ba[a].context||null;};this.type="cat";}();a.Wrb=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.Ba[a].context||null;};this.type="cat";}();a.Xrb=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.Ba[a].context||null;};this.type="cat";}();a.Yrb=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.Ba[a].context||null;};this.type="cat";}();a.Zrb=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.Ba[a].context||null;};this.type="cat";}();a.$rb=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.Ba[a].context||null;};this.type="cat";}();a.bsb=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.Ba[a].context||null;};this.type="cat";}();a.dsb=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.Ba[a].context||null;};this.type="cat";}();a.esb=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.Ba[a].context||null;};this.type="cat";}();a.fsb=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.Ba[a].context||null;};this.type="cat";}();a.csb=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.Ba[a].context||null;};this.type="cat";}();a.$$a=new function(){this.update=function(a){for(var b in a.Ba)if("becauseYouAdded"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.aab=new function(){this.update=function(a){for(var b in a.Ba)if("becauseYouLiked"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.eab=new function(){this.update=function(a){for(var b in a.Ba)if("billboard"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Icb=new function(){this.update=function(a){for(var b in a.Ba)if("continueWatching"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dab=new function(){this.update=function(a){for(var b in a.Ba)if("bigRow"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lkb=new function(){this.update=function(a){for(var b in a.Ba)if("genre"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Zub=new function(){this.update=function(a){for(var b in a.Ba)if("netflixOriginals"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bvb=new function(){this.update=function(a){for(var b in a.Ba)if("newRelease"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.hyb=new function(){this.update=function(a){for(var b in a.Ba)if("popularTitles"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ek=new function(){this.update=function(a){for(var b in a.Ba)if("queue"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Rzb=new function(){this.update=function(a){for(var b in a.Ba)if("recentlyAdded"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dEb=new function(){this.update=function(a){for(var b in a.Ba)if("similars"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.tGb=new function(){this.update=function(a){for(var b in a.Ba)if("trendingNow"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.IGb=new function(){this.update=function(a){for(var b in a.Ba)if("ultraHD"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.zIb=new function(){this.update=function(a){for(var b in a.Ba)if("watchAgain"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.eGb=new function(){this.update=function(a){for(var b in a.Ba)if("topTen"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Scb=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.Da||null;};this.type="cat";}();a.Tcb=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.Da||null;};this.type="cat";}();a.Ucb=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.Da||null;};this.type="cat";}();a.Vcb=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.Da||null;};this.type="cat";}();a.Wcb=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.Da||null;};this.type="cat";}();a.Xcb=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.Da||null;};this.type="cat";}();a.Ycb=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.Da||null;};this.type="cat";}();a.Zcb=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.Da||null;};this.type="cat";}();a.$cb=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.Da||null;};this.type="cat";}();a.adb=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.Da||null;};this.type="cat";}();a.bdb=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.Da||null;};this.type="cat";}();a.cdb=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.Da||null;};this.type="cat";}();a.ddb=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.Da||null;};this.type="cat";}();a.edb=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.Da||null;};this.type="cat";}();a.fdb=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.Da||null;};this.type="cat";}();a.gdb=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.Da||null;};this.type="cat";}();a.hdb=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.Da||null;};this.type="cat";}();a.jdb=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.Da||null;};this.type="cat";}();a.kdb=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.Da||null;};this.type="cat";}();a.ldb=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.Da||null;};this.type="cat";}();a.mdb=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.Da||null;};this.type="cat";}();a.ndb=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.Da||null;};this.type="cat";}();a.odb=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.Da||null;};this.type="cat";}();a.pdb=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.Da||null;};this.type="cat";}();a.qdb=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.Da||null;};this.type="cat";}();a.rdb=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.Da||null;};this.type="cat";}();a.sdb=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.Da||null;};this.type="cat";}();a.tdb=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.Da||null;};this.type="cat";}();a.udb=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.Da||null;};this.type="cat";}();a.vdb=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.Da||null;};this.type="cat";}();a.wdb=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.Da||null;};this.type="cat";}();a.xdb=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.Da||null;};this.type="cat";}();a.ydb=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.Da||null;};this.type="cat";}();a.zdb=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.Da||null;};this.type="cat";}();a.Adb=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.Da||null;};this.type="cat";}();a.Bdb=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.Da||null;};this.type="cat";}();a.Cdb=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.Da||null;};this.type="cat";}();a.Ddb=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.Da||null;};this.type="cat";}();a.Edb=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.Da||null;};this.type="cat";}();a.Fdb=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.Da||null;};this.type="cat";}();a.Gdb=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.Da||null;};this.type="cat";}();a.Hdb=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.Da||null;};this.type="cat";}();a.Idb=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.Da||null;};this.type="cat";}();a.Jdb=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.Da||null;};this.type="cat";}();a.Kdb=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.Da||null;};this.type="cat";}();a.Ldb=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.Da||null;};this.type="cat";}();a.Mdb=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.Da||null;};this.type="cat";}();a.Ndb=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.Da||null;};this.type="cat";}();a.Odb=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.Da||null;};this.type="cat";}();a.Pdb=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.Da||null;};this.type="cat";}();a.Qdb=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.Da||null;};this.type="cat";}();a.Rdb=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.Da||null;};this.type="cat";}();a.Sdb=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.Da||null;};this.type="cat";}();a.Tdb=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.Da||null;};this.type="cat";}();a.Udb=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.Da||null;};this.type="cat";}();a.Vdb=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.Da||null;};this.type="cat";}();a.Wdb=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.Da||null;};this.type="cat";}();a.Xdb=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.Da||null;};this.type="cat";}();a.Ydb=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.Da||null;};this.type="cat";}();a.Zdb=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.Da||null;};this.type="cat";}();a.$db=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.Da||null;};this.type="cat";}();a.aeb=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.Da||null;};this.type="cat";}();a.beb=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.Da||null;};this.type="cat";}();a.ceb=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.Da||null;};this.type="cat";}();a.deb=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.Da||null;};this.type="cat";}();a.eeb=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.Da||null;};this.type="cat";}();a.feb=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.Da||null;};this.type="cat";}();a.geb=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.Da||null;};this.type="cat";}();a.heb=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.Da||null;};this.type="cat";}();a.ieb=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.Da||null;};this.type="cat";}();a.jeb=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.Da||null;};this.type="cat";}();a.keb=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.Da||null;};this.type="cat";}();a.leb=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.Da||null;};this.type="cat";}();a.meb=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.Da||null;};this.type="cat";}();a.neb=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.Da||null;};this.type="cat";}();a.oeb=new function(){this.getValue=function(a,b,c){return this.o="US"===c.Da||null;};this.type="cat";}();a.peb=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.Da||null;};this.type="cat";}();a.qeb=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.Da||null;};this.type="cat";}();a.reb=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.Da||null;};this.type="cat";}();a.Uzb=new function(){this.getValue=function(a,b,c){return this.o=1===c.Zg||null;};this.type="cat";}();a.Vzb=new function(){this.getValue=function(a,b,c){return this.o=10===c.Zg||null;};this.type="cat";}();a.Wzb=new function(){this.getValue=function(a,b,c){return this.o=11===c.Zg||null;};this.type="cat";}();a.Xzb=new function(){this.getValue=function(a,b,c){return this.o=12===c.Zg||null;};this.type="cat";}();a.Yzb=new function(){this.getValue=function(a,b,c){return this.o=13===c.Zg||null;};this.type="cat";}();a.Zzb=new function(){this.getValue=function(a,b,c){return this.o=14===c.Zg||null;};this.type="cat";}();a.$zb=new function(){this.getValue=function(a,b,c){return this.o=15===c.Zg||null;};this.type="cat";}();a.aAb=new function(){this.getValue=function(a,b,c){return this.o=16===c.Zg||null;};this.type="cat";}();a.bAb=new function(){this.getValue=function(a,b,c){return this.o=17===c.Zg||null;};this.type="cat";}();a.cAb=new function(){this.getValue=function(a,b,c){return this.o=18===c.Zg||null;};this.type="cat";}();a.dAb=new function(){this.getValue=function(a,b,c){return this.o=19===c.Zg||null;};this.type="cat";}();a.eAb=new function(){this.getValue=function(a,b,c){return this.o=2===c.Zg||null;};this.type="cat";}();a.fAb=new function(){this.getValue=function(a,b,c){return this.o=20===c.Zg||null;};this.type="cat";}();a.gAb=new function(){this.getValue=function(a,b,c){return this.o=21===c.Zg||null;};this.type="cat";}();a.hAb=new function(){this.getValue=function(a,b,c){return this.o=22===c.Zg||null;};this.type="cat";}();a.iAb=new function(){this.getValue=function(a,b,c){return this.o=23===c.Zg||null;};this.type="cat";}();a.jAb=new function(){this.getValue=function(a,b,c){return this.o=3===c.Zg||null;};this.type="cat";}();a.kAb=new function(){this.getValue=function(a,b,c){return this.o=4===c.Zg||null;};this.type="cat";}();a.lAb=new function(){this.getValue=function(a,b,c){return this.o=5===c.Zg||null;};this.type="cat";}();a.mAb=new function(){this.getValue=function(a,b,c){return this.o=6===c.Zg||null;};this.type="cat";}();a.nAb=new function(){this.getValue=function(a,b,c){return this.o=7===c.Zg||null;};this.type="cat";}();a.oAb=new function(){this.getValue=function(a,b,c){return this.o=8===c.Zg||null;};this.type="cat";}();a.pAb=new function(){this.getValue=function(a,b,c){return this.o=9===c.Zg||null;};this.type="cat";}();a.iFb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.kFb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.jFb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lFb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Btb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.Ctb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rba);};this.getValue=function(){return this.o;};this.type="num";}();a.Itb=new function(){this.wK=this.o=0;this.update=function(a){this.wK++;this.o=1*(this.o+a.rowIndex)/this.wK;};this.getValue=function(){return this.o;};this.type="num";}();a.Jtb=new function(){this.wK=this.o=0;this.update=function(a){this.wK++;return this.o=1*(this.o+a.rba)/this.wK;};this.getValue=function(){return this.o;};this.type="num";}();a.Hyb=new function(){this.getValue=function(a,b,c){return this.o=c.rba+b;};this.type="num";}();a.Iyb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();l.prototype.Cy=function(a){return this.yAa(this.H["0"].RQa(a),a);};l.prototype.yAa=function(a,b){return"string"==typeof a?this.yAa(this.H[a].RQa(b),b):a;};c.prototype.RQa=function(a){switch(this.$qb){case 0:switch(a.yd[this.ZQ].type){case"cat":return null===a.yd[this.ZQ].value?this.TMa:"missing"==a.yd[this.ZQ].value?this.Kia:this.XUa;case"num":return null===a.yd[this.ZQ].value?this.Kia:a.yd[this.ZQ].value<this.split?this.XUa:this.TMa;default:return this.Kia;}case 1:return this.Cy;default:return this.Cy;}};b.declare({HO:["modelSelector","modelone"],ccb:["colEpisodeList",5],Yob:["holdDuration",15E3],EQa:["rowFirst",2],ADa:["colFirst",5],GQa:["rowScroll",2],BDa:["colScroll",6],DBb:["rowScrollHorizontal",6],WBb:["searchTop",3],tEa:["cwFirst",2],DN:["horizontalItemsFocusedMode",3],brb:["itemsPerRank",1],xtb:["maxNumberPayloadsStored",10],TLa:["maxNumberTitlesScheduled",5],aSb:["enableDetailedLogging",!0],dVb:["rowStep",20],mRb:["colStep",15],BUb:["pageRows",100],AUb:["pageColumns",75],cia:["maskParamsList",new function(){var a,b;this.cia=[];this.Gj={};this.f1=20;this.oW=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.f1)+"_"+Math.floor(b/this.oW)in this.Gj||(this.Gj[Math.floor(a/this.f1)+"_"+Math.floor(b/this.oW)]=1,this.cia.push(new q(0,0,0,0,Math.floor(a/this.f1),Math.floor(b/this.oW))));}().cia],H:["nodes",new l().H],mapping:["mapping",{Ctb:"0",Jtb:"1",Btb:"2",Itb:"3",p$a:"4",lFb:"5",jFb:"6",kFb:"7",iFb:"8",Iyb:"9",Hyb:"10",Qrb:"11",Rrb:"12",Trb:"13",Urb:"14",Srb:"15",Vrb:"16",Wrb:"17",Xrb:"18",Yrb:"19",Zrb:"20",$rb:"21",bsb:"22",csb:"23",dsb:"24",esb:"25",fsb:"26",Uzb:"27",Vzb:"28",Wzb:"29",Xzb:"30",Yzb:"31",Zzb:"32",$zb:"33",aAb:"34",bAb:"35",cAb:"36",dAb:"37",eAb:"38",fAb:"39",gAb:"40",hAb:"41",iAb:"42",jAb:"43",kAb:"44",lAb:"45",mAb:"46",nAb:"47",oAb:"48",pAb:"49",Scb:"50",Tcb:"51",Ucb:"52",Vcb:"53",Wcb:"54",Xcb:"55",Ycb:"56",Zcb:"57",$cb:"58",adb:"59",bdb:"60",cdb:"61",ddb:"62",edb:"63",fdb:"64",gdb:"65",hdb:"66",jdb:"67",kdb:"68",ldb:"69",mdb:"70",ndb:"71",odb:"72",pdb:"73",qdb:"74",rdb:"75",sdb:"76",tdb:"77",udb:"78",vdb:"79",wdb:"80",xdb:"81",ydb:"82",zdb:"83",Adb:"84",Bdb:"85",Cdb:"86",Ddb:"87",Edb:"88",Fdb:"89",Gdb:"90",Hdb:"91",Idb:"92",Jdb:"93",Kdb:"94",Ldb:"95",Mdb:"96",Ndb:"97",Odb:"98",Pdb:"99",Qdb:"100",Rdb:"101",Sdb:"102",Tdb:"103",Udb:"104",Vdb:"105",Wdb:"106",Xdb:"107",Ydb:"108",Zdb:"109",$db:"110",aeb:"111",beb:"112",ceb:"113",deb:"114",eeb:"115",feb:"116",geb:"117",heb:"118",ieb:"119",jeb:"120",keb:"121",leb:"122",meb:"123",neb:"124",oeb:"125",peb:"126",qeb:"127",reb:"128",zIb:"129",Rzb:"130",dEb:"131",Ek:"132",Icb:"133",lkb:"134",tGb:"135",eGb:"136",eab:"137",bvb:"138",IGb:"139",hyb:"140",$$a:"141",dab:"142",aab:"143",Zub:"144"}],yd:["features",a],jQb:["_modelName","tree"],aQb:["_format","xgboost"],iQb:["_itemsToKeep",5],hQb:["_itemsThreshold",null],XQb:["cacheLimit",20]});d.P={config:b,DTb:q,uRb:c};},function(d,b,a){var l;function c(a){for(var b="",c=0;c<a.length;c++)b+=a[c].oa+"|";return b;}l=a(178);d.P={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},cTb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},blb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===l.AJ.QWa){b=a[c].list;break;}return b;},Kkb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===l.AJ.KVa){b=a[c].list;break;}return b;},Bgb:function(a,b){for(var k=0,p,h,f,t=0,n=a.length-1;t<n;t++){p=c(a[t].list||[]);f=!1;for(var d=0,q=b.length;d<q;d++)if(h=c(b[d].list||[]),h==p){f=!0;break;}if(!1===f){k=t;break;}}return k;},Tvb:function(a,b,c){for(var k=[],h,f=0;f<Math.min(b,a.length);f++)h=a[f].list||[],k=k.concat(h.slice(0,c));return k;},Svb:function(a,b){for(var c=[],p,h=0;h<a.length&&(p=a[h].list||[],p=p.slice(0,Math.min(p.length,b)),b-=p.length,c=c.concat(p),0!==b);h++);return c;},Rvb:function(a,b,c){var k;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(k=a[c]));return k;},mGa:function(a){for(var b={},c=a.length,p,h=0;h<c;h++){p=a[h].list||[];for(var f=0;f<p.length;f++)if(p[f].property===l.xD.KJ||p[f].property===l.xD.Fpa){b.ti=h;b.ek=f;break;}}void 0===b.ti&&void 0===b.ek&&(b.ti=0,b.ek=0);return b;}};},function(d,b,a){var c,l,q,n,k,p,h,f,t,z,g,D,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.sTa=void 0;c=a(67);l=a(9);q=a(12);n=a(43);k=a(35);p=a(5);h=a(2);f=a(20);t=a(69);z=a(10);g=a(117);D=a(24);J=a(29);F=a(33);b.sTa=function(){var d,G,m,r,y,T;function a(a){var c,h,k;c="info";h="";k=p.Y.get(t.tw).WHa();a.da||(c="error",h+="&errorcode="+(a.errorCode||""),h+="&errorsubcode="+(a.ga||""));h="type=startup&sev="+c+h+"&"+n.qH(f.tb({},k,{prefix:"m_"}));b("startup",h,m);}function b(a,b,h){h&&r&&q.config.uTa[a]&&(a=y+"&jsoffms="+k.Og()+"&do="+z.Di.onLine+"&"+b+"&"+n.qH(f.tb({},T.pd,{prefix:"im_"})),c.Re.download({url:h,Xja:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},TA:"track"},l.Xe));}d=p.Y.get(F.Wj);G=p.Y.get(F.Cp);y="cat=cadplayback&dev="+encodeURIComponent(d.Aca)+"&ep="+encodeURIComponent(G.wqa)+"&ver="+encodeURIComponent("6.0023.976.011")+"&jssid="+k.e5;p.rh("TrackingLog");T=p.Y.get(D.sf);y=y+("&browserua="+z.Hl);T.register(h.J.Nra,function(b){var c,h;m=p.Y.get(g.Vy).host+q.config.ana;if(r=q.config.tTa&&!!q.config.ana){q.config.Px&&(y+="&groupname="+encodeURIComponent(q.config.Px));q.config.WC&&(y+="&uigroupname="+encodeURIComponent(q.config.WC));c=y;h=p.Y.get(J.PD);h=f.tb({},h,{prefix:"pi_"});h="&"+n.qH(h);y=c+h;T.fO(a);}b(l.gd);});return b;}();},function(d,b,a){var n;function c(a,b,c){b=b||0;c=c||a.length;for(var f,h=b,k,p,n,d={};h<b+c;){f=a[h];k=f&7;p=f>>3;n=l(a,h);if(!n.count)throw Error("Parsing error. bytes length is 0 for the tag "+f);h+=n.count+1;2==k&&(h+=n.value);d[p]={lSb:p,uWb:k,value:n.value,count:n.count,start:n.start};}return d;}function l(a,b){var c,f,k,p,d,q,l,g;c=b+1;f=a.length;k=c;p=0;d={};q=[];g=0;if(c>=f)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+f);for(;k<f;){p++;c=a[k];l=c&127;q.push(l);if(!(c&128))break;k++;}n.Wa(q.length);for(a=q.length-1;0<=a;a--)g<<=7,g|=q[a];d.count=p;d.value=g;d.start=b+p+1;return d;}function q(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(b,"__esModule",{value:!0});b.Vmb=b.Umb=b.Mib=b.Jqb=b.nKa=void 0;n=a(16);b.nKa=function(a){a=c(a);if(1==q(a,1)&&a[5]&&a[5].value)return!0;};b.Jqb=function(a){var b;b=c(a);if(2==q(b,1)&&(a=c(a,b[2].start,b[2].value),q(a,5)))return!0;};b.Mib=c;b.Umb=l;b.Vmb=q;},function(d){function b(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}d.P=function(a){var n,k,p;function c(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function d(a,b,t){var f;f=k[a];"undefined"!==typeof f?f(b)||c(a,b,t):a!==typeof b&&c(a,b,t);}function q(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===p.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===p.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string"===typeof a)d(a,f,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){d(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}n="number boolean string object function symbol".split(" ");k={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof k[b]||-1<n.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);k[b]=a[b];});}p=Object.keys(k).concat(n);return q(["array","function"],q);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bra=void 0;b.bra=function(a){var q,n,k,p;function b(){if(k)for(var a;a=q.pop();)a(p);}function d(a){k=!0;p=a;b();}q=[];return function(c){q.push(c);n||(n=!0,a(d));b();};};},function(d,b,a){var l;function c(a,b,c,p){this.Ic=a;this.Al=b;this.Aq=c;this.Jb=p;this.HDb();}Object.defineProperty(b,"__esModule",{value:!0});b.EJ=void 0;l=a(13);c.prototype.OIa=function(a,b){var c;c=this;return this.Aq.transition(b).then(function(){c.Ic.rg=a;});};c.prototype.close=function(a){return this.Aq.close(a);};c.prototype.isReady=function(){return this.Aq.Zmb();};c.prototype.Fn=function(){return this.Aq.Fn();};c.prototype.Ih=function(){return this.Aq.Ih();};c.prototype.fka=function(a){return this.Aq.Hp(a);};c.prototype.HDb=function(){var a;a=this;this.Aq.addListener(l.Dz.RP,function(){return a.Jb.Vb(l.Dz.RP);});Object.keys(l.wb).forEach(function(b){var c;c=l.wb[b];a.Aq.addListener(c,function(b){return a.Jb.Vb(c,b);});});};c.prototype.SO=function(){};c.prototype.HNa=function(a){this.Aq.iHb({id:a,u:this.Ic.Rg(a).oa,On:this.Ic.vIa(a)});};b.EJ=c;},function(d,b,a){var l;function c(a,b,c){var k;k=this;this.Ak=a;this.Ff=b;this.hP=c;this.addEventListener=function(a,b,c){return k.Ff.addListener(a,k.CEa(a,b),c);};this.removeEventListener=function(a,b){return k.Ff.removeListener(a,k.CEa(a,b));};this.getReady=function(){return k.Ff.isReady();};this.getXid=function(){return k.hb().GY();};this.getMovieId=function(){return k.hb().rmb();};this.getPlaygraphId=function(){return k.hb().Omb();};this.getElement=function(){return k.Ff.Fn();};this.isPlaying=function(){return k.hb().Vx();};this.isPaused=function(){return k.hb().Cqb();};this.isMuted=function(){return k.hb().zqb();};this.isReady=function(){return k.hb().isReady();};this.isBackground=function(){return k.hb().dqb();};this.setBackground=function(a){return k.hb().qRa(a);};this.startInactivityMonitor=function(){return k.hb().mQ();};this.setTransitionTime=function(a){return k.hb().HRa(a);};this.getDiagnostics=function(){return k.hb().mlb();};this.getTextTrackList=function(a){return k.hb().FIa(a);};this.getTextTrack=function(){return k.hb().EIa();};this.setTextTrack=function(a){return k.hb().ERa(a);};this.getVolume=function(){return k.hb().aob();};this.isEnded=function(){return k.hb().nqb();};this.getBusy=function(){return k.hb().kk();};this.getError=function(){return k.hb().getError();};this.getCurrentTime=function(){return k.hb().j.$b.value;};this.getBufferedTime=function(){return k.hb().Okb();};this.getSegmentTime=function(){return k.hb().fY();};this.getDuration=function(){return k.hb().iHa();};this.getVideoSize=function(){return k.hb().Znb();};this.getAudioTrackList=function(){return k.hb().xkb();};this.getAudioTrack=function(){return k.hb().wkb();};this.getTimedTextTrackList=function(a){return k.hb().FIa(a);};this.getTimedTextTrack=function(){return k.hb().EIa();};this.getAdditionalLogInfo=function(){return k.hb().pkb();};this.getTrickPlayFrame=function(a){return k.hb().Mnb(a);};this.getSessionSummary=function(){return k.hb().uIa();};this.getTimedTextSettings=function(){return k.hb().BY();};this.setMuted=function(a){return k.hb().kDb(a);};this.setVolume=function(a){return k.hb().CDb(a);};this.getPlaybackRate=function(){return k.hb().kIa();};this.setPlaybackRate=function(a){return k.hb().pDb(a);};this.setAudioTrack=function(a){return k.hb().TCb(a);};this.setTimedTextTrack=function(a){return k.hb().ERa(a);};this.setTimedTextSettings=function(a){return k.hb().fQ(a);};this.prepare=function(){return k.hb().wv();};this.load=function(){return k.hb().load();};this.close=function(a){return k.PBa(k.Ff.close(),a);};this.play=function(){return k.hb().play();};this.pause=function(){return k.hb().pause();};this.seek=function(a){return k.hb().seek(a);};this.engage=function(a,b){return k.PBa(k.hb().UM(a),b);};this.induceError=function(a){return k.hb().Epb(a);};this.loadCustomTimedTextTrack=function(a,b,c,p){return k.hb().jsb(a,b,c,p);};this.tryRecoverFromStall=function(){return k.hb().NQ();};this.addEpisode=function(a){var b,c;k.log.info("Next episode added",a);b=k.DLa(a.playbackParams);c="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.T;if(void 0===c||0>c)c=0;return k.Ff.Hp({id:b.Si?void 0:k.hP.XX(a.movieId,c),u:a.movieId,T:c,On:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.On,fb:b,ya:a.manifest,Ak:k.Ak});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=k.DLa(a);k.log.info("Playing the next episode",a);return k.Ff.Gfa(k.Ff.lHa(),k.Ff.gY().gl,a);};this.playSegment=function(a){return k.hb().Lxb(a);};this.queueSegment=function(a){return k.hb().uzb(a);};this.updateNextSegmentWeights=function(a,b){return k.hb().qp(a,b);};this.getCropAspectRatio=function(){return k.hb().Bea();};this.getCropAspectRatioXandY=function(){return k.hb().dlb();};this.generateScreenshots=function(a){return k.hb().jkb(a);};this.getCurrentSegmentId=function(){return k.Ff.lHa();};this.getPlaygraphMap=function(){return k.Ff.Pmb();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b=b.map(function(a){return{Na:a.segmentId,MO:a.nextSegmentId};});k.Ff.cQ.apply(k.Ff,[].concat(fa(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return k.Ff.Sbb.apply(k.Ff,[].concat(fa(b)));};this.updatePlaygraphMap=function(a){return k.Ff.fHb(a);};this.goToNextSegment=function(a,b){return k.Ff.Gfa(a,b);};this.getPlaying=function(){return k.isPlaying();};this.getPaused=function(){return k.isPaused();};this.getMuted=function(){return k.isMuted();};this.getEnded=function(){return k.isEnded();};this.getTimedTextVisibility=function(){return k.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!k.hb().BY().visibility;};this.setTimedTextVisibility=function(a){return k.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return k.hb().fQ({size:a});};this.setTimedTextBounds=function(a){return k.hb().fQ({bounds:a});};this.setTimedTextMargins=function(a){return k.hb().fQ({margins:a});};this.setTimedTextVisible=function(a){return k.hb().fQ({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.sda=new Map();this.log=l.rh("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.Nxa=void 0;l=a(5);a(84);c.prototype.hb=function(){return this.Ff.Ih();};c.prototype.CEa=function(a,b){var c;this.sda.has(a)||this.sda.set(a,new Map());c=this.sda.get(a);c.has(b)||c.set(b,this.Zfb(a,b));return c.get(b);};c.prototype.Zfb=function(a,b){var c;c=this;return function(k){return b(Object.assign({},k,{type:a,target:c}));};};c.prototype.PBa=function(a,b){return b?a.then(b,b):a;};c.prototype.DLa=function(a){a=void 0===a?{}:a;return{Uh:a.trackingId,ML:a.authParams,Un:a.sessionParams,le:a.uiLabel,Gca:a.disableTrackStickiness,m2:a.uiPlayStartTime,MX:a.forceAudioTrackId,NX:a.forceTimedTextTrackId,Si:a.isBranching,Bna:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted,playbackRate:a.playbackState.playbackRate}:void 0,UF:a.enableTrickPlay,Ufa:a.heartbeatCooldown,KZ:a.isPlaygraph,d_:a.loadImmediately||!1,wOa:a.pin,jP:a.preciseSeeking,T:a.startPts,na:a.endPts,On:a.logicalEnd,rl:a.packageId,R0:a.renderTimedText,XFa:a.extraManifestParams};};b.Nxa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e7=void 0;b.e7="PlaygraphVideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d7=void 0;b.d7="PlaygraphPlaybackStrategyFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eo=void 0;d=b.eo||(b.eo={});d[d.HJ=0]="No";d[d.j8=1]="Yes";d[d.psa=2]="Later";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c7=void 0;b.c7="PlaygraphManagerFactorySymbol";},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.YI=void 0;c=a(0);l=a(2);q=a(1);n=a(15);k=a(22);p=a(5);h=a(13);d=function(){var b;function a(a,b,c){this.he=a;this.Hb=b;this.j=c;this.bO=[];}a.prototype.HX=function(a){this.bO.forEach(function(b){return b(a);});};a.prototype.Sd=function(a,b,c){this.j.Sd(this.he(a,b,c));};a.prototype.NY=function(a){this.j.fireEvent(h.U.Qia,{rbb:a});};a.prototype.S8a=function(a){-1===this.bO.indexOf(a)&&this.bO.push(a);};a.prototype.BAb=function(a){a=this.bO.indexOf(a);0<=a&&this.bO.splice(a,1);};a.prototype.MIa=function(a){var b,c;b={};n.Xb(a.code)?b.ga=l.k4(a.code):b.ga=l.I.Ah;try{c=a.message.match(/\((\d*)\)/)[1];b.re=p.Caa(c,4);}catch(J){}b.rb=k.Fe(a);return b;};b=a;return b=c.__decorate([q.N()],b);}();b.YI=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kT=void 0;b.kT="PlaybackMilestoneStoreSymbol";},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;c=a(12);l=a(9);q=a(35);d=a(2);n=a(10);k=a(15);p=a(5);a=a(24);p.Y.get(a.sf).register(d.J.Hra,function(a){var h,p,d,g,J;function f(){var a;a=n.Xs(q.Og()/d);if(a!=J){for(var b=n.Om(a-J,30);b--;)g.push(0);(b=n.Gl(g.length-31,0))&&g.splice(0,b);J=a;}g[g.length-1]++;}h=c.config.Ssb;p=-6/(h-2-2);d=l.fj;g=[];J=n.Xs(q.Og()/d);k.Pga(h)&&(setInterval(f,1E3/h),b.rLa={Rlb:function(){var c;for(var a=[],b=g.length-1;b--;){c=g[b];a.unshift(0>=c?9:1>=c?8:c>=h-1?0:n.Bh((c-2)*p+7));}return a;}});a(l.gd);});},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Qqa=void 0;c=a(12);l=a(56);q=a(20);n=a(2);k=a(60);p=a(5);h=a(13);b.Qqa=function(a,b,d){function f(b){var f,h;f=b.error||b;h=q.Fe(f);d.error("uncaught exception",f,h);(f=(f=f&&f.stack)&&c.config.OTa&&c.config.KGb?0<=f.indexOf(c.config.OTa):void 0)&&(b&&b.stopImmediatePropagation&&b.stopImmediatePropagation(),b=p.Y.get(k.Nk),a.Sd(b(n.J.y2a)));}function t(){l.He.removeListener(l.JY,f);a.removeEventListener(h.U.yf,t);a.removeEventListener(h.U.Rn,t);}try{l.He.addListener(l.JY,f);a.addEventListener(h.U.yf,t);c.config.qpb&&a.addEventListener(h.U.Rn,t);}catch(J){d.error("exception in exception handler ",J);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w7=void 0;b.w7="SeekManagerFactorySymbol";},function(d,b,a){var l,q,n,k,p,h,f,t,z,g,D,J,F,L,H,U,m,r,Q,y,T,u,da,W,ka,O;function c(a){var b;b=this;this.j=a;this.Hb=this.j.Hb;this.xb=g.Qg(this.j,"MediaPresenterASE");this.Kza=this.Fya=this.Ll=0;this.wd=this.Hb.eb;this.bAa=this.Yza=this.o$=this.N9=this.rL=this.pK=this.P9=!1;this.Qk={type:t.Dg.audio,FF:[],Pn:[]};this.so={type:t.Dg.video,FF:[],Pn:[]};this.oA={};this.Fza=k.config.tub;this.Uza=k.ODa(!!this.j.Oa.Si).c0;this.x9=k.config.m_;this.Q7a=g.Y.get(u.Kz)(T.Ib(Q.zT));this.zq=g.Y.get(W.w7)(this.j);this.Of={};this.Cza={};this.EK={};this.O7a=function(){var a,c,f;b.j.AQ=z.Og();if(!b.Ze()&&b.LK){a=b.Hb.inb();a||b.s$();b.j.paused.value||!b.pca()||!b.Maa()||a||b.zq.Ux?b.b$():b.P9||b.c$();if(!(a||b.zq.Ux&&b.nxb()||b.Ze())){a=b.Hb.mN(!0);c=b.j.Ob.value;f=b.qcb();f===m.jb.Pq?(b.Ll=b.j.qq.ba(T.ia),b.b$()):f!==m.jb.Xf&&b.bHb(a);b.VAa();b.$T();b.j.Ob.set(f);f!==m.jb.Xf||c!==m.jb.Nc&&c!==m.jb.Ch||b.kwb();}}};this.bk=O.jPa(this.O7a);this.j.ck=!1;this.oA[l.yc.Ci.AUDIO]=this.Qk;this.oA[l.yc.Ci.VIDEO]=this.so;F.Wa(this.x9>this.Fza,"bad config");F.Wa(this.x9>this.Uza,"bad config");this.Hb.addEventListener(y.$h.cSa,function(){b.xb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.KK();}catch(za){b.xb.error("Exception while initializing",za);b.dn(D.J.N0a);}});}Object.defineProperty(b,"__esModule",{value:!0});b.vta=void 0;l=a(50);q=a(60);n=a(9);k=a(12);p=a(57);h=a(56);f=a(43);t=a(77);z=a(35);g=a(5);a(84);D=a(2);J=a(465);F=a(16);L=a(91);H=a(22);U=a(59);m=a(13);r=a(15);Q=a(232);y=a(183);T=a(3);u=a(96);da=a(172);W=a(285);ka=a(52);O=a(615);c.prototype.xHa=function(){return this.Hb.mN(!1);};c.prototype.oB=function(){return this.Hb.oB();};c.prototype.nB=function(){return this.Hb.nB();};c.prototype.kN=function(){return this.Hb.kN();};c.prototype.lY=function(){return this.Hb.lY();};c.prototype.KK=function(){var a;a=this;this.xb.trace("Video element initializing");this.Hb.sourceBuffers.forEach(function(b){return a.z7a(b);});this.S4a(this.j.Su);};c.prototype.S4a=function(a){var t,p,d;function b(){function a(a){var b,c;a=void 0===a?!0:a;c=t.j.Gb&&t.j.Gb.Nfa();t.j.Ob.value==m.jb.Xf&&t.j.state.value==m.nb.ud&&t.j.yo.value==m.We.ud&&t.j.Hk.value==m.We.ud&&!t.j.ck&&c?(a&&t.mU.wi(),t.mU.bB(),b="ensureTimer"):(t.mU.wi(),b="stopTimer");t.xb.trace("Timer update: "+b,{presentingState:t.j.Ob.value,playbackState:t.j.state.value,avBufferingState:t.j.yo.value,textBufferingState:t.j.Hk.value,autoplayWasBlocked:t.j.ck,hasLicense:c,restartTimer:a});}k.config.BEa&&(F.Wa(!t.mU),t.mU=g.Y.get(da.ZJ)(k.config.BEa,function(){var a;a=g.Y.get(J.K3).Hgb(t.j);t.dn(a.code,a);}),t.j.Ob.addListener(function(){return a();}),t.j.yo.addListener(function(){return a();}),t.j.Hk.addListener(function(){return a();}),t.j.state.addListener(function(){return a();}),t.j.addEventListener(m.U.OKa,function(){return a();}),t.j.addEventListener(m.U.ck,function(){return a();}),t.j.addEventListener(m.U.vaa,function(){return a();}),t.j.addEventListener(m.U.ys,function(){return a(!0);}),a());}function c(){t.Sz||(c=F.xoa,t.Hb.addEventListener(y.$h.PP,t.Of[y.$h.PP]=function(){return t.K9();}),t.Hb.addEventListener(y.$h.Fo,t.Of[y.$h.Fo]=function(){return t.n6a();}),t.wd.addEventListener("ended",t.Of.ended=function(){return t.o6a();}),t.wd.addEventListener("play",t.Of.play=function(){return t.t6a();}),t.wd.addEventListener("pause",t.Of.pause=function(){return t.s6a();}),t.wd.addEventListener("playing",t.Of.playing=function(){return t.u6a();}),t.LK=!0,t.j.pKa&&(t.s$(),t.xb.trace("Video element initialization complete"),t.j.dd("vi"),k.config.QEa?setTimeout(function(){t.G9=!0;t.bk();},k.config.QEa):t.G9=!0,b(),U.oc(function(){return t.bk();})));}t=this;a?this.xb.trace("Waiting for needkey"):(this.xb.warn("Movie is not DRM protected",{MovieId:this.j.u}),this.j.Gb.dX(""+this.j.u));this.xb.trace("Waiting for loadedmetadata");this.Hb.addEventListener(y.$h.SKa,function(a){a=a.oa;t.j.dd("ld",a);t.j.Gb.dX(""+a);t.j.fireEvent(m.U.OKa);});f.oBa(this.wd,"loadedmetadata",function(){t.xb.trace("Video element event: loadedmetadata");t.j.dd("md");});h.He.addListener(h.ll,this.EK[h.ll]=function(){return t.vya();},n.Bz);this.j.addEventListener(m.U.yf,function(){return t.vya();},n.Bz);this.j.addEventListener(m.U.JQa,function(){return t.c$();});this.j.addEventListener(m.U.Vo,function(){return t.q6a();});this.j.paused.addListener(function(){return t.bk();});this.j.muted.addListener(function(){return t.x$();});this.j.volume.addListener(function(){return t.x$();});this.j.playbackRate.addListener(function(){return t.f8a();});this.j.yo.addListener(function(){return t.bk();});this.j.Hk.addListener(function(){return t.bk();});this.x$();null===(p=this.Qk.Jj)||void 0===p?void 0:p.rRa(function(){return t.WK();});null===(d=this.so.Jj)||void 0===d?void 0:d.rRa(function(){return t.WK();});this.WK();U.oc(function(){c();});};c.prototype.MV=function(a){var b,c;b=this;a.M===l.yc.Ci.AUDIO?this.pK=!1:a.M===l.yc.Ci.VIDEO&&(this.rL=!1);c=this.oA[a.M];c?c.Pn.push(a):F.Wa(!1);this.B3a(a).then(function(){b.WK();b.j.fireEvent(m.U.u_);})["catch"](function(a){b.dn(D.J.S0a,{rb:H.Fe(a)});});};c.prototype.gaa=function(a,b,c){c=void 0===c?{}:c;b={M:a.type,zB:!1,response:b,xj:function(){return"header";},get bc(){return!this.zB;},profile:c.profile};(c=this.oA[a.type])?c.Pn.push(b):F.Wa(!1);this.WK();this.Yza||a.type!==l.yc.Ci.VIDEO||(this.zq.Ux||this.seek(this.j.T,m.Ae.nz),this.Yza=!0);};c.prototype.z7a=function(a){var b;b=this.oA[a.type];if(b)try{b.Jj=a;}catch(za){this.dn(D.J.q6,{ga:Q.kY(a.type),rb:H.Fe(za)});}};c.prototype.WK=function(){this.LK?this.bk():k.config.H9a&&this.s$();};c.prototype.Cvb=function(){var a;a=this.j.pB()||0;this.j.Oa.Si?k.config.qab&&(a=Math.max(a-(this.Hb.xla+1)-k.config.wla,this.j.Gb.sY().xc)):(a-=k.config.eCb,a=Math.max(a,this.zq.nha));this.seek(a,m.Ae.WJ);};c.prototype.U_=function(a){var b;b=this;a===l.yc.Ci.AUDIO?this.pK=!0:a===l.yc.Ci.VIDEO&&(this.rL=!0);U.oc(function(){return b.bk();});};c.prototype.Wlb=function(){return{Yfb:this.Fya,avb:this.Kza};};c.prototype.pca=function(){return this.Iya(this.Qk,this.JW())&&this.Iya(this.so,this.JW());};c.prototype.B3a=function(a){var b;b=this.Hb&&this.Hb.bIa();return this.j.qq&&void 0===this.M9&&b&&Infinity!==a.ZQa&&(a=a.ZQa+a.xm,a>this.j.qq.x0(T.ia)&&(this.j.qq=T.Ib(a)),a>b.x0(T.ia))?(this.M9=b.scale(2),this.S6a()):Promise.resolve();};c.prototype.S6a=function(){var a;a=this;return new Promise(function(b,c){function f(){return h().then(function(a){if(!1===a)return f();});}function h(){return new Promise(function(b){setTimeout(function(){var c,f;if(!((null===(c=a.Qk.Jj)||void 0===c?0:c.kk())||(null===(f=a.so.Jj)||void 0===f?0:f.kk())))try{a.Hb.jDb(a.M9);a.o$=!1;a.M9=void 0;b(!0);}catch(la){b(!1);}b(!1);},0);});}a.o$=!0;f().then(function(){b();})["catch"](function(b){a.xb.error("Unable to change the duration",b);c(b);});});};c.prototype.nxb=function(){var a;a=this;return this.zq.Ux&&this.Maa()&&this.pca()?(this.Hb.seek(this.Ll),this.zq.Ux=!1,U.oc(function(){return a.bk();}),!0):!1;};c.prototype.bHb=function(a){var b;if(a<this.Ll){b=this.Ll-a;k.config.oxb&&a&&b>Q.zT&&(a={ElementTime:L.fh(a),MediaTime:L.fh(this.Ll)},b>Q.Qva?(this.xb.error("VIDEO.currentTime became much smaller",a),this.dn(D.J.c1a)):this.xb.warn("VIDEO.currentTime became smaller",a));}else this.Ll=L.Pm(a,0,this.j.qq.ba(T.ia));};c.prototype.JW=function(){return this.j.Ob.value===m.jb.Xf?this.Uza:this.Fza;};c.prototype.Maa=function(){return this.j.yo.value===m.We.ud&&this.j.Hk.value===m.We.ud;};c.prototype.qcb=function(){var a,b,c;a=this;b=this.j.Ob.value;c=b;this.zq.Ux?c=m.jb.Xf:this.wd&&this.wd.ended?b===m.jb.Nc&&(c=m.jb.Pq):this.Maa()&&this.pca()?this.Hb.Igb()?c=this.wd&&this.wd.paused?m.jb.Ch:m.jb.Nc:this.Q7a.Kc(function(){return a.P7a();}):c=this.j.qq?this.j.XIa(this.Ll,this.JW())?m.jb.Xf:m.jb.Pq:m.jb.Xf;return c;};c.prototype.kwb=function(){var a;if(this.j.Ob.value===m.jb.Xf){a=this.T7a()>this.JW();this.j.Hk.value!==m.We.ud?this.j.nj.value?(this.j.fireEvent(m.U.$t,{cause:p.$ua}),this.xb.warn("rebuffer due to timed text",this.j.nj.value.Tg)):this.j.fireEvent(m.U.xI):a?(this.Fya++,this.j.fireEvent(m.U.$t,{cause:p.P6})):(this.Kza++,this.j.fireEvent(m.U.$t,{cause:p.Q6}));}};c.prototype.T7a=function(){var a,b;a=this.so.Pn.filter(function(a){return!a.bc;}).reduce(function(a,b){return a+b.Hr;},0);b=this.Qk.Pn.filter(function(a){return!a.bc;}).reduce(function(a,b){return a+b.Hr;},0);return Math.min(a,b);};c.prototype.P7a=function(){this.Ze()||(k.config.Evb&&this.Qk.Jj&&!this.Qk.Jj.kk()&&this.Qk.Jj.NBa(new Uint8Array([0,0,0,8,102,114,101,101])),this.bk());};c.prototype.Iya=function(a,b){var c;c=a.KW;c=c&&c.vO;return!a.Jj||0===a.Pn.length&&(a.type===t.Dg.audio&&this.pK||a.type===t.Dg.video&&this.rL)?!0:c&&c.JH-this.Ll>=b||!1;};c.prototype.K9=function(){this.bk();};c.prototype.n6a=function(){this.bk();this.j.fireEvent(m.U.Fo);};c.prototype.o6a=function(){this.xb.trace("Video element event: ended");this.bk();};c.prototype.t6a=function(){this.xb.trace("Video element event: play");this.bk();};c.prototype.s6a=function(){this.xb.trace("Video element event: pause");this.bk();};c.prototype.u6a=function(){this.xb.trace("Video element event: playing");this.bk();};c.prototype.x$=function(){this.Ze()||(this.wd&&this.wd.volume!==this.j.volume.value&&(this.wd.volume=this.j.volume.value),this.wd&&this.wd.muted!==this.j.muted.value&&(this.wd.muted=this.j.muted.value));};c.prototype.f8a=function(){!this.Ze()&&this.wd&&(this.wd.playbackRate=this.j.playbackRate.value);};c.prototype.s$=function(){var a,b;this.o$||(this.RAa(this.Qk),this.RAa(this.so));!(this.Ze()||!(0===this.Qk.Pn.length&&this.pK||0===this.so.Pn.length&&this.rL)||(null===(a=this.Qk.Jj)||void 0===a?0:a.kk())||(null===(b=this.so.Jj)||void 0===b?0:b.kk())||this.U8)&&this.wd.readyState>ka.Od.jra.HAVE_NOTHING&&(this.U8=!0,this.Hb.endOfStream());};c.prototype.RAa=function(a){var b,c,f;if(!this.Ze()&&a.Jj){b=a.Jj;c=a.FF;!b.kk()&&0<c.length&&(a.KW=c[c.length-1]);if(a.$la){if(b.kk())return;a.$la=!1;f=this.Hb.bIa().x0(T.Il);0<f&&b.remove(0,f);}for(f=a.Pn[0];f&&f.response&&(f.bc||f.yv-this.Ll<=this.x9);)if(this.U8=!1,this.$7a(f))a.Pn.shift(),f=a.Pn[0];else break;!b.kk()&&0<c.length&&(a.KW=c[c.length-1]);}};c.prototype.$7a=function(a){var b,c,f;F.Wa(a&&a.response);b=a.response;c=a.M;f=this.oA[c];if(!this.Ze()&&f.Jj&&!f.Jj.kk()){try{a.bc&&a.profile&&f.Jj.sbb(a.profile);this.xb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.Jj.NBa(b,a);a.bc||f.FF.push(this.J3a(a));k.config.Rgb&&!a.bc&&a.oDa();}catch(va){"QuotaExceededError"!=va.name?(this.xb.error("Exception while appending media",a,va),this.dn(D.J.a1a,Q.kY(c))):this.j.LW=this.j.LW?this.j.LW+1:1;return;}return!0;}};c.prototype.I3a=function(a){var b;b=this.j.Bob(a.Kb);b||(this.xb.error("Could not find CDN",{cdnId:a.Kb}),b={id:a.Kb,Bha:a.location});return b;};c.prototype.P3a=function(a){var b,c;c=a.sa;a.M===l.yc.Ci.AUDIO?b=this.j.VIa(c):a.M===l.yc.Ci.VIDEO&&(b=this.j.dJa(c));b||this.xb.error("Could not find stream",{stream:c});return b;};c.prototype.J3a=function(a){var b;b=this.P3a(a);return{vO:a,stream:b,Bo:{startTime:Math.floor(a.yv),endTime:Math.floor(a.JH)},gc:this.I3a(a)};};c.prototype.c$=function(){var a;a=this;this.Ze()||!r.Xb(this.wd)||this.wd.ended||!this.G9||!this.VE&&void 0!==this.VE||(this.xb.trace("Calling play on element"),Promise.resolve(this.wd.play()).then(function(){a.Sz||(a.VE=!1,a.P9=!1,a.wd.style.display=null,a.j.ck=!1,a.j.fireEvent(m.U.vaa,{j:a.j}));})["catch"](function(b){"NotAllowedError"===b.name?(a.xb.warn("Playback is blocked by the browser settings",b),a.j.ck=!0,a.Sz||(a.P9=!0,a.wd.style.display="none",a.j.fireEvent(m.U.ck,{player:{play:function(){return a.c$();}}}))):a.Sz||(a.VE=!1,a.bAa||(a.bAa=!0,a.xb.error("Play promise rejected",b)));}));};c.prototype.q6a=function(){this.zq.nha=this.j.pB()||0;};c.prototype.b$=function(){this.Ze()||!r.Xb(this.wd)||this.wd.ended||!this.G9||this.VE&&void 0!==this.VE||(this.xb.trace("Calling pause on element"),this.wd.pause(),this.VE=!0);};c.prototype.$T=function(a){if(r.Xb(a)){for(var b=this.oA[a],c=b.FF,h,k=!1;(h=c[0])&&h.vO.yv<=this.Ll;)if(this.Ll<h.vO.JH){a=a===l.yc.Ci.AUDIO?this.j.jg:this.j.kf;f.tba(h,a.value)||(k=!0,a.set(h));break;}else c.shift();!k&&!this.N9||this.U8||(h=h&&h.vO.yv-h.vO.Hr-1,0<h&&((b=b.Jj)&&!b.kk()?(b.remove(0,h/H.fj),this.N9=!1):this.N9=!0));}else this.$T(l.yc.Ci.AUDIO),this.$T(l.yc.Ci.VIDEO);};c.prototype.VAa=function(a){this.j.$b.set(this.Ll);a&&this.j.Hjb();};c.prototype.seek=function(a,b,c,f){var h,k,t,p;b=void 0===b?m.Ae.ft:b;c=void 0===c?this.j.Na:c;f=void 0===f?!1:f;if(!this.Ze()&&this.j.Gb){h=this.j.Du(c).u;k=this.zq.vmb(a,b,c,f);c=k.kH;f=k.Li;t=k.Xxb;k=k.fu;this.$T();p=this.Ll;a=L.fh(a);this.j.vo("SEEKING: Requested: ("+h+":"+b+":"+a+") - Actual: (contentPts: "+f+","+("playerPts: "+t+", newMediaTime: "+c+")"));this.xb.info("Seeking",{Requested:a,Actual:L.fh(c),Cause:b,Skip:k});this.j.fireEvent(m.U.ys,{PO:p,kH:c,cause:b,skip:k});this.j.Ob.set(m.jb.Xf);b!==m.Ae.nz&&(this.tAa(),this.Qk.$la=!0,this.so.$la=!0);this.Ll=c;this.zq.nha=f;a=this.j.jg.value;t=this.j.kf.value;this.j.jg.set(null);this.j.kf.set(null);this.VAa(!0);this.j.fireEvent(m.U.gp,{PO:p,kH:c,Li:f,cause:b,skip:k,jg:a,kf:t,u:h});this.zq.Ux=!0;this.bk();}};c.prototype.tAa=function(){this.Qk.FF=[];this.Qk.KW=void 0;this.Qk.Pn=[];this.so.FF=[];this.so.KW=void 0;this.so.Pn=[];this.rL=this.pK=!1;this.j.fireEvent(m.U.u_);};c.prototype.dn=function(a,b,c){var f;if(!this.Sz){f=g.Y.get(q.Nk);this.j.Sd(f(a,b,c));}};c.prototype.vya=function(){if(!this.Sz){this.xb.info("Closing.");this.Hb.removeEventListener(y.$h.PP,this.Cza[y.$h.PP]);this.Hb.removeEventListener(y.$h.Fo,this.Cza[y.$h.Fo]);this.wd.removeEventListener("ended",this.Of.ended);this.wd.removeEventListener("play",this.Of.play);this.wd.removeEventListener("pause",this.Of.pause);this.wd.removeEventListener("playing",this.Of.playing);h.He.removeListener(h.ll,this.EK[h.ll]);this.Sz=!0;try{k.config.Sub&&(this.wd.volume=0,this.wd.muted=!0);this.b$();this.Hb.close();}catch(oa){}this.wd=void 0;this.tAa();}};c.prototype.Ze=function(){return this.Sz?!0:r.Xb(this.wd)?!1:(this.xb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};b.vta=c;},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;c=a(9);l=a(12);q=a(35);n=a(91);k=a(10);p=a(59);h=a(15);f=a(13);b.bva=function(a){var g,F,L,H,U,m;function b(){return a.state.value===f.nb.LOADING||a.state.value===f.nb.ud&&a.Ob.value===f.jb.Xf;}function t(){b()?m||(m=setInterval(d,100)):m&&(clearInterval(m),m=void 0,p.oc(d));}function d(){var c,t,p,d,z,G,D,J;c=q.Og();t=g.value;p=t?t.Nh:0;z=a.state.value==f.nb.LOADING||b()&&c-F>l.config.Eab;z&&a.state.value==f.nb.ud?(a.fx.value===f.We.gwa?(D=p,G=!0):(d=c+(a.nl&&a.nl.$ob()||0),L=L||c,H=H||L+l.config.qub+1,h.la(d)&&(d=k.Gl(d,H),D=a.nl?a.nl.BSb():.99,D=k.Bh(1E3*n.Pm((c-L)/(d-L),0,D))/1E3)),D<p&&(p-D<l.config.dzb/100?(D=p,U=void 0):U?c-U>l.config.czb?(J=!0,U=void 0):D=p:(U=c,D=p))):U=H=L=void 0;c=z?{L1:G,Nh:D,ezb:J}:null;(!c||!g||!t||h.la(c.Nh)&&!h.la(t.Nh)||h.la(c.Nh)&&h.la(t.Nh)&&.01<k.vz(c.Nh-t.Nh)||c.L1!==t.L1)&&g.set(c);}g=a.Oaa;F=0;a.state.addListener(function(){t();d();},c.YS);a.Ob.addListener(function(a){if(a.oldValue!==f.jb.Xf||a.newValue!==f.jb.Xf)F=q.Og();t();});a.fx.addListener(function(){t();});a.yo.addListener(function(){t();});a.Hk.addListener(function(){t();});m||(m=setInterval(d,100));};},function(d,b,a){var p,h,f,t;function c(a,b,c,f,h){var k;k={};"right"==a.horizontalAlignment?k.right=100*(c-b.left-b.width-h)/c+"%":k.left=100*(b.left-h)/c+"%";"bottom"==a.verticalAlignment?k.bottom=100*(f-b.top-b.height-h)/f+"%":k.top=100*(b.top-h)/f+"%";return k;}function l(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function q(a,b,c,h,k){var t,p;t=a.style;p=f.EN(a.text);for(a=a.lineBreaks;a--;)p="<br />"+p;return n(p,t,b,c,h,k);}function n(a,b,c,f,n,d){var q;q=b.characterStyle;n=n[q];f=b.characterSize*f.height/((0<=q.indexOf("MONOSPACE")?l(n,b.cellResolution)||n.lineHeight:n.lineHeight)||1);f=0<d?t.Xs(f*d):t.Bh(f);d={"font-size":f+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(d["font-style"]="italic");b.characterUnderline&&(d["text-decoration"]="underline");b.characterColor&&(d.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(d["background-color"]=k(b.backgroundColor,b.backgroundOpacity));f=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case h.h0:d["text-shadow"]=f+" 0px 0px 7px";break;case h.zja:d["text-shadow"]="-1px 0px "+f+",0px 1px "+f+",1px 0px "+f+",0px -1px "+f;break;case h.eOa:d["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case h.cOa:d["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}d=p.LA(d);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(d+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+d+'">'+a+"</span>";}function k(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=b.qib=b.oib=b.rib=b.pib=b.OFa=b.PFa=b.mda=void 0;p=a(43);h=a(202);f=a(20);t=a(10);b.mda=function(a,b,c,f,h){var k;k="";a.textNodes.forEach(function(a){k+=q(a,c,b,f,h);});return k;};b.PFa=function(a,b,h,k,p){var n,d,l,z,g;n="";d=p.width;p=p.height;for(var q=b.length;q--;){l=b[q];z=a[q];z=z&&z.region;g="position:absolute;background:"+k+";width:"+t.Bh(l.width+2*h)+"px;height:"+t.Bh(l.height+2*h)+"px;";f.xd(c(z,l,d,p,h),function(a,b){g+=a+":"+b+";";});n+='<div style="'+g+'"></div>';}return n;};b.OFa=c;b.pib=l;b.rib=q;b.oib=n;b.qib=k;b.NFa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return p.LA(b);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.MTa=void 0;c=a(10);b.MTa=function(a,b){function n(a,b,t){var q,l,g,m;if(a&&1<a.length){for(var f=[],h=[],p=0;p<a.length;p++)f[p]=0,h[p]=0;for(var n=!1,p=0;p<a.length;p++)for(var d=p+1;d<a.length;d++){l=a[p];g=a[d];if(0>l.width||0>g.width||g.left>l.left+l.width||g.left+g.width<l.left||g.top>l.top+l.height?0:g.top+g.height>=l.top){q=c.Gl(l.left,g.left);m=c.Gl(l.top,g.top);q={width:c.Gl(c.Om(l.left+l.width,g.left+g.width)-q,0),height:c.Gl(c.Om(l.top+l.height,g.top+g.height)-m,0),x:q,y:m};}else q=void 0;if(q&&1<q.width&&1<q.height)if(m=q.width<=q.height,l=k(a[p]),g=k(a[d]),m&&b||!m&&!b)q=c.Gl(q.width/2,.25),l.x<=g.x?(h[p]-=q,h[d]+=q):(h[d]-=q,h[p]+=q);else if(m&&!b||!m&&b)l=c.Gl(q.height/2,.25),f[p]-=l,f[d]+=l;}for(p=0;p<a.length;p++){if(-.25>h[p]&&0<=a[p].left+h[p]||.25<h[p]&&a[p].left+a[p].width+h[p]<=t.width)a[p].left+=h[p],n=!0;if(-.25>f[p]&&0<=a[p].top+f[p]||.25<f[p]&&a[p].top+a[p].height+f[p]<=t.height)a[p].top+=f[p],n=!0;}return n;}}function k(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0>a.left&&a.left+a.width<b.width?a.left+=c.Om(-a.left,b.width-(a.left+a.width)):a.left+a.width>b.width&&0<a.left&&(a.left-=c.Om(a.left+a.width-b.width,a.left));0>a.top&&a.top+a.height<b.height?a.top+=c.Om(-a.top,b.height-(a.top+a.height)):a.top+a.height>b.height&&0<a.top&&(a.top-=c.Om(a.top+a.height-b.height,a.top));});}(a,b));for(var p=0;50>p&&n(a,!0,b);p++);for(p=0;50>p&&n(a,!1,b);p++);return a;};},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.nxa=void 0;c=a(22);l=a(289);q=a(288);n=a(10);k=a(20);d=function(){function a(a,b){this.Yda=a;this.ZA={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.uRa(b);this.xGa=this.Jlb(this.Yda);}a.prototype.Fn=function(){return this.element;};a.prototype.SCb=function(a){this.oaa=a;};a.prototype.bDb=function(a){this.pe=a;this.PH();};a.prototype.hDb=function(a){this.uRa(a);this.PH();};a.prototype.PH=function(){var b,f,k,p,n,d,g,F,L,H,U,r,Q,y;b=this;f=this.Fn();k=f.parentElement;p=k&&k.clientWidth||0;n=k&&k.clientHeight||0;d=k=0;g={width:p,height:n};if(0<p&&0<n&&this.pe){this.oaa&&(g=c.gG(p,n,this.oaa),k=Math.round((p-g.width)/2),d=Math.round((n-g.height)/2));F=this.Zab(g);H=c.gG(F.width,F.height,this.oaa);F=(L=this.pe.blocks)&&L.map(function(f){var h;h=q.mda(f,H,b.Yda,b.xGa);f=q.NFa(f)+";position:absolute";return c.createElement("div",f,h,a.C3);});}Object.assign(this.ZA,{left:k+"px",right:k+"px",top:d+"px",bottom:d+"px"});f.style.display="none";f.style.direction=this.ZA.direction;f.innerHTML="";if(F&&F.length){p=g.width;k=g.height;U=g;this.VL&&(U=this.w8a(g,this.VL,n,d));this.ZA.margin=this.Wo?this.dW(g,"top")+"px "+this.dW(g,"right")+"px "+this.dW(g,"bottom")+"px "+this.dW(g,"left")+"px ":void 0;F.forEach(function(a){return f.appendChild(a);});n=c.LA(this.ZA);f.style.cssText=n+";visibility:hidden;z-index:-1";for(var d=[],m=F.length-1;0<=m;m--){r=F[m];Q=L[m];y=this.VMa(r,Q,p,k);y.width>p&&(r.innerHTML=q.mda(Q,g,this.Yda,this.xGa,p/y.width),y=this.VMa(r,Q,p,k));d[m]=y;}d=l.MTa(d,U);if(m=L&&L[0]&&L[0].textNodes&&L[0].textNodes[0]&&L[0].textNodes[0].style)U=m.windowColor,m=m.windowOpacity,U&&0<m&&(g=q.PFa(L,d,Math.round(k/50),U,g),g=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+m,g,a.C3),f.insertBefore(g,f.firstChild));f.style.display="none";for(g=d.length-1;0<=g;g--)U=F[g].style,m=q.OFa(L[g].region,d[g],p,k,0),Object.assign(U,m);f.style.cssText=n;}};a.prototype.Vla=function(a){this.VL=a;this.PH();};a.prototype.Afa=function(){return this.VL;};a.prototype.Wla=function(a){this.Wo=a;this.PH();};a.prototype.Bfa=function(){return this.Wo;};a.prototype.Cfa=function(){return"block"===this.ZA.display;};a.prototype.Xla=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.ZA.display=b;a&&this.PH();};a.prototype.Jlb=function(a){var b,c;b=this;c={};k.xd(a,function(a,f){c[a]=b.Ktb(f);});return c;};a.prototype.uRa=function(a){this.ZA.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};a.prototype.dW=function(a,b){if(this.Wo){if("left"===b||"right"===b)return a.width*(this.Wo[b]||0);if("top"===b||"bottom"===b)return a.height*(this.Wo[b]||0);}return 0;};a.prototype.Zab=function(a){return this.Wo?{height:a.height*(1-(this.Wo.top||0)-(this.Wo.bottom||0)),width:a.width*(1-(this.Wo.left||0)-(this.Wo.right||0))}:a;};a.prototype.Ktb=function(b){var f;b=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+b+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a.C3);n.ne.body.appendChild(b);f={fontSize:1E3,height:b.clientHeight,width:b.clientWidth/52,lineHeight:b.clientHeight/1E3};n.ne.body.removeChild(b);return f;};a.prototype.VMa=function(a,b,c,k){var f,h,t,p,n;f=b.region;h=(f.marginTop||0)*k;t=(f.marginBottom||0)*k;p=(f.marginLeft||0)*c;n=(f.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(f.verticalAlignment){case"top":k=h;break;case"center":k=(h+k-t-a)/2;break;default:k=k-t-a;}switch(f.horizontalAlignment){case"left":c=p;break;case"right":c=c-n-b;break;default:c=(p+c-n-b)/2;}return{top:k,left:c,width:b,height:a};};a.prototype.w8a=function(a,b,c,k){return{height:c-Math.max(k,b.bottom||0)-Math.max(k,b.top||0),width:a.width};};a.C3={"class":"player-timedtext-text-container"};return a;}();b.nxa=d;},function(d,b,a){var l,q,n,k,p,h,f;function c(a){var b,c,h,t;b=this;this.j=a;this.uM=void 0;this.T8=n.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.K8=n.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.A8=n.createElement("DIV","width:100%;text-align:center");this.h3a=this.N8("Audio Bitrate");this.A$=this.N8("Video Bitrate");this.E8=this.N8("CDN");this.$K={};this.IY=k.Y.get(p.Qj);this.T8.appendChild(this.K8);this.K8.appendChild(this.A8);c=n.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.$2a.bind(this),!1);this.A8.appendChild(c);c=n.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.m7a.bind(this),!1);this.A8.appendChild(c);h=this.A6a.bind(this);q.He.addListener(q.Ox,h);a.addEventListener(f.U.Vo,function(){b.$K={};});a.addEventListener(f.U.yf,function(){q.He.removeListener(q.Ox,h);});t=this.Z6a.bind(this);a.gc.forEach(function(a){a.addListener(t);});a.jd.addListener(t);a.mg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;l=a(50);q=a(56);n=a(22);k=a(5);p=a(30);h=a(102);f=a(13);c.prototype.show=function(){this.sL||(this.rAa(),this.j.If.appendChild(this.T8),this.sL=!0);};c.prototype.Mo=function(){this.sL&&(this.j.If.removeChild(this.T8),this.sL=!1);};c.prototype.toggle=function(){this.sL?this.Mo():this.show();};c.prototype.STa=function(){var c,f,h;function a(a,b,c){var f,h,k;k=[];b.filter(function(b){return b.Qf===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.O:h=a.O,void 0===h&&(h=a.O)):void 0!==f&&void 0!==h&&(k.push({min:f,max:h}),f=h=void 0);});void 0!==f&&void 0!==h&&(k.push({min:f,max:h}),f=h=void 0);return k;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.Qf===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.O},disallowedBy:["manual"]});});return f;}c=this.j.px();f=this.j.rB().sort(function(a,b){return a.O-b.O;});h=f.reduce(function(a,b){0>a.indexOf(b.Qf)&&a.push(b.Qf);return a;},[]).map(function(h){return{profile:h,ranges:a(h,f,c),disallowed:b(h,f,c)};});this.j.Gb.CC(h,this.j.u);};c.prototype.$2a=function(){var c,f,a,b;this.$K={};for(var a=this.A$.options,b=a.length;b--;){c=a[b];c.selected&&(this.$K[c.value]=1);}this.uM=this.K3a.bind(this);this.STa();if(a=this.j.qj){f=this.E8.value;a=a.filter(function(a){return a.id==f;})[0];b=this.j.gc[l.yc.La.VIDEO].value;a&&a!=b&&(a.$Ca={testreason:"streammanager",selreason:"userselection"},this.j.gc[l.yc.La.VIDEO].set(a));}this.Mo();};c.prototype.m7a=function(){this.uM=void 0;this.j.JRa(this.j.u);this.Mo();};c.prototype.K3a=function(){var a;a=this;return this.j.rB().filter(function(b){return a.$K[b.O];});};c.prototype.rAa=function(){var a,b,c,f;a=this;b=this.j.jd.value;c=this.j.mg.value;f=this.j.qj;b&&(f=f.slice(),f.sort(function(a,b){return a.Sf-b.Sf;}),this.g$(this.h3a,b.dc.map(function(b){return{value:b.O,caption:b.O,selected:b==a.j.al.value};})));c&&(this.g$(this.A$,c.dc.map(function(b){var c,f;c=a.j.wO.Bs(b);b=b.O;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.uM?a.$K[b]:!c};})),this.A$.removeAttribute("disabled"));f&&(this.g$(this.E8,f.map(function(b){return{value:b.id,caption:"["+b.id+"] "+b.name,selected:b==a.j.gc[l.yc.La.VIDEO].value};})),this.E8.removeAttribute("disabled"));};c.prototype.Z6a=function(){this.sL&&this.rAa();};c.prototype.N8=function(a){var b,c;b=n.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=n.createElement("DIV",void 0,a);c=n.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.K8.appendChild(b);return c;};c.prototype.g$=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=n.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.A6a=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==h.Rq.D1a&&this.IY.Vga&&this.toggle();};b.iva=c;},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.Zra=void 0;c=a(12);l=a(35);q=a(2);n=a(182);k=a(10);p=a(15);h=a(13);f=a(5);t=a(172);b.Zra=function(a){var d,g,z,L;function b(){a.state.value!==h.nb.ud||a.Ob.value!==h.jb.Ch&&a.Ob.value!==h.jb.Pq?g.wi():g.bB();}d=c.config.cxb;if(!a.BB()&&d){g=f.Y.get(t.ZJ)(d,function(){a.fireEvent(h.U.BG,q.J.$S);});a.Ob.addListener(b);a.state.addListener(b);if(c.config.nga){L=l.Og();z=new n.m7(c.config.nga,function(){var b,f;b=l.Og();f=b-L;f>d&&(a.fireEvent(h.U.BG,q.J.BS),z.mba());f>2*c.config.nga&&(a.oga=k.Gl(f,a.oga||0));L=b;});z.Yla();}a.addEventListener(h.U.yf,function(){g.wi();p.Xb(z)&&z.mba();});}};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.vra=void 0;c=a(13);l=a(67);b.vra=function(a){function b(b){a.fireEvent(c.U.vx,{response:b,u:a.fa.u});}return{download:function(c,p){c.j=a;c=l.Re.download(c,p);c.K$(b);return c;}};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.qxa=void 0;c=a(22);d=function(){function a(a,b){var c;c=this;this.cIa=a;this.vNa=b;this.Uma=!1;this.kv=function(){c.Jm=void 0;c.update();};}a.prototype.update=function(a){var b,k,p;b=this.cIa();if(this.eUa!==b){c.Xb(b)&&c.Xb(this.duration)&&b<this.duration&&this.entries&&(p=this.PMa||this.entries[Math.floor(b*this.MFb)]||this.entries[0]);if(p){for(;p&&p.endTime<b;)p=p.next;for(;p&&p.previous&&p.previous.endTime>=b;)p=p.previous;}p&&(p.startTime<=b&&b<=p.endTime?(k=p,this.$Ta(p.endTime-b)):this.$Ta(p.startTime-b));this.PMa=p;this.eUa=b;this.J$!==k&&(this.J$=k,!a&&this.vNa&&this.vNa());}};a.prototype.start=function(){this.Uma=!0;this.update();};a.prototype.vRa=function(a){this.PMa=this.J$=this.eUa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(fa(a.map(function(a){return a.endTime;}))))||0;this.MFb=a&&a.length/this.duration||0;this.update();};a.prototype.stop=function(){this.Uma=!1;this.wi();};a.prototype.nkb=function(){this.update(!0);return this.J$;};a.prototype.$Ta=function(b){this.wi();this.Uma&&0<b&&(this.Jm=setTimeout(this.kv,b+a.b0a));};a.prototype.wi=function(){this.Jm&&(clearTimeout(this.Jm),this.Jm=void 0);};a.b0a=10;return a;}();b.qxa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l5=void 0;b.l5="LicenseBrokerFactorySymbol";},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.wr=void 0;c=a(9);l=a(12);d=a(2);q=a(5);n=a(22);k=a(10);a=a(24);q.Y.get(a.sf).register(d.J.Dra,function(a){var f,t,p;function h(){p&&clearTimeout(p);a(c.gd);h=n.Xe;}f=q.rh("BatteryManager");b.wr={zWa:"chargingchange",RHa:function(){return t?t.level:null;},zea:function(){return t?t.charging:null;},addEventListener:function(a,b){t&&t.addEventListener(a,b);},removeEventListener:function(a,b){t&&t.removeEventListener(a,b);}};if(l.config.eM){p=setTimeout(h,l.config.Ikb);try{k.Di.getBattery().then(function(a){t=a;h();})["catch"](function(a){f.error("getBattery promise rejected",a);h();});}catch(G){f.error("exception on getBattery api call",G);h();}}else h();});},function(d,b,a){var h,f,t,g,G,D,J,F;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function l(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function q(a,b,f){var k;if("string"===typeof a)return q.call(this,c(a),b,f);k=0;Object.keys(a).forEach(function(c){var t,p,n;t=G[c];p=a[c];if(t){if(n=D[c]||F[typeof h[t]])try{p=n(p);}catch(qa){f&&f.error("Failed to convert value '"+p+"' for config '"+c+"' : "+qa.toString());return;}n=g[t];this[t]=p;g[t]!==n&&(f&&f.debug("Config changed for '"+c+"' from "+l(n)+" ("+typeof n+") to "+l(p)+" ("+typeof p+")"),++k);}else b?(t=(t=J[c])?t.filter(function(a){return a[0]!==this;},this):[],t.push([this,p]),J[c]=t):f&&f.error("Attempt to change undeclared config option '"+c+"'");},this);k&&g.emit("changed");return k;}function n(){return Object.keys(G).reduce(function(a,b){var c,f;c=G[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function k(a,b){return a.hasOwnProperty(b)?l(a[b]):void 0;}function p(a,b){return"undefined"===typeof a?b:a;}b=a(58);a=a(105).EventEmitter;h={};f=Object.create(h);t=Object.create(f);g=Object.create(t);G={};D={};J={};g.declare=function(a){Object.keys(a).forEach(function(b){var c,f,k,t;c=a[b];f=c[0];k=c[1];t=c[2];if(h.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(G.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");h.hasOwnProperty(b)||("function"===typeof k&&(k=k()),h[b]=k);G[a]=b;"function"===typeof t&&(D[a]=t);if(c=J[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];q.call(c,f,!1);}),delete J[a];});});return g;};F={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};g.set=q.bind(f);g.uH=q.bind(t);g.dump=function(a,b){var d,q,z,F;function c(){F&&a&&a.log("===========================================");}d=Object.keys(J).sort();q={};z=n();b=p(b,!0);Object.keys(G).sort().forEach(function(n){var d,D,L;n=G[n];!q[n]&&(q[n]=!0,D=k(f,n),L=k(t,n),b||"undefined"!==typeof D||"undefined"!==typeof L)&&(d=z[n].join(","),d+=" = "+l(g[n])+" ("+typeof g[n]+") [",d+=p(L,"<unset>")+",",d+=p(D,"<unset>")+",",d+=k(h,n)+"]",F||(F=!0,a&&a.log("Current config values"),c()),a&&a.log(d));});(b||d.length)&&a&&a.log("<undeclared> :",d);c();};g.Do=function(a){var b,c;b={};c={};Object.keys(G).forEach(function(a){a=G[a];c[a]||(c[a]=!0,b[a]=g[a]);});a&&q.call(b,a);return b;};g.vOa=function(){var a;a=n();return Object.getOwnPropertyNames(f).reduce(function(b,c){b[a[c][0]]=f[c];return b;},{});};g.reset=function(){Object.keys(f).forEach(function(a){delete f[a];});};g.hn={};b(a,g);d.P=Object.freeze(g);},function(d,b,a){var l,q,n,k,p;function c(a){var b,c;b=k.platform;l.rh("MediaSourceASE").trace("Inside MediaSourceASE");c=a.Yea();this.readyState=p.jc.CLOSED;this.sourceBuffers=c.sourceBuffers;this.addSourceBuffer=function(a){return c.addSourceBuffer(a);};this.IV=function(a){return c.IV(a);};this.removeSourceBuffer=function(a){return c.removeSourceBuffer(a);};this.An=function(a){return c.An(a);};this.sourceId=b.rN();b.MN();this.duration=void 0;c.RCb(this.sourceId);this.readyState=p.jc.OPEN;this.vc=q.Y.get(n.tf).fH(p.vc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.yta=void 0;l=a(5);q=a(5);n=a(26);k=a(50);Object.defineProperty(c.prototype,"duration",{get:function(){return this.ij;},set:function(a){var b;this.ij=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.ij=b;});}});p={jc:{CLOSED:0,OPEN:1,Pq:2,name:["CLOSED","OPEN","ENDED"]},vc:{yDa:!0,FMa:!0}};b.yta=Object.assign(c,p);},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.tSa=void 0;c=a(300);l=a(5);q=a(435);n=a(26);b.tSa=function(a){a({da:!0,storage:new c.k5(l.Y.get(q.m5),l.Y.get(n.tf))});};},function(d,b){function a(a,b){this.sr=a;this.Sc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.k5=void 0;a.prototype.load=function(b,d){var c;c=this;this.sr.load(b).then(function(b){d&&d(a.DSa(b));})["catch"](function(a){d&&d(c.YF(b,a));});};a.prototype.save=function(b,d,q,n){var c;c=this;this.sr.save(b,d,q).then(function(){n&&n(a.DSa({key:b,value:d}));})["catch"](function(a){n&&n(c.YF(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.sr.remove(a).then(function(){b&&b({da:!0,Q1:a});})["catch"](function(n){b&&b(c.YF(a,n));});};a.DSa=function(a){return{da:!0,data:a.value,Q1:a.key};};a.prototype.YF=function(a,b){return{da:!1,Q1:a,ga:b.ga,rb:b.cause?this.Sc.Fe(b.cause):void 0};};b.k5=a;},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.sSa=void 0;c=a(5);l=a(71);q=a(26);n=a(300);k=a(433);b.sSa=function(a){c.Y.get(l.Kq).create().then(function(b){a({da:!0,storage:new n.k5(b,c.Y.get(q.tf)),Go:c.Y.get(k.Q3)});})["catch"](function(b){a(b);});};},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.uSa=void 0;c=a(9);l=a(5);q=a(2);a(20);b.uSa=function(a){var b;l.rh("Storage");b={};a({da:!0,storage:{load:function(a,c){b.hasOwnProperty(a)?c({da:!0,data:b[a],Q1:a}):c({ga:q.I.pw});},save:function(a,c,f,k){f&&b.hasOwnProperty(a)?k({da:!1}):(b[a]=c,k&&k({da:!0,Q1:a}));},remove:function(a,h){delete b[a];h&&h(c.gd);}}});};},function(d,b,a){var l,q,n,k,p,h,f,t,g,G,D,J,F,L,H,U,m,r,Q,y,T,u,da,W,ka,O,oa,ta,za,P,va,ga,Fa,Ga,la,Ea,Qa,Oa,A;function c(a,b,c,f,h,k,p,d,q,z,F,U,R,r,aa,O,qa,P,ga,va,za,Qa,Ga,Oa,A,E,vb,S){var ba,fb,jb,ib;function Ia(a){a.newValue!==la.jb.Xf&&a.newValue!==la.jb.Ch&&(ba.Ob.removeListener(Ia),ba.DG=ba.Ja.v1,ba.Jb.Vb(la.U.Rn));}function mb(a){a.newValue!==la.jb.Xf&&(ba.Ob.removeListener(mb),ba.FOa=ba.Ja.ef.ba(T.ia));}ba=this;this.zG=h;this.qa=p;this.gF=d;this.Ja=q;this.Zha=z;this.$ha=R;this.i_=r;this.Ac=aa;this.he=O;this.Ej=qa;this.dx=P;this.Nja=ga;this.Yha=va;this.fna=za;this.Lh=Qa;this.Sc=Ga;this.Mja=Oa;this.zk=A;this.V0=E;this.FL=vb;this.hW=S;this.KOa=[];this.BH={};this.jd=new G.Mc(null);this.mg=new G.Mc(null);this.tc=new G.Mc(null);this.nj=new G.Mc(null);this.Is=new G.Mc(void 0);this.rf=new G.Mc(null);this.al=new G.Mc(null);this.$b=new G.Mc(void 0);this.playbackRate=new G.Mc(1);this.nna=function(a){return ba.jd.set(a.newValue);};this.tHb=function(a){return ba.mg.set(a.newValue);};this.qHb=function(a){return ba.tc.set(a.newValue);};this.QGb=function(a){return ba.nj.set(a.newValue);};this.pHb=function(a){return ba.Is.set(a.newValue);};this.sHb=function(a){return ba.rf.set(a.newValue);};this.RGb=function(a){return ba.al.set(a.newValue);};this.hHb=function(a){return ba.kf.set(a.newValue);};this.gHb=function(a){return ba.jg.set(a.newValue);};this.aHb=function(a){return ba.$b.set(a.newValue);};this.eHb=function(a){return ba.playbackRate.set(a.newValue);};this.Nn={};this.cla=this.Yma=0;this.Jb=new J.dj();this.dR={};this.Dza=0;this.mSa=!1;this.state=new G.Mc(la.nb.JD);this.rq=new G.Mc(!1);this.paused=new G.Mc(!1);this.muted=new G.Mc(!1);this.volume=new G.Mc(D.config.egb/100);this.Ob=new G.Mc(la.jb.Xf);this.fx=new G.Mc(la.We.we);this.yo=new G.Mc(la.We.we);this.Hk=new G.Mc(la.We.we);this.jg=new G.Mc(null);this.kf=new G.Mc(null);this.Oaa=new G.Mc(null);this.fZ=t.vra(this);this.t_=[];this.gc=[];this.Eaa={};this.OM=this.BFa=!1;this.NEb=this.Fa=this.th=-1;this.pfa=function(a,b){a=void 0===a?null:a;return ta.la(a)?b&&!ba.Du(b).ya?a:ba.Gb?ba.Gb.Fr(void 0,a,b):a:null;};this.xNa=function(){ba.oma();};this.pPa=this.zG.MA();this.PA=a;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.Vb;h=D.config.ep&&this.Ac()?this.Ac().GY(a):void 0;this.R$({oa:a,Na:f,Oa:c||{}},h,b);this.log=y.Qg(this);this.Cca=k(this);this.T$a=F(this);this.If=Fa.createElement("DIV",g.k7,void 0,{id:this.u});this.Jpb();fb=U(T.ah(1));this.ge=this.log.Tba("Playback");this.Ixb=n.Wua(this);H.QD.Iub=this;H.QD.Tda||(H.QD.Tda=this);this.ge.info("Playback created",this.Tg);this.Iha?this.ge.info("Playback selected for trace playback info logging"):this.ge.trace("Playback not selected for trace playback info logging");D.config.ep&&this.Ac()&&(this.Ac().uob(this.u),this.addEventListener(la.U.Rn,function(){ba.Ac().vob(ba.u);ba.tc.addListener(function(){ba.Ac().TIa();});ba.jd.addListener(function(){ba.Ac().TIa();});}),this.addEventListener(la.U.yf,function(){ba.Ac().tob(ba.u);}));this.state.addListener(function(a){ba.ge.info("Playback state changed",{From:a.oldValue,To:a.newValue});W.Wa(a.newValue>a.oldValue);});L.He.addListener(L.ll,this.xNa,g.YS);this.$b.addListener(function(){fb.Kc(function(){return ba.qGa();});});ib=!1;this.paused.addListener(function(a){var b;b=ba.Gb;!a.dja&&b&&(!0===a.newValue?b.paused&&b.paused():b.SQ&&b.SQ());a.newValue||(ib=!1);ba.ge.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.fh(ba.$b.value)});});this.addEventListener(la.U.ys,function(a){ba.V0.ys(a);ba.fa.vm.xvb(a.PO,a.kH);});this.Ob.addListener(function(a){ba.ge.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.fh(ba.$b.value)},ba.VG());});this.Ob.addListener(function(){ba.rq.set(ba.Ob.value===la.jb.Nc);});this.fx.addListener(function(a){ba.ge.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.fh(ba.$b.value)},ba.VG());});this.yo.addListener(function(a){ba.ge.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.fh(ba.$b.value)},ba.VG());});this.Hk.addListener(function(a){ba.ge.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.fh(ba.$b.value)},ba.VG());});this.jd.addListener(function(a){W.Wa(a.newValue);ba.ge.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.bl,To:a.newValue.cb},a.oldValue&&{FromBcp47:a.oldValue.bl,From:a.oldValue.cb},{MediaTime:ka.fh(ba.$b.value)});});this.mg.addListener(function(){for(var a=ba.rB(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].Sob=a[c+1];});this.tc.addListener(function(a){ba.ge.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.bl,To:a.newValue.cb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.bl,From:a.oldValue.cb}:{From:"none"},{MediaTime:ka.fh(ba.$b.value)});});this.gc[l.yc.La.AUDIO]=new G.Mc(null);this.gc[l.yc.La.VIDEO]=new G.Mc(null);this.Ob.addListener(mb,g.Bz);this.Ob.addListener(Ia);this.addEventListener(la.U.Rn,function(){var a,b,c,f;ba.mSa=!0;ba.sEb=ba.Uaa();ba.dd("start");a=ba.kf.value;b=N._cad_global.prefetchEvents;if(b){c=T.Ib(ba.Hn?ba.Hn.audio:0);f=T.Ib(ba.Hn?ba.Hn.video:0);b.wm(ba.u,ba.ha,"notcached"!==ba.du,"notcached"!==ba.jx,!!ba.Hn,c,f);}ba.tZ=a.stream.O;});Q.bva(this);H.Rm.push(this);D.config.BP&&(this.r0=this.Mja(this),this.s0=new m.iva(this));H.U6.forEach(function(a){a(ba);});this.f9a=function(a){ba.addEventListener(la.U.ys,function(b){b=b.cause;b!==la.Ae.nz&&b!==la.Ae.Gz&&a.stop();});ba.addEventListener(la.U.gp,function(b){var c,f,h,k,t,p,n;c=b.cause;f=b.skip;h=b.kH;k=b.PO;t=b.u;b=b.Li;if(c!==la.Ae.Gz&&(D.config.Gjb&&c===la.Ae.WJ&&ba.Gm.cM(),c!==la.Ae.nz))if(f)if(a.fu(h)){ba.ge.trace("Repositioned. Skipping from "+k+" to "+h);c=function(a){ba.log.error("streamingSession.skipped threw an exception",a);a=Ea.Bc.UX(u.J.gVa,a);ba.Sn(a.code,a);};try{p=a.Ph(h);p?p.then(function(b){b.EG||a.play();})["catch"](c):a.play();}catch(Mc){c(Mc);}}else ba.log.error("can skip returned false");else{ba.ge.trace("Repositioned. Seeking from "+k+" to "+h);try{n=ba.gm(t).Na;a.Dy(b,ba.QHa(n),n);}catch(Mc){ba.log.error("streamingSession.seekByContentPts threw an exception",Mc);h=Ea.Bc.UX(u.J.eVa,Mc);ba.Sn(h.code,h);}}});a.addEventListener("maxPosition",function(a){var b;b=T.Ib(a.maxPts);if(a=ba.tv[a.index])a.Er=b;ba.qq||(ba.qq=b);});a.addEventListener("segmentStarting",function(a){ba.fireEvent(la.U.lCb,a);});a.addEventListener("lastSegmentPts",function(a){ba.fireEvent(la.U.hCb,a);});a.addEventListener("segmentPresenting",function(a){ba.fireEvent(la.U.n1,a);});a.addEventListener("segmentAborted",function(a){ba.fireEvent(la.U.fCb,a);});a.addEventListener("manifestPresenting",function(a){ba.BLa({u:parseInt(a.movieId),A0:a.previousMovieId?parseInt(a.previousMovieId):void 0,yB:!1});});a.addEventListener("skip",function(a){ba.fireEvent(la.U.Ph,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(ba.ge.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),ba.ge.trace("StreamingFailure, buffer status:"+JSON.stringify(ba.VG())),oa.oc(function(){ba.Sd(ba.he(u.J.fVa,{ga:a.nativeCode,rb:a.errormsg,Ni:a.httpCode,L_:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){ba.t_.push(a);});a.addEventListener("bufferingStarted",function(){ba.yo.set(la.We.we);});a.addEventListener("locationSelected",function(a){ba.fireEvent(la.U.Yr,a);});a.addEventListener("serverSwitch",function(a){var b;ba.fireEvent(la.U.dI,a);"video"===a.mediatype?b=l.yc.La.VIDEO:"audio"===a.mediatype&&(b=l.yc.La.AUDIO);ta.Xb(b)&&ba.XCb(a.server,b);});a.addEventListener("bufferingComplete",function(b){ba.ge.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},ba.VG());ba.zo=b;ba.yo.set(la.We.ud);jb||(jb=!0,ba.dd("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.wNa();D.config.axb&&!ba.paused.value&&(ib=!0,ba.paused.set(!0,{dja:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){ba.paused.value&&ib&&(ib=!1,ba.paused.set(!1,{dja:!0}));ba.Ti.Cvb();});a.addEventListener("asereportenabled",function(){ba.OM=!0;});a.addEventListener("asereport",function(a){ba.fireEvent(la.U.fF,a);});a.addEventListener("aseexception",function(a){ba.fireEvent(la.U.eF,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=ta.la(ba.hf)?0:ba.hf;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});ba.$fa={XAb:c,apb:a.hptwbr,uJa:a.htwbr,l0:a.pbtwbr};a.rr&&(ba.$fa.HQa=a.rr);a.ra&&(ba.$fa.yzb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;ba.Fa=a.location.bandwidth;ba.th=a.location.httpResponseTime;ba.NEb=a.stat.streamingBitrate;b&&(void 0===ba.EA&&(ba.EA={interval:D.config.DA,startTime:b.startTime,Wt:[],Ov:[]}),ba.EA.Wt=ba.EA.Wt.concat(b.Wt),ba.EA.Ov=ba.EA.Ov.concat(b.Ov));a.psdConservCount&&(ba.nPa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+ba.u&&(ba.Hn=a);});a.addEventListener("startEvent",function(a){N._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&N._cad_global.prefetchEvents.bM(da.ze.Pj.MEDIA,ba.u);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.tF&&a.tF.cadmiumResponse;b&&ba.fireEvent(la.U.vx,{response:b,u:ba.Du(a.Na).u});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===l.yc.La.VIDEO?(c=ba.dJa(a.streamId),b=ba.rf):a.mediaType===l.yc.La.AUDIO&&(c=ba.VIa(a.streamId),b=ba.al);c&&b?b.set(c,{nDa:a.movieTime,O$a:a.bandwidth}):ba.ge.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=ba.Nn[a.target];c=ta.la(ba.hf)?ba.hf:0;b||(b=ba.Nn[a.target]={});Object.keys(a.fields).forEach(function(f){var h,k,t,p;h=a.fields[f];if("object"!==typeof h||null===h)b[f]=h;else{k=h.type;if("count"===k)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==h.value)if("array"===k){k=b[f];t=h.adjust;p=h.value;k||(k=b[f]=[]);t&&0<t.length&&t.forEach(function(a){p[a]-=c||0;});k.push(p);}else"sum"===k?(void 0===b[f]&&(b[f]=0),b[f]+=h.value):b[f]=h.value;else b[f]=h;}});}});};this.jd.addListener(function(a){var b,c,f,h;if(ba.Gb)if(a.qx&&a.qx.EBa)ba.ge.trace("Not processing already applied track",null===(b=a.newValue)||void 0===b?void 0:b.cb);else{h=a.newValue;ba.Gb.LSa({zA:h.wB,toJSON:function(){return h.Tg;}})?ba.ge.trace("ASE accepted the audio track switch",null===(f=a.newValue)||void 0===f?void 0:f.cb):(ba.ge.trace("ASE rejected the audio track switch",null===(c=a.newValue)||void 0===c?void 0:c.cb),a.oldValue.wB!==h.wB&&ba.jd.set(a.oldValue,{EBa:!0}));}});this.addEventListener(la.U.$t,function(a){a.cause==H.Q6&&(ba.fx.set(la.We.we),ba.Gb.NTa(ba.Ti.xHa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;l=a(50);q=a(190);n=a(189);k=a(122);p=a(296);h=a(620);f=a(619);t=a(293);g=a(9);G=a(185);D=a(12);J=a(76);F=a(292);L=a(56);H=a(57);U=a(80);m=a(291);r=a(616);Q=a(287);y=a(5);T=a(3);u=a(2);da=a(115);W=a(16);ka=a(91);O=a(20);oa=a(59);ta=a(15);za=a(121);P=a(286);va=a(112);ga=a(183);Fa=a(22);Ga=a(123);la=a(13);Ea=a(47);Qa=a(188);Oa=a(284);A=a(130);c.prototype.dd=function(a,b){b=void 0===b?this.PA:b;this.BH[b].dd(a);};c.prototype.Ju=function(a){this.fa.Ju(a);};c.prototype.Jpb=function(){var a;a=this;this.jd.addListener(function(b){return a.fa.jd.set(b.newValue);});this.mg.addListener(function(b){return a.fa.mg.set(b.newValue);});this.tc.addListener(function(b){return a.fa.tc.set(b.newValue);});this.nj.addListener(function(b){return a.fa.nj.set(b.newValue);});this.Is.addListener(function(b){return a.fa.Is.set(b.newValue);});this.rf.addListener(function(b){return a.fa.rf.set(b.newValue);});this.al.addListener(function(b){return a.fa.al.set(b.newValue);});this.kf.addListener(function(b){return a.fa.kf.set(b.newValue);});this.jg.addListener(function(b){return a.fa.jg.set(b.newValue);});this.$b.addListener(function(b){return a.fa.$b.set(b.newValue);});this.playbackRate.addListener(function(b){return a.fa.playbackRate.set(b.newValue);});this.DQa();};c.prototype.DQa=function(){this.fa!==this.Cla&&(this.fa.$b.set(this.$b.value),this.fa.playbackRate.set(this.playbackRate.value),this.Jq(function(a){return a.jd;},this.nna),this.Jq(function(a){return a.mg;},this.tHb),this.Jq(function(a){return a.Is;},this.pHb),this.Jq(function(a){return a.tc;},this.qHb),this.Jq(function(a){return a.nj;},this.QGb),this.Jq(function(a){return a.rf;},this.sHb),this.Jq(function(a){return a.al;},this.RGb),this.Jq(function(a){return a.jg;},this.gHb),this.Jq(function(a){return a.kf;},this.hHb),this.Jq(function(a){return a.$b;},this.aHb),this.Jq(function(a){return a.playbackRate;},this.eHb),this.tc.set(this.fa.tc.value),this.jd.set(this.fa.jd.value,{EBa:!0}),this.mg.set(this.fa.mg.value),this.nj.set(this.fa.nj.value),this.Is.set(this.fa.Is.value),this.rf.set(this.fa.rf.value),this.al.set(this.fa.al.value),this.Cla=this.fa);};c.prototype.Jq=function(a,b){this.Cla&&a(this.Cla).removeListener(b);a(this.fa).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.MOa=a;if(this.state.value==la.nb.JD){this.ge.info("Playback loading",this);this.svb();this.dd("asl_load_start");a=this.gF;c=a.endTime;ta.Xb(a.startTime)?ta.Xb(c)?this.dd("asl_ended"):this.dd("asl_in_progress"):this.dd("asl_not_started");this.gF.fO(function(a){b.dd("asl_load_complete");a.da?b.Deb():b.Sn(a.errorCode||u.J.Bra,a);});}};c.prototype.jyb=function(){var a;try{if(this.state.value===la.nb.LOADING){a={width:1,height:1,W$:1};this.rB().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height,a.W$=b.W$);});this.KI=a;this.CA=this.dx.wBa({YC:T.Ib(this.T),u:this.u,fP:this.Er,Oa:this.Oa}).ba(T.ia);this.kaa();this.qfb();}}catch(mb){this.Sn(u.J.NZa,{ga:u.I.Ah,rb:O.Fe(mb)});}};c.prototype.R$=function(a,b,c){var f,h,k;b=void 0===b?this.zG.MA():b;c=void 0===c?this.qa.Zb():c;f=!!D.config.vUa&&!(b%D.config.vUa);h=a.oa;k=a.Na;a=a.Oa;b=this.Nja(H.QD.index++,h,k,a,b,c,f,this.fa,this.pfa);this.BH[h]=b;1<this.tv.length&&(b.Wu=this.i_.create(this,b,!1));b.wO=new U.Ata(this,b);return h;};c.prototype.QHa=function(a){return a?void 0:0;};c.prototype.gm=function(a){return this.BH[a];};c.prototype.Du=function(a){return this.tv.find(function(b){return b.Na===a;})||this.fa;};c.prototype.Mmb=function(a){return this.tv.find(function(b){var c,f;return(null===(f=null===(c=b.zf)||void 0===c?void 0:c.jrb)||void 0===f?void 0:f.sessionId)===a;})||this.fa;};c.prototype.szb=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.gm(a);return this.dRa(f).then(function(a){var h;if(!c.Gb)throw new Ea.Bc(u.J.m6,u.I.ZUa);c.ePa(a,f);a=[f.cc.GEa,f.cc.MEa];h=!1;try{h=!!c.Gb.jBa(f.ya.Pf,{iGb:a,replace:!1,T:f.Oa.T,na:f.Oa.na,hC:!0,Ki:!f.Su,mCa:b,Kp:c.Xba(f.u),npb:!0},f.Na);}catch(hf){throw Ea.Bc.UX(u.J.m6,hf);}if(!h)throw new Ea.Bc(u.J.m6,u.I.$Ua);return f.Su?c.Hb.Aj.kQa(f):Promise.resolve();})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.he(a.code,a);});};c.prototype.zkb=function(){if(ta.la(this.pd.ats)&&ta.la(this.pd.at))return this.pd.at-this.pd.ats;};c.prototype.ZGa=function(){var a,b;a=this.bR();b=this.IL();return Math.min(a,b);};c.prototype.mQ=function(){this.background||(this.ge.info("Starting inactivity monitor for movie "+this.u),new F.Zra(this));};c.prototype.close=function(a){a&&(this.state.value==la.nb.CLOSED?a():this.addEventListener(la.U.closed,function(){a();}));this.oma();};c.prototype.Sd=function(a,b){var c,f,h;c=this;if(this.state.value==la.nb.JD)this.Oi||(this.Oi=a,this.load());else{b&&(this.state.value==la.nb.CLOSED?b():this.addEventListener(la.U.closed,function(){b();}));f=function(){c.oma(a);};h=D.config.PEa&&a&&D.config.PEa[a.errorCode];ta.Ru(h)&&(h=O.Kd(h));this.ge.error("Fatal playback error",{Error:""+a,HandleDelay:""+h});0<=h?setTimeout(f,h):f();}};c.prototype.NQ=function(){this.Jb.Vb(la.U.NQ);};c.prototype.vo=function(a,b){b=void 0===b?this.Na:b;this.KOa.push(this.qa.Zb().ba(T.ia)+"-"+b+"-"+a);};c.prototype.Hjb=function(){this.qGa();};c.prototype.gfa=function(){var a;a=this.Gb;return a&&(a=a.tY(),void 0!==a)?a:null;};c.prototype.pB=function(){return void 0!==this.fa.sW&&void 0===this.Gb?this.fa.sW:this.pfa(this.$b.value,this.Na);};c.prototype.ffa=function(){var a;a=this.pfa(this.Ti.xHa());return null===a?null:Math.min(this.Er.ba(T.ia),Math.max(0,a));};c.prototype.eY=function(){var a,b;return null===(b=null===(a=this.ya)||void 0===a?void 0:a.Pf.iu)||void 0===b?void 0:b.Va;};c.prototype.dHb=function(a){this.Oa=va.Eia(this.Oa,a);this.kaa();};c.prototype.rB=function(a){a=void 0===a?this.u:a;return(a=this.gm(a).mg)&&a.value?a.value.dc:[];};c.prototype.Bob=function(a){for(var b=S(this.tv),c=b.next();!c.done;c=b.next())if(c=(c=c.value.qj)&&c.find(function(b){return b.id===a;}))return c;};c.prototype.wyb=function(a){a=void 0===a?this.fa:a;a.tc.value?this.Wn.uyb(a.tc.value):Promise.resolve();};c.prototype.VIa=function(a){for(var b=S(this.tv),c=b.next();!c.done;c=b.next())for(var c=S(c.value.tn),f=c.next();!f.done;f=c.next())if(f=f.value.dc.find(function(b){return b.ld===a;}))return f;};c.prototype.dJa=function(a){for(var b=S(this.tv),c=b.next();!c.done;c=b.next())for(var c=S(c.value.Mm),f=c.next();!f.done;f=c.next())if(f=(f=f.value)&&f.dc.find(function(b){return b.ld===a;}))return f;};c.prototype.px=function(){var a,b,c;return null!==(c=null===(b=null===(a=this.s0)||void 0===a?void 0:a.uM)||void 0===b?void 0:b.call(a))&&void 0!==c?c:this.dEa().Lc;};c.prototype.JRa=function(a){var b;this.Gb&&this.gm(a)&&((null===(b=this.s0)||void 0===b?0:b.uM)?this.s0.STa():(b=this.Xba(a),this.Gb.CC(b,a)));};c.prototype.Uqb=function(){return"trailer"===this.le;};c.prototype.WJa=function(){return!!this.le&&0<=this.le.indexOf("billboard");};c.prototype.Yqb=function(){return!!this.le&&0<=this.le.indexOf("video-merch");};c.prototype.xqb=function(){return!!this.le&&0<=this.le.indexOf("mini-modal");};c.prototype.BB=function(){return this.Uqb()||this.WJa()||this.Yqb()||this.xqb();};c.prototype.Bea=function(){var h;if(this.Mm){for(var a,b=0;b<this.Mm.length;b++)for(var c=this.Mm[b],f=0;f<c.dc.length;f++){h=c.dc[f];ta.la(h.Yba)&&ta.la(h.DW)&&ta.la(h.BW)&&ta.la(h.AW)&&(0<h.Yba||0<h.DW)&&(h=h.AW/h.BW,a=ta.la(a)?Math.min(a,h):h);}return a;}};c.prototype.enb=function(){return{tr:this.Yma,rt:this.cla};};c.prototype.Cu=function(a){return this.Nn[a];};c.prototype.Pab=function(){return this.Jk?this.qa.Zb().ba(T.ia)-this.Jk:this.Ja.ef.ba(T.ia)-this.$X();};c.prototype.Uaa=function(){var a;if(this.Jk)return this.qa.Zb().ba(T.ia)-this.Jk;a=this.qa.GB;return this.FOa-(this.Ak.ba(T.ia)+a.ba(T.ia));};c.prototype.Vab=function(){return this.Jk?this.qa.Zb().ba(T.ia)-this.Jk:this.FOa-this.$X();};c.prototype.lvb=function(a){var b,c;b=this.hf;c={};O.xd(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};c.prototype.Jkb=function(){var a,b;a=this.hf;b={};O.xd(this.Eaa,function(c,f){b[c]=f.map(function(b){return b-a;});});return p.wr?{level:p.wr.RHa(),charging:p.wr.zea(),statuses:b}:null;};c.prototype.EY=function(){this.pGa();return this.dR;};c.prototype.$X=function(){var a;a=this.Oa.m2;a=ta.la(a)?a:this.Ak.ba(T.ia)+this.qa.GB.ba(T.ia);W.Wa(ta.Qu(a));return a;};c.prototype.lfa=function(){return this.qa.Zb().ba(T.ia)-this.Ak.ba(T.ia);};c.prototype.zDb=function(){this.dR.HasRA=!0;};c.prototype.wIb=function(){this.ZDb=!0;};c.prototype.T_=function(){this.XPa();};c.prototype.bR=function(){var a;a=this.PV();return a&&a.vbuflmsec||0;};c.prototype.IL=function(){var a;a=this.PV();return a&&a.abuflmsec||0;};c.prototype.zna=function(){var a;a=this.PV();return a&&a.vbuflbytes||0;};c.prototype.paa=function(){var a;a=this.PV();return a&&a.abuflbytes||0;};c.prototype.dRa=function(a){var b,c,f,h;a=void 0===a?this:a;b=this;c=D.config.F0.enabled?Ga.Mk.j7:this.BB()?Ga.Mk.v7:Ga.Mk.Sm;c={ha:a.ha,Oa:a.Oa,oa:a.u,Ex:c};f=a.u!==this.u;h=this.qa.Zb().ba(T.ia);return this.Yha.ff(this.log,c).then(function(a){var c;c=b.qa.Zb().ba(T.ia);f&&(a.zy=h,a.rC=c);return a;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.ePa=function(a,b){b=void 0===b?this:b;b.ya=a;a=this.Zha.create(this).Bja(a);b.cc=a;b.mg.set(a.tca);b.jd.set(a.MW);b.tc.set(a.sca);};c.prototype.BGa=function(a,b){this.BLa({u:a,A0:this.PA,yB:void 0===b?!1:b});};c.prototype.cob=function(a,b){this.gm(a.oa)||this.R$(a);this.BGa(a.oa,!0);this.Sd(b);};c.prototype.XIa=function(a,b){if(!this.Ej.v2)return!0;a=this.qq.ba(T.ia)-a;return 0>a||a>b;};c.prototype.BLa=function(a){var b,c;if(a.A0){if(a.u===this.PA)return;b=this.gm(a.u);c=b.ya;c&&ta.Xb(c.zy)&&ta.Xb(c.rC)&&b.Ju({pr_ats:c.zy,pr_at:c.rC});this.fireEvent(la.U.SG,{u:this.PA});this.PA=a.u;this.kaa();a.yB||this.DQa();this.DG=this.Ja.v1;this.fa.Jk||(this.fa.Jk=this.qa.Zb().ba(T.ia));}("boolean"===typeof this.Oa.UF?this.Oa.UF:D.config.UF)&&!a.yB&&this.fna.UF(this);this.fireEvent(la.U.Vo,a);};c.prototype.Deb=function(){try{this.oM=new Qa.ypa(this);this.Wu=this.i_.create(this,this.fa,!0);D.config.gbb&&new Oa.Qqa(this,this.Lh,this.log);D.config.eM&&this.eM(this);this.bIb();}catch(Ia){this.Sn(u.J.MZa,{ga:u.I.Ah,rb:O.Fe(Ia)});}};c.prototype.bIb=function(){this.Oi?this.Sd(this.Oi):ta.Pga(this.u)?this.Bbb():this.Sn(u.J.AZa,{rb:""+this.u});};c.prototype.Bbb=function(){var a;a=q.JC.pRa;a?a.da?this.qba():this.Sn(u.J.Vra,a):(W.Wa(!D.config.pX),this.H$());};c.prototype.qba=function(){var a;a=this;!this.background&&D.config.qba?H.T6(function(){a.H$();},this):this.H$();};c.prototype.H$=function(){var a;a=this;this.state.value==la.nb.LOADING&&(D.config.kda&&!this.BB()?q.JC.tA(H.ava,function(b){b.da?(a.g_=b.g_,D.config.t1?a.OL():a.Hla()):a.Sn(u.J.Ura);},!0):D.config.t1?this.OL():this.Hla());};c.prototype.Hla=function(){var a;a=this;this.state.value==la.nb.LOADING&&(this.dd("ic"),this.Ixb.wCb(function(b){b.error&&a.log.error("Error sending persisted playdata",u.Ap(b));try{a.OL();}catch(fb){a.log.error("playback.authorize threw an exception",fb);a.Sn(u.J.rVa,{ga:u.I.Ah,rb:O.Fe(fb)});}}));};c.prototype.OL=function(){var a,b;a=this;if(this.state.value==la.nb.LOADING){this.log.info("Authorizing",this);b=this.qa.Zb().ba(T.ia);this.dd("ats");this.oM.OL(function(c){var f;if(a.state.value==la.nb.LOADING){a.dd("at");f=a.ya;a.Ju({pr_ats:f&&ta.Xb(f.zy)?f.zy:b,pr_at:f&&ta.Xb(f.rC)?f.rC:a.qa.Zb().ba(T.ia)});c.da?0<a.cc.qj.length&&a.cc.MW&&a.cc.tca&&a.cc.sca?a.Yyb():a.Sn(u.J.s_a,a.$ha(a.cc)):a.Sn(u.J.MANIFEST,c);}});}};c.prototype.Yyb=function(){var a;a=this;this.MOa?(this.log.info("Processing post-authorize",this),this.MOa(this,function(b){b.da?a.VTa():a.Sn(u.J.RZa,b);})):this.VTa();};c.prototype.VTa=function(){var b,c,f,h;b=this;if(this.state.value==la.nb.LOADING){c={};this.Gm=k.$k;D.config.Fjb&&this.Gm.cM();k.Wc.set(a(154)(D.config),!0,y.rh("ASE"));k.Wc.set({maxNumberTitlesScheduled:D.config.QOa?D.config.QOa.maxNumberTitlesScheduled:1},!0,this.ge);D.config.Rcb&&3E5>this.ya.Pf.duration?k.Wc.uH({expandDownloadTime:!1},!0,this.ge):k.Wc.uH({expandDownloadTime:k.Wc.vOa().expandDownloadTime},!0,this.ge);this.background||D.config.kyb&&"postplay"===this.le?k.Wc.uH({initBitrateSelectorAlgorithm:"historical"},!0,this.ge):k.Wc.uH({initBitrateSelectorAlgorithm:k.Wc.vOa().initBitrateSelectorAlgorithm},!0,this.ge);h=this.mg&&this.mg.value&&this.mg.value.dc;h&&h.length&&(f=h[0].Qf);k.Wc.uH(D.Bba(this.Oa.Si,this.Oa.KZ,f),!0,this.ge);c=this.Sc.fH(c,D.Cba(this.le));this.PEb=k.Wc.Do(c);l.platform.events.emit("networkchange",this.cc.QCb);this.Gm.q2({rN:function(){return b.rN();},MN:function(){return b.MN();}});this.jyb();}};c.prototype.qfb=function(){var a,b,c,k,t;a=this;try{this.Hb=new h.rta(this);this.Hb.open();b=new Promise(function(b){a.Hb.addEventListener(ga.$h.dSa,b);});this.Ti=new P.vta(this);c={Af:!1,EI:D.config.EI,u2:D.config.jX,jO:!1,Ki:!this.Su,hC:!!this.Oa.KZ,na:this.Oa.na,mIb:this.cc.MW.Lm===A.Ym.NONE};k={eC:this.log,nl:this.nl,sessionId:this.u+"-"+this.ha,ha:this.ha,aC:this.gk,oh:za.mh?za.mh.oh:void 0,ux:0===D.config.KM||0!==this.ha%D.config.KM?!1:!0};this.BFa=k.ux;t=this.gm(this.u).Na;this.Gb=this.Gm.yn(this.ya.Pf,[this.cc.GEa,this.cc.MEa],this.T,c,k,void 0,{Wd:function(){return a.$b.value;},kIa:function(){return a.playbackRate.value;},Yea:function(){return a.Hb;}},this.PEb,this.Xba(this.u),t);this.f9a(this.Gb);b.then(function(){a.state.value!==la.nb.CLOSING&&a.state.value!==la.nb.CLOSED&&a.Gb.open();});this.$b.set(this.T);this.Wn=new f.oxa(this);if("boolean"===typeof this.Oa.R0?this.Oa.R0:D.config.R0)this.IQ=new r.pxa(this);this.mQ();H.V6.forEach(function(b){b(a);});this.rvb();}catch(jb){this.Sn(u.J.OZa,{ga:u.I.Ah,rb:O.Fe(jb)});}};c.prototype.svb=function(){W.Wa(this.state.value==la.nb.JD);this.hf=this.qa.Zb().ba(T.ia);this.state.set(la.nb.LOADING);N._cad_global.prefetchEvents&&N._cad_global.prefetchEvents.Qxb(this.u);};c.prototype.Sn=function(a,b){this.done||(this.done=!0,b instanceof Ea.Bc?this.Sd(this.he(b.code,b)):this.Sd(this.he(a,b)));};c.prototype.eM=function(a){var c,f;function b(){var b,f;b=p.wr.zea()+"";f=a.Eaa[b];f||(f=a.Eaa[b]=[]);f.push(c.qa.Zb().ba(T.ia));c.log.trace("charging change event",{level:p.wr.RHa(),charging:p.wr.zea()});}c=this;f=p.wr.zWa;p.wr.addEventListener(f,b);a.addEventListener(la.U.yf,function(){p.wr.removeEventListener(f,b);});};c.prototype.oma=function(a){var b;b=this;if(this.state.value==la.nb.JD||this.state.value==la.nb.LOADING||this.state.value==la.nb.ud){this.ge.info("Playback closing",this,a?{ErrorCode:a.WW}:void 0);this.vo("Closing");L.He.removeListener(L.ll,this.xNa);this.Oi=a;this.pGa();this.Gb&&this.Gb.flush();try{this.Jb.Vb(la.U.yf,{movieId:this.PA});}catch(fb){this.ge.error("Unable to fire playback closing event",fb);}this.state.set(la.nb.CLOSING);this.fa.sW=this.pB();this.dVa();this.ZDb||oa.oc(function(){return b.XPa();});}};c.prototype.qGa=function(){var a;a=this.$b.value;this.Grb!=a&&(this.Grb=a,this.Jb.Vb(la.U.Nma));};c.prototype.XPa=function(){var a,b;a=this;W.Wa(this.state.value==la.nb.CLOSING);b=this.g_;this.g_=void 0;b?q.JC.release(b,function(b){W.Wa(b.da);a.wba();}):this.wba();};c.prototype.dVa=function(){this.Gb&&(this.Gb.close(),this.Gb.wc());this.Gm&&this.Oi&&this.Gm.cM();delete this.Gb;delete this.Gm;};c.prototype.wba=function(){var a;this.wba=g.Xe;W.Wa(this.state.value==la.nb.CLOSING);a=H.Rm.indexOf(this);W.Wa(0<=a);H.Rm.splice(a,1);this.state.set(la.nb.CLOSED);this.Jb.Vb(la.U.closed,void 0,!0);this.Jb.sg();delete this.zf;this.fa.T_();};c.prototype.kaa=function(){this.Oa.playbackState&&("number"===typeof this.Oa.playbackState.volume&&this.volume.set(ka.Pm(this.Oa.playbackState.volume,0,1)),"boolean"===typeof this.Oa.playbackState.muted&&this.muted.set(this.Oa.playbackState.muted),"number"===typeof this.Oa.playbackState.playbackRate&&this.playbackRate.set(ka.Pm(this.Oa.playbackState.playbackRate,0,2)));};c.prototype.pGa=function(){this.Jb.Vb(la.U.RRa,{dR:this.dR});};c.prototype.XCb=function(a,b){var c;c=this.qj.filter(function(b){return b.id===a;})[0];c&&this.gc[b].set(c);};c.prototype.VG=function(){return{AudioBufferLength:this.IL(),VideoBufferLength:this.bR()};};c.prototype.PV=function(){if(this.Gb)return this.Gb.xZ(!1);};c.prototype.rN=function(){return this.Dza;};c.prototype.MN=function(){this.Dza++;};c.prototype.rvb=function(){this.state.value==la.nb.LOADING&&this.state.set(la.nb.ud);};c.prototype.dEa=function(a){var b,c;a=void 0===a?this.u:a;b=void 0;c=this.gm(a);a=this.rB(a).filter(function(a){var f;f=c.wO.Bs(a);f&&(b=b||[],b.push({stream:a,KF:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].Sob=a[f+1];return{Lc:a,Qgb:b};};c.prototype.Xba=function(a){var b,c,f,h,k,t,p;a=void 0===a?this.u:a;b=this.dEa(a);c=b.Lc;f=b.Qgb;h=[];this.rB(a).forEach(function(a){-1==h.indexOf(a.Qf)&&h.push(a.Qf);});k=null;t=null;c.forEach(function(a){null===k?t=k=a.O:t<a.O?t=a.O:k>a.O&&(k=a.O);});p=[];h.forEach(function(a){var b;b={ranges:[],profile:a};k&&t&&(b.ranges.push({min:k,max:t}),f&&(b.disallowed=f.filter(function(b){return b.stream.Qf===a;})),p.push(b));});return p;};na.Object.defineProperties(c.prototype,{tv:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.BH).map(function(b){return a.BH[b];});}},fa:{configurable:!0,enumerable:!0,get:function(){return this.BH[this.PA];}},pKa:{configurable:!0,enumerable:!0,get:function(){return 1===this.tv.length;}},T:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.CA?this.CA:this.tv[0].Oa.T||0;}},cc:{configurable:!0,enumerable:!0,get:function(){return this.fa.cc;},set:function(a){this.fa.cc=a;}},MX:{configurable:!0,enumerable:!0,get:function(){return this.fa.Oa.MX;}},NX:{configurable:!0,enumerable:!0,get:function(){return this.fa.Oa.NX;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fa.index;}},Na:{configurable:!0,enumerable:!0,get:function(){return this.fa.Na;}},zf:{configurable:!0,enumerable:!0,get:function(){return this.fa.zf;},set:function(a){this.fa.zf=a;}},Jk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Jk;},set:function(a){this.fa.Jk=a;}},du:{configurable:!0,enumerable:!0,get:function(){return this.fa.du;},set:function(a){this.fa.du=a;}},jx:{configurable:!0,enumerable:!0,get:function(){return this.fa.jx;},set:function(a){this.fa.jx=a;}},tZ:{configurable:!0,enumerable:!0,get:function(){return this.fa.tZ;},set:function(a){this.fa.tZ=a;}},ya:{configurable:!0,enumerable:!0,get:function(){return this.fa.ya;},set:function(a){this.fa.ya=a;}},CA:{configurable:!0,enumerable:!0,get:function(){return this.fa.CA;},set:function(a){this.fa.CA=a;}},AQ:{configurable:!0,enumerable:!0,get:function(){return this.fa.AQ;},set:function(a){this.fa.AQ=a;}},Oa:{configurable:!0,enumerable:!0,get:function(){return this.fa.Oa;},set:function(a){this.fa.Oa=a;}},Wu:{configurable:!0,enumerable:!0,get:function(){return this.fa.Wu;},set:function(a){this.fa.Wu=a;}},vm:{configurable:!0,enumerable:!0,get:function(){return this.fa.vm;}},u:{configurable:!0,enumerable:!0,get:function(){return this.fa.u;}},le:{configurable:!0,enumerable:!0,get:function(){return this.fa.le;}},tn:{configurable:!0,enumerable:!0,get:function(){return this.fa.tn;}},Mm:{configurable:!0,enumerable:!0,get:function(){return this.fa.Mm;}},Mv:{configurable:!0,enumerable:!0,get:function(){return this.fa.Mv;}},Ik:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ik;}},ig:{configurable:!0,enumerable:!0,get:function(){return this.fa.ig;}},Su:{configurable:!0,enumerable:!0,get:function(){return this.fa.Su;}},vq:{configurable:!0,enumerable:!0,get:function(){return this.fa.vq;}},jk:{configurable:!0,enumerable:!0,get:function(){return this.fa.jk;}},qj:{configurable:!0,enumerable:!0,get:function(){return this.fa.qj;}},z0:{configurable:!0,enumerable:!0,get:function(){return this.fa.z0;}},Er:{configurable:!0,enumerable:!0,get:function(){return this.fa.Er;},set:function(a){this.fa.Er=a;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.fa.ha;}},Uh:{configurable:!0,enumerable:!0,get:function(){return this.fa.Uh;}},Ak:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ak;}},DG:{configurable:!0,enumerable:!0,get:function(){return this.fa.DG;},set:function(a){this.fa.DG=a;}},gk:{configurable:!0,enumerable:!0,get:function(){return this.fa.gk;}},yC:{configurable:!0,enumerable:!0,get:function(){return this.fa.yC;}},background:{configurable:!0,enumerable:!0,get:function(){return this.fa.background;},set:function(a){this.fa.background=a;}},cca:{configurable:!0,enumerable:!0,get:function(){return this.fa.cca;}},pd:{configurable:!0,enumerable:!0,get:function(){return this.fa.pd;}},vn:{configurable:!0,enumerable:!0,get:function(){return this.fa.vn;}},Tca:{configurable:!0,enumerable:!0,get:function(){return this.fa.Tca;}},wO:{configurable:!0,enumerable:!0,get:function(){return this.fa.wO;}},Tg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.u,TrackingId:this.Uh,Xid:this.ha};}}});b.dva=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q7=void 0;b.q7="RepositionTraceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y6=void 0;b.Y6="PlaybackInfoPanelFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b3=void 0;b.b3="BandwidthMeterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zm=void 0;d=b.Zm||(b.Zm={});d[d.VS=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.BJ=3]="LOAD_FAILED";d[d.dua=4]="PARSE_FAILED";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T7=void 0;b.T7="TrickPlayManagerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J6=void 0;b.J6="PboRequestFactorySymbol";},function(d,b,a){var h,f;function c(a){return!(!a||!a.bC&&!a.pboc||!a.code&&!a.code);}function l(a){return!(!a||!a.cd);}function q(a){return!!(a instanceof Error);}function n(a){switch(a){case"ACCOUNT_ON_HOLD":return f.I.u0a;case"STREAM_QUOTA_EXCEEDED":return f.I.y0a;case"INSUFFICICENT_MATURITY":return f.I.A0a;case"TITLE_OUT_OF_WINDOW":return f.I.G0a;case"CHOICE_MAP_ERROR":return f.I.x0a;case"BadRequest":return f.I.C0a;case"Invalid_SemVer_Format":return f.I.B0a;case"RESTRICTED_TO_TESTERS":return f.I.F0a;case"AGE_VERIFICATION_REQUIRED":return f.I.v0a;case"BLACKLISTED_IP":return f.I.w0a;case"DEVICE_EOL_WARNING":return f.I.j6;case"DEVICE_EOL_FINAL":return f.I.eua;case"INCORRECT_PIN":return f.I.iua;case"MOBILE_ONLY":return f.I.E0a;case"MDX_CONTROLLER_CTICKET_INVALID":return f.I.D0a;case"VIEWABLE_RESTRICTED_BY_PROFILE":return f.I.H0a;case"RESET_DEVICE":return f.I.hua;case"RELOAD_DEVICE":return f.I.gua;case"EXIT_DEVICE":return f.I.fua;default:return f.I.cra;}}function k(a,b){return new h.Bc(a,n(b.code),"BadRequest"===b.code?f.AS.aWa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function p(a,b){return new h.Bc(a,b.cd,b.ph,void 0,b.ks,b.message,b.JF,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=b.JCa=b.Vjb=b.Zjb=b.em=b.Yjb=b.UN=b.gqb=b.hKa=void 0;h=a(47);f=a(2);b.hKa=c;b.gqb=l;b.UN=q;b.Yjb=n;b.em=function(a,b){return l(b)?p(a,b):c(b)?k(a,b):q(b)?h.Bc.UX(a,b):new h.Bc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.Zjb=k;b.Vjb=p;b.JCa=function(a,b,c,f,h){var k,t,p,n;k=b.lRa[c];if(void 0===k)throw{bC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};t=k.version;if(void 0===t)throw{bC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};p=b.GG&&k.serviceNonMember?k.serviceNonMember:k.service;if(void 0===p)throw{bC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};n=k.orgOverride;if(void 0===n&&(n=b.ONa,void 0===n))throw{bC:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return k.isPlayApiDirect?a.Imb(f)+"/"+n+"/"+p+"/"+t:a.Amb(f)+"/"+n+"/"+p+"/"+t+"/"+(void 0===h?"router":h);};b.ICa=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.rBa&&b&&(c["X-Esn"]=b.oh);return c;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C7=b.V5=b.R7=void 0;b.R7="TransportFactorySymbol";b.V5="MslTransportSymbol";b.C7="SslTransportSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w6=void 0;b.w6="PboDispatcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K5=void 0;b.K5="MediaRequestConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L5=b.g6=void 0;b.g6="OpenConnectSideChannelSymbol";b.L5="MediaRequestDownloaderSymbol";},function(d,b,a){var G,D,J;function c(a,b,c){this.type=a;this.size=b;this.ox=c;}function l(a){var b,f,h,k,t;a:{b=a.position;if(8<=a.mk()){f=a.Pa();h=a.vs(4);if(!D.test(h))throw a.seek(b),Error("mp4-badtype");if(1==f){if(8>a.mk()){a.seek(b);b=void 0;break a;}f=a.yg();}if(!(8<=f))throw a.seek(b),Error("mp4-badsize");if("uuid"==h){if(16>a.mk()){a.seek(b);b=void 0;break a;}h=a.xy();}b={type:h,offset:b,size:f,ox:b+f-a.position};}else b=void 0;}if(b&&b.ox<=a.mk()){k=b.type;f=b.size;t=b.ox;h=new c(k,f,t);k=J[k];if(a.mk()<t)throw Error("mp4-shortcontent");k?(t=new G(a.Ld(t)),k(h,t)):a.skip(t);a.seek(b.offset);h.raw=a.Ld(f);return h;}}function q(a,b){for(var c=[],f={},h,k;0<b.mk();){h=l(b);if(!h)throw Error("mp4-badchildren");k=h.type;c.push(h);f[k]||(f[k]=h);}a.children=c;a.Pda=f;}function n(a,b){a.version=b.zc(1);a.gf=b.zc(3);}function k(a,b){b.skip(6);a.Afb=b.Pb();b.skip(8);a.channelCount=b.Pb();a.wC=b.Pb();b.skip(4);a.sampleRate=b.Pb();b.skip(2);q(a,b);}function p(a,b){var c;b.skip(6);a.Afb=b.Pb();b.skip(16);a.width=b.Pb();a.height=b.Pb();a.VSb=b.Pa();a.lWb=b.Pa();b.skip(4);a.Rjb=b.Pb();c=b.ue();a.pcb=b.vs(c);b.skip(31-c);a.depth=b.Pb();b.skip(2);q(a,b);}function h(a,b){n(a,b);a.CRb=b.zc(3);a.DRb=b.ue();a.Xr=b.Ld(16);}function f(a,b){for(var c=[],f;b--;)f=a.Pb(),c.push(a.Ld(f));return c;}function t(a){var b;b=a.Ld(2);a={oVb:b[1]>>1&7,nVb:!!(b[1]&1),gVb:a.Pb()};g(a,(b[0]<<8|b[1])>>4);return a;}function g(a,b){a.hVb=b>>4&3;a.mVb=b>>2&3;a.kVb=b&3;return a;}G=a(641);D=/^[a-zA-Z0-9-]{4,4}$/;c.prototype.Hx=function(a){var b,c,f,h,k;b=this;a=a.split("/");for(h=0;h<a.length&&b;h++){f=a[h].split("|");c=void 0;for(k=0;k<f.length&&!c;k++)c=f[k],c=b.Pda&&b.Pda[c];b=c;}return b;};c.prototype.toString=function(){return"["+this.type+"]";};J={ftyp:function(a,b){a.ATb=b.vs(4);a.aUb=b.Pa();for(a.hcb=[];4<=b.mk();)a.hcb.push(b.vs(4));},moov:q,sidx:function(a,b){n(a,b);a.XUb=b.Pa();a.Qma=b.Pa();a.Wca=1<=a.version?b.yg():b.Pa();a.Sda=1<=a.version?b.yg():b.Pa();b.skip(2);for(var c=b.Pb(),f=[],h,k;c--;){h=b.Pa();k=h>>31;if(0!==k)throw Error("mp4-badsdix");h&=2147483647;k=b.Pa();b.skip(4);f.push({size:h,duration:k});}a.YUb=f;},moof:q,mvhd:function(a,b){var c;n(a,b);c=1<=a.version?8:4;a.Gh=b.zc(c);a.modificationTime=b.zc(c);a.Qma=b.Pa();a.duration=b.zc(c);a.vPa=b.vP();a.volume=b.K0();b.skip(70);a.lUb=b.Pa();},pssh:function(a,b){var c;n(a,b);a.nhb=b.xy();c=b.Pa();a.data=b.Ld(c);},trak:q,mdia:q,minf:q,stbl:q,stsd:function(a,b){n(a,b);b.Pa();q(a,b);},encv:p,avc1:p,hvcC:p,hev1:p,mp4a:k,enca:k,"ec-3":k,avcC:function(a,b){a.version=b.ue();a.FQb=b.ue();a.SUb=b.ue();a.EQb=b.ue();a.rTb=(b.ue()&3)+1;a.xVb=f(b,b.ue()&31);a.HUb=f(b,b.ue());},pasp:function(a,b){a.PSb=b.Pa();a.jWb=b.Pa();},sinf:q,frma:function(a,b){a.xRb=b.vs(4);},schm:function(a,b){n(a,b);a.QBb=b.vs(4);a.rVb=b.Pa();a.gf&1&&(a.qVb=b.yka());},schi:q,tenc:h,mvex:q,trex:function(a,b){n(a,b);a.cb=b.Pa();a.cgb=b.Pa();a.GF=b.Pa();a.KEa=b.Pa();a.JEa=t(b);},traf:q,tfhd:function(a,b){var c;n(a,b);a.cb=b.Pa();c=a.gf;c&1&&(a.HQb=b.yg());c&2&&(a.jVb=b.Pa());c&8&&(a.GF=b.Pa());c&16&&(a.KEa=b.Pa());c&32&&(a.JEa=t(b));},saio:function(a,b){n(a,b);a.gf&1&&(a.I$a=b.Pa(),a.J$a=b.Pa());for(var c=1<=a.version?8:4,f=b.Pa(),h=[];f--;)h.push(b.zc(c));a.KQa=h;},mdat:function(a,b){a.data=b.Ld(b.mk());},tkhd:function(a,b){var c;n(a,b);c=1<=a.version?8:4;a.Gh=b.zc(c);a.modificationTime=b.zc(c);a.cb=b.Pa();b.skip(4);a.duration=b.zc(c);b.skip(8);a.Jrb=b.Pb();a.B9a=b.Pb();a.volume=b.K0();b.skip(2);b.skip(36);a.width=b.vP();a.height=b.vP();},mdhd:function(a,b){var c;n(a,b);c=1<=a.version?8:4;a.Gh=b.zc(c);a.modificationTime=b.zc(c);a.Qma=b.Pa();a.duration=b.zc(c);c=b.Pb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){n(a,b);a.wVb=b.Pa();},tfdt:function(a,b){n(a,b);a.RL=b.zc(1<=a.version?8:4);8==b.mk()&&b.skip(8);},saiz:function(a,b){n(a,b);a.gf&1&&(a.I$a=b.Pa(),a.J$a=b.Pa());for(var c=b.ue(),f=b.Pa(),h=[];f--;)h.push(c||b.ue());a.lVb=h;},trun:function(a,b){var c,f;n(a,b);c=b.Pa();f=a.gf;f&1&&(a.zRb=b.Pa());f&4&&(a.oSb=t(b));for(var h=[],k;c--;)k={},f&256&&(k.duration=b.Pa()),f&512&&(k.size=b.Pa()),f&1024&&(k.gf=b.Pa()),f&2048&&(k.oRb=b.Pa()),h.push(k);a.jp=h;},sdtp:function(a,b){n(a,b);for(var c=[];0<b.mk();)c.push(g({},b.ue()));a.jp=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){n(a,b);a.fileSize=b.yg();a.Qma=b.yg();a.duration=b.yg();a.tNa=b.yg();a.BVb=b.yg();1<=a.version&&(a.gUb=b.yg(),a.hUb=b.Pa(),a.uNa=b.yg(),a.sGa=b.Pa(),a.fGa=b.xy());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){n(a,b);a.gf&1&&(a.wQb=b.zc(3),a.nTb=b.ue(),a.prb=b.xy());a.fVb=b.Pa();a.H$a=b.Ld(b.mk());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){n(a,b);a.X_=b.Pa();a.GM=b.Pb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":h,"636F6D2E-6E65-7466-6C69-782E6974726B":q,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){n(a,b);a.RV=b.xy();a.Gh=b.yg();a.u=b.yg();a.rl=b.yg();a.d1=b.Pb();a.e1=b.Pb();a.srb=b.Ld(16);a.fFb=b.Ld(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){n(a,b);a.VQb=b.Ld(b.mk());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;n(a,b);a.jCb=b.yg();c=b.Pa();a.Va=[];for(var f=0;f<c;f++)a.Va.push({duration:b.Pa(),size:b.Pb()});},"636F6D2E-6E65-7466-6C69-782E69736567":q,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;n(a,b);a.RV=b.xy();a.duration=b.Pa();c=b.Pa();a.jp=[];for(var f=0;f<c;f++)a.jp.push({tj:b.Pa(),duration:b.Pa(),d0:b.Pb(),e0:b.Pb(),H1:b.Pb(),I1:b.Pb(),Vr:b.yg(),AG:b.Pa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,k,t;n(a,b);c=b.Pa();f=b.ue();a.jp=[];for(var h=0;h<c;h++){k=b.ue();t=k>>6;k=k&63;0!=t&&0===k&&(k=f);a.jp.push({HFa:t,Xx:b.Ld(k)});}}};d.P={VUb:function(a,b){a=new G(a);b&&a.seek(b);return l(a);},wka:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new G(a);c=[];for(b&&a.seek(b);b=l(a);)c.push(b);return c;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v3=void 0;b.v3="ChunkMediaSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J5=void 0;b.J5="MediaHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f7=void 0;b.f7="PrefetchEventsConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g8=void 0;b.g8="WindowUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c6=void 0;b.c6="NfCryptoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p5=void 0;b.p5="LogDisplayConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z3=b.a4=void 0;b.a4="DxManagerSymbol";b.Z3="DxManagerProviderSymbol";},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.XJ=b.gD=b.Zoa=b.Yoa=b.Xoa=void 0;c=a(0);l=a(1);q=a(26);n=a(23);k=a(664);p=a(10);b.Xoa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.Yoa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Zoa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.gD="";d=function(){var f;function a(a,b,c){this.ed=a;this.is=b;this.prefix=c;this.lP=this.Mn=!1;this.LCa=new k.wxa(b);}a.prototype.show=function(){this.Mn||(this.Bcb(),this.vF&&p.ne.body.appendChild(this.vF),this.If&&p.ne.body.appendChild(this.If),this.UL&&p.ne.body.appendChild(this.UL),this.KC&&p.ne.getElementsByTagName("head")[0].appendChild(this.KC),this.Mn=!0,this.refresh());};a.prototype.Mo=function(){this.Mn&&(this.If&&p.ne.body.removeChild(this.If),this.UL&&p.ne.body.removeChild(this.UL),this.vF&&p.ne.body.removeChild(this.vF),this.KC&&p.ne.getElementsByTagName("head")[0].removeChild(this.KC),this.KC=this.CQ=this.vF=this.UL=this.If=void 0,this.Mn=!1);};a.prototype.toggle=function(){this.Mn?this.Mo():this.show();};a.prototype.cGb=function(){(this.lP=!this.lP)||this.refresh();};a.prototype.Rkb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};a.prototype.Bcb=function(){var a;a=this;this.KC=p.ne.createElement("style");this.KC.type="text/css";this.KC.innerHTML=this.Rkb(this.prefix);this.UL=this.ed.createElement("div",b.Xoa,void 0,{"class":this.prefix+"-display-blur"});this.If=this.ed.createElement("div",b.Yoa,void 0,{"class":this.prefix+"-display"});this.vF=this.ed.createElement("div",b.Zoa,void 0,{"class":this.prefix+"-display"});this.jHa().forEach(function(b){return a.vF.appendChild(b);});};a.prototype.Ecb=function(a){a=this.ed.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(L){}}else b.add("open");}});return a;};a.prototype.refresh=function(){var a;a=this;return!this.Mn||this.lP?Promise.resolve():this.UPa().then(function(b){if(b&&(b=a.Ecb(b),a.If)){a.CQ&&(a.If.removeChild(a.CQ),a.CQ=void 0);a.CQ=b;a.If.appendChild(a.CQ);b=a.If.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.FQa);(b=a.If.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};f=a;return f=c.__decorate([l.N(),c.__param(0,l.l(q.tf)),c.__param(1,l.l(n.Je)),c.__param(2,l.Vh())],f);}();b.XJ=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y3=void 0;b.Y3="DxDisplaySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y6=b.cT=void 0;b.cT={WN:"keepAlive",splice:"splice"};b.y6="PboEventSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z6=void 0;b.Z6="PlaydataConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v6=void 0;b.v6="PboCachedPlaydataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A6=void 0;b.A6="PboLicenseRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I6=void 0;b.I6="PboReleaseLicenseCommandSymbol";},function(d,b,a){var k,p,h,f,t,g;function c(a){var b;a=new h.fJ(a);if(1481462272!=a.Pa())throw Error("Invalid header");b={XMR:{Version:a.Pa(),RightsID:a.Hf(16)}};l(a,b.XMR,a.buffer.length);return b;}function l(a,b,c){var f,h,k,t,p;for(;a.position<c;){f=a.Pb();h=a.Pa();h=h-8;switch(f){case 1:k="OuterContainer";break;case 2:k="GlobalPolicy";break;case 3:k="MinimumEnvironment";break;case 4:k="PlaybackPolicy";break;case 5:k="OutputProtection";break;case 6:k="UplinkKID";break;case 7:k="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:k="AnalogVideoOutputConfiguration";break;case 9:k="KeyMaterial";break;case 10:k="ContentKey";break;case 11:k="Signature";break;case 12:k="DeviceIdentification";break;case 13:k="Settings";break;case 18:k="ExpirationRestriction";break;case 42:k="ECCKey";break;case 48:k="ExpirationAfterFirstPlayRestriction";break;case 50:k="PlayReadyRevocationInformationVersion";break;case 51:k="EmbeddedLicenseSettings";break;case 52:k="SecurityLevel";break;case 54:k="PlayEnabler";break;case 57:k="PlayEnablerType";break;case 85:k="RealTimeExpirationRestriction";break;default:k="Other";}t={Type:q(f)};p=b[k];p?g.isArray(p)?p.push(t):(b[k]=[],b[k].push(p),b[k].push(t)):b[k]=t;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:l(a,t,a.position+h);break;case 5:t.Reserved1=a.Pb();t.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Pb();t.MinimumAnalogVideoOutputProtectionLevel=a.Pb();t.Reserved2=a.Pb();t.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Pb();break;case 10:t.Reserved=a.Hf(16);t.SymmetricCipherType=a.Pb();t.AsymmetricCipherType=a.Pb();h=a.Pb();t.EncryptedKeyLength=h;f=a.Hf(h);t.EncryptedKeyData=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 11:t.SignatureType=a.Hf(2);h=a.Pb();f=a.Hf(h);t.SignatureData=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 13:t.Reserved=a.Pb();break;case 18:t.BeginDate=a.Pa();t.EndDate=a.Pa();break;case 42:t.CurveType=a.Hf(2);h=a.Pb();f=a.Hf(h);t.Key=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 48:t.ExpireAfterFirstPlay=a.Pa();break;case 50:t.Sequence=a.Pa();break;case 51:t.LicenseProcessingIndicator=a.Pb();break;case 52:t.MinimumSecurityLevel=a.Pb();break;case 57:t.PlayEnablerType=n(a.Hf(16));break;case 85:break;default:t.OtherData=a.Hf(h);}}}function q(a){return"0x"+a.toString(16);}function n(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Qfb=b.Rfb=b.Pfb=b.Ofb=b.Nfb=void 0;k=a(9);p=a(5);h=a(150);f=a(125);t=a(201);g=a(15);b.Nfb=function(a,b,h){switch(b){case k.VR:a&&(a=p.qCa(a),t.Gna(a,function(a){a.da&&(a=a.object)&&(a=f.oHa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=f.kOa(a))&&(a=p.Ul(a))&&(a=c(a))&&h(a);}));}};b.Ofb=c;b.Pfb=l;b.Rfb=q;b.Qfb=n;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t6=void 0;b.t6="PboAcquireLicenseCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q4=void 0;b.Q4="HttpRequesterSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q4=void 0;b.q4="FtlDataParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b6=void 0;b.b6="NetworkMonitorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i8=void 0;b.i8="XhrFactorySymbol";},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.bqa=void 0;c=a(0);l=a(152);q=a(77);n=a(20);k=a(2);p=a(16);h=a(10);f=a(15);t=a(1);g=a(14);d=function(){var b;function a(a){this.config=a;}a.prototype.construct=function(a,b){var c,f,h;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});h=[];n.xd(f,function(a,f){h.push(c.Unb(f,b));});return{urls:h};};a.prototype.Unb=function(a,b){var c,h,k,t;c=this;h=a[0];k={url:h.url,bitrate:h.O,cdnid:f.Se(h.gc)?h.gc.id:h.gc,dltype:h.Xgb,id:h.ld};t={};a.forEach(function(a){var b;b=c.oqb(a)?"fail":"success";t[b]||(t[b]=[]);t[b].push(a);});n.xd(t,function(a,f){"fail"===a?k.failures=c.Glb(f,b):"success"===a&&(k.downloads=c.wlb(f,b));});return k;};a.prototype.wlb=function(a,b){var c,f,h;c=this;f={};a.forEach(function(a){var b;b=a.Wbb;f[b]||(f[b]=[]);f[b].push(a);});h=[];n.xd(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);c.cqb(f)&&(h.push(c.rHa(k,b,a)),k=[]);});0<k.length&&h.push(c.rHa(k,b,a));});return h;};a.prototype.rHa=function(a,b,c){var n;for(var f=a.sort(function(a,b){return a.tk.$g<b.tk.$g?-1:a.tk.$g>b.tk.$g?1:0;}),h=f[0].tk,k=h.requestTime,t=h.$g,h=h.Bm,p=1;p<a.length;p++){n=a[p].tk;n.requestTime<k&&(k=n.requestTime);n.$g<t&&(t=n.$g);n.Bm>h&&(h=n.Bm);}p=this.Xmb(f);n=f[f.length-1];return{time:k-b,tcpid:c?parseInt(c):-1,tresp:t-k,first:p,ranges:this.Ymb(f,p),dur:h-t,trace:this.Knb(a),status:this.zY(n)};};a.prototype.Xmb=function(a){var b;b=0;a.forEach(function(a){a.wq&&(b=h.Om(b,a.wq[0]));});return b;};a.prototype.Ymb=function(a,b){var c;c=[];a.forEach(function(a){a.wq?c.push([a.wq[0]-b,a.wq[1]-b]):c.push([0,-1]);});return c;};a.prototype.Knb=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.tk;if(c){f=a.requestTime-c.Bm;0<f&&b.push([f,-2]);f=h.Gl(c.Bm,a.requestTime);f=a.$g-f;0<f&&b.push([f,-3]);}b.push([a.Bm-a.$g,a.ox||0]);c=a;});return b;};a.prototype.cqb=function(a){if(a.ga===k.I.Zv||a.ga===k.I.mz)return!0;};a.prototype.zY=function(a){if(a.da)return"complete";if(a.ga===k.I.Zv)return"abort";if(a.ga===k.I.mz)return"stall";p.Wa(!1,"download status should never be: other");return"other";};a.prototype.Glb=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var h;h=a.tk;a={time:h.$g-b,tresp:h.$g-h.requestTime,dur:h.Bm-h.$g,range:a.wq,reason:c.$mb(a),httpcode:a.Ni,nwerr:l.dfa(a.ga)};f.push(a);});return f;};a.prototype.$mb=function(a){return a.Ni||a.ga===k.I.tJ?"http":a.ga===k.I.vJ?"timeout":"network";};a.prototype.oqb=function(a){return a.da||void 0===a.da||a.ga===k.I.Zv||a.ga===k.I.mz?!1:!0;};a.prototype.Ncb=function(a){var b,c,f,h,k,t;b=a.request;c=b.stream;f=b.track;h=b.url;k=this.tlb(f,h);switch(k){case q.Dg.audio:case q.Dg.video:t=b.stream.ld;break;case q.Dg.d2:case q.Dg.gna:t=f.ld;}a={O:c&&c.O,Xgb:k,ld:t,tk:a.tk,gc:b.gc,url:h,re:a.re,Ni:a.Ni,ga:a.ga,da:a.da,Wbb:this.Lib(a)};void 0!==b.offset&&void 0!=b.length&&(a.wq=[b.offset,b.offset+b.length-1]);return a;};a.prototype.tlb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};a.prototype.Lib=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?n.Kd(a):a;};b=a;return b=c.__decorate([t.N(),c.__param(0,t.l(g.fd))],b);}();b.bqa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R5=void 0;b.R5="MilestonesEventBuilderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S3=void 0;b.S3="DownloadReportBuilderSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.TR=void 0;c=a(48);b.TR=function(a,b){this.dhb=a;this.size=b.eKa()?c.sd:b;};},function(d,b,a){var l,q,n,k,p,h,f,t,g,G,D,J,F,L,H,m,R,r,Q,y,T,u,da,W;function c(a,b,c,f,k,d,l,z,G,U,y,aa,T,qa,A,E,S,fb,ib,Ta,jb,V){var O;O=this;this.j=a;this.Dm=b;this.ZSa=f;this.iW=k;this.Lh=d;this.wia=l;this.zda=z;this.Dj=G;this.Sc=U;this.aX=y;this.Re=aa;this.config=T;this.Ac=qa;this.Ja=A;this.qa=E;this.platform=S;this.um=fb;this.hO=ib;this.Ej=Ta;this.Wp=jb;this.z_=V;this.HQ=[];this.kub=this.yZ=this.jQa=0;this.NF=[];this.S$=!1;this.Vu=function(a,b){return function(c){var f;f=b(c);if("number"!==typeof f)throw Error("Event "+JSON.stringify(c)+" does not have movie Id");f===O.u&&a(c);};};this.Vo=this.Vu(function(a){O.gSa(a.yB);},function(a){return a.u;});this.SG=this.Vu(function(){O.$bb();},function(a){return a.u;});this.xI=function(){O.Jc(u.xe.PFb,!1,W.Zh|W.bh,{track:O.j.tc.value.Tg});};this.gTa=function(a){a.newValue&&O.wm&&(a={track:a.newValue.Tg},O.tB(a,O.j.kf.value&&O.j.kf.value.stream,O.j.jg.value&&O.j.jg.value.stream),O.Jc(u.xe.QFb,!1,W.Zh|W.bh,a));};this.vn=function(a){O.Jc(u.xe.gab,!1,W.Zh|W.bh,a.newValue);};this.bFa=function(){var a,b,c;if(O.j.qj)try{a=!1;O.ha%O.config().KM&&!O.j.OM&&(a=!0,O.NF=O.NF.filter(function(a){return!a.da;}));if(0<O.NF.length){b=O.aX.construct(O.NF,O.j.Ak.ba(g.ia));O.NF=[];b.erroronly=a;c={};t.xd(b,function(a,b){c[a]=JSON.stringify(b);});O.Jc(u.xe.Vgb,!1,W.bh,c);}}catch(Lc){O.log.error("Exception in dlreport.",Lc);}};this.x_=function(){var a,b;if(O.j.state.value==Q.nb.ud){a=O.EOa();O.config().Qka&&(a.avtp=O.Py.hm().OC,O.j.Gm&&O.jZ(a));a.midplayseq=O.kub++;b=O.j.Ob.value;a.prstate=b===Q.jb.Nc?"playing":b===Q.jb.Ch?"paused":b===Q.jb.Pq?"ended":"waiting";O.config().BCb&&O.CSa("midplay");O.config().ep&&O.Ac()&&O.uga(a);O.rga(a);O.sga(a);O.tga(a);O.Jc(u.xe.x_,!1,W.Zh|W.bh|W.Wv|W.UJ,a);}};this.Qxa=/-?l(\d\d)/i;this.kFa=this.Vu(function(a){O.NF.push(O.aX.Ncb(a.response));},function(a){return a.u;});this.$W=this.Vu(function(a){var b,c,f,h,k,n;a=a.response;b=a.request;c=a.request.Zo;f=b.track;if(f){h=!a.da&&a.ga!=D.I.Zv;k=f.type;n=a.tk;if(h||O.Dm.Iha){c={dltype:k,url1:b.url,url2:a.url||"",cdnid:b.gc&&b.gc.id,tresp:t.dm(n.$g-n.requestTime),brecv:t.DGa(n.ox),trecv:t.dm(n.Bm-n.$g),sbr:c&&c.O};a.wq&&(c.range=a.wq);switch(k){case p.Dg.audio:c.adlid=b.stream.ld;break;case p.Dg.video:c.vdlid=b.stream.ld;break;case p.Dg.d2:c.ttdlid=f.ld;}(b=da.dfa(a.ga))&&(c.nwerr=b);a.Ni&&(c.httperr=a.Ni);O.Jc(u.xe.$W,h,W.bh,c);}}},function(a){return a.u;});this.ck=function(){O.Jc(u.xe.hab,!1,W.Zh|W.Wv,{browserua:R.Hl});};this.CDa=this.Vu(function(a){var b,c,f;a=a.response;b=a.tk;c=g.Ib(b.$g);f=g.Ib(b.Bm);b=F.aa(b.ox||0);b.xKa()||b.eKa()||(c=new L.l7(c,f),O.Py.EV(new H.TR(c,b)),a&&a.request&&a.request.Zo&&a.request.Zo.Kb&&O.iW.EV(new m.hpa(c,b,a.request.Zo.Kb)));},function(a){return a.u;});this.oOa=function(a){var b;b=a.newValue;a.qx&&a.qx.dja&&b||b==O.kha||(O.yEb(O.kha,b),O.kha=b);};this.$t=function(a){function b(a){var b;if(O.j.Hb&&O.j.Hb.sourceBuffers){b=O.j.Hb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.kk(),updating:b.updating(),ranges:b.cY()};}}O.TH="rebuffer";a={cause:a.cause};a.cause&&a.cause===n.P6&&(a.mediaTime=O.j.$b.value,a.buf_audio=b(q.HS),a.buf_video=b(q.BD));O.Fga(O.HQ[Q.jb.Nc]||0,O.HQ[Q.jb.Ch]||0,a);O.OI=O.getTime();r.oc(O.jW);};this.rTa=function(a){var b;a=a.oldValue;b=O.getTime();a===Q.jb.Xf?O.HQ=[]:O.HQ[a]=(O.HQ[a]||0)+(b-O.Crb);O.Crb=b;};this.gp=function(a){switch(a.cause){case Q.Ae.ft:case Q.Ae.WJ:O.TH&&O.OI?O.Nxb(O.getTime()-O.OI,O.TH):O.wm||O.BOa(),O.TH="repos",O.Rka(a.PO,a.jg,a.kf),O.OI=O.getTime(),r.oc(O.jW);}};this.jW=function(){var a;if(O.OI&&O.j.Ob.value!==Q.jb.Xf){a=O.getTime()-O.OI;O.fla(a,O.Ph);O.gha&&O.gha!=O.j.jd.value&&O.u$a();O.OI=void 0;O.TH=void 0;O.Ph=void 0;}};this.bba=this.Vu(function(){O.j.Ob.value===Q.jb.Nc&&(O.j.Ob.removeListener(O.bba),O.Rn());},function(){return O.j.u;});this.LL=function(a){O.vrb=O.getTime();O.gha=a.oldValue;};this.Rn=function(){O.wm||(O.wm=!0,O.O1(!1),O.Ipb(),O.config().JJa&&(O.rZ=N.setTimeout(function(){O.Lh.flush(!1)["catch"](function(){return O.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});O.rZ=void 0;},O.config().JJa)));};this.yf=function(){O.rZ&&(N.clearTimeout(O.rZ),O.rZ=void 0);if(O.config().KM||O.config().GL)O.Lca&&(N.clearInterval(O.Lca),O.Lca=void 0),O.bFa();O.QTa&&O.QTa();O.wm?O.jda(!!O.j.Oi):O.j.Oi?O.O1(!0):O.Dm.background||O.BOa();O.$Bb||(O.Jc=q.Xe);};this.xDa=this.Vu(function(){O.yf();},function(a){return a.movieId;});this.AUa=function(a){a.oldValue&&a.qx&&a.qx.nDa&&O.eba(a.oldValue,a.newValue,a.qx.nDa,a.qx.O$a);};this.ZOa=function(a){var b;if(a.newValue){b=a.newValue.stream;O.lha!=b&&(O.lha&&O.OAb(O.lha,b,a.newValue.Bo.startTime),O.lha=b);}};this.Yr=this.Vu(function(a){function b(a,b){var c;if(!a||a.Eha!==b.location){c={Eha:b.location,bLa:b.locationlv,MCb:b.serverid,xC:b.servername};O.nbb(a,b);return c;}}if("audio"===a.mediaType){if(a=b(O.urb,a))O.urb=a;}else if(a=b(O.XN,a))O.XN=a;},function(a){return O.j.Du(a.segmentId).u;});this.dI=this.Vu(function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(O.Rh.summary.GUa++,O.Rh.YZ=O.Ja.ef.ba(g.ia)):"serverswitchback"===c&&(O.Rh.summary.HUa++,O.Rh.YZ&&(O.Rh.summary.IUa.push(O.Ja.ef.ba(g.ia)-O.Rh.YZ),O.Rh.YZ=void 0)):"audio"===b&&("serverswitchaway"===c?(O.Rh.summary.VBa++,O.Rh.TZ=O.Ja.ef.ba(g.ia)):"serverswitchback"===c&&(O.Rh.summary.WBa++,O.Rh.TZ&&(O.Rh.summary.XBa.push(O.Ja.ef.ba(g.ia)-O.Rh.TZ),O.Rh.TZ=void 0)));O.Jc(u.xe.OCb,!1,W.Zh|W.bh,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return O.j.Du(a.segmentId).u;});this.fF=function(a){O.Jc(u.xe.X9a,!1,W.bh,{strmsel:a.strmsel});};this.eF=function(a){O.Jc(u.xe.W9a,!1,W.bh,{msg:a.msg});};this.sI=function(a){a=J.gI(a);a.details&&(a.details=JSON.stringify(a.details));O.Jc(u.xe.gFb,!0,W.Zh|W.MD|W.AR,a);};this.S$=Ta.v2||Ta.w2;this.Py=f();this.log=h.Qg(a,"LogblobBuilder");this.kha=a.paused.value;this.u=b.u;this.ha=this.Dm.ha;this.Rh={summary:{GUa:0,HUa:0,IUa:[],VBa:0,WBa:0,XBa:[]},YZ:void 0,TZ:void 0};this.Db();c&&this.gSa();}Object.defineProperty(b,"__esModule",{value:!0});b.Lsa=void 0;l=a(50);q=a(9);n=a(57);k=a(43);p=a(77);h=a(5);f=a(16);t=a(20);g=a(3);G=a(52);D=a(2);J=a(22);F=a(48);L=a(352);H=a(339);m=a(691);R=a(10);r=a(59);Q=a(13);y=a(15);T=a(690);u=a(345);da=a(152);c.prototype.Db=function(){this.j.addEventListener(Q.U.Vo,this.Vo);this.j.addEventListener(Q.U.SG,this.SG);this.j.addEventListener(Q.U.Yr,this.Yr);this.j.addEventListener(Q.U.dI,this.dI);this.j.addEventListener(Q.U.yf,this.xDa);this.j.addEventListener(Q.U.vx,this.$W,q.YS);if(this.config().KM||this.config().GL)this.j.addEventListener(Q.U.vx,this.kFa),this.Lca=N.setInterval(this.bFa,this.config().chb);this.config().Qka&&this.j.addEventListener(Q.U.vx,this.CDa);};c.prototype.gSa=function(a){var b;b=this;this.wMa||(this.j.Ob.value!==Q.jb.Nc||(void 0===a?0:a)?this.j.Ob.addListener(this.bba):this.Rn(),this.j.nj.addListener(this.gTa),this.j.jd.addListener(this.LL),this.j.paused.addListener(this.oOa),this.j.kf.addListener(this.ZOa),this.j.Ob.addListener(this.jW),this.j.Ob.addListener(this.rTa),this.j.rf.addListener(this.AUa),this.j.addEventListener(Q.U.ck,this.ck),this.j.addEventListener(Q.U.eF,this.eF),this.j.addEventListener(Q.U.fF,this.fF),this.j.addEventListener(Q.U.sI,this.sI),this.j.addEventListener(Q.U.$t,this.$t),this.j.addEventListener(Q.U.gp,this.gp),this.j.addEventListener(Q.U.xI,this.xI),this.j.addEventListener(Q.U.Ph,function(){b.Ph=!0;}),this.Dm.vn&&this.Dm.vn.addListener(this.vn),this.config().vi&&(this.$Bb=!0),this.wMa=!0);};c.prototype.$bb=function(){this.yf();this.wMa&&(this.j.removeEventListener(Q.U.Vo,this.Vo),this.j.removeEventListener(Q.U.SG,this.SG),this.j.removeEventListener(Q.U.Yr,this.Yr),this.j.removeEventListener(Q.U.dI,this.dI),this.j.nj.removeListener(this.gTa),this.j.jd.removeListener(this.LL),this.j.paused.removeListener(this.oOa),this.j.kf.removeListener(this.ZOa),this.j.Ob.removeListener(this.jW),this.j.Ob.removeListener(this.bba),this.j.Ob.removeListener(this.rTa),this.j.rf.removeListener(this.AUa),this.j.removeEventListener(Q.U.vx,this.$W),this.j.removeEventListener(Q.U.yf,this.xDa),this.j.removeEventListener(Q.U.ck,this.ck),this.j.removeEventListener(Q.U.eF,this.eF),this.j.removeEventListener(Q.U.fF,this.fF),this.j.removeEventListener(Q.U.sI,this.sI),this.j.removeEventListener(Q.U.$t,this.$t),this.j.removeEventListener(Q.U.gp,this.gp),this.j.removeEventListener(Q.U.xI,this.xI),this.Dm.vn&&this.Dm.vn.removeListener(this.vn),this.j.removeEventListener(Q.U.vx,this.kFa),this.j.removeEventListener(Q.U.vx,this.CDa));};c.prototype.O1=function(a){var b,c,d,q,l,z,D,F,J,L,H,m,U,r,aa,ka,da,qa,A,E,S,V,Y,ca;b={};try{b={browserua:R.Hl,browserhref:location.href,playdelaysdk:t.dm(this.j.Uaa()),applicationPlaydelay:t.dm(this.j.Pab()),playdelay:t.dm(this.j.Vab()),trackid:this.j.Uh,bookmark:t.dm(this.j.CA||0),pbnum:this.j.index,endianness:k.zHa()};this.config().aib&&(b.transitiontime=this.j.Jk,b.uiplaystarttime=this.j.Oa.m2,b.playbackrequestedat=this.j.Ak.ba(g.ia),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ja.ef.ba(g.ia),b.clockgetpreciseappepoch=this.qa.GB.ba(g.ia),b.absolutestarttime=this.j.$X(),b.relativetime=this.j.lfa());this.ZX(b,"startplay");}catch(gb){this.log.error("error in startplay log fields",gb);}this.j.ck&&(b.blocked=this.j.ck);b.configversion=this.config().version;this.config().endpoint||(b.configendpoint="error");this.j.ig&&(b.playbackcontextid=this.j.ig);this.AJa(b);if(this.config().F2&&this.j.Oa.Bna){for(var f={},h=Object.keys(this.j.Oa.Bna),p,n=h.length;n--;)p=h[n],f[p.toLowerCase()]=this.j.Oa.Bna[p];b.vui=f;}y.la(this.j.ACa)&&(b.bookmarkact=t.dm(this.j.ACa));(f=this.j.pd.at&&this.j.pd.ats?this.j.pd.at-this.j.pd.ats:void 0)&&(b.nccpat=f);(f=this.j.pd.lr&&this.j.pd.lc?this.j.pd.lr-this.j.pd.lc:void 0)&&(b.nccplt=f);(f=this.ihb())&&(b.downloadables=f);N._cad_global.device&&y.Xb(N._cad_global.device.qda)&&(b.esnSource=N._cad_global.device.qda);t.tb(b,this.um,{prefix:"pi_"});(f=R.Di&&R.Di.connection&&R.Di.connection.type)&&(b.nettype=f);this.j.zo&&this.j.zo.initBitrate&&(b.initvbitrate=this.j.zo.initBitrate);this.j.zo&&this.j.zo.selector&&(b.selector=this.j.zo.selector);b.fullDlreports=this.j.BFa;if(this.j.state.value>=Q.nb.ud)try{d=this.j.px();d&&(this.Xo=k.R2(d.map(function(a){return a.O;})),this.WLa=k.R2(d.map(function(a){return a.height;})),c=0<d.length?T.KLa(d,function(a){return a.O;}):void 0,b.maxbitrate=this.Xo,b.maxresheight=this.WLa);}catch(gb){this.log.error("Exception computing max bitrate",gb);}try{q=k.vN();q&&(b.pdltime=q);}catch(gb){}try{t.tb(b,this.j.pd,{prefix:"sm_"});t.tb(b,this.j.EY(),{prefix:"vd_"});}catch(gb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.vq&&(b.pssh=this.j.vq);this.j.zf&&this.j.zf.pl&&this.j.zf.pl.keySystem&&(b.keysys=this.j.zf.pl.keySystem);if(this.config().ep&&this.Ac())try{d={};l=this.Ac().getStats(void 0,void 0,this.j.u);z=this.j.$X();D=l.Ny.mcb;d.attempts=l.TOa||0;d.num_completed_tasks=D.length;F=this.Sc.cjb;q={};J=G.Od.ye.mwa;L=G.Od.ye.Yv;H=G.Od.ye.zR;m=G.Od.ye.ZI;U=G.Od.ye.yR;l.vj&&(q.scheduled=l.vj-z);r=this.j.ya;r&&y.la(r.zy)&&(q.preauthsent=r.zy-this.j.hf,q.preauthreceived=r.rC-this.j.hf);aa=D.filter(F("type","manifest"));d.mf_succ=aa.filter(F("status",J)).length;d.mf_fail=aa.filter(F("status",L)).length;ka=this.j.pd;y.Xb(ka.lg)&&0>ka.lg&&this.j.hf&&(q.ldlsent=ka.lc,q.ldlreceived=ka.lr);da=D.filter(F("type","ldl"));d.ldl_succ=da.filter(F("status",J)).length;d.ldl_fail=da.filter(F("status",L)).length;l=!0;qa="ui"===this.j.du;q.preauthreceived&&0>q.preauthreceived||qa||(l=!1);this.config().TF||(l=!1);A=da.filter(F("status",H)).length;E=da.filter(F("status",m)).length;S=da.filter(F("status",U)).length;this.config().TF&&0===A+E+S&&(!q.ldlreceived||0<=q.ldlreceived)&&(l=!1);if(this.config().jX){V=this.j.Hn&&this.j.Hn.stats;if(V){if(V.JX&&(q.headersent=V.JX-this.j.hf),V.$Z&&(q.headerreceived=V.$Z-this.j.hf),V.EH&&(q.prebuffstarted=V.EH-this.j.hf),V.w0&&(q.prebuffcomplete=V.w0-this.j.hf),!q.prebuffcomplete||0<=q.prebuffcomplete)l=!1;}else l=!1;}Y=D.filter(F("type","getHeadersAndMedia"));d.hm_succ=Y.filter(F("status",J)).length;d.hm_fail=Y.filter(F("status",L)).length;t.tb(b,d,{prefix:"pr_"});this.Wp.QM&&(b.eventlist=this.z_.jIa(this.j));b.prefetchCompleted=l;this.uga(b);}catch(gb){this.log.warn("error in collecting video prepare data",gb);}b.avtp=this.Py.hm().OC;this.j.Gm&&this.jZ(b);if(this.j.tc.value)try{b.ttTrackFields=this.j.tc.value.Tg;}catch(gb){}if(D=this.j.jd&&this.j.jd.value&&this.j.jd.value.dc){ca={};D.forEach(function(a){ca[a.Qf]=void 0;});b.audioProfiles=Object.keys(ca);}this.vga(b);this.j.ya&&"boolean"===typeof this.j.ya.Pf.BB&&(b.isSupplemental=this.j.ya.Pf.BB);b.headerCacheHit=!!this.j.Hn;this.j.Hn&&(b.headerCacheDataAudio=this.j.Hn.audio,b.headerCacheDataAudioFromMediaCache=this.j.Hn.audioFromMediaCache,b.headerCacheDataVideo=this.j.Hn.video,b.headerCacheDataVideoFromMediaCache=this.j.Hn.videoFromMediaCache);this.j.ya&&(b.packageId=this.j.ya.Pf.rl);this.j.ya&&this.j.ya.Pf.iu&&(b.hasChoiceMap=!0);this.config().AGa&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Dj.GG;this.orb(c);this.nrb();this.yJa(this.j,b);this.zJa(this.j,b);this.uB(this.j,b);this.Sx(this.j,b,this.S$);this.rga(b);this.sga(b);this.tga(b);this.DJa(b);this.xJa(b);this.EJa(b);this.Jc(u.xe.O1,a,W.Zh|W.MD|W.bh|W.UJ|W.Wv|W.AR|W.o4,b);};c.prototype.fla=function(a,b){b={playdelay:t.dm(a),reason:this.TH,intrplayseq:this.yZ-1,skipped:b};this.uB(this.j,b);this.Jc(u.xe.fla,!1,W.Zh|W.MD|W.bh,b);"rebuffer"==this.TH&&this.j.vm.P8a(Number(t.dm(a)));};c.prototype.eba=function(a,b,c,f){a={moff:t.Au(c),vbitrate:b.O,vbitrateold:a.O,vdlid:b.ld,vdlidold:a.ld,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.uB(this.j,a);this.Sx(this.j,a);this.Jc(u.xe.eba,!1,W.bh,a);};c.prototype.OAb=function(a,b,c){a={moff:t.Au(c),vdlidold:a.ld,vbitrateold:a.O};this.uB(this.j,a);this.Sx(this.j,a);this.tB(a,b,this.j.jg.value&&this.j.jg.value.stream);this.Jc(u.xe.PAb,!1,W.bh,a);};c.prototype.BOa=function(){var a,b;a={waittime:t.dm(this.j.lfa()),abortedevent:"startplay",browserua:R.Hl,browserhref:location.href,trackid:this.j.Uh};this.ZX(a,"endplay");this.Wp.QM&&(a.eventlist=this.z_.jIa(this.j));this.j.ig&&(a.playbackcontextid=this.j.ig);this.j.zo&&this.j.zo.initBitrate&&(a.initvbitrate=this.j.zo.initBitrate);try{b=k.vN();b&&(a.pdltime=b);t.tb(a,this.j.pd,{prefix:"sm_"});}catch(oa){}this.pga(a,!0);this.EJa(a);this.vga(a);this.BJa(a);this.tB(a,this.j.rf.value,this.j.al.value);this.Jc(u.xe.GOa,!1,W.Zh|W.bh|W.Wv|W.UJ,a);};c.prototype.Nxb=function(a,b){a={waittime:t.dm(a),abortedevent:"resumeplay",browserua:R.Hl,resumeplayreason:b};this.j.ig&&(a.playbackcontextid=this.j.ig);this.j.zo&&this.j.zo.initBitrate&&(a.initvbitrate=this.j.zo.initBitrate);this.tB(a,this.j.rf.value,this.j.al.value);this.Jc(u.xe.GOa,!1,W.Zh|W.bh,a);};c.prototype.yEb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.uB(this.j,a);this.Sx(this.j,a);this.tB(a,this.j.kf.value&&this.j.kf.value.stream,this.j.jg.value&&this.j.jg.value.stream);this.Jc(u.xe.AEb,!1,W.Zh|W.bh,a);};c.prototype.Fga=function(a,b,c){a=t.tb({vdlid:this.j.rf.value.ld,playingms:a,pausedms:b,intrplayseq:this.yZ++},c);this.ZX(a,"intrplay");b=this.j.gc[l.yc.La.VIDEO].value;c=this.j.gc[l.yc.La.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.XN&&this.XN.Eha;a.loclv=this.XN&&this.XN.bLa;a.avtp=this.Py.hm().OC;this.j.Gm&&(this.pga(a,!0),this.jZ(a),this.CJa(a));try{t.tb(a,this.j.EY(),{prefix:"vd_"});}catch(ta){}this.uB(this.j,a);this.Sx(this.j,a);this.tB(a,this.j.kf.value&&this.j.kf.value.stream,this.j.jg.value&&this.j.jg.value.stream);this.Jc(u.xe.Fga,!1,W.Zh|W.bh,a);};c.prototype.Rka=function(a,b,c){a={moffold:t.Au(a),reposseq:this.jQa++};this.Sx(this.j,a);this.tB(a,c&&c.stream,b&&b.stream);this.Jc(u.xe.Rka,!1,W.Zh|W.bh,a);};c.prototype.u$a=function(){this.Jc(u.xe.z$a,!1,W.Zh|W.bh,{switchdelay:t.dm(this.getTime()-this.vrb),newtrackinfo:this.j.jd.value.cb,oldtrackinfo:this.gha.cb});};c.prototype.nbb=function(a,b){var c,f,h,k;c=b.serverid;f=b.serverrtt;h=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=f;k.selcdnbw=h;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:h}]);a&&(k.oldlocid=a.Eha,k.oldloclv=a.bLa,k.oldocaid=a.MCb,k.oldocaname=a.xC);this.Jc(u.xe.$Ca,!1,W.AR,k);};c.prototype.CSa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.ffa();b.subtitleqoescore=this.j.Wn.znb(c);b.metrics=JSON.stringify(this.j.Wn.wfa(c));}catch(ta){this.log.error("error getting subtitle qoe data",ta);}this.Jc(u.xe.hFb,!1,W.Zh|W.Wv|W.MD,b,"info");};c.prototype.transition=function(a){this.Sx(this.j,a);this.Jc(u.xe.transition,!1,0,a);};c.prototype.mnb=function(a,b){if(a=a.eY())if(b=a[b])return b.mf;};c.prototype.yJa=function(a,b){a.Oa.Si&&(b.isBranching=!0);};c.prototype.zJa=function(a,b){b.cachedManifest=a.du;b.cachedLicense=a.jx;b.usedldl=this.config().TF?("videopreparer"===a.jx).toString():"not_capable";};c.prototype.uB=function(a,b){var c,f;if(this.config().ypb){c=a.gfa();f=a.fa.ya;c&&f&&(b.segment=c,f=a.pB(),b.segmenttime=f,a=this.mnb(a,c),null!==f&&void 0!==a&&(b.segmentoffset=f-a));}};c.prototype.Sx=function(a,b,c){b.pxid=a.pPa;(void 0===c?0:c)&&(b.playgraph_trace=a.KOa);};c.prototype.CJa=function(a){var b,c;b=this.j.$fa;c=b&&b.XAb;b&&b.uJa&&(a.htwbr=b.uJa,a.pbtwbr=b.l0,a.hptwbr=b.apb);b&&b.HQa&&(a.rr=b.HQa,a.ra=b.yzb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};c.prototype.vga=function(a){var b,c,f,h,k;b=this;c=this.j.mg&&this.j.mg.value&&this.j.mg.value.dc;if(c){f=new Set();h=new Set();k=new Set();c.forEach(function(a){a=a.Qf;f.add(a);h.add(a.replace(b.Qxa,""));(a=a.match(b.Qxa))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(fa(f));a.videoProfile=0===h.size?"none":[].concat(fa(h))[0];a.videoProfileLevels=[].concat(fa(k));}};c.prototype.BJa=function(a){var b,c,f;try{b=this.Sc.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(za){}};c.prototype.zpb=function(a){a.switchAwaySummary={vsa:this.Rh.summary.GUa,vsb:this.Rh.summary.HUa,vsbt:this.Rh.summary.IUa,asa:this.Rh.summary.VBa,asb:this.Rh.summary.WBa,asbt:this.Rh.summary.XBa};};c.prototype.jda=function(a){var b,c,f,h,z;b=this;c=this.EOa();this.ZX(c,"endplay");c.browserua=R.Hl;this.j.Lv&&"downloaded"===this.j.Lv.zY()&&(c.trickplay_ms=this.j.MQ.offset,c.trickplay_res=this.j.MQ.qQa);this.config().pUa&&(c.rtinfo=this.j.enb());if(this.config().Qka){f=this.Py.hm().OC;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;f=this.iW.Xkb().map(function(a){return{cdnid:a.lx,avtp:a.OC,tm:a.Mca};});void 0!=c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.Gm&&this.jZ(c);}this.AJa(c);c.endreason=a?"error":this.j.Ob.value===Q.jb.Pq?"ended":"stopped";f=this.um;this.tpb(f);f&&t.tb(c,f,{prefix:"pi_"});f=this.j.Oi;a&&f&&D.Kqa(f.errorCode)&&(h="info");try{t.tb(c,this.j.pd,{prefix:"sm_"});}catch(Oa){}this.j.oga&&(c.inactivityTime=this.j.oga);this.pga(c,"info"!==h&&a);this.CJa(c);if(this.j.EA){for(var f=this.j.EA,k=this.config().DA,p=this.j.hf,n={iv:k,seg:[]},d=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},q=f.Wt.map(d),d=f.Ov.map(d),l,g=0;g<q.length;g++){if(q[g]||d[g])l?(l.ams.push(q[g]),l.vms.push(d[g])):l={ams:[f.Wt[g]],vms:[f.Ov[g]],soffms:f.startTime+g*k-p};g!==q.length-1&&q[g]&&d[g]||!l||(n.seg.push(l),l=void 0);}c.bt=JSON.stringify(n);}if(this.j.t_&&0<this.j.t_.length){z=[];this.j.t_.forEach(function(a){z.push({soffms:a.time-b.j.hf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=z;}this.j.nPa&&(c.psdConservCount=this.j.nPa);a&&this.BJa(c);this.CSa("endplay");this.config().ep&&this.Ac()&&this.uga(c);c.isNonMember=this.Dj.GG;this.vga(c);this.yJa(this.j,c);this.zJa(this.j,c);this.uB(this.j,c);this.Sx(this.j,c,this.S$);this.rga(c);this.sga(c);this.tga(c);this.DJa(c);this.upb(c);this.xJa(c);this.wpb(c);this.vpb(c);this.zpb(c);this.Jc(u.xe.jda,a,W.Zh|W.MD|W.bh|W.Wv|W.UJ|W.o4,c,h);};c.prototype.q4a=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};c.prototype.ihb=function(){var a,b;a=this;if(this.j.Mm&&this.j.tn){b=[];this.j.Mm.concat(this.j.tn).forEach(function(c){c.dc.forEach(function(c){b.push({dlid:c.ld,type:c.type,bitrate:c.O,vmaf:c.uc,cdn_ids:a.q4a(c.tu)});});});return JSON.stringify(b);}};c.prototype.mbb=function(){var b,c,h;function a(a,b){var k,p,n;k=a.cdnId;p=h[k];n=a.vmaf;p||(p={cdnid:k,dls:[]},h[k]=p,c.push(p));f.DF(a.bitrate);f.DF(a.duration);k={bitrate:a.bitrate,tm:R.Bh(a.duration)};n&&(f.DF(a.vmaf),k.vf=n);k[b]=t.Kd(a.downloadableId);p.dls.push(k);}b=this.j.vm.ykb();c=[];h={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.EOa=function(){var a,b,c,h,k,p,n,d,q,z,D;a=this.j.vm;b={totaltime:t.Au(a.xN()),totalcontenttime:t.Au(a.JIa()),cdndldist:this.mbb(),reposcount:this.jQa,intrplaycount:this.yZ};try{c={numskip:0,numlowqual:0};h=this.j.Ti;k=h.oB();y.la(k)&&(b.totfr=k,c.numren=k);k=h.nB();y.la(k)&&(b.totdfr=k,c.numrendrop=k);k=h.kN();y.la(k)&&(b.totcfr=k,c.numrenerr=k);k=h.lY();y.la(k)&&(b.totfdl=k);b.playqualvideo=JSON.stringify(c);p=this.j.rf.value;p&&(b.videofr=p.TX.toFixed(3));n=a.VGa();n&&(b.abrdel=n);d=a.Mob()&&a.Dkb();d&&(b.tw_vmaf=d);q=a.Ckb();q&&t.tb(b,q);b.rbfrs=this.yZ;b.maxbitrate=this.Xo;b.maxresheight=this.WLa;for(var l=this.j.rB(),g,a=0;a<l.length;a++){z=l[a];D=this.Dm.wO.Bs(z);if(D){f.Wa(g);b.maxbitrate=g?g.O:0;b.maxresheight=g?g.height:0;b.bitratefilters=D.join("|");break;}g=z;}this.j.Lv&&(b.trickplay=this.j.Lv.zY());null!==this.j.Wn.pCa&&(b.avg_subt_delay=this.j.Wn.pCa);}catch(Oa){this.log.error("Exception reading some of the endplay fields",Oa);}t.tb(b,this.j.EY(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.qa.Zb().ba(g.ia);};c.prototype.m1=function(a){a.browserua=R.Hl;this.Jc(u.xe.dCb,!a.success,W.Zh|W.Wv,a);this.Jc=q.Xe;};c.prototype.Ipb=function(){var a,b,c;a=this;c=[];this.config().iub&&(this.config().jub.forEach(function(b){c.push(N.setTimeout(a.x_,b));}),this.config().jMa&&(b=N.setInterval(this.x_,this.config().jMa)),this.QTa=function(){c.forEach(function(a){N.clearTimeout(a);});b&&N.clearInterval(b);});};c.prototype.uga=function(a){var b;try{b=this.Ac().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.OGa);}catch(oa){}};c.prototype.rga=function(a){this.log.debug("httpstats",this.Re.Wb);t.tb(a,this.Re.Wb,{prefix:"http_"});};c.prototype.pga=function(a,b){this.config().xEa&&!(this.ha%this.config().xEa)&&this.j.Gb&&this.j.Gb.xZ&&(a.ASEstats=JSON.stringify(this.j.Gb.xZ(b)));};c.prototype.jZ=function(a){Object.assign(a,this.j.Gm.ub.Hnb());};c.prototype.sga=function(a){var b;try{b=R.Wq.memory;y.wKa(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(oa){}};c.prototype.tga=function(a){var b,c;if(this.config().Whb){c=null===(b=null===R.Di||void 0===R.Di?void 0:R.Di.connection)||void 0===b?void 0:b.effectiveType;b=null===R.Di||void 0===R.Di?void 0:R.Di.deviceMemory;c&&(a.effectiveType=c);b&&(a.deviceMemory=b);}};c.prototype.DJa=function(a){var b;b=this.j.zf;this.config().fbb&&b&&!this.config().sp&&(a.keystatuses=this.j.lvb(b.ASb()),this.log.trace("keystatuses",a.keystatuses));};c.prototype.xJa=function(a){try{this.config().eM&&(a.battery=this.j.Jkb(),this.log.trace("batterystatuses",a.battery));}catch(O){}};c.prototype.upb=function(a){this.j.LW&&(a.dqec=this.j.LW);};c.prototype.tpb=function(a){this.j.hW&&t.tb(a,{cast_interaction_counts:this.j.hW.NSb()});};c.prototype.EJa=function(a){var b;b=this.j.Oa.Un;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};c.prototype.vpb=function(a){this.yda&&(a.externaldisplay=this.yda.WM);};c.prototype.wpb=function(a){this.Sy&&this.Sy.vc&&(a.media_capabilities_smooth=this.Sy.vc.kEb,a.media_capabilities_efficient=this.Sy.vc.lyb,a.media_capabilities_bitrate=this.Sy.vc.O,a.media_capabilities_height=this.Sy.vc.height,a.media_capabilities_width=this.Sy.vc.width);};c.prototype.tB=function(a,b,c){c&&(a.adlid=c.ld,a.abitrate=c.O);b&&(a.vdlid=b.ld,a.vbitrate=b.O);};c.prototype.AJa=function(a){var b,c;if(this.j.pM){b=this.j.pM;b.tW&&(a.controllerESN=b.tW);b.Kcb&&(a.controllerUiVer=b.Kcb);if(b.Jcb)try{c=JSON.parse(b.Jcb);a.controllerGroupNames=c;}catch(ta){this.log.error("Exception parsing controller group names",ta);}}};c.prototype.nrb=function(){void 0===this.yda&&(this.yda=this.zda.Yib());};c.prototype.orb=function(a){void 0===this.Sy&&void 0!==a&&(this.Sy=this.wia.Eda(a));};c.prototype.ZX=function(a,b){var c;c=this.j.Cu(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};c.prototype.Jc=function(a,b,c,f,h){this.H8a(f,this.j,b,c);a=this.hO.xn(a,h||(b?"error":"info"),f,this.Dm);this.Lh.Jc(a);};c.prototype.H8a=function(a,b,c,h){var k,p,n,d,q;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.gk&&(a.pbcid=b.gk);h&W.Zh&&(f.Wa(!a||void 0===a.moff),0<=b.$b.value&&(a.moff=t.Au(b.$b.value)));if(h&W.MD){k=b.gc[l.yc.La.VIDEO].value;p=b.gc[l.yc.La.AUDIO].value;n=b.jg.value;d=b.kf.value;k&&(a.cdnid=k.id,a.cdnname=k.name);p&&(a.acdnid=p.id,a.acdnname=p.name);n&&(a.adlid=n.stream.ld,a.abitrate=n.stream.O);d&&(a.vdlid=d.stream.ld,a.vbitrate=d.stream.O,a.vheight=d.stream.height,a.vwidth=d.stream.width);}h&W.bh&&b.Gb&&(a.abuflbytes=b.paa(),a.abuflmsec=b.IL(),a.vbuflbytes=b.zna(),a.vbuflmsec=b.bR());if(h&W.UJ){Object.assign(a,da.ofa());try{q=b.If.getBoundingClientRect();a.rendersize=q.width+"x"+q.height;a.renderpos=q.left+"x"+q.top;}catch(Ga){}}h&W.Wv&&(k=R.Di.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.Dm.Tca)&&(p=k.Ekb(),a.droppedFrames=JSON.stringify(p),k=k.tN(this.config().vhb),t.xd(k,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(h&W.AR)try{b.qj&&(a.cdninfo=JSON.stringify(b.qj.map(function(a){return{id:a.id,nm:a.name,rk:a.Sf,wt:a.location.weight,lv:a.location.level};})));}catch(Ga){}c&&h&W.o4&&(f.Wa(b.Oi),(c=b.Oi)?a=Object.assign(a,da.efa(this.platform.eB,c)):a.errorcode=D.J.Pk,a.errorcode===this.platform.eB+D.J.lua&&(a.lastSyncWithVideoElement=this.getTime()-b.AQ));};b.Lsa=c;(function(a){a[a.Zh=1]="MOFF";a[a.MD=2]="PRESENTEDSTREAMS";a[a.bh=4]="BUFFER";a[a.UJ=8]="SCREEN";a[a.Wv=16]="CPU";a[a.AR=32]="CDN";a[a.o4=64]="FATALERROR";}(W||(W={})));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u5=void 0;b.u5="LogblobBuilderFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P2=void 0;b.P2="AppLogSinkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a8=void 0;b.a8="UuidProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D6=void 0;b.D6="PboLogblobCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xe=void 0;d=b.xe||(b.xe={});d.gab="bitraterestriction";d.$Ca="cdnsel";d.eba="chgstrm";d.debug="debug";d.Vgb="dlreport";d.jda="endplay";d.Fga="intrplay";d.x_="midplay";d.GOa="playbackaborted";d.PAb="renderstrmswitch";d.Rka="repos";d.fla="resumeplay";d.OCb="serversel";d.O1="startplay";d.AEb="statechanged";d.transition="transition";d.X9a="asereport";d.W9a="aseexception";d.z$a="audioswitch";d.hab="blockedautoplay";d.config="config";d.KRb="destiny_prepare";d.LRb="destiny_start";d.IRb="destiny_events";d.HRb="destiny_cachestate";d.JRb="destiny_playback";d.$W="dlreq";d.wv="prepare";d.sSb="ftlProbeError";d.dCb="securestop";d.gFb="subtitleerror";d.hFb="subtitleqoe";d.PFb="timedtextrebuffer";d.QFb="timedtextswitch";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O5=void 0;b.O5="MessageQueueSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v5=void 0;b.v5="LogblobSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u6=void 0;b.u6="PboBindDeviceCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z3=void 0;b.z3="CryptoKeysSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y3=void 0;b.y3="CryptoDeviceIdSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N3=void 0;b.N3="DeviceProviderSymbol";},function(d,b){function a(b,d,q){if(null!=q){if(0<q(b,d))throw a.iEa(b,d);}else if(b.fl&&0<b.fl(d))throw a.iEa(b,d);this.start=b;this.end=d;}Object.defineProperty(b,"__esModule",{value:!0});b.l7=void 0;a.iEa=function(a,b){return new RangeError("end ["+b+"] must be >= start ["+a+"]");};b.l7=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M3=void 0;b.M3="DeviceIdGeneratorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.LS=void 0;b.LS="MslReadyNotifierSymbol";},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.RWa=b.bpa=void 0;c=a(9);l=a(20);q=a(15);n=a(77);b.bpa=function(a,b,c,f,t,n,d,g,J,F){var h,k;h=this;k={Type:b,Bitrate:f,DownloadableId:c};l.tb(h,{track:a,type:b,ld:c,O:f,uc:t,Qf:g,size:n,tu:d,Lo:null,DDb:function(a,b,c,f){if(q.Xb(a)||q.Xb(b))h.width=a,h.height=b,q.la(c)&&q.la(f)&&(h.W$=c/f*a),k.Resolution=(h.width||"")+":"+(h.height||"");},YCb:function(a,b,c,f){q.Xb(a)&&q.Xb(b)&&q.Xb(c)&&q.Xb(f)&&(h.Yba=a,h.DW=b,h.BW=c,h.AW=f);},TX:J,Ou:F,Tg:k,toJSON:function(){return k;}});};b.RWa=function(a,b,h,f,t){if(a==c.HS||a===n.Dg.audio)return b;if(a==c.BD||a===n.Dg.video)return h;if(a==n.Dg.d2)return f;if(a==n.Dg.gna)return t;};},function(d,b,a){var l;function c(a){var n,k,p,h,f,t,d;p={};p[l.RI]=a.localName;h={};p[l.yi]=h;f=[];p[l.QI]=f;t=a.attributes;n=t.length;for(k=0;k<n;k++){d=t[k];h[d.localName]=d.value;}a=a.childNodes;n=a.length;h={};for(k=0;k<n;k++)switch(t=a[k],t.nodeType){case b.VUa:t=c(t);d=t[l.RI];t[l.K2]=p;f.push(t);p[d]?h[d][l.Uy]=t:p[d]=t;h[d]=t;break;case b.WUa:case b.TUa:t=t.text||t.nodeValue,f.push(t),p[l.wp]||(p[l.wp]=t);}return p;}Object.defineProperty(b,"__esModule",{value:!0});b.UUa=b.TUa=b.WUa=b.NIb=b.VUa=b.OIb=b.SUa=void 0;l=a(125);b.SUa=function(a){return c(a.nodeType==b.UUa?a.documentElement:a);};b.OIb=c;b.VUa=1;b.NIb=2;b.WUa=3;b.TUa=4;b.UUa=9;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.RUa=void 0;c=a(5);l=a(15);b.RUa=function(a){var b,k;if(l.Ru(a)){b=new DOMParser().parseFromString(a,"text/xml");k=b.getElementsByTagName("parsererror");if(k&&k[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(k[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(p){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.iOa=void 0;c=a(202);l=a(201);b.iOa=function(a,b,k,p){return new Promise(function(h,f){l.Gna(a,function(a){a.da?c.$Na(a.object,b,k,p,function(a){a.da?h(a.entries):f(a);}):f(a);});});};},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.sra=b.zS=void 0;c=a(0);l=a(7);q=a(4);n=a(727);k=a(726);p=function(){return function(){this.iF=new k.PJ(100);this.N_=new k.PJ(100);};}();d=function(){function a(a,b,c){var f,h,k;this.K=b;this.G=c;this.iV=a;f=this.iA=this.aE=this.$D=0;h=0;k=0;this.iV.length>=this.K.C_&&(this.iV.forEach(function(a){!(a=a.get().Ijb)||l.X(a.avtp)||l.X(a.neuhd)||(f+=a.avtp,h+=1*a.neuhd,k++);}),this.iA=k,this.$D=f/k,this.aE=h/k);}Object.defineProperties(a.prototype,{nCa:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oCa:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{PCb:{get:function(){return this.iA;},enumerable:!1,configurable:!0}});a.prototype.GZ=function(){return this.iA>=this.K.C_&&this.$D>=this.K.baselineHighAndStableThreshold.bwThreshold&&this.aE<this.K.baselineHighAndStableThreshold.nethreshold;};return a;}();b.zS=d;d=function(a){function b(b,c,f){b=a.call(this,b,c,f)||this;b.h8=[];b.Xib={};b.USa=[];b.nu=new p();b.iV.length>=b.K.C_&&(b.UAa("avtp",b.nu.iF),b.UAa("neuhd",b.nu.N_));return b;}c.__extends(b,a);b.prototype.GZ=function(){var a;this.Gmb();a=new n.Psa(this.G,this.USa,this.cab);a.aka(this.h8);a=a.Nbb(this.K.$Y.QUb);return this.IHb&&1===a&&this.iA>=this.K.C_;};b.prototype.mN=function(){var a,b,c,f;a={};b=q.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.qHa=function(a,b,c){a="avtp"===a?this.$D:this.aE;for(var f=b.fW(),h=0,k="skew"===c?3:4,p=0;p<b.bf.length;p++)l.X(a)||l.X(f)||(h+=Math.pow(b.bf[p]-a,k));h/=b.bf.length;return!l.X(f)&&0<f?h/Math.pow(f,k)-3*("skew"===c?0:1):NaN;};b.prototype.CHa=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};b.prototype.tmb=function(a){var b,c;b=a.Mp(25);c=a.Mp(50);a=a.Mp(75);return l.X(b)||l.X(c)||l.X(a)?NaN:0<c?(a-b)/c:NaN;};b.prototype.Pkb=function(a,b){a="avtp"===a?this.$D:this.aE;b=b.fW();return!l.X(b)&&!l.X(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};b.prototype.tN=function(a,b){a=a.Mp(b);return l.X(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};b.prototype.Gmb=function(){var a,b,c,f,h,k,p,n,d,q,g,m;a=this;b=this.K.$Y.qLa.yTb;c=this.K.$Y.qLa.wTb;f=this.K.$Y.qLa.xTb;n=[];m=0;this.IHb=!Object.keys(b).some(function(t){var z;g=NaN;if(!(b.hasOwnProperty(t)&&c.hasOwnProperty(t)&&f.hasOwnProperty(t)&&!l.X(a.nu)&&a.nu.iF&&a.nu.N_)||1>a.iA||"number"!==typeof b[t]||"number"!==typeof c[t]||"number"!==typeof f[t])return!0;h=b[t];k=c[t];p=f[t];n=t.split("_",2);d=n[0];q=n[1];switch(d){case"avtp":z=a.nu.iF;break;case"neuhd":z=a.nu.N_;break;default:z=void 0;}if("avtp"===d||"neuhd"===d){if(z)switch(q){case"last":g=z.bf[a.iA-1];break;case"mean":g="avtp"===d?a.$D:a.aE;break;case"niqr":g=a.tmb(z);break;case"skew":g=a.qHa(d,z,"skew");break;case"kurtosis":g=a.qHa(d,z,"kurtosis");break;case"std":g=z.fW();break;case"b":g=a.Pkb(d,z);break;default:-1!==t.search("[p][1-9]?[1-9]")&&(g=a.tN(z,Number(t.split("_p",2)[1])));}}else switch(t){case"fracAbove20Mbps":z=a.nu.iF;g=l.X(z)?NaN:a.CHa(z.bf,2E4,"gte");break;case"fracBelow20p":z=a.nu.N_;g=l.X(z)?NaN:a.CHa(z.bf,.15,"lte");break;case"hour_current":g=a.mN().currentHour;break;case"session_ct":g=a.iA;break;case"intercept":g=h,a.cab=g;}g=a.normalize(g,k,p);if(isNaN(g))return!0;"intercept"!==t&&(a.h8.push(g),a.USa.push(h),a.Xib[t]=m,m+=1);});};b.prototype.UAa=function(a,b){this.iV.forEach(function(c){c=c.get().Ijb;!c||"avtp"!==a&&"neuhd"!==a||l.X(c[a])||b.HV(Number(c[a]));});};return b;}(d);b.sra=d;},function(d,b,a){var n;function c(){}function l(a,b,c){void 0===c&&(c=!1);n(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");n(1E-8<q(a),"bitrate zero, won't be able to send anything.");this.cx=a;this.qFa=b;this.repeat=c;this.hk=this.$l=0;}function q(a){return a.reduce(function(a,b){return a+b;},0);}n=a(6).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Do=function(){var a;a=new l(this.cx,this.qFa,this.repeat);a.$l=this.$l;a.hk=this.hk;return a;};l.prototype.Ffa=function(){return this.cx[this.$l%this.cx.length];};l.prototype.Nx=function(){return this.qFa[this.$l%this.cx.length];};l.prototype.fhb=function(a){n(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.$l&&this.$l<this.cx.length))throw new c();n(this.hk<this.Nx(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.Nx()-this.hk;b=a<b?a:b;a-=b;this.hk+=b;if(this.hk<this.Nx())break;this.hk-=this.Nx();this.$l+=1;if(!this.repeat&&this.$l>=this.cx.length){if(0<a)throw new c();break;}}};l.prototype.nOa=function(a){this.fhb(a);};l.prototype.ghb=function(a){n(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.$l&&this.$l<this.cx.length))throw new c();n(this.hk<this.Nx(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,h=0;;){b=this.Nx()-this.hk;b=a<b*this.Ffa()?a/this.Ffa():b;a-=this.Ffa()*b;h+=b;this.hk+=b;if(this.hk<this.Nx())return h;this.hk-=this.Nx();this.$l+=1;if(!this.repeat&&this.$l>=this.cx.length){if(0<a)throw new c();return h;}}};d.P={q2a:l,r2a:c};},function(d,b,a){var q;function c(a,b,c){this.aa=a;this.kp=b;this.pP=c;}function l(a,b){this.Xha=b;void 0===b&&(this.Xha=!0);this.Ji=a;this.e3a();}q=a(6).assert;c.prototype.constructor=c;c.prototype.Eu=function(){return 8*this.aa/1E3/this.kp;};l.prototype.constructor=l;l.prototype.Do=function(a,b,c,h,f){void 0===b&&(b=0);void 0===c&&(c=a.vG());void 0===h&&(h=0);void 0===f&&(f=a.Ji.length);for(var k=[],p,n=h;n<f;n++){h=[];for(var d=b;d<c;d++)p=a.Ji[n][d],h.push(p);k.push(h);}return new l(k,a.Xha);};l.prototype.e3a=function(){var a,b;a=this.Ji[0].length;for(b in this.Ji.slice(1))q(this.Ji[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Ji[b].length+" and "+a);this.Xha&&this.f3a();this.g3a();};l.prototype.vG=function(){return this.Ji[0].length;};l.prototype.f3a=function(){for(var a=0;a<this.Ji.length-1;a++)for(var b=0;b<this.vG();b++)q(this.Ji[a][b].aa<=this.Ji[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};l.prototype.g3a=function(){for(var a=0;a<this.Ji.length-1;a++)for(var b=0;b<this.vG();b++)q(1E-8>Math.abs(this.Ji[a][b].kp-this.Ji[a+1][b].kp),"Chunk duration for epoch "+b+" is not consistent");};l.prototype.bob=function(){var a;a=[];this.Ji[0].forEach(function(b){a.push(b.kp);});return a;};d.P={WWa:c,XWa:l};},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.ES=void 0;c=a(0);l=a(736);d=a(378);q=a(157);n=a(18);k=a(229);p=a(6);h=a(34);f=a(4);a=function(a){function b(b,c,k,p,t,n,d,q,g,z,m,r,u){k=a.call(this,p,q,k,p,p,t,h.ka.Bf(n),d,m,r,u)||this;k.Za=b;k.Kg=c;k.df=g;k.wf=z;k.Kaa=0;k.eA.jUa=!1;k.r7a=q;k.BK=new l.ssa(p,k.wf,q,k.G,k.M,k.Kg,k.Ha,k.Za);k.Frb=f.time.ea();k.wrb=void 0;k.NB=q.zga;k.$Oa=f.time.ea();k.FRa(t);return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{$$:{get:function(){return this.Ha.$$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sF:{get:function(){return this.Ha.sF;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JA:{get:function(){return this.Ha.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yy:{get:function(){return this.Ha.yy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cg:{get:function(){return this.BK.Cg;},set:function(a){(this.BK.Cg=a)?this.Ha.aDb():this.Ha.Pbb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ao:{get:function(){return this.BK.ao;},set:function(a){this.BK.ao=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{b_:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ppb:{get:function(){return this.kza.va;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aI:{get:function(){return this.n$.aI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qnb:{get:function(){return this.Za.W9;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.Cg=!1;this.eA.reset();};b.prototype.Ng=function(){this.reset();a.prototype.Ng.call(this);};b.prototype.iB=function(a,b){return k.iB(this.Mg.M,this.K,a,b,this.Ag,this.Za.Ttb,this.kL);};b.prototype.yu=function(a,b,c,f){return k.yu(this.Mg.M,this.K,a,b,c,f);};b.prototype.Ph=function(a){this.Ha.Ph(a);this.NB=this.K.zga;};b.prototype.hF=function(){this.Ha.OQ();};b.prototype.FRa=function(a){var b,c;b=this.Za;c=this.M;p.assert(a.M===c);p.assert(a.R===this.Xc.R);this.Mg=a;this.Xc.R.sna(c,a.Lc);0===c&&(this.kL=q.aaa(this.r7a,a.Lc[0]));b.N4a(this,a.JB);this.Rab(a.Lc);this.Cq.lDb(a);this.Xc.R.jba();this.Cg=!1;};b.prototype.Hda=function(a){var b;b=this.Xc.R.dg[this.M];if(b&&b.stream.Xd&&(a=b.stream.Z.cm(a),-1!==a))return a;};b.prototype.BC=function(a){var b,c,f;if(this.ag&&this.ag.T===a)b=this.ag.index,c=a;else{f=this.Xc.R;b=f.dg[this.M];if(!b||!b.stream.Xd){this.cC=a;return;}c=b.stream.Z;this.ag=this.yu(b.stream,a,void 0,!1);if(void 0===this.ag){if(b=c.length-1,c=c.Qh(b),this.ab("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.se.Af),f.se.Af){this.cC=a;return;}}else b=this.ag.index,c=this.ag.T;}this.uk=b;this.pV=c;this.cC=void 0;};b.prototype.fIb=function(a){var b,c;b=this.Mg.Rr(a);c="verifying streamId: "+a+" stream's track: "+(b?b.sa:"unknown")+" currentTrack: "+this.Mg.cb;return b?!0:(this.Kg.vk(c),this.Kg.vk("unknown streamId: "+a),!1);};b.prototype.Rab=function(a){this.Tob=a.reduce(function(a,b){return b.zj&&b.O>a.O?b:a;},a[0]);};b.prototype.A1=function(a){this.fg=a;};b.prototype.$sb=function(a,b,c,f){this.GTa(a,b,f);c&&++this.Kaa;this.Za.ii();};b.prototype.ov=function(b){b.na&&b.T&&(this.NB-=b.na-b.T);a.prototype.ov.call(this,b);};b.prototype.Vi=function(a){this.SIa(a);this.Vp(a);};b.prototype.ZGb=function(a){var b;b=f.time.ea();this.NB+=a*(b-this.$Oa);this.$Oa=b;};b.prototype.lBb=function(){this.NB=this.K.zga;};b.prototype.pF=function(a){this.Ha.iDa();this.Ag||this.BK.pF(a,this.Ub);};b.prototype.SIa=function(a){var b,c,f;c=this.b_;f=this.Za;this.df.HAa()||(this.Kg.g6a(a.M,a.R.Xa,a.stream.track.sA,this.Cr),null===(b=this.Ag)||void 0===b?void 0:b.Bpb(a),b=c.W.Wd()||0,f.$a.pt()||(c=c.Ge(n.La.VIDEO))&&!c.pj&&c.WY&&f.$a.ufa(c),this.pF(b),this.Za.RIa(a),this.df.dU(this)&&this.df.ii());};b.prototype.wja=function(a){this.Za.MY(a);};b.prototype.hDa=function(a,b,c,f,h){var k,p;k=this.K;p=k.Vg;if(c>=k.Vg&&(k.Y0&&(p=c+1E3),k.Z0&&!this.connected))return!1;if(this.Ag)return this.Ag.Xl();c=this.Cg&&0===this.Ha.k0&&0===this.Ha.Ns;return!c&&f<p?!1:c?h&&0===f?(this.ab("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.kDa(a,b);};b.prototype.mDb=function(a){this.pV=a;};return b;}(d.K6);b.ES=a;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G;Object.defineProperty(b,"__esModule",{value:!0});b.rsa=b.TJ=void 0;c=a(0);d=a(21);l=a(379);q=a(362);n=a(17);k=a(375);p=a(34);h=a(39);f=a(7);t=a(58);g=a(4);(function(a){a[a.FGa=0]="forwards";a[a.yaa=1]="backwards";a[a.$ia=2]="none";}(G=b.TJ||(b.TJ={})));a=function(a){function b(b,c,f,h,k,t,n,d,l,g,z,D,G,J,m,r){var F,L;F=a.call(this,c,h,l.R,b,l,g,G,z,n.Wd.bind(n),D,r,void 0,void 0,!0)||this;F.Za=b;F.Kg=f;F.zb=k;F.pU=t;F.W=n;F.ME=d;F.Gf=D;F.iN=J;F.wf=m;F.bn=r;F.active=!1;F.gza=[];F.R9=0;F.children=Object.create(null);F.Ls=[];F.od=void 0;void 0===G&&(G=p.ka.Bf(l.T));L=[F.K.taa,F.K.T1];g.forEach(function(a){var f,h;f=a.M;h=k.FHa.bind(k,F,f);a=new q.ES(b,F.Kg,F.G,F,a,G.va,L[f],c,F.pU,F.wf,F.vU[f],null===D||void 0===D?void 0:D.Ge(f),h);F.hi[f]=a;});F.cL=F.rY()[0];return F;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.R.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vl:{get:function(){return[this.ad[0].vl,this.ad[1].vl];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Co:{get:function(){return[this.ad[0].Co,this.ad[1].Co];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{o1:{get:function(){return this.ca.T;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rja:{get:function(){return this.o1+this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ub:{get:function(){return this.ca.na;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{te:{get:function(){return this.Ub+this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ib:{get:function(){return this.R.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.ca.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ca:{get:function(){return this.zAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ad:{get:function(){return this.hi;},enumerable:!1,configurable:!0}});b.prototype.Ng=function(){this.Np||(this.active=!1,this.Gf&&(delete this.Gf.children[this.ca.id],this.Gf=void 0),f.Ud(this.children,function(a){a&&a.Gf&&(a.Gf=void 0);}),this.children=Object.create(null),this.fE=void 0,a.prototype.Ng.call(this),this.hi=[]);};b.prototype.ala=function(a,b){void 0===b&&(b=G.yaa);this.ad.forEach(function(b){(f.X(a)||b.M===a)&&b.reset();});switch(b){case G.yaa:this.Gf&&this.Gf.ala(a,b);break;case G.FGa:this.children&&f.Ud(this.children,function(c){c&&c.ala(a,b);});}};b.prototype.TJa=function(a){var b,c,f;if(!this.active)return!1;b=this.Gf;if(b){c=b.Ge(a);f=c.Ha.sOa;if(0!==f&&(b.hF(a),f=c.Ha.sOa,0!==f))return!1;}return!0;};b.prototype.Hc=function(a){return this.ad[a];};b.prototype.Kob=function(){return this.ad.every(function(a){return 0===a.yy;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.bd,playerEndPts:this.te,pipelines:this.ad,previousBranch:this.Gf});};b.prototype.KRa=function(a,b){this.R.PTa(this);this.R=this.ca.R=a;this.ARa(this.R);this.R.VPa(this);this.ad.forEach(function(a){var c;c=b[a.M];c&&a.FRa(c);});};b.prototype.Nmb=function(a){return this.bn[a];};b.prototype.Ge=function(a){return this.ad[a];};b.prototype.bnb=function(a){return this.ad[a].yy;};b.prototype.Ula=function(a,b,c){var f,h,k,p;f=this;h=this.ca;a=this.eW(h.T,this.R,a,this.u===(a?a.u:this.zb.Sb.u));k=a.KH;p=a.zu;void 0===b&&(b=[0,1]);0===p.length||b.forEach(function(a){var b,k;b=f.ad[a];c&&(b.ag=p[a]);k=f.ZM(h.na);b.A1(k[a]);});return k;};b.prototype.SPa=function(a,b){var c,h,k,p;c=this.Za;h=this.ad[0];void 0===b&&(b=h.Ppb);this.Gf&&(k=this.Gf.Hc(0));p=this.zb.FHa.bind(this.zb,this,0);c=new q.ES(c,this.Kg,this.G,this,a,b,h.aI,this.K,this.pU,this.wf,this.vU[0],k,p);this.ad[0]=c;this.cL=this.rY()[0];this.Ula(this.Gf,[0],!0);c.BC(b);h.Ng();f.Ud(this.children,function(b){b&&b.SPa(a);});};b.prototype.Jr=function(a,b){if(b=this.ad[b])return b.Ha.Jr(a);};b.prototype.hF=function(a){void 0===a?this.ad.forEach(function(a){a.hF();}):this.ad[a].hF();};b.prototype.nP=function(a,b,c){(a=this.ad[a])&&a.Ha.nP(b,c);};b.prototype.vY=function(a,b){(b=this.ad[b])&&b.Ha.vY(a);};b.prototype.jtb=function(a){this.gza[a]=!0;};b.prototype.xbb=function(){var a;a=this;return[0,1].every(function(b){return!a.ib(b)||a.gza[b];});};b.prototype.vbb=function(a,b,c,f){var h,p,t,d,q,l,z,D,G;h=this.K;p=this.Za;t=this.W.Yc();d=t===n.ma.we||t===n.ma.Eg;if(!d&&void 0===c)return{pj:!0};if(t===n.ma.Eg&&g.time.ea()<this.R9+h.Dub)return{pj:!1};q=this.ad[0];l=this.ad[1];z=this.zb.Ar(this,0);D=this.zb.Ar(this,1);G=k.Tja(t);z=!q||q.hDa(G,this.W.Wd(),b,z,f);D=!l||l.hDa(G,this.W.Wd(),a,D,f);void 0!==c&&z&&(c=c.cb,a=this.R.getTrackById(c),this.i3a(c,a.g2),p.Xt=void 0);if(z&&D)return this.ME(),t===n.ma.Eg&&(this.R9=g.time.ea()),{pj:!0,Lp:l?l.au:q.au};z=this.Qi(0);D=this.Qi(1);if(d){p=!l||D>h.Vg;if((!q||z>h.Vg)&&p&&(q=this.iN(),q>=h.vv))return this.ab("buffering longer than limit: "+q+" >= "+h.vv+", audio buffer: "+z+" ms, video buffer: "+D+" ms"),this.ME(),t===n.ma.Eg&&(this.R9=g.time.ea()),{pj:!0,Lp:"prebufferTimeLimit"};this.Kg.J5a();}return{pj:!1};};b.prototype.dba=function(a,b){var c,f,h,k,p,t;c=this.K;f=this.ad[0];h=this.ad[1];b?(b=this.Qi(0,a),a=this.Qi(1,a)):(b=this.zb.Ar(this,0,a),a=this.zb.Ar(this,1,a));k=c.Vg;p=!this.ib(0)||f.Cg&&0===f.Ha.qv&&0===f.Ha.Ns;f=!this.ib(1)||h.Cg&&0===h.Ha.qv&&0===h.Ha.Ns;t=p&&f;c=!p&&b<c.Vg;if(!t&&(c||!f&&a<k))return!1;if(h&&h.pj||!this.ib(1))return!0;if(t)if(this.Za.UU&&0===b&&0===a)this.ab("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};b.prototype.zC=function(a,b){var c,f;c=this;f=this.K;this.ad.forEach(function(a){a.seeking=void 0;});a&&f.Pg&&this.ad.forEach(function(a){var f;if(a){f=c.zb.HA(c,a.M);a="bufferingComplete: , mediaType: "+a.M+", bufferLevelBytes: "+a.Co.aa+", completedMs: "+a.sF+", completedBytes: "+f+", partials: "+a.Ha.qv+", streamingPts: "+a.Lb+", completeStreamingPts: "+a.Cr+", fragments: "+JSON.stringify(a.Ha.Z)+", toAppend: "+b(a.M);c.Kg.vk(a);}});};b.prototype.YGa=function(){var a,b;a=!0;b={};this.ad.map(function(c){var f;f=1===c.M?"v":"a";c=c.Co;b[f+"buflmsec"]=c.va;b[f+"buflbytes"]=c.aa;a=a&&0<c.va;});return{PY:a,YL:b};};b.prototype.M1=function(a,b,c){var h,k,p;h=this;k=g.time.ea();p={};f.Ud(this.children,function(a){var b,c;if(a){a.od?(a.od.khb=k-a.od.pZ,a.od.pZ=void 0,b=a.od.weight):b=h.zb.qIa(h.ca.id,a.ca.id);c=a.YGa();p[a.ca.id]={weight:b,YL:c.YL,PY:c.PY};}});c={requestTime:k,l1:a,jgb:c,K1:this.ca.id,od:p};a||(a=b.Wd(),c.lI=a-(this.ca.T+this.de),c.lI=Math.max(0,c.lI),c.RW=0,c.startTime=k);this.Ls.unshift(c);return c;};b.prototype.lcb=function(a){var b,c;b=this.Ls[0];b.l1&&(b.lI=this.Ub-this.ca.T,b.lI=Math.max(0,b.lI));c=a.YGa();b.xTa={};t(c.YL,b.xTa);b.PY=a.Co.every(function(a){return 0<a.va;});this.Ls=[];return b;};b.prototype.Ph=function(a){var b;b=this.ca;a-=this.de;if(b.T<a&&a<b.na)this.Ls.shift();else if(b=this.Ls[0])b.Ph=!0;};b.prototype.eW=function(a,b,c,f){var h,k,p,t;h=this;void 0===b&&(b=this.R);k=!1;if(c){k=!0;p=c.ad[1].fg;c=c.ad[0].fg;if(!p||!c)return{KH:[],zu:[]};p=p.na;f||(p=void 0);}t=this.kGa(a,p,k,b);b.Xa===this.zb.xfb&&[1,0].forEach(function(a){var b;b=h.Ge(a);b&&(b.ag=t[a]);});return{KH:t.map(function(a){return a.T;}),zu:t};};b.prototype.kGa=function(a,b,c,f){var h;h=this;void 0===f&&(f=this.R);return this.XAa(f)?[1,0].map(function(k){if(!h.ib(k))return{};k=h.ad[k].yu(f.dg[k].stream,a,b,c);a=k.T;return k;}).reverse():[];};b.prototype.ZM=function(a,b){var c;c=this;void 0===b&&(b=this.R);return this.XAa(b)?[1,0].map(function(f){var h;if(!c.ib(f))return{};h=b.dg[f].stream;f=c.ad[f].iB(h,a);a=c.K.Ag?new p.ka(f.gb,h.Ta.S).va:f.na;return f;}).reverse():[];};b.prototype.XGb=function(a,b){var c;c=this.ca.na;c&&c<b&&(a=this.ZM(c));b=this.Hc(1);c=this.Hc(0);b&&b.A1(a[1]);c&&c.A1(a[0]);};b.prototype.XAa=function(a){var b;b=a.dg;if(!b)return!1;a=b[1];a=!this.ib(1)||a&&a.stream.Xd;b=b[0];b=!this.ib(0)||b&&b.stream.Xd;return a&&b?!0:!1;};b.prototype.i3a=function(a,b){this.Kg.H5a(a,b);};return b;}(l.k3);b.rsa=a;h.pf(d.EventEmitter,a);},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.l3=void 0;c=a(7);l=a(58);q=a(4);n=a(363);k=a(735);p=a(17);h=a(213);f=a(11);t=a(6);g=a(34);d=function(){function a(a,b,c,k,p,n,d,l,g,z){this.Za=a;this.Kg=b;this.G=c;this.ME=k;this.K=d;this.pU=l;this.cAa=g;this.iN=z;this.ab=this.G.warn.bind(this.G);this.mj=this.G.trace.bind(this.G);this.xb=this.G.log.bind(this.G);this.ih=[];this.kn={};p.iu?(t.assert(!p.Bk),this.y8=!0,this.C6a(p,p.iu,n)):(this.Kl=this.M8(p.Bk||"",p,0,void 0,void 0,{},!0),this.Kl.lH=!0,this.Kl.na=Infinity,this.tV=[this.Kl]);this.Dc=this.fU(this.Kl,void 0,n);this.Dc.active=!0;a=f.cy(q,this.G,"BranchQueue::");this.Yj=new h.tR(a);this.Yj.enqueue(this.Dc);this.S9=this.PK=void 0;}a.mea=function(a){return"m"+a;};Object.defineProperties(a.prototype,{Mu:{get:function(){return!!this.y8;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hq:{get:function(){return this.Dc.Np;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jh:{get:function(){return this.Kl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rg:{get:function(){return this.Dc.ca.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xfb:{get:function(){return this.Dc.R.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sb:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qc:{get:function(){return this.ih;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{de:{get:function(){return this.Dc.de;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wf:{get:function(){return this.Za.wf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ck:{get:function(){return this.PK?this.PK:this.Qc[0];},enumerable:!1,configurable:!0}});a.prototype.Bn=function(){this.ih.forEach(function(a){a.Ng();});this.ih=[];this.Yj.clear();};a.prototype.Rg=function(a){return this.kn[a];};a.prototype.rIa=function(){return this.Yj.MHa();};a.prototype.qIa=function(a,b){var c;c=this.kn[a];if(c)return(a=c.sj[b])&&a.weight;this.ab("getSegmentWeight, unknown segment:",a);};a.prototype.lnb=function(a){var b;b=this.kn[a];if(b)return b.T;this.ab("getSegmentStartPts, unknown segment:",a);};a.prototype.knb=function(a){var b;b=this.kn[a];if(!b)this.ab("getSegmentDuration, unknown segment:",a);else if(c.la(b.na)&&isFinite(b.na)&&c.la(b.T)&&isFinite(b.T))return b.na-b.T;};a.prototype.Mka=function(a){var b;b=-1;this.ih.some(function(c,f){return c===a?(b=f,!0):!1;});-1!==b?this.ih.splice(b,1):this.ab("Unable to find branch:",a,"in branches array");};a.prototype.Oab=function(a,b){var c;c=0;this.Zya(a).forEach(function(a){(a=a.Hc(b))&&(c+=a.$$);});return c;};a.prototype.HA=function(a,b){var c;c=0;this.Zya(a).forEach(function(a){(a=a.Hc(b))&&(c+=a.JA);});return c;};a.prototype.Ar=function(a,b,c){if(!a.ib(b))return 0;for(var f=a.Ge(b),f=c?f.Lb:f.Cr;void 0===f;){if(!a.Gf)return 0;a=a.Gf;f=a.Ge(b);f=c?f.Lb:f.Cr;}a=this.cAa.Wd();return Math.max(f-a,0);};a.prototype.FHa=function(a,b){var c;if(void 0!==this.K.LB){c=q.lk()[b];a=this.Oab(a,b);return c-a;}};a.prototype.Gda=function(a){return this.ih.filter(function(b){if(b.R.Xa===a)return!0;});};a.prototype.hjb=function(a,b){return this.Sya(a,!1,b);};a.prototype.gjb=function(a,b){return this.Sya(a,!0,b);};a.prototype.QAb=function(a,b,f){c.Ud(this.ih,function(c){c.R===a&&c.KRa(b,f);});c.Ud(this.kn,function(c){c.R===a&&(c.R=b);});};a.prototype.sQa=function(){var a;a=this;c.Ud(this.ih,function(b){var c;c=a.Za.Rf(b.R.Xa);b.xr=g.ka.Bf(c.$r);});};a.prototype.CC=function(a){var b;b=this;c.Ud(this.ih,function(c){c.Ge(1).track.Lc.forEach(function(c){var f;f=p.EL(c.Qf,c.O,a,b.G);l(f,c);});});};a.prototype.Jr=function(a,b,c,f){var h;for(;b;){h=b.Jr(a,c);if(h)return h;if(f)break;b=b.Gf;}};a.prototype.vEa=function(a){var b,c;b=this;void 0===a&&(a=!1);c=this.ih;a&&(c=c.filter(function(a){return a!==b.Dc;}));c.forEach(function(a){a.active=!1;b.Yj.remove(a);});a||this.Yj.clear();return c;};a.prototype.izb=function(){var a;for(;0<this.ih.length;){a=this.ih[0];if(!a.active)break;if(a===this.Dc)break;if(!a.Kob())break;a.Ng();this.ih.shift();}};a.prototype.nP=function(a,b,c,f,h){if(c>f){for(c-=f;a;)a.nP(b,c,h),a=a.Gf;return c;}};a.prototype.wLa=function(a,b){for(var c={lM:null,CH:null,bd:null,Xi:0,Th:0,Z:[]};a;)a.vY(c,b),a=a.Gf;return c;};a.prototype.Zbb=function(a){var b,c,f;b=this.Dc;if(b.lLa)c=b.lLa;else{f=this.Dc.de;c=this.fU(b.ca,b);p.Ke.forEach(function(a){var f;f=c.Hc(a);f&&(f.BC(0),f.A1(b.Hc(a).fg));});c.xr=g.ka.Bf(f+a);b.lLa=c;}this.XD(c,b);};a.prototype.e9a=function(b,c,f){var h,k;t.assert(!b.Mu());if(!this.y8){this.y8=!0;this.PK=this.Ck;h=this.Kl.id||a.mea(0);this.Kl.id=h;this.kn[h]=this.Kl;this.Kl.na=this.Za.Ulb().PHa();this.Kl.sy=!0;}k=void 0!==b.Bk?b.Bk:a.mea(b.Xa);b=this.M8(k,b,c,f,void 0,{},!0);b.sy=!0;this.tV.forEach(function(a){a.sj={};a.sj[k]={weight:100};a.CM=k;a.Gs=!1;});this.tV=[b];};a.prototype.ju=function(a,b){var c,f,h,k;c=this.Ck;f=c.M1(b,this.Za.W);h=c.ca;k=c.children[a];if(b){if(!h.sj[a])return this.Dc.ab("chooseNextSegment, invalid destination:",a,"for current segment:",h.id),!1;if(c.Mi)return c.Mi===a;c.Mi=a;k&&c.OX&&this.XD(k,c);return!0;}if(void 0!==c.Mi)return!1;if(!k)return f.LMa=!0,!1;f.LMa=!k.dba();this.Za.a$(void 0,n.TJ.$ia);c.OX=void 0;c.Mi=a;this.XD(k,c);c.gda();this.Za.jL();return!0;};a.prototype.Xob=function(a,b){var f,h,k,p;f=this;p=a.ca;b&&!a.Mi&&(a.Mi=p.CM,a.M1(!0,this.Za.W,!0));a.children=Object.create(null);c.Ud(p.sj,function(b,c){a.Mi&&c!==a.Mi||(h=f.kn[c],k=f.R3a(h,a),a.children[c]=k);});a.Mi&&(b=a.children[a.Mi])&&this.XD(b,a);a.OX=!0;};a.prototype.fGb=function(){var a;a=0;c.Ud(this.ih,function(b){p.Ke.forEach(function(c){b.ib(c)&&(a+=b.Hc(c).Ha.uo);});});return a;};a.prototype.tFb=function(a,b){var c,f,h;c=this;f=this.t4a(a,b);if(f){f!==this.Dc.ca?(this.vEa(),h=this.fU(f,this.Dc,a),h.Gf=void 0,h.Ula(void 0,void 0,!0),this.O2a(this.Dc),this.XD(h,this.Dc)):(this.vEa(!0).forEach(function(a){a.Ng();c.Mka(a);c.Yj.remove(a);}),this.Dc.qna(a,this.K.Z1));f===this.Ck.ca&&(this.Ck.Ls.shift(),h&&(h.Ls=this.Ck.Ls,h.Mi=this.Ck.Mi));this.Kg.OU(f,this.Dc.de);this.Dc.OX=void 0;}else this.ab("findSegment no segment for manifestIndex:",b);};a.prototype.uLa=function(a,b){var c;c=a.ca;b||(b=c.CM);f.Ala(c.id);a.Mi||(a.Mi=b,a.M1(!0,this.Za.W,!0));(b=a.children[a.Mi])&&this.XD(b,a);};a.prototype.sRa=function(a,b){if(this.Dc!==a){if(b)for(b=this.Dc;b&&b!==a;)b.active=!1,this.Yj.remove(b),b=b.Gf;this.Dc=a;}};a.prototype.Gq=function(a,b){var c,h,k,t,n;c=this;if(this.Mu){h=this.K;k=this.Ck;t=k.ca;n=f.Ala(t.id);!k.Mi&&!t.Gs&&k.Ub-b<=h.G_&&(this.ab(n+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.uLa(k));}p.Ke.forEach(function(a){c.Dc.ib(a)&&c.wf[a].Gq();});};a.prototype.Avb=function(a,b){var c,f;if(this.Mu){c=this.PK;if(!(this.K.ppb&&a&&this.S9&&a.T===this.S9||(a=a.Ha.Xc,c&&a.ca.id===c.ca.id))){f=null===c||void 0===c?void 0:c.Hc(1);f=null===f||void 0===f?void 0:f.fg;this.S9=null===f||void 0===f?void 0:f.T;this.PK=a;this.l3a(c);c=c&&c.lcb(a);this.Kg.c6a(a.ca,b,c);}}};a.prototype.bja=function(a,b,c){b.lH||(b.T=this.eIa(a,b.T,!0),c||(b.na=this.eIa(a,b.na,!1)),b.lH=!0,!1);};a.prototype.n2=function(a,b){var h;f.Ala(a);h=this.kn[a];h?c.Ud(h.sj,function(a,c){a.weight=b[c]||0;}):this.ab("updateChoiceMapEntry, unknown segment:",a);};a.prototype.eIa=function(a,b,c){a=c?a.kGa(b):a.ZM(b);if(!a.length)return b;b=a[1];return c?b.T:b.na;};a.prototype.oza=function(a,b,c){var f;f=b?c.Ub:c.te;return(b?c.o1:c.Rja)<=a&&a<f;};a.prototype.Sya=function(a,b,f){var t;for(var h=this.Za,k=this.Dc;k;){if((!c.la(f)||h.Iga(f,k.R.Xa))&&this.oza(a,b,k))return k;k=k.Gf;}if(b)for(var k=Object.keys(this.Dc.children),p=0;p<k.length;p++){t=this.Dc.children[k[p]];if((!c.la(f)||h.Iga(f,t.R.Xa))&&this.oza(a,b,t))return t;}};a.prototype.R3a=function(a,b){var c,f;c=this.fU(a,b);f=c.Ula(b,void 0,this.K.Eka);p.Ke.forEach(function(a){var h,k,p;if(c.ib(a)){h=c.Hc(a);k=b.Hc(a);p=f[a];1===a&&(c.xr=g.ka.Bf(k.Lb+b.de-p));h.BC(p);}});this.Kg.OU(a,c.de);return c;};a.prototype.O2a=function(a){for(var b=[a.ca.id];a.Gf;)a=a.Gf,b.unshift(a.ca.id);this.n8(a);};a.prototype.n8=function(a){var b,f;b=this;f=a.ca;c.Ud(a.children,function(a){a&&b.n8(a);});this.Yj.remove(a);a.Ng();this.Mka(a);this.Kg.$5a(f);};a.prototype.XD=function(a,b){var f,h,k,p;f=this;h=b.ca;b.R!==a.R&&this.Za.wza(a.R.Xa);a.active=!0;this.Yj.enqueue(a);a.hF();k=q.time.ea();p={};c.Ud(b.children,function(b){var c,h;if(b){if(b.od){c=b.Hc(0);h=b.Hc(1);b.od.XL=[c?c.Co.va:0,h?h.Co.va:0];b.od.khb=k-b.od.pZ;b.od.pZ=void 0;p[b.ca.id]=b.od;}b.ca.id!==a.ca.id&&f.n8(b);}});b.children=Object.create(null);b.children[a.ca.id]=a;b.fE=void 0;this.sRa(a);this.Kg.a6a(a.ca,p);1<Object.keys(h.sj).length&&a.dba();};a.prototype.l3a=function(a){var b,c;if(a){b=q.time.ea();c=a.Ls[0];c&&void 0===c.RW?c.RW=b-c.requestTime:c||(this.ab("missing metrics for branch:",a.ca.id),c={K1:a.ca.id,l1:!0,RW:0,od:{}},a.Ls.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.t4a=function(a,b){var f,h,p,n;t.assert(0<=a);for(var k in this.kn){p=this.kn[k];if(this.Za.Iga(p.R.Xa,b)){if(p.T<=a&&(Infinity===p.na||void 0===p.na||a<p.na))return p;n=Math.min(Math.abs(a-p.T),Math.abs(a-p.na));if(c.X(f)||n<f)f=n,h=p;}}return h;};a.prototype.M8=function(a,b,c,f,h,p,t,n,d){b=new k.vwa(a,b,c,f,h,p,t,n,void 0,d);return this.kn[a]=b;};a.prototype.C6a=function(a,b,f){var h,k,p;h=this;this.Kl=void 0;this.tV=[];k=null;p=null;c.Ud(b.segments,function(b,t){var n,d,q,l,g;n=b.startTimeMs;d=b.endTimeMs;q={};c.Ud(b.next,function(a,c){q[c]={weight:a.weight||0,qGb:a.transitionHint||b.transitionHint,YRb:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});l=b.defaultNext;c.X(l)&&(l=Object.keys(q)[0]);g=c.X(l);l=h.M8(t,a,n,d,l,q,g,b.transitionDelayZones,b.transitionHint);n<=f&&(f<d||c.X(d))?h.Kl=l:n>f&&(!k||n<p)&&(k=t,p=n);g&&h.tV.push(l);});this.Kl||(this.Kl=k?this.kn[k]:this.kn[b.initialSegment]);};a.prototype.fU=function(a,b,c){var f,h,k,p;f=a.R;h=this.Za.Rf(f.Xa);k=h.$r;p=[];[0,1].forEach(function(a){f.ib(a)&&p.push(h.fm(a));});a=new n.rsa(this.Za,this.K,this.Kg,this.G,this,this.pU,this.cAa,this.ME,a,p,k,b,c?g.ka.Bf(c):void 0,this.iN,this.Za.wf,this.Za.kr);this.R2a(a);this.ih.push(a);return a;};a.prototype.R2a=function(a){var c;function b(a){c.Za.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.Za.f$(a.M,a.T);});};a.prototype.Zya=function(a){for(var b=[a];a.Gf;)a=a.Gf,b.push(a);return b;};return a;}();b.l3=d;},function(d,b,a){var n,k;function c(a,b,c,k,n,d){return new q(a,b,c,k,n,d);}function l(a){return a&&0<=a.indexOf(".__metadata__");}function q(a,b,c,k,n,d){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=k;this.creationTime=n;this.lastRefresh=d;return this.pTa();}n=a(7);k=a(107);a(106);new k.Console("MEDIACACHE","media|asejs");q.prototype.refresh=function(){this.lastRefresh=k.time.now();return this.pTa();};q.prototype.BRa=function(a){this.size=a;};q.prototype.MDa=function(){var a;a=k.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};q.prototype.pTa=function(){this.lastMetadataUpdate=k.time.now();return this;};q.prototype.constructor=q;d.P={create:c,hea:function(a){var b;b=a;"string"===typeof a&&(b=JSON.parse(a));if(b&&b.partition&&!n.X(b.lifespan)&&b.resourceIndex&&b.creationTime&&b.lastRefresh)return a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate&&(a.lastMetadataUpdate=b.lastMetadataUpdate),!n.X(b.size)&&0<=b.size&&a.BRa(b.size),a.MDa(),a.convertToBinaryData=b.convertToBinaryData,a;},Pba:function(a){return a+".__metadata__";},wX:function(a){return l(a)?a.slice(0,a.length-13):a;},FG:l};},function(d,b,a){var D,J,F,L,H,m,r,aa,Q,y,T,u,da;function c(){}function l(a,b){var f,k,p,n;f=D.Tb(b)?b:c;this.K=a||{};(function(a,b,c){this.ei[a].Dd[b]=c;}.bind(this));(function(a,b){return this.ei[a].Dd?this.ei[a].Dd[b]:void 0;}.bind(this));this.on=this.addEventListener=u.addEventListener;this.removeEventListener=u.removeEventListener;this.emit=this.Ia=a.bSb?u.Ia:c;k=L.Heb(a);p=this.K.dailyDiskCacheWriteLimit;if(k){this.dr=k;n=t(a.sia||da,L.qlb());this.Ot=function(a){return D.X(n)||null===n||void 0===this.ei[a]?!1:!D.X(n[a]);};n?(this.ei={},b=J.Promise.all(Object.keys(n).map(function(b){return new J.Promise(function(c,f){var h;h=n[b];h.mUa=a.mUa;new H(b,k,h,function(a,b){a?f(a):c(b);},p);});})).then(function(a){a.map(function(a){var b;b=a.Nw;this.ei[b]=a;n[b].Ujb=n[b].Op-a.Nt;this.ei[b].on(H.Nd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ia("mediacache",a);}.bind(this));this.ei[b].on(H.Nd.Vxa,function(a){a=a||{};a.partition=b;a.type="save";this.Ia("mediacache",a);}.bind(this));this.ei[b].on(H.Nd.ERROR,function(a){a=a||{};a.partition=b;a.type=H.Nd.ERROR;this.Ia("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){h(k,J.storage.KD,Object.keys(n));return a;}.bind(this)).then(function(a){Object.keys(a.ei).map(function(b){a.ei[b].Hea().map(function(c){a["delete"](b,c);});});a.Po=!0;f(null,a);}.bind(this))["catch"](function(a){F.error("Failed to initialize media cache ",a);this.vB=y.Hpa;f(this.vB,this);}.bind(this)),T.ss(b)):(this.vB=y.YZa,f(this.vB,this));}else this.vB=y.Hpa,f(this.vB,this);}function q(a,b,c,f,h,k){var p;p=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:J.time.now()};k&&(b.error=k);h&&(D.la(h.duration)&&(b.duration=h.duration),D.la(h.cu)&&(b.bytesRead=h.cu));try{a.Ia(p,b);}catch(va){F.warn("caught exception while emitting basic event",va);}}function n(a,b,c,f,h){var k;k=h?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:J.time.now()};h&&(b.error=h);try{a.Ia(k,b);}catch(P){F.warn("caught exception while emitting basic event",P);}}function k(a){return!D.X(a)&&!D.Ma(a)&&D.la(a.lifespan);}function p(a){return!m.FG(a)&&!aa.uqb(a);}function h(a,b,f){a.query(b,"",function(h,k){h||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function f(a,b,c){var h,k;function f(b){a["delete"](h,function(f){f?c(f):(delete a.Dd[k],f=Object.keys(b.resourceIndex),f=J.Promise.all(f.map(function(b){return new J.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),T.ss(f));});}m.FG(b)?(h=b,k=m.wX(b)):(h=m.Pba(b),k=b);(b=a.Dd[k])?f(b):a.read(h,function(a,b){a?c(a):f(b);});}function t(a,b){var c,f,h;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);h=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Op=Math.floor(h*a.capacity);c[b].zfb=a.dailyWriteFactor||1;c[b].zUb=a.owner;c[b].Aib=a.evictionPolicy;});return c;}function g(a,b,c){if(c)return aa.Sgb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function G(a,b,c,f,h,k,p,t,n,d,q){return function(l,g){l?D.isArray(l)?(g=l.map(function(a){return a.error;}),g.some(function(a){return a.code===y.fD.code;})&&!g.some(function(a){return a.code===y.OT.code;})?q(d,l,function(){n.save(b,c,f,h,k,p);}):(d["delete"](t),delete d.Dd[c],k({error:l[0].error,ps:l[0].ps,type:l[0].type,yBa:l}))):k({error:l,ps:b,type:"save"}):(l=g.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.QZ;},0),d.Dd[c].BRa(l),l={Ujb:g.wj,vRb:g.BF,Ii:0,items:g},0<g.Ii&&(l.Ii=g.Ii),0<g.duration&&(l.duration=g.duration),k(null,l));};}D=a(7);J=a(107);F=new J.Console("MEDIACACHE","media|asejs");L=a(749);H=a(748);m=a(365);r=a(106);aa=a(741);Q=a(740);y=a(205);T=a(204);u=a(105).EventEmitter;da={CUb:[]};l.prototype.mC=function(a,b,f){var h;h=D.Tb(f)?f:c;this.Ot(a)?this.ei[a].query(b,function(a,b){a?(F.error("Failed to query resources",a),h([])):h(b.filter(p));}):h([]);};l.prototype.read=function(a,b,f){var h,k,p,t;h=D.Tb(f)?f:c;if(this.Ot(a)){k=this.ei[a];p=k.Dd[b];if(!m.FG(b)&&this.K.Otb){t=function(c){k.L0(Object.keys(c),function(c,f,k){c?h(y.UD.Yn("Failed to read "+b,c)):(q(this,"read",a,b,k),h(null,aa.Tpb(f)));}.bind(this),c);}.bind(this);p?t(p.resourceIndex):this.Fzb(a,b,function(a,c){a?h(y.UD.Yn("Failed to read "+b,a)):t(c.resourceIndex);});}else k.read(b,function(c,f,k){c?h(y.UD.Yn("Failed to read "+b,c)):(p&&p.convertToBinaryData&&(f=Q.Lcb(f)),q(this,"read",a,b,k),h(null,f));}.bind(this));}else h(y.aw);};l.prototype.L0=function(a,b,f){var h,k;h=D.Tb(f)?f:c;if(this.Ot(a)){k={};b=J.Promise.all(b.map(function(b){return new J.Promise(function(c,f){this.read(a,b,function(a,h){a?(h={},h[b]=a,f(h)):(k[b]=h,c());});}.bind(this));}.bind(this))).then(function(){h(null,k);},function(a){h(a);});T.ss(b);}else h(y.aw);};l.prototype.NQa=function(a,b,f){var h;h=D.Tb(f)?f:c;this.Ot(a)?"[object Object]"!==Object.prototype.toString.call(b)?h(y.NT.Yn("items must be a map of keys to objects")):(f=new J.Promise(function(c){var f,h;f=this.ei[a].Hea();h=Object.keys(b);(f=f.filter(function(a){return-1===h.indexOf(a);}))&&0<f.length?this.REa(a,f,function(){c();}):c();}.bind(this)).then(function(){return J.Promise.all(Object.keys(b).map(function(c){return new J.Promise(function(f,h){this.save(a,c,b[c].Tn,b[c].Ad,function(a,b){a?(F.error("Received an error saving",c,a),h(a)):f(b);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(c){var f,k,p;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;p=c.reduce(function(a,b){b.wj&&b.wj<f&&(f=b.wj);b.BF&&b.BF<k&&(k=b.BF);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);D.la(b.Ii)&&(a.bytesWritten+=b.Ii);D.la(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:J.time.now(),bytesWritten:0,duration:0});this.Ia("mediacache",p);h(null,p);}catch(ga){h(err);}}.bind(this),function(b){D.isArray(b.yBa)?b.yBa.forEach(function(b){this.Ia("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.IP});}.bind(this)):this.Ia("mediacache-error",{partition:a,type:"saveMultiple",error:b});h(b);}.bind(this)),T.ss(f)):(D.Tb(f)?f:c)(y.aw);};l.prototype.save=function(a,b,f,h,p,t){var d,l,z,L,H,U,R,aa,T;d=D.Tb(p)?p:c;if(this.Ot(a)){l=this.ei[a];z=m.Pba(b);p=l.Hea();p=p.filter(function(a){return a!==b;});if(k(h)){L=g(b,f,this.K.Otb);H=l.Dd[b]||{};U=H.resourceIndex;U&&Object.keys(U).map(function(a){D.X(L[a])&&l["delete"](a);});h.convertToBinaryData&&(f=Q.Mcb(L),L=g(b,f,!1));U=J.time.now();R={};R.partition=a;R.resourceIndex=Object.keys(L).reduce(function(a,b){a[b]=r.Dfa(L[b]);return a;},{});R.creationTime=H.creationTime||U;R.lastRefresh=U;R.lifespan=h.lifespan;R.lastMetadataUpdate=U;R.size=H.size;R.convertToBinaryData=h.convertToBinaryData;aa=function(a,c,f){a.ngb(function(h,k){h&&F.error("Evicting","Failed to delete some orphaned records",h);k.Gka?f():(h=a.Dlb())?this["delete"](a.getName(),h,function(h){h?(t||(D.isArray(c)?c.forEach(function(b){n(this,"save",a.getName,b.IP,b.error);}.bind(this)):q(this,"save",a.getName(),b,void 0,c)),d(c)):f();}.bind(this)):d(y.fD);}.bind(this));}.bind(this);T=function(){var a,b,c;a=this.ei;b=0;c=J.time.now();if(!D.X(a))for(var f in a)b+=a[f].Qkb(c);return b;}.bind(this);this.REa(a,p,function(){l.replace(z,R,function(c,k){k?(l.Dd[b]=m.hea(R),l.RAb(L,G(L,a,b,f,h,d,t,z,this,l,aa),t,T)):c.code===y.fD.code?aa(l,c,function(){this.save(a,b,f,h,d,t);}.bind(this)):d(c);}.bind(this),t,T);}.bind(this));}else d(y.y_a);}else d(y.aw);};l.prototype["delete"]=function(a,b,h){var k;k=D.Tb(h)?h:c;this.Ot(a)?f(this.ei[a],b,function(c){q(this,"delete",a,b,void 0,c);k(c);}.bind(this)):k(y.aw);};l.prototype.REa=function(a,b,h){var k,p;k=D.Tb(h)?h:c;if(this.Ot(a)){p=this.ei[a];h=J.Promise.all(b.map(function(a){return new J.Promise(function(b){f(p,a,function(c){b({da:D.X(c),error:c,Tn:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var t,d;for(var c=[],f=[],h=[],p=0;p<b.length;p++){t=b[p];t.da?c.push(t.Tn):t.error&&f.push(t);}0<c.length&&n(this,"delete",a,c);0<f.length&&(h=f.map(function(a){return a.Tn;}),b=T.PIa(f),d=b[0],b.forEach(function(b){F.error("Failed to delete resources ",b.error,b.IP);n(this,"delete",a,b.IP,b.error);}.bind(this)));b={};b.aVb=c;0<h.length&&(b.bVb=h);d?k(d,b):k(void 0,b);}.bind(this),function(c){n(this,"delete",a,b,c);k(c);}.bind(this));T.ss(h);}else k(y.aw);};l.prototype.clear=function(a,b){var f;f=D.Tb(b)?b:c;this.Ot(a)?this.ei[a].clear(function(a){f(a.filter(p));}):f(y.aw);};l.prototype.Fzb=function(a,b,f){var h,k;h=D.Tb(f)?f:c;if(this.Ot(a)){f=m.Pba(b);k=this.ei[a];k.read(f,function(a,c){var f;if(a)h(y.z_a);else{f=m.hea(c)||{};k.hIa(Object.keys(f.bla),function(a){f.size=a;(a=k.Dd[b])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.Dd[b]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||D.X(f.lastMetadataUpdate))&&(f=a));h(null,f);});}});}else h(y.aw);};l.prototype.q2=function(a){J.LN(a);};l.prototype.constructor=l;d.P=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jba=void 0;b.Jba=function(a,b){var c;if(!Array.isArray(a.UDa))return a;c=a.Do?a.Do():Object.create(a);a.UDa.forEach(function(a){if(void 0!==a.Aub&&b.duration>=a.Aub&&a.config)for(var n in a.config)c[n]=a.config[n];});return c;};},function(d){d.P="4.1.1050";},function(d,b,a){var n,k,p,h;function c(a,b,c){this.cp=b;this.wn=c;this.Ev=this.NN=this.l0=this.qOa=this.pOa=this.oH=this.Lc=this.Uxb=this.wn=this.wh=this.Lb=this.T=this.$Q=this.aR=this.Z=this.OJa=this.ax=void 0;}function l(a,b,c){this.na=b;this.lKa=c;this.SBa=this.FUa=this.G$=this.aR=this.cs=this.kl=void 0;}function q(a,b,h,k,d,l){var f;f=new c(0,b,a.wn);a.forEach(function(a){var c,h;c=a.buffer;h=c.Z;a.M===n.La.AUDIO?f.ax=h.length?h[0].O:void 0:a.M===n.La.VIDEO&&(f.OJa=h.length?h[0].O:void 0,f.Z=h,f.aR=c.Yl-c.Gc,f.$Q=c.Th,f.T=c.Gc,f.Lb=c.Lb,f.wh=a.Iy,f.wn=a.wn,f.Uxb=b-a.wn,f.Lc=a.Lc.filter(function(a){return p(a,!0);}),f.oH=h.filter(function(a){return f.T<=a.JH;}).length);});this.vh=f;this.bm=void 0;this.zEa=k;this.Gaa=d;this.Bka=this.N0=this.JNa=this.Eq=this.cF=this.hGa=this.Kk=this.Lc=this.bm=void 0;this.w9a=l;}n=a(18);b=a(31);k=b.assert;p=b.AB;h=a(17).ma;c.prototype.constructor=c;l.prototype.constructor=l;q.prototype.constructor=q;q.prototype.dG=function(a,b){var c,f,k,p,t,d,q,g,m,r,Q,y,T,u,da,ka,O,oa,ta,za,P;c=this.vh;f=[];p=a[n.La.VIDEO];t=a[n.La.AUDIO];if(void 0===p||void 0===t)return!1;d=p.buffer;q=t.buffer;g=c.Lc.filter(function(a){return a.nY();});if(void 0===d||void 0===q||void 0===g||0===g.length)return!1;k=new l(0,p.Gc,b===h.Eg);m=0;r=0;Q=0;y=0;u=c.T;a=a[n.La.VIDEO].Gc;da=c.Z;T=c.oH;for(var W=0;W<T;W++){ka=da[W];O=ka.offset;oa=ka.offset+ka.aa-1;za=ka.Hr;ta=ka.yv;P=ta+za;ka&&ta<=a&&P>u&&(za=ka.Hr,ta=Math.min(za,Math.min(a,P)-Math.max(ta,u)+1),y+=ta,m+=ta/za*(oa-O+1),r+=ka.O*ta,Q+=ka.uc*ta);}c.pOa=m;c.qOa=y;c.l0=0<y?r/y:0;c.jxb=0<y?Q/y:0;c.NN||(c.NN=0,g.some(function(a,b){if(a.O===c.OJa)return c.NN=b,!0;}));g.forEach(function(a){var b,h;a=a.nY();b=[];c.Ev||(c.Ev=a.cm(c.T,void 0,!0));k.kl||(k.kl=a.cm(k.na,void 0,!0),k.cs=a.length-1);c.wh!==c.Ev+c.oH&&(c.wh=c.Ev+c.oH);T=Math.min(k.cs,k.kl+1);for(var p=c.Ev;p<=T;p++)h=a.get(p),b[p]=h;f.push(b);});b===h.Eg&&(k.aR=d.Yl-d.Gc,k.G$=q.Yl-q.Gc,k.FUa=p.JPa,k.SBa=t.JPa);this.bm=k;this.Lc=g;this.Kk=f;return this.hGa=!0;};q.prototype.Cu=function(){var a,b,c,h,p,n,d,l,q,g,m,r,y,T,u;if(this.Nn)return this.Nn;b=this.Eq;a=this.vh;h=this.bm;p=this.Lc;n=this.JNa;r=this.w9a;k(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)h.lKa?(q=!1,d=!0):h.kl-a.Ev+1<=a.oH?d=q=!0:(q=!0,d=!1),l=!0;if(n){g=n.Qo;m=n.uX;for(var Q=0;Q<r.length;Q++)c=r[Q],(b=n[c])&&b.ly&&(d=!0);}a={bst:a.wn,pst:a.cp,s:a.Ev,e:h.kl,prebuf:a.oH,brsi:a.wh,pbdlbytes:a.pOa,pbdur:a.qOa,pbtwbr:a.l0,pbvmaf:a.jxb};l&&(a.nt=l);d&&(a.nd=d);g&&(a.invalid=g);m&&(a.exception=m);this.Bka&&(a.rr=this.Bka);this.N0&&(a.ra=this.N0);if(!d&&!g&&!m&&this.zEa){a.bitrate=p.map(function(a){return a.O;});b=this.Eq;c=b.trace;y=[];T=0;c.forEach(function(a){a=Number(a).toFixed(0);y.push(a-T);T=a;});a.tput={ts:b.timestamp,trace:y,bkms:b.Vl};}if(d||l||g||m)a.feasible=q;else for(a.sols={},a.elapsed=n.hX,Q=0;Q<r.length;Q++){c=r[Q];b=n[c];d={};if(b&&b.Es&&(d.algelapsed=b.v9a,d.maxHeapTotal=b.lq,d.f=b&&b.oi||!1,d.dltwbr=b.Wgb,d.dlvmaf=b.cFa,d.dlvdur=b.Jca,d.dlvbytes=b.Ica,d.dlabytes=b.Hca,this.zEa)){T=0;u=[];b.Es.filter(function(a){return a;}).map(function(a){return a.rd;}).forEach(function(a){u.push(a-T);T=a;});d.strmsel=u;}a.sols[c]=d;}return this.Nn=a;};d.P=q;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D;Object.defineProperty(b,"__esModule",{value:!0});b.f2a=b.P5=b.h2a=b.Mwa=void 0;c=a(7);l=a(4);q=a(31).AB;n=a(11).cy;k=a(369);p=a(385);h=a(231);f=a(17);t=a(6);d=function(){function a(a,b,c,f,h,k,p,d,n,t,l){var q;q=this;this.G=a;this.uf=b;this.K=c;this.ib=f;this.W=h;this.eI=k;this.ub=p;this.Ua=d;this.df=n;this.WL=t;this.Sw=l;this.oV=[];this.m$=[];this.Eza=[];this.kya=void 0;[0,1].forEach(function(a){q.ib(a)&&(q.oV[a]=new D(q.G,a),q.m$[a]=new g(a),q.Eza[a]=new G(a));});this.Dw=void 0;}Object.defineProperties(a.prototype,{Ie:{get:function(){return this.oV;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gv:{get:function(){return this.m$;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hs:{get:function(){return this.Eza;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xt:{get:function(){return this.kya;},set:function(a){this.kya=a;},enumerable:!1,configurable:!0}});a.prototype.k_=function(a){var b,f,h,k,p;b=this.K;f=a.M;h=l.lk()[f];b=b.FHb?0===f?b.JL:b.cR:1===f?b.JL:b.cR;k=this.W.Yc();p=this.W.Wd();f=this.WL.wLa(a.Ha.Xc,f);h={Op:h,T:f.bd,Gc:p,Lb:f.CH||p,Yl:f.lM||p,Th:f.Th,Xi:f.Xi,eea:f.Z.length,Z:[]};b={state:k,Vx:this.W.Vx(),Iy:a.uk,buffer:h,Oca:b,kLa:!!this.eI.jO,OM:!!this.eI.xs,uo:this.ub&&this.ub.uo,Dka:a.qnb};void 0===b.Iy&&(b.Iy=a.Hda(h.Lb));h.Z=f.Z;c.la(h.T)?a.seeking&&h.Gc!=h.T&&(h.Gc=h.T):(h.T=0,h.Lb=0);this.uf.Abb(b);this.uf.c9a(b);return b;};a.prototype.zbb=function(a,b,c){var d,n;a=this.oV[a];for(var f=a.Xo,h="manifest",k=0,p=b.length-1;0<=p;p--){d=b[p];n=d.O;if(q(d)){k=Math.max(k,n);break;}else!d.inRange&&d.KF&&Array.isArray(d.KF)?h=d.KF.join("|"):this.K.W1&&!d.Dx?h="bc":d.Jn?d.Gu&&(h="hf"):h="av";}if(void 0===f||k!==f){a.Xo=k;if(this.Sw.Io)try{this.Dw&&this.qob();}catch(qa){this.Ua.sm("Hindsight: Error when handling maxbitrate chagned: "+qa);}this.Ua.vvb(f,k,h,c);}};a.prototype.nnb=function(a){return this.ufa(a).Bg;};a.prototype.ufa=function(a){var b,h,k,d,n,l,q,g,z,G,D,F;b=this.K;h=a.M;k=1==h;n=this.oV[h];l=this.m$[h];if(!n.ym)return{Bg:void 0};q=this.k_(a);g=a.Cq;z=g.Uu;G=a.b_.R;D=a.track.Lc;F=z?z.Bg:n.Wda;if(z&&(d=z.O,z&&!z.track.equals(g.track))){F=p.Ida(D,d);void 0===F&&a.ab("Unable to find stream for bitrate "+d);d=D[F];if(z.O!==d.O||1===h)q.state=f.ma.Gg;z=d;}if(!G.km.UQ(G.oa,D))return a.Ye("location selector did not find any urls"),{Bg:void 0};if(!k&&(d=b.uI,!(d&&0<d.length)&&F&&D[F]&&z&&z.location===D[F].location))return{Bg:F};d=a.rI.r1(q,D,void 0,this.uf.Qmb(h),n.ym.config.rv,G.Hh);if(!d)return a.Ye("stream selector did not find a stream"),{Bg:void 0};this.eI.xs&&this.eI.xs.g9a(a.M,d,D);k&&this.zbb(h,D,a.Lb);q=d.rd;z=D[q];g=z.O;q!=F&&(k&&b.RF&&this.df.bya(a,g),k||this.uf.fI(g));c.la(n.Wda)||(n.Wda=q);a.pj||(d.pj?(t.assert(void 0!==d.XV),a.zC(d.XV),l.Lp=d.XV):(a.by=d.by,a.uC=d.uC,a.Nh=d.Nh));this.pt();if(k)if(d.qu)G.z1(d.qu);else if(!G.TY()&&!b.ZRa)for(a=0;a<D.length;++a)if(b=D[a],b.zj&&!G.Ri(h,b.sa)){G.z1([b.sa]);break;}return{sa:z.sa,Bg:q};};a.prototype.pt=function(){var a,b,c,f,h,k;c=this.Ie[0];f=this.Ie[1];h=this.Gv[1];k=this.Gv[0];c=this.WL.Sb.vbb(null!==(a=null===f||void 0===f?void 0:f.sq)&&void 0!==a?a:0,null!==(b=null===c||void 0===c?void 0:c.sq)&&void 0!==b?b:0,this.Xt,this.eI.hC);c.Lp&&(this.eI.Lk&&h?h.Lp=c.Lp:k&&(k.Lp=c.Lp));return c.pj;};a.prototype.Fda=function(a,b){var c,k,p,d;c=this;if(this.Dw){k=this.Dw;p=this.W.Wd();d=[];b&&(p=b.na);h.Ke.forEach(function(b){var h,k;h=c.WL.Sb.Hc(b);if(h){k=c.k_(h);k.M=b;k.Gc=p;a===f.ma.Eg&&(k.JPa=h.Ha.daa(p));d[b]=k;}});k.hGa||k.dG(d,a)||this.Zka();return k;}};a.prototype.qob=function(){var a,b,c,f;a=this;b=this.Dw;c=this.K;f=[];b&&(this.Fda(void 0),b&&!b.cF&&this.uf.rka.rda(b));h.Ke.forEach(function(b){var c,h;c=a.WL.Sb.Hc(b);if(c){h=a.k_(c);h.wn=l.time.ea();h.Lc=c.track.Lc;h.M=b;f[b]=h;}});b=l.lk();b={u8a:b[0],II:b[1],qO:c.MB,cv:c.cv};this.Dw=b=new k(f,l.time.ea(),void 0,this.Sw.SF,b,c.CN);};a.prototype.Zka=function(){this.Dw=void 0;};a.prototype.cHb=function(a){var b,c,p,d,n;b=this;c=a.oldValue;p=a.newValue;d=this.Dw;a=this.K;p===f.ma.Nc&&c!==f.ma.Nc?(d&&this.G.warn("override an existing play segment!"),n=[],h.Ke.forEach(function(a){var c,f,h;c=b.WL.Sb.Hc(a);if(c){f=b.k_(c);h=b.Ie[a];h.mma?(f.wn=h.mma,h.mma=void 0):f.wn=h.wn;f.Lc=c.track.Lc;f.M=a;n[a]=f;}}),p=l.lk(),p={u8a:p[0],II:p[1],qO:a.MB,cv:a.cv},this.Dw=d=new k(n,l.time.ea(),c,this.Sw.SF,p,a.CN)):p!==f.ma.Nc&&c===f.ma.Nc&&d&&(this.Fda(p),d&&!d.cF&&this.uf.rka.rda(d),this.Zka());};return a;}();b.Mwa=d;g=function(){function a(a){this.M=a;this.ZL=this.Ko=this.Lu=this.Lp=this.Oo=void 0;}a.prototype.jHb=function(a,b,c,f){this.Oo=a?a:this.Oo;this.Lp=this.Lp;this.Lu=b?b:this.Lu;this.Ko=c?c:this.Ko;this.Kpb=f?f:this.Kpb;};return a;}();b.h2a=g;G=function(){return function(a){this.M=a;this.XZ=this.sha=this.XZ=this.pha=this.EB=void 0;};}();b.P5=G;D=function(){return function(a,b){this.M=b;this.G=n(l,a,"["+b+"]");this.Ye=this.G.error.bind(this.G);this.ab=this.G.warn.bind(this.G);this.mj=this.G.trace.bind(this.G);this.xb=this.G.log.bind(this.G);this.mE=this.G.debug.bind(this.G);this.Wda=this.wn=this.Rl=this.ym=void 0;this.iP=this.sq=0;this.NI=!1;this.Xo=void 0;};}();b.f2a=D;},function(d,b,a){var l;function c(a,b){return a<b?-1:a>b?1:0;}Object.defineProperty(b,"__esModule",{value:!0});b.S5=void 0;l=a(0);d=function(){function a(a,b){this.data=null!==a&&void 0!==a?a:[];this.compare=null!==b&&void 0!==b?b:c;if(!this.empty)for(a=(this.length>>1)-1;0<=a;a--)this.Jya(a);}Object.defineProperties(a.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.data.length;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.data.push(a);this.TAa(this.length-1);};a.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty||(this.data[0]=b,this.Jya(0));return a;}};a.prototype.xH=function(){return this.data[0];};a.prototype.Myb=function(a){a=this.data.indexOf(a);-1!==a&&this.TAa(a);};a.prototype.map=function(a){return this.data.map(a);};a.prototype.find=function(a){return l.__read(this.data.filter(a),1)[0];};a.prototype.clear=function(){this.data=[];};a.prototype.remove=function(a){a=this.data.indexOf(a);-1!==a&&this.data.splice(a,1);};a.prototype.TAa=function(a){for(var b=this.data,c=this.compare,h=b[a],f,d;0<a;){f=a-1>>1;d=b[f];if(0<=c(h,d))break;b[a]=d;a=f;}b[a]=h;};a.prototype.Jya=function(a){for(var b=this.data,c=this.compare,h=this.length>>1,f=b[a],d,n,l;a<h;){d=(a<<1)+1;l=b[d];n=d+1;n<this.length&&0>c(b[n],l)&&(d=n,l=b[n]);if(0<=c(l,f))break;b[a]=l;a=d;}b[a]=f;};return a;}();b.S5=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.e3=void 0;c=a(206);d=function(){var N4Y;N4Y=2;function a(a,b){var V4Y,r4Y;V4Y=2;while(V4Y!==3){r4Y="1SIYb";r4Y+="ZrNJC";r4Y+="p9";switch(V4Y){case 5:this.saa=null;r4Y;V4Y=3;break;case 2:this.config=a;this.TG=b;V4Y=5;break;}}}while(N4Y!==3){switch(N4Y){case 2:a.prototype.aFa=function(a,b){var X4Y,k;X4Y=2;while(X4Y!==9){switch(X4Y){case 2:k=null===this.saa?a*(100-this.config.b2)/100:c.haa(a,this.saa);b=null!==b&&void 0!==b?b:this.TG;this.config.xha&&b?(a=c.haa(a,b),a=Math.max(a,k)):a=k;X4Y=3;break;case 3:return a;break;}}};a.prototype.fI=function(a){var J4Y;J4Y=2;while(J4Y!==1){switch(J4Y){case 4:this.saa=a;J4Y=6;break;J4Y=1;break;case 2:this.saa=a;J4Y=1;break;}}};a.prototype.ona=function(a){var B4Y;B4Y=2;while(B4Y!==1){switch(B4Y){case 2:this.config=a;B4Y=1;break;case 4:this.config=a;B4Y=4;break;B4Y=1;break;}}};return a;break;}}}();b.e3=d;},function(d,b,a){var q,n,k,p,h,f;function c(a,b,c,h){p(!q.X(h),"Must have at least one selected stream");return new f(h);}function l(a,b,c,h){p(!q.X(h),"Must have at least one selected stream");return new f(h);}q=a(7);b=a(31);n=b.console;k=b.debug;p=b.assert;h=b.AB;f=b.Um;d.P={STARTING:function(a,b,c){var d,t,l,q;function p(c,f){var h,p,d,t;h=c.id;p=c.O;d=c.Fa||0;t=!!d;k&&n.log("Checking feasibility of ["+f+"] "+h+" ("+p+" Kbps)");if(!c.zj)return k&&!c.Jn&&n.log("  Not available"),k&&!c.inRange&&n.log("  Not in range"),k&&c.Gu&&n.log("  Failed"),!1;if(p>a.oO)return k&&n.log("  Above maxInitAudioBitrate ("+a.oO+" Kbps)"),!1;if(!(p*a.D_/8<b.buffer.Op))return k&&n.log("  audio buffer too small to handle this stream"),!1;if(t){k&&n.log("  Have throughput history = "+t+" : available throughput = "+d+" Kbps");if(p<d/l)return k&&n.log(" +FEASIBLE: bitrate less than available throughput"),!0;k&&n.log(" bitrate requires more than available throughput");return!1;}c=a.EO;b.FZ&&(c=Math.max(c,a.DO));if(p<=c)return k&&n.log("  Bitrate is less than max of minInitAudioBitrate ("+a.EO+" Kbps) "+(b.FZ?" and also minHCInitAudioBitrate ("+a.DO+" Kbps)":"")),k&&n.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;k&&n.log("  No throughput history");return!1;}d=new f();l=a.zQb||1;for(q=c.length-1;0<=q;--q){t=c[q];if(p(t,q)){d.rd=q;break;}h(t)&&(d.rd=q);}return d;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.UP=void 0;c=a(49);l=a(7);q=a(74);n=a(18);d=a(31);k=a(794);p=a(17);h=d.assert;f=d.Um;b.UP=t;(function(){var O4Y,x1f;function a(a,b,c,f){var P4Y,h,k;P4Y=2;while(P4Y!==9){switch(P4Y){case 4:a.xl=f;P4Y=3;break;case 2:a=this.Uea(a,c,b);P4Y=5;break;case 5:P4Y=(null!==(k=null===(h=a.xl)||void 0===h?void 0:h.O)&&void 0!==k?k:-Infinity>f.O)?4:3;break;case 3:return a;break;}}}O4Y=2;while(O4Y!==5){x1f="1SIYbZ";x1f+="rN";x1f+="JCp";x1f+="9";switch(O4Y){case 2:b.UP=t=function(b,d,t,g,z,m){var O43=i4YY;var a4Y,F,J,L,H,r,u,W,ka,O,oa,ta,za,P,va,ga,Fa,A,la,Ea,Qa,Oa,E,N,N1f,b1f,q1f,R1f;function G(a,b,c){var H4Y;H4Y=2;while(H4Y!==1){switch(H4Y){case 4:return a.Z?a.Z.Nba(b,c):7;break;H4Y=1;break;case 2:return a.Z?a.Z.Nba(b,c):0;break;}}}a4Y=2;while(a4Y!==40){N1f="n";N1f+="u";N1f+="mbe";N1f+="r";b1f="num";b1f+="b";b1f+="er";q1f="player missing s";q1f+="tream";q1f+="i";q1f+="ngIndex";R1f="Must have a";R1f+="t lea";R1f+="st one selected stream";switch(a4Y){case 35:a4Y=D(z,A,z,va,ga,!1)?34:28;break;case 15:return a.call(this,d,b,t,z);break;case 42:a4Y=(z=c.sn(t.slice(0,g).reverse(),function(a,b){var G4Y;G4Y=2;while(G4Y!==1){switch(G4Y){case 2:return D(a,t[Math.max(g-b-2,0)],L,E,N,!0);break;}}}))&&z.Bg<Ea.Bg||!z?41:30;break;case 44:E=G(z,ka,b.Xfa);O43.K1f(2);N=G(z,O43.h1f(E,ka),b.Pha);a4Y=42;break;case 27:z.Z&&z.Z.length||(z.wma=!0);Fa=q.zh.ifb(d.buffer.Z);a4Y=25;break;case 28:a4Y=z.Z&&z.Z.length?44:30;break;case 30:J.xl=z||L;return J;break;case 21:Ea=null!==(F=this.Uea(d,t,b).xl)&&void 0!==F?F:t[0];a4Y=35;break;case 31:z=c.sn(t.slice(g+1,b.kma&&O>=b.Cna?t.length:g+2),function(a,b){var e4Y;e4Y=2;while(e4Y!==1){switch(e4Y){case 4:return D(a,t[g-b],L,Qa,Oa,~3);break;e4Y=1;break;case 2:return D(a,t[g+b],L,Qa,Oa,!1);break;}}});a4Y=30;break;case 34:a4Y=g+1<t.length&&O>b.Yu&&(void 0===this.UZ||this.rha&&this.rha>this.UZ||u-this.UZ>b.f_&&O>b.Sha)?33:30;break;case 2:h(!l.X(g),R1f);h(l.la(d.Iy),q1f);h(b1f===typeof d.buffer.Op);h(N1f===typeof d.Oca);J=new f();a4Y=8;break;case 16:a4Y=(this.zU||n.nS.Gg)===n.nS.z2a||!z.Fa?15:27;break;case 8:L=z=t[g];H=d.buffer.T;r=d.buffer.Gc;u=d.buffer.Lb;W=d.buffer.Yl;ka=d.Iy;a4Y=11;break;case 33:Qa=G(z,ka,b.Yfa);O43.K1f(2);Oa=G(z,O43.c1f(Qa,ka),b.Qha);a4Y=31;break;case 25:A=d.buffer.Op;0<b.ds&&(A=Math.min(A,b.ds));la=A-Fa.aa;A=t[Math.max(O43.h1f(g,1,O43.J1f(0)),0)];a4Y=21;break;case 11:O43.J1f(0);O=O43.h1f(W,r);oa=d.state===p.ma.Nc||d.state===p.ma.Ch?d.buffer.Xi:0;ta=b.s_;za=b.Zu?b.Zu:1E3;va=G(z,ka,b.Wfa);O43.K1f(2);ga=G(z,O43.c1f(va,ka),b.Oha);a4Y=16;break;case 41:z=Ea;a4Y=30;break;}}function D(a,c,f,p,t,n){var x4Y,l,q,g,z,G,D,F,L,U,y,R,Q,aa,T,O,E1f,f1f,e1f,Q1f,H1f,C1f,I1f,g1f,l1f,L1f;x4Y=2;while(x4Y!==61){E1f="First s";E1f+="tream";E1f+=" unavail";E1f+="abl";E1f+="e";f1f="Fi";f1f+="rs";f1f+="t stre";f1f+="am undefined";e1f="Second strea";e1f+="m ";e1f+="not usable";Q1f="Second stream unavaila";Q1f+="bl";Q1f+="e";H1f="Se";H1f+="cond";H1f+=" s";H1f+="tream u";H1f+="ndefined";C1f="Fir";C1f+="st stream n";C1f+="ot usa";C1f+="ble";I1f="First stream ";I1f+="has fail";I1f+="ed";g1f="First s";g1f+="tr";g1f+="eam not in ra";g1f+="ng";g1f+="e";l1f="S";l1f+="econd ";l1f+="stream ha";l1f+="s failed";L1f="Second stre";L1f+="am n";L1f+="ot in rang";L1f+="e";switch(x4Y){case 29:h(c.inRange,L1f);h(!c.Gu,l1f);x4Y=44;break;case 12:x4Y=l>=a.O*g?11:10;break;case 8:n||q||(a.wma=!0);x4Y=7;break;case 45:R=t;x4Y=65;break;case 6:x4Y=q&&!b.W1?14:12;break;case 34:h(a.inRange,g1f);h(!a.Gu,I1f);h(a.zj,C1f);h(c,H1f);h(c.Jn,Q1f);x4Y=29;break;case 47:x4Y=0<R?46:45;break;case 36:c=!1;x4Y=54;break;case 48:R=p;x4Y=47;break;case 3:x4Y=P&&!P.AX&&P.Fa>=l&&P.O<=a.O?9:8;break;case 11:return!0;break;case 63:c=0<p||0<t?k(f.concat(aa),D+p+t,n,g,q,F,z,D,D+p,y,L,Q,U,b.FO,b.W1):Q>a.q_?{result:!0,kO:0,Dx:!0}:{result:!1,kO:0,Dx:!0};x4Y=54;break;case 49:x4Y=R?48:62;break;case 42:O43.K1f(0);aa=O43.c1f(g,n);T=a.Z&&a.Z.length;O=c.Z&&c.Z.length;h(f.length===D);b.Tha&&(U=Math.min(U,aa));x4Y=37;break;case 27:D=Fa.length;F=oa;x4Y=25;break;case 14:x4Y=l>=Math.max(a.q_,a.O*g)&&!a.TRa?13:10;break;case 2:l=a.Fa||0;q=a.Z&&a.Z.length;g=n?b.Dda:q?b.zX:b.Tib;x4Y=3;break;case 51:O||(c=a);aa=[];x4Y=49;break;case 9:return!1;break;case 62:p=Math.max(0,Math.min(p,a.Z.length-G)),t=Math.max(0,Math.min(t,c.Z.length-G-p)),0<p&&aa.push(a.Z.hI.subarray(G,G+p)),0<t&&aa.push(c.Z.hI.subarray(G+p,G+p+t));x4Y=63;break;case 64:T=Math.min(R,c.Z.length-G),aa.push(c.Z.hI.subarray(G,G+T)),R-=T,G+=T,G>=c.Z.length&&(G=0);x4Y=65;break;case 54:c&&c.result&&(J.vTb=c.kO);P={AX:c&&c.result,Fa:l,O:a.O};return c&&c.result;break;case 19:O43.J1f(1);n=O43.c1f(n,H,r);q=ta;O43.K1f(0);g=O43.c1f(W,H);x4Y=16;break;case 7:x4Y=!n||!q?6:10;break;case 13:return!0;break;case 44:h(c.zj,e1f);Q=a.Fa;x4Y=42;break;case 65:x4Y=0<R?64:63;break;case 46:T=Math.min(R,a.Z.length-G),aa.push(a.Z.hI.subarray(G,G+T)),R-=T,G+=T,G>=a.Z.length&&(G=0);x4Y=47;break;case 25:L=la;U=za;y=d.Oca;R=!!d.kLa;h(a,f1f);h(a.Jn,E1f);x4Y=34;break;case 37:x4Y=!Q||Q<a.O*b.Vfa||!T?36:51;break;case 16:O43.K1f(0);z=O43.c1f(u,H);G=ka;x4Y=27;break;case 10:n=!b.Gba||a===f||a.qc===f.qc&&m?0:(f=a.lb)&&f.th&&f.th.Ca?f.th.Ca+b.Dba*(f.th.yh?Math.sqrt(f.th.yh):0):0;f=Fa;x4Y=19;break;}}}};x1f;O4Y=5;break;}}}());},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Tja=void 0;c=a(17);b.Tja=function(a){switch(a){case c.ma.we:a=c.Ve.we;break;case c.ma.Eg:a=c.Ve.Eg;break;case c.ma.Gg:case c.ma.Tm:case c.ma.VD:a=c.Ve.Tm;break;default:a=c.Ve.AT;}return a;};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(798),b);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.D7=void 0;c=a(157);a(34);d=function(){function a(a,b){this.Ag=a;this.console=b;this.bA=Infinity;this.uK=this.cV=0;}a.WAb=function(){this.u$=!0;};a.jRb=function(){this.u$=!1;};a.prototype.kjb=function(a,b,k,p,h){var f;if(this.Ag){f=a.Z;if(f){if(1===k)k=f.cm(this.Ag*a.Ta.va,void 0,!0),f=a.mi(k),f.Ij({start:0,end:this.Ag-k*f.Uca.su(a.Ta)}),this.bA=this.Ag;else{k=c.$ea(p,h)+p.r$a*a.Ta.va;k=b+k;b=Math.ceil(k/a.Ta.va);k=f.cm(k,void 0,!0);for(h=p=0;h<k;++h)f=a.mi(h),p+=f.Uca.su(a.Ta);p=b-p;f=a.mi(k);f.Ij({end:p});this.bA=b;}f.GLa();return f;}}};a.prototype.Bpb=function(a){this.uK+=a.pQa;this.console.warn("StallAtFrameCount, adding frames: "+a.pQa,"total frames: "+this.uK,"needed frames: "+this.bA);};a.prototype.Gob=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: "+this.cV,"needed: "+this.bA);return this.cV>=this.bA;};a.prototype.Fob=function(){return this.uK>=this.bA;};a.prototype.Cpb=function(a,b){this.cV+=this.oB(a,b);};a.prototype.mib=function(a,b,c){a.pQa=this.oB(b,c);};a.prototype.oB=function(a,b){return a.Uca.su(b.Ta);};a.prototype.Xl=function(){if(!this.Fob())return!1;if(a.u$)return this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1;this.console.warn("StallAtFrameCount bufferingComplete = true:",this.uK+" >= "+this.bA);return!0;};a.u$=!1;return a;}();b.D7=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.K6=void 0;c=a(0);l=a(809);q=a(83);n=a(229);k=a(17);p=a(808);h=a(377);f=a(799);t=a(376);g=a(11);G=a(6);D=a(34);J=a(7);F=a(4);d=a(109);a=a(39);q=function(a){function b(b,c,k,d,n,q,z,G,D,J,L){var m;b=a.call(this,b)||this;b.K=c;b.Dc=n;b.Mg=q;b.kza=z;b.v4a=D;b.x4a=L;b.connected=!1;b.br=!1;b.mt=!1;b.G=g.cy(F,k,"["+b.M+"]");b.Ye=b.G.error.bind(b.G);b.ab=b.G.warn.bind(b.G);b.mj=b.G.trace.bind(b.G);b.ZPb=z;b.pV=z.va;b.pMa=1===b.M?c.F_:c.A_;b.bH=(1===b.M?c.eH:c.$G)||c.bH;J&&(m=J.n$);b.Cq=new f.Pwa(q,J?J.Cq:void 0);b.n$=new t.ET(G,c,m);b.Dt=new l.Uua(b,d,b.K,b.G,b.M);b.eA=new p.$va(b,c,b.G,b.Dt,b.Dc,b.M);b.kL=!1;c.Ag&&(b.Ag=new h.D7(c.Ag,b.G));return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{M:{get:function(){return this.Mg.M;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xc:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Na:{get:function(){return this.Dc.ca.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ha:{get:function(){return this.eA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lc:{get:function(){return this.Mg.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Co:{get:function(){return this.eA.Co;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vl:{get:function(){return this.eA.vl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lb:{get:function(){return this.pV;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cr:{get:function(){return this.Ha.Cr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xba:{get:function(){return this.Ha.xba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mha:{get:function(){return!!this.fg&&this.uk>this.fg.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vA:{get:function(){return this.mha&&0===this.eA.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rI:{get:function(){return this.n$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uu:{get:function(){return this.Cq.Uu;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){var a,b;return null!==(b=null===(a=this.ag)||void 0===a?void 0:a.S)&&void 0!==b?b:1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){var a;return null===(a=this.ag)||void 0===a?void 0:a.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gb:{get:function(){var a;return null===(a=this.fg)||void 0===a?void 0:a.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hj:{get:function(){return this.Xc.xr.Jf(this.S).Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pj:{get:function(){return this.mt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{au:{get:function(){return this.oya;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{WY:{get:function(){return this.Ha.WY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IC:{get:function(){return this.Ha.IC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sma:{get:function(){return this.Ha.sma;},enumerable:!1,configurable:!0}});b.prototype.Ng=function(){this.br=!0;this.eA.Ng();};b.prototype.toJSON=function(){return{started:this.IC,startOfSequence:this.sma,segmentId:this.Na,requestedBufferLevel:this.vl,viewableId:this.Dc.R.oa,hasFragments:this.WY};};b.prototype.zC=function(a){this.mt=!0;this.oya=a;};b.prototype.lW=function(){this.mt=!1;this.oya=void 0;};b.prototype.rp=function(){return this.Ha.rp();};b.prototype.Tla=function(a,b){this.pV=a;this.uk=b;};b.prototype.wN=function(){return this.Ha.wN();};b.prototype.gda=function(){this.Ha.close();};Object.defineProperties(b.prototype,{weight:{get:function(){return this.Dc.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{V1:{get:function(){return void 0===this.Mg.Km||void 0===this.uk?this.kza.add(D.ka.Bf(this.Dc.de)):this.Mg.Km.get(this.uk).Zl.add(D.ka.Bf(this.Dc.de));},enumerable:!1,configurable:!0}});b.prototype.DGb=function(a,b){var c;if(this.br)return G.assert(!1,"pipeline.tryIssueRequest on disabled pipeline"),!1;c=a.nY();return c?this.GTa(a,c,b):a.UC();};b.prototype.NJa=function(a,b){a&&(this.ag=a);b&&(this.fg=b);G.assert(this.ag);G.assert(this.fg);G.assert(void 0===this.uk);this.Tla(this.ag.xc,this.ag.index);};b.prototype.Zla=function(){return n.yY(this.Mg.M,this.K);};b.prototype.tKa=function(){return this.ZJa()?!1:this.Aqb()?!0:this.track.Uub;};b.prototype.Aqb=function(){return void 0!==this.ag&&void 0!==this.fg;};b.prototype.ZJa=function(){return this.fg?this.uk>this.fg.index:!1;};b.prototype.Xl=function(a,b,c,f,h){var k,p;k=this.K;p=k.Vg;if(c>=k.Vg&&(k.Y0&&(p=c+1E3),k.Z0&&!this.connected))return!1;if(this.Ag)return(a=this.Ag.Xl())&&this.zC("stall"),a;c=this.ZJa()&&0===this.Ha.k0&&0===this.Ha.Ns;if(!c&&f<p)return!1;if(c){if(h&&0===f)return this.ab("playlist mode with nothing buffered, waiting for next manifest"),!1;this.zC("complete");return!0;}return 0===this.M?(this.zC("audio"),!0):this.kDa(a,b);};b.prototype.kDa=function(a,b){if(this.pj||0===this.M)return!0;if(void 0===this.Uu)return!1;b=this.w4a(b,a);a=this.rI.Xl(b,a,this.Uu,this.Xc.R.Hh);a.complete?this.zC(a.reason):(this.lW(),this.by=a.by,this.Nh=a.Nh);return this.pj;};b.prototype.Vi=function(a){this.Dt.yvb(a);this.Vp(a);};b.prototype.ov=function(a){a.bc||this.Dt.jNa(a.stream,a.T,a.xc);this.Dt.uvb(this.Na,a.stream,a.bc);this.kB(a);};b.prototype.YO=function(a){a.X$||(this.connected=!0);this.jB(a);};b.prototype.Klb=function(a){var b,c;b=this.Ha.Z;if(0===b.length)return{Z:[],Eja:0,Xi:0};c=b.eG(a.va);0>c&&(c=void 0===b.T||a.va<=b.T?0:b.length);return{Z:b.oCb(c),Eja:Math.max(0,b.ocb-c),Xi:b.Xi};};b.prototype.GTa=function(a,b,c){var f,h,k,p,d,t,n;p=this.Dc;d=p.R;t=this.M;n=this.uk;if(n>=b.length)return this.ab("makeRequest nextFragmentIndex:",n,"past fragments length:",b.length),!1;if(!this.ag||!this.fg)return this.ab("makeRequest delayed, first or last fragment not set","first:",!!this.ag,"last:",!!this.fg),!1;b=this.v4a.DHa(a,n,this,d.Mu());if(!b)return this.ab("makeRequest unable to get valid fragment"),!1;null===(f=this.Ag)||void 0===f?void 0:f.Cpb(b,a);b.Tu&&1===t&&this.Dt.F9(p.ca,b.na);b.zRa(p.xr);f=null===(h=this.x4a)||void 0===h?void 0:h.call(this);this.K.LB&&void 0!==f&&f<b.aa&&(b.LB=this.K.LB);F.time.ea();c=this.Ha.hfb(p,b,c,a);if(!c.ns()){this.ab("MediaRequest.open error: "+c.qh+" native: "+c.Ui);if(7===c.readyState)return!1;this.ab("makeRequest caught:",c.qh);d.zg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return!1;}null===(k=this.Ag)||void 0===k?void 0:k.mib(c,b,a);this.Dt.zvb(c);this.Tla(c.Ub,b.LO);return!0;};b.prototype.w4a=function(a,b){var c,f,h,p,d;p=F.lk()[this.M];d=this.Ha.vY();a={Op:p,T:null!==(c=d.bd)&&void 0!==c?c:0,Gc:a,Lb:null!==(f=d.CH||a)&&void 0!==f?f:0,Yl:null!==(h=d.lM||a)&&void 0!==h?h:0,Th:d.Th,Xi:d.Xi,eea:d.Z.length,Z:d.Z};J.la(a.T)?b===k.Ve.we&&a.Gc!==a.T&&(a.Gc=a.T):(a.T=0,a.Lb=0);return a;};return b;}(q.Lq);b.K6=q;a.pf(d.Xy,q);a.pf(d.$y,q);},function(d,b,a){var l,q,n,k,p,h,f,t,g,G,D,J;function c(a,b){return(1===a.M?0:1)-(1===b.M?0:1);}Object.defineProperty(b,"__esModule",{value:!0});b.k3=b.n1a=void 0;l=a(0);q=a(21);n=a(378);k=a(83);p=a(158);h=a(785);f=a(17);t=a(784);g=a(11);G=a(6);D=a(34);J=a(4);d=a(109);a=a(39);b.n1a={pWb:c};k=function(a){function b(b,c,f,k,p,d,l,z,F,m,L,r,u,ta){var H,U,y,R;y=a.call(this,f)||this;y.K=b;y.R=f;y.zAa=p;y.NAa=d;y.aza=F;y.parent=m;y.bn=L;y.WT=r;y.Q9=!1;y.m8a=1;y.br=!1;y.lL=!1;y.w8=0;y.Lw=0;y.pya=y.$vb.bind(y);G.assert(f.oa===y.ca.oa||isNaN(f.oa)&&isNaN(y.ca.oa));y.R.VPa(y);y.G=g.cy(J,c,p.id&&p.id.length?"{"+p.id+"}":"");y.Ye=y.G.error.bind(y.G);y.ab=y.G.warn.bind(y.G);y.mj=y.G.trace.bind(y.G);y.oZ=null!==l&&void 0!==l?l:D.ka.Bf(y.ca.T);y.xr=D.ka.Bf(z);y.vU=[];d.forEach(function(a){var b;a=a.M;b=y.R.kX(a)?new h.xra(y.K.pH):new h.Tta();y.vU[a]=b;});y.hi=[];if(!ta){R=[y.K.taa,y.K.T1];d.forEach(function(a){var b;b=a.M;y.hi[b]=new n.K6(y,y.K,y.G,k,y,a,y.oZ,R[b],y.vU[b],null===m||void 0===m?void 0:m.Ge(b),u);});y.bL=new t.Tua({config:y.K,R:y.R,ca:y.ca,ad:y.hi,Zl:y.oZ,Pp:null!==(H=y.ca.aB)&&void 0!==H?H:void 0!==y.ca.na?D.ka.Bf(y.ca.na):void 0,splice:void 0!==m});y.cL=y.rY()[0];}y.qna(y.oZ.va,y.K.Z1);y.events=new q.EventEmitter();null===(U=y.WT)||void 0===U?void 0:U.addListener(y.pya);return y;}l.__extends(b,a);Object.defineProperties(b.prototype,{Np:{get:function(){return this.br;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rq:{get:function(){return this.Q9;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.m8a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ca:{get:function(){return this.zAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mha:{get:function(){return this.hi.every(function(a){return a.mha;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vA:{get:function(){return this.hi.every(function(a){return a.vA;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zl:{get:function(){return this.NAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.cL.S;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.cL.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gb:{get:function(){return this.cL.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hj:{get:function(){return this.xr.Jf(this.S).Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Aga:{get:function(){return this.oZ.add(this.xr);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yxb:{get:function(){return this.ca.Fm.add(this.xr);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{KJa:{get:function(){return this.Aga.va;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{de:{get:function(){return this.xr.va;},enumerable:!1,configurable:!0}});b.prototype.Db=function(){var a;null===(a=this.bL)||void 0===a?void 0:a.Db(this.p6a.bind(this));};b.prototype.wN=function(a){return(a=this.Ge(a))?a.wN():p.az.Blb();};b.prototype.gda=function(){var a;a=this;this.NAa.forEach(function(b){a.Ge(b.M).gda();});};b.prototype.Ng=function(){var a,b;this.br||(this.br=!0,this.R.PTa(this),this.parent=void 0,null===(a=this.bL)||void 0===a?void 0:a.wc(),this.bL=void 0,this.hi.forEach(function(a){a.Ng();}),null===(b=this.WT)||void 0===b?void 0:b.removeListener(this.pya),this.events.removeAllListeners());};b.prototype.TJa=function(){return!0;};b.prototype.Ge=function(a){return this.hi[a];};b.prototype.rY=function(){var a;void 0===a&&(a=c);return this.hi.filter(function(a){return a;}).sort(a);};b.prototype.mmb=function(){return this.hi.filter(function(a){return a.tKa();});};b.prototype.lmb=function(a){a=this.hi[a];if(a.tKa())return a;};b.prototype.Qi=function(a,b){a=this.hi[a];if(!a)return 0;if(b)return a.vl;b=a.Cr;if(void 0===b)return 0;a=this.aza();return b-a;};b.prototype.wIa=function(a){var b;return(a=this.hi[a])?null!==(b=a.Cr)&&void 0!==b?b:0:0;};b.prototype.qna=function(a,b){this.Hpb=a+b;this.Mpb=J.time.ea();};b.prototype.rp=function(a){return this.Ge(a).rp();};b.prototype.$vb=function(a){a=a.newValue;if(a===f.Ve.we||a===f.Ve.Eg)this.lL=!1,this.w8=J.time.ea(),this.Lw=0,this.hi.forEach(function(a){return a.lW();}),this.Xl();};b.prototype.Vi=function(a){this.br||(a.X$||G.assert(!a.bc),!1===this.lL&&this.Xl(),this.vA&&this.x6a());this.Vp(a);};b.prototype.p6a=function(a){var b,c;null===(b=this.bL)||void 0===b?void 0:b.wc();this.bL=void 0;b=(null!==(c=this.hi[1])&&void 0!==c?c:this.hi[0]).track.Km.aB;this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.ca.Fm,branchContentStart:this.Zl,branchContentEnd:this.Pp,contentEnd:b,didNormalizeSegment:a});};b.prototype.PU=function(a){a={type:"branchBufferingComplete",audioBufferLevel:this.Qi(0),videoBufferLevel:this.Qi(1),reason:a};this.events.emit(a.type,a);this.lL=!0;};b.prototype.H9=function(a,b,c){var f;f=this.K;c?b=(J.time.ea()-this.w8)/f.vv:b||(b=a/f.Vg);a=Math.min(Math.max(Math.round(100*b),this.Lw),99);a!=this.Lw&&(b={type:"branchBufferingProgress",percentage:a},this.events.emit(b.type,b),this.Lw=a);};b.prototype.x6a=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.Xl=function(){var a,b,c,h,k,p,d,t,n,l,q;if(!0!==this.lL){k=this.K;p=this.hi[0];d=this.hi[1];t=this.Qi(0);n=this.Qi(1);l=this.aza();q=!p||p.Xl(null!==(b=null===(a=this.WT)||void 0===a?void 0:a.value)&&void 0!==b?b:f.Ve.Tm,l,0,t);a=!d||d.Xl(null!==(h=null===(c=this.WT)||void 0===c?void 0:c.value)&&void 0!==h?h:f.Ve.Tm,l,0,n);q&&a?(k=d?d.au:p.au,G.assert(void 0!==k),this.PU(k)):(c=J.time.ea()-this.w8,c>=k.vv&&(h=!d||n>k.Vg,(!p||t>k.Vg)&&h&&(this.ab("buffering longer than limit: "+c+" >= "+k.vv+", audio buffer: "+t+" ms, video buffer: "+n+" ms"),this.PU("prebufferTimeLimit"))));!1===this.lL&&(p=d?d:p,d=this.Qi(d?1:0),this.H9(d,p.Nh,p.by));}};b.prototype.toJSON=function(){var a,b;return{segment:this.ca.id,branchOffset:this.de,viewableId:this.R.oa,contentStartPts:null===(a=this.Zl)||void 0===a?void 0:a.va,contentEndPts:null===(b=this.Pp)||void 0===b?void 0:b.va};};return b;}(k.Lq);b.k3=k;a.pf(d.$y,k);a.pf(d.Xy,k);},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.uv=b.vKa=void 0;c=a(11);l=a(6);q=a(63);b.vKa=function(a,b){a=a.Va[b.Na];if(void 0===a)return!1;if(void 0===a.tg||null===a.tg)throw Error("Cannot validate graph position without endTimeMs");a=a.tg-a.mf;return 0<=b.offset.va&&b.offset.va<a;};b.uv=function(a,b){var k,h,f,d;f=b.qb;b=b.Opb;d=f.xg;f=f.navigator;d=f.Rg(null!==(k=null===b||void 0===b?void 0:b.id)&&void 0!==k?k:d.Jh);k=null!==(h=null===b||void 0===b?void 0:b.kCb)&&void 0!==h?h:d.Fm;if(!k.greaterThan(a))for(h=f.drb(d),b=h.next();!b.done;){b=b.value;f=b.aB.Mb(b.Fm);d=k;k=d.add(f);if(k.greaterThan(a))return a=a.Mb(d),q.Ya&&l.assert(a.xG(c.ka.sd)&&a.lessThan(f)),{Na:b.id,offset:a};b=h.next();}};},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.a7=void 0;c=a(0);l=a(21);q=a(11);n=a(6);k=a(17);p=a(380);d=function(){function a(){this.XA=[];this.wH=[];this.events=new l.EventEmitter();}Object.defineProperties(a.prototype,{Eo:{get:function(){return this.lN();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{position:{get:function(){var a,b;a=this.Eo;b=this.uv(a);n.assert(b,"Could not find current branch for "+a.va);return b;},enumerable:!1,configurable:!0}});a.prototype.TV=function(a){if(void 0!==this.qb)return!1;a.el.bCa(this.events);return!0;};a.prototype.Bn=function(){};a.prototype.pvb=function(){var a,b;if(this.qb){b=null===(a=this.qb)||void 0===a?void 0:a.Qi(this.Eo);this.events.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:0,vbuflbytes:0,totalabuflmsecs:b.gGb,totalvbuflmsecs:b.hGb,currentBandwidth:0});}};a.prototype.LY=function(a){if(void 0!==this.qb&&a.Na===this.qb.xg.Jh)return a.offset;};a.prototype.Pu=function(a){return-1!==this.XA.indexOf(a.oa)||a.Ki;};a.prototype.av=function(){this.NZ=!0;};a.prototype.uv=function(a){var b,c;b=this.Mkb(a);if(!b){if(void 0===this.qb)return;c=this.Qc[this.Qc.length-1];return p.uv(a,{qb:this.qb,Opb:c&&{id:c.ca.id,kCb:c.Yxb}});}c=b.ca;b=c.Fm.add(b.xr);return{Na:c.id,offset:a.Mb(b)};};a.prototype.reset=function(){this.NZ=!1;};a.prototype.pause=function(a){void 0===a&&(a=k.Ke);this.wH=null===a||void 0===a?void 0:a.reduce(function(a,b){-1===a.indexOf(b)&&a.push(b);return a;},this.wH);};a.prototype.resume=function(a){var b;b=this;void 0===a&&(a=k.Ke);a.forEach(function(a){a=b.wH.indexOf(a);-1!==a&&b.wH.splice(a,1);});};a.prototype.$Cb=function(a){a=this.XA.indexOf(a);-1!==a&&this.XA.splice(a,1);};a.prototype.aQ=function(a){-1===this.XA.indexOf(a)&&this.XA.push(a);};a.prototype.bna=function(a){var b;n.assert(this.qb);n.assert(a!==this);this.qb.el.XEa();this.pI();b=a.TV(this.qb,this);b&&(this.NZ&&(a.av(),this.NZ=!1),a.pause(this.wH),a.lda.apply(a,c.__spread(this.Qc)),a.XA=c.__spread(this.XA),this.zca(this.qb));return b;};a.prototype.lN=function(){return this.LHa();};a.prototype.LHa=function(){var a,b,h,k;k=this.Qc;return k.length?(h=c.__read(k,1)[0],n.assert(h),null!==(a=h.qy)&&void 0!==a?a:h.Aga):this.qb?(a=null===(b=this.qb)||void 0===b?void 0:b.xg.Jh,a=null===(h=this.qb)||void 0===h?void 0:h.xg.Va[a],q.ka.Bf(a.mf)):q.ka.sd;};a.prototype.Mkb=function(a){var b;if(0!==this.Qc.length){b=this.LHa();return a.lessThan(b)?this.Qc[0]:q.oGa(this.Qc,a);}};return a;}();b.a7=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mT=void 0;c=a(4).Promise;d=function(){function a(a,b,c){var k;this.U9a=a;this.E9=b;this.T3a=c;this.X8=(k={},k[0]=!1,k[1]=!1,k);this.reset();}a.prototype.Xl=function(){var a,b;a=this;b=this.U9a.filter(function(b){return!b.YJa(a.T3a());});0===b.length&&this.m9?this.K5a():b.forEach(function(b){a.X8[b.M]||(b.once("requestAppended",function(){a.X8[b.M]=!1;a.Xl();}),a.X8[b.M]=!0);});};a.prototype.reset=function(){var a;a=this;this.m9=!1;new c(function(b){a.K5a=b;}).then(function(){return a.E9();});};a.prototype.av=function(){this.m9||(this.m9=!0,this.Xl());};return a;}();b.mT=d;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.X2=void 0;c=a(0);d=a(21);l=a(63);q=a(4);n=a(11);k=a(813);p=a(158);h=a(812);a=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.sAa=0;b.Z9=0;b.vK=0;b.J8=0;return b;}c.__extends(b,a);b.prototype.Vka=function(b){var c,f;a.prototype.Vka.call(this,b);this.sAa++;this.Z9++;this.KAa=q.time.ea();this.oE||(this.oE={Ub:b.Ub,xc:b.xc,index:b.index},this.tU||(this.tU=this.oE));c=this.GU;f=!1;c&&100>Math.abs(c.Ub-b.xc)&&(this.vK+=b.Ub-c.Ub,this.J8++,f=!0);f||(this.vK=b.Hr,this.J8=1);this.GU=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.vK=this.Z9=0;this.oE=void 0;};b.prototype.NHa=function(){var a,b,c,f;a=this.JE;b=a.EW;if(b){f=b.Ge(this.Me);f&&f.Ha&&(c=f.Ha.kfa());return{RM:c,currentBranch:{sId:b.ca&&b.ca.id,cancelled:b.Np},currentReceivedCount:a&&a.wfb,totalReceivedCount:this.sAa,currentState:a&&a.yfb||"Uninitialized",lastRequestPushed:this.GU&&{contentEndPts:this.GU.Ub,fragmentIndex:this.GU.index},tslp:this.KAa&&q.time.ea()-this.KAa,cpts:this.vK,crq:this.J8,rslp:this.Z9,firstRequestSSPushed:this.oE&&{contentStartPts:this.oE.xc,fragmentIndex:this.oE.index},firstRequestPushed:this.tU&&{contentStartPts:this.tU.xc,fragmentIndex:this.tU.index}};}};return b;}(function(a){function b(b,c,f,p,d,t){var l;l=a.call(this)||this;l.ar=b;l.Me=c;l.K=p;l.G=d;l.G=n.cy(q,l.G,"AsePlayerBuffer:");l.JE=new k.Koa(l.G,f,c);l.resume();t&&(l.YOa=new h.Eva(c,d,t,t.W,l.ar,t.events,n.ka.Bf(p.GP)));l.ar.on("requestAppended",function(){return l.emit("requestAppended");});return l;}c.__extends(b,a);Object.defineProperties(b.prototype,{M:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});b.prototype.NHa=function(){};b.prototype.resume=function(){l.Ya&&this.G.trace("resume");this.pma();};b.prototype.YJa=function(a){return this.ar.Qea()>a;};b.prototype.reset=function(a){var b;void 0===a&&(a=!1);l.Ya&&this.G.trace("reset");this.stop();this.ar.reset(a);a||(this.UT=void 0);null===(b=this.YOa)||void 0===b?void 0:b.reset();};b.prototype.tBb=function(){var a;a=!0;void 0===a&&(a=!1);this.reset(a);this.pma(!0);};b.prototype.stop=function(){this.JE.pSa();};b.prototype.close=function(){var a;null===(a=this.YOa)||void 0===a?void 0:a.close();};b.prototype.pja=function(){this.K.LX&&this.ar.yGa();this.K.MI&&this.ar.resume();};b.prototype.Ajb=function(a){this.ar.eNa(a,!0);};b.prototype.pma=function(a){if(!this.JE.Nqb||a)this.JE.uBb(),p.az.crb(this.JE,this.RZ.bind(this));};b.prototype.RZ=function(a){a.done||this.Vka(a.value);};b.prototype.Vka=function(a){this.ar.endOfStream?l.Ya&&this.G.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.UT?(this.UT.zrb=a.Ub,this.UT.Brb=a.te):this.UT={mSb:a.xc,nSb:a.bd,zrb:a.Ub,Brb:a.te},this.ar.m$a(a));};return b;}(d.EventEmitter));b.X2=a;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.n7=void 0;c=a(4).Promise;d=function(){function a(){var a;a=this;this.ZU=[];this.IAb=function(b){b=a.ZU.indexOf(b);0<=b&&a.ZU.splice(b,1);};}Object.defineProperties(a.prototype,{Zw:{get:function(){return 0!==this.ZU.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new l(this.IAb);this.ZU.push(a);return a;};a.prototype.LUa=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(p){return b.release(),c.reject(p);}};return a;}();b.n7=d;l=function(){function a(a){this.Y6a=a;}a.prototype.release=function(){this.Y6a(this);};return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ida=void 0;b.Ida=function(a,b){for(var c,d,n=a.length-1;0<=n;--n)if(d=a[n],d.zj){if(d.O<=b)return n;c=n;}return c;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.T2=void 0;c=a(0);a(4);a(6);d=function(a){function b(b,c,p,h,f){b=a.call(this,b,c,p,h,f)||this;b.Xya=!1;b.Wya=!1;b.DK=!1;b.wa=[];b.jr=!1;b.Tza=!1;b.LK=!1;b.Tc=!1;b.qg=!1;b.Pd=!1;b.WD=!1;b.wE=void 0;b.er=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{Oga:{get:function(){return this.jr&&!this.DK;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{PPa:{get:function(){return this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.Pd||(this.Pd=this.wa.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{or:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Th:{get:function(){return this.wa.reduce(function(a,b){return a+b.Th;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ce:{get:function(){return this.wa.reduce(function(a,b){return a+b.Ce;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$c:{get:function(){return this.wE||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.wa[0]&&this.wa[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.pg||this.wa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.er&&this.er.status||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qh:{get:function(){return this.er&&this.er.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bG:{get:function(){return this.er&&this.er.bG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ui:{get:function(){return this.er&&this.er.Ui;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ln:{get:function(){return!!this.wa.length&&this.wa[0].Ln;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.LK&&a.Db(this.Ha);this.wa.push(a);this.jr&&a.ns();};b.prototype.Db=function(b){a.prototype.Db.call(this,b);this.wa.forEach(function(a){return a.Db(b);});this.LK=!0;};b.prototype.ns=function(){this.Tza=!0;(this.jr=this.wa.every(function(a){return a.ns();}))&&this.bN(this);this.Tza=!1;return this.jr;};b.prototype.wc=function(){7!==this.readyState&&5!==this.readyState&&(this.G.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.wa.forEach(function(a){return a.wc();});};b.prototype.zQ=function(a){this.pg=this.er=void 0;return this.wa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.zQ(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.pg=7;this.WD=!0;this.qg=this.Tc=!1;b=this.wa.map(function(a){return a.abort();}).every(function(a){return a;});this.PX(this,a,this.Oga);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.wa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.wa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};b.prototype.b0=function(){};b.prototype.ov=function(a){this.Tc||(this.Tc=!0);this.Xya||(this.Xya=!0,this.sl=0,this.wE=this.tl=a.$c,this.kB(this));};b.prototype.YO=function(a){this.qg||(this.qg=!0);this.Wya||(this.Wya=!0,this.wE=a.$c,this.jB(this));};b.prototype.ZO=function(a){this.wE=a.$c;this.hG(this);this.sl=this.Ce;this.tl=a.$c;};b.prototype.Vi=function(a){this.wE=a.$c;this.complete?(this.Pd=!0,this.pg=5,this.qg=this.Tc=!1,this.DK=!0,this.Vp(this)):this.hG(this);this.sl=this.Ce;this.tl=a.$c;};b.prototype.XO=function(a){this.wE=a.$c;this.er=a;this.pg=6;this.QX(this);};b.prototype.WO=function(){};b.prototype.xj=function(){return this.wa[0].xj()+"-"+this.wa[this.wa.length-1].xj();};b.prototype.toString=function(){return"Compound["+this.wa.map(function(a){return a.toString();}).join(",")+"]";};b.prototype.toJSON=function(){return{requests:this.wa};};return b;}(a(159).Zy);b.T2=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;c=a(0);l=a(6);d=function(a){function b(b,c,h){b=a.call(this,b,c)||this;b.kI=!1;b.Kr=!1;b.jH=!1;b.wx=!1;b.Ek=void 0;b.sE=c.ni;b.en=c.Dja;b.Oya=c.uj;b.G=h;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ni:{get:function(){return this.sE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dja:{get:function(){return this.en;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uj:{get:function(){return this.Oya;},enumerable:!1,configurable:!0}});b.prototype.wc=function(){};b.prototype.t2=function(){};b.prototype.t9a=function(a){l.assert(this.Ed.sa===a.sa);!a.Xd&&this.Ed.Xd&&a.vW(this.Ed);!a.location&&this.Ed.location&&(a.location=this.Ed.location,a.qc=this.Ed.qc,a.xC=this.Ed.xC,a.url=this.Ed.url,a.lb=this.Ed.lb);this.Ed=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Z});};return b;}(a(163).Sv);b.rR=d;},function(d){(function(){var m1f,s6f;m1f=2;function b(){var G1f;G1f=2;while(G1f!==5){switch(G1f){case 2:this.Rw=this.ac=0;this.Qa=this.ae=void 0;G1f=5;break;}}}while(m1f!==8){s6f="1";s6f+="S";s6f+="IYbZrN";s6f+="JCp";s6f+="9";switch(m1f){case 2:b.prototype.start=function(a){var S1f;S1f=2;while(S1f!==1){switch(S1f){case 2:this.ae?a<this.ae?(this.Rw+=this.ae-a,this.ae=a):a>this.Qa&&(this.Qa=this.ae=a):this.Qa=this.ae=a;S1f=1;break;}}};b.prototype.stop=function(a){var Z1f;Z1f=2;while(Z1f!==1){switch(Z1f){case 2:this.Qa&&a>this.Qa&&(this.Rw+=a-this.Qa,this.Qa=a);Z1f=1;break;}}};b.prototype.add=function(a,b,d){var n6f;n6f=2;while(n6f!==4){switch(n6f){case 2:this.start(b);this.stop(d);this.ac+=a;n6f=4;break;}}};m1f=4;break;case 4:b.prototype.get=function(){var d6f;d6f=2;while(d6f!==1){switch(d6f){case 2:return{Ca:this.Rw?Math.floor(8*this.ac/this.Rw):null,ZW:this.Rw?this.Rw:0};break;}}};d.P=b;s6f;m1f=8;break;}}}());},function(d,b,a){var l,q;function c(a){this.K={pO:a.maxc||25,yba:a.c||.5,Qzb:a.rc||"none",iob:a.hl||7200};this.iL();this.W6a=this.K.Qzb;this.GK=this.K.iob;this.t8=Math.exp(Math.log(2)/this.GK);this.t8=Math.max(this.t8,1);this.hU=1;}l=a(7);q=a(219).TDigest;new(a(4)).Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.Yc=function(){var a;if(0===this.ce.size())return null;a=this.ce.Mh([.25,.75]);if(a[0]===a[1])return null;this.ce.size()>this.K.pO&&this.ce.mu();a=this.ce.Js(!1).reduce(function(a,b){l.la(b.jf)&&l.la(b.n)&&a.push({mean:b.jf,n:b.n/this.hU});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};c.prototype.Zd=function(a){var b;if(l.Ma(a)||!l.has(a,"tdigest")||!l.Jd(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(p){return!1;}b.forEach(function(a){l.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{jf:a.mean,n:a.n};});this.hU=1;this.ce.qka(a);void 0===this.ce.Mh(0)&&this.iL();};c.prototype.get=function(){var a,b;a=this.ce;b=a.Mh([0,.1,.25,.5,.75,.9,1]);return{min:b[0],xja:b[1],xk:b[2],Wi:b[3],yk:b[4],yja:b[5],max:b[6],kh:a.Js(!1)};};c.Hmb=function(a){var b;b=new c({});l.Ma(a)||l.X(a)||!l.isArray(a.kh)||(b.ce.qka(a.kh),void 0===b.ce.Mh(0)&&b.iL());a=b.ce.Mh([.25,.75]);return a[0]===a[1]?null:function(a){return b.ce.Mh(a);};};c.prototype.add=function(a){var b;b=1;"ewma"===this.W6a&&(this.hU=b=this.hU*this.t8);this.ce.push(a,b);};c.prototype.toString=function(){return"TDigestHist("+this.ce.summary()+")";};c.prototype.iL=function(){this.ce=new q(this.K.yba,this.K.pO);};d.P={gxa:c};},function(d,b,a){var l,q;function c(a){this.K={pO:a.maxc||25,yba:a.c||.5,DIb:a.w||15E3,Vl:a.b||5E3};l.call(this,this.K.DIb,this.K.Vl);this.iL();}l=a(160);q=a(219).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var a;a=this.xH(0);l.prototype.shift.call(this);null!==a&&(this.ce.push(a,1),this.ro=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.ce.push(a,1);this.ro=!0;l.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.DIa();};c.prototype.Cu=function(){var a;a=this.DIa();return{min:a.min,p10:a.xja,p25:a.xk,p50:a.Wi,p75:a.yk,p90:a.yja,max:a.max,centroidSize:a.pbb,sampleSize:a.wC,centroids:a.kh};};c.prototype.DIa=function(){var a;if(0===this.ce.size())return null;a=this.ce.Mh([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.ro||!this.oe)this.ro=!1,this.oe={min:a[0],xja:a[1],xk:a[2],Wi:a[3],yk:a[4],yja:a[5],max:a[6],Mh:this.ce.Mh.bind(this.ce),pbb:this.ce.size(),wC:this.ce.n,kh:this.Ykb(),Cu:this.Cu.bind(this)};return this.oe;};c.prototype.Ykb=function(){var a;if(0===this.ce.size())return null;if(!this.ro&&this.oe)return this.oe.centroids;a=this.ce.Mh([.25,.75]);if(a[0]===a[1])return null;this.ce.size()>this.K.pO&&this.ce.mu();a=this.ce.Js(!1).map(function(a){return{mean:a.jf,n:a.n};});return JSON.stringify(a);};c.prototype.BIa=function(){return this.ce.summary();};c.prototype.size=function(){return this.ce.size();};c.prototype.toString=function(){return"btdtput("+this.YE+","+this.Oc+","+this.ji+"): "+this.ce.summary();};c.prototype.iL=function(){this.ce=new q(this.K.yba,this.K.pO);};d.P=c;},function(d,b,a){var l,q;function c(a,b,c,h){l.call(this,c,h);this.ir=new q(a);this.w5a=b;}l=a(160);q=a(408);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var a;a=this.xH(0);l.prototype.shift.call(this);null!==a&&this.ir.HV(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.ir.HV(a);l.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.tN();return{wC:this.qG(),m0:a,NO:a.Wi?(a.yk-a.xk)/a.Wi:void 0};};c.prototype.qG=function(){return this.ir.qG();};c.prototype.tN=function(){return this.ir.qG()<this.w5a?{xk:void 0,Wi:void 0,yk:void 0,wC:void 0,Mh:void 0}:{xk:this.ir.Mp(25),Wi:this.ir.Mp(50),yk:this.ir.Mp(75),wC:this.ir.qG(),Mh:this.ir.Mp.bind(this.ir)};};c.prototype.toString=function(){return"biqr("+this.YE+","+this.Oc+","+this.ji+")";};d.P=c;},function(d,b,a){var n;function c(a){this.reset();this.nDb(a);}function l(a){this.setInterval(a);this.reset();}function q(a){this.Fw=new l(a);this.Qd=0;this.Rb=null;}n=a(7);c.prototype.nDb=function(a){this.ZD=Math.pow(.5,1/a);this.GK=a;};c.prototype.reset=function(a){a&&a.Ca&&n.la(a.Ca)?a.yh&&n.la(a.yh)?(this.cr=this.T4a,this.cn=a.Ca,this.zw=a.yh+a.Ca*a.Ca):(this.cr=this.T4a,this.cn=a.Ca,this.zw=a.Ca*a.Ca):this.zw=this.cn=this.cr=0;};c.prototype.add=function(a){var b;if(n.la(a)){this.cr++;b=this.ZD;this.cn=b*this.cn+(1-b)*a;this.zw=b*this.zw+(1-b)*a*a;}};c.prototype.get=function(){var a,b,c;if(0===this.cr)return{Ca:0,yh:0};a=this.cn;b=this.zw;c=1-Math.pow(this.ZD,this.cr);a=a/c;b=b/c;c=a*a;return{Ca:Math.floor(a),yh:Math.floor(b>c?b-c:0)};};c.prototype.Yc=function(){return 0===this.cr?null:{a:Math.round(this.cn),s:Math.round(this.zw),n:this.cr};};c.prototype.Zd=function(a){if(n.Ma(a)||!n.has(a,"a")||!n.has(a,"s")||!n.isFinite(a.a)||!n.isFinite(a.s))return this.zw=this.cn=this.cr=0,!1;this.cn=a.a;this.zw=a.s;n.has(a,"n")&&n.la(a.n)?this.cr=a.n:this.cr=16*this.GK;return!0;};l.prototype.setInterval=function(a){this.GK=a;this.ZD=-Math.log(.5)/a;};l.prototype.reset=function(a){this.Qa=this.ae=null;a&&n.isFinite(a.Ca)?this.cn=a.Ca:this.cn=0;};l.prototype.start=function(a){n.Ma(this.ae)&&(this.Qa=this.ae=a);};l.prototype.add=function(a,b,c){var f,h;n.Ma(this.ae)&&(this.Qa=this.ae=b);this.ae=Math.min(this.ae,b);b=Math.max(c-b,1);f=this.ZD;h=c>this.Qa?c:this.Qa;this.cn=this.cn*(h>this.Qa?Math.exp(-f*(h-this.Qa)):1)+8*a/b*(1-Math.exp(-f*b))*(c>h?Math.exp(-f*(h-c)):1);this.Qa=h;};l.prototype.get=function(a){var b;a=Math.max(a,this.Qa);b=this.cn*Math.exp(-this.ZD*(a-this.Qa));a=1-Math.exp(-this.ZD*(a-this.ae));0<a&&(b/=a);return{Ca:Math.floor(b)};};l.prototype.toString=function(){return"ewmav("+this.GK+")";};q.prototype.setInterval=function(a){this.Fw.setInterval(a);};q.prototype.reset=function(a){this.Fw.reset(a);this.Qd=0;this.Rb=null;};q.prototype.start=function(a){!n.Ma(this.Rb)&&a>this.Rb&&(this.Qd+=a-this.Rb,this.Rb=null);this.Fw.start(a-this.Qd);};q.prototype.add=function(a,b,c){!n.Ma(this.Rb)&&c>this.Rb&&(this.Qd+=b>this.Rb?b-this.Rb:0,this.Rb=null);this.Fw.add(a,b-this.Qd,c-this.Qd);};q.prototype.stop=function(a){this.Rb=Math.max(n.Ma(this.Fw.Qa)?0:this.Fw.Qa+this.Qd,n.Ma(this.Rb)?a:Math.min(this.Rb,a));};q.prototype.get=function(a){return this.Fw.get((n.Ma(this.Rb)?a:this.Rb)-this.Qd);};q.prototype.toString=function(){return this.Fw.toString();};d.P={eYa:c,tKb:l,cYa:q};},function(d,b,a){d.P={gSb:a(392),DVb:a(218),aKb:a(829),$Jb:a(391),bKb:a(390),Yqa:a(826)};},function(d){function b(){}function a(a){this.OAa=a;this.$m=[];this.xf=null;}b.prototype.clear=function(){this.Rd=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.Rd;null!==b;){c=this.Sk(a,b.data);if(0===c)return b.data;b=b.bg(0<c);}return null;};b.prototype.lowerBound=function(a){var k;for(var b=this.Rd,c=this.iterator(),d=this.Sk;null!==b;){k=d(a,b.data);if(0===k)return c.xf=b,c;c.$m.push(b);b=b.bg(0<k);}for(k=c.$m.length-1;0<=k;--k)if(b=c.$m[k],0>d(a,b.data))return c.xf=b,c.$m.length=k,c;c.$m.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Sk;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};b.prototype.min=function(){var a;a=this.Rd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};b.prototype.max=function(){var a;a=this.Rd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Ud=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.xf?this.xf.data:null;};a.prototype.next=function(){var a;if(null===this.xf){a=this.OAa.Rd;null!==a&&this.Gza(a);}else if(null===this.xf.right){do if(a=this.xf,this.$m.length)this.xf=this.$m.pop();else{this.xf=null;break;}while(this.xf.right===a);}else this.$m.push(this.xf),this.Gza(this.xf.right);return null!==this.xf?this.xf.data:null;};a.prototype.jC=function(){var a;if(null===this.xf){a=this.OAa.Rd;null!==a&&this.Bza(a);}else if(null===this.xf.left){do if(a=this.xf,this.$m.length)this.xf=this.$m.pop();else{this.xf=null;break;}while(this.xf.left===a);}else this.$m.push(this.xf),this.Bza(this.xf.left);return null!==this.xf?this.xf.data:null;};a.prototype.Gza=function(a){for(;null!==a.left;)this.$m.push(a),a=a.left;this.xf=a;};a.prototype.Bza=function(a){for(;null!==a.right;)this.$m.push(a),a=a.right;this.xf=a;};d.P=b;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.W2=void 0;c=a(0);l=a(94);q=a(18);n=a(4);d=a(21);k=a(11);p=a(39);h=a(6);f=a(220);t=a(387);a=a(386);g=n.MediaSource;a=function(a){function b(b,c,f,h,k,d,p){c=a.call(this,b,h,k,c,p)||this;t.rR.call(c,b,h,p);c.Ek=f;c.track=f.track;c.Kr=!!h.Kr;c.jH=!!h.jH;c.wx=!!h.wx;c.zwb=h.aa;c.kI=!!h.kI;c.o9=(d?"(cache)":"")+c.sa+" header";c.PE(b.url||h.url,h.offset,h.aa);return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{j0:{get:function(){return this.E6a;},enumerable:!1,configurable:!0}});b.prototype.wc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.wc.call(this);};b.prototype.bN=function(b){this.stream.qja();a.prototype.bN.call(this,b);};b.prototype.Vi=function(b){this.en=this.en?k.Dr(this.en,b.response):b.response;b.AP();this.B6a()?a.prototype.Vi.call(this,b):this.gya?(this.PE(b.url,b.offset+b.aa,this.gya),a.prototype.Vi.call(this,b)):this.QX(this);};b.prototype.PE=function(a,b,c){a=new f.UI(this.stream,this.track,this.o9+" ("+this.wa.length+")",{offset:b,aa:c,url:a,location:this.location,Kb:this.Kb,responseType:0},this,this.Wc,this.G);this.push(a);this.ac=this.wa.reduce(function(a,b){return a+b.aa;},0);};b.prototype.B6a=function(){var a,c,f;a=this.Wc;c=new l.jw(b.Jub,this.stream,this.en,["sidx"],this.M===q.La.VIDEO&&a.xx||this.M===q.La.AUDIO,{AVb:this.stream.track.Rca,jOa:void 0===this.Ta,zTa:!g.vc||!g.vc.yDa,dna:a.dna,wo:a.wo,FI:this.Wc.FI,zBb:!0,J1:!g.vc||!g.vc.FMa});f=c.parse({Ta:this.Ta});this.RHb=a.FI&&c.Job;f.ny?(h.assert(f.ni),this.sE=f.ni,this.E6a=f.j0,this.Oya=!!f.oX,void 0===this.Ta&&void 0===f.Ta&&this.G.error("No frame duration available for "+this.sa),void 0===this.Ta&&void 0===f.Ta&&this.G.error("No frame duration available for "+this.sa),c=f.Ta?new k.ka(f.Ta):this.Ta,this.stream.Y_(f.ni,f.S,c,f.Z,f.gH,f.ki,a.yH&&a.yH.enabled?f.Ty:void 0),this.en=void 0):this.gya=f.m9a||0;return!!f.ny;};b.Jub=new n.Console("MP4","media|asejs");return b;}(a.T2);b.W2=a;p.pf(t.rR,a,!1,!1);p.pf(d.EventEmitter,a);},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.z7=void 0;c=a(0);l=a(94);a(6);a(31);d=function(){function a(a,b,c,h){this.S=c;this.Hd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.ac=h;}Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.ac?this.ac:this.ac=this.B8();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Hd.subarray(b,c),this.sizes.subarray(b,c),this.S);};a.prototype.concat=function(){var k,b,d,h;for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];k=[this];b=k.concat.apply(k,c.__spread(b));k=b.reduce(function(a,b){return a+b.length;},0);d=new Uint32Array(k);h=new Uint32Array(k);k=b.reduce(function(a,b){return a||b.S;},void 0);b.reduce(function(a,b){l.V7.set(d,b.Hd,a);l.V7.set(h,b.sizes,a);return a+b.length;},0);return new a(d,h,k);};a.prototype.B8=function(){for(var a=this.sizes,b=this.length,c=0,h=0;h<b;++h)c+=a[h];return c;};return a;}();b.z7=d;},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(399);l=a(228);q=a(398);d=function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var b;b=new q.Upa(this.view.byteLength);this.hg=new c.j3(l.iH.Pc,b,this.view,this.console,{Cja:!0});a=this.hg.parse(a);this.Pc=this.hg.Pc;return a.done;};return a;}();b.DJ=d;},function(d,b,a){var l;function c(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(82);d=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.GGa=function(){return this.done;};a.prototype.hFa=function(a,b,c){return this.done=b+c>=this.endOffset;};return a;}();b.Upa=d;d=function(){function a(a,b,c,h){void 0===b&&(b=[]);void 0===c&&(c=[]);void 0===h&&(h=!1);this.yq=a;this.TW=b;this.QSa=c;this.lOa=h;this.done=!1;this.Gj={};}a.prototype.GGa=function(b,c,d){-1!==a.Nob.indexOf(b)&&(this.Gj[b]={offset:c,size:d});if(-1!==this.QSa.indexOf(b))if(this.Gj[b]={offset:c,size:d},this.lOa)this.endOffset=c+d;else return this.endOffset=c,this.done=!0;else this.yq&&-1!==this.yq.indexOf(b)?(b=1<this.yq.length?4096:0,this.endOffset=Math.max(c+d+b,this.endOffset||0)):-1!==this.TW.indexOf(b)&&(b=this.yq?4096:0,this.endOffset=Math.max(c+d+b,this.endOffset||0));return this.done;};a.prototype.hFa=function(a,b,d,h){var f;f=this;if(-1!==this.QSa.indexOf(a))return this.done=!0;a===l.X5&&this.yRa(h.Gj);a===l.Y5&&this.yRa(h.Gj);this.yq&&c(a,this.yq);c(a,this.TW);return this.yq&&0===this.yq.length&&!this.TW.some(function(a){return f.Gj[a];})?this.done=!0:this.done;};a.prototype.yRa=function(a){var b;b=this;this.Gj=a;this.endOffset=(this.yq||[]).concat(this.TW).reduce(function(a,c){return b.Gj[c]?(c=b.Gj[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.Nob=["moov","sidx"];return a;}();b.fZa=d;},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(27);q=a(75);d=function(a){function b(b,c,f,k,d){f=a.call(this,f,k,d)||this;f.oab=b;f.qI=c;f.Pc={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,k,d,p,n;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;k=this.Fb();if(0===k)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};d=q.Tz(this.Fb());if(null===d)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===d){if(16>this.view.byteLength-this.offset)break;d=this.M0();}if(0===b.length&&this.qI.GGa(d,c,k))break;if(c+k>this.view.byteLength)break;p=this.oab[d];n=void 0;if(p)if(n=new p(this,d,c,k,b[0]),(b[0]||this).yL(n),n.parse(a))this.config.Cja&&p.ic?b.unshift(n):this.offset=c+k;else return{done:!1,offset:this.offset,error:"parse error in "+d+" box"};else this.offset=c+k;for(;b.length&&this.offset>b[0].byteOffset+b[0].$B-8;){n=b.shift();if(!n.dG(a))return{done:!1,offset:this.offset,error:"finalize error in "+n.type+" box"};this.offset=n.byteOffset+n.$B;}if(0===b.length&&this.qI.hFa(d,c,k,n))break;}return!this.qI.done&&(a=this.qI.endOffset?this.qI.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,KMa:a}:{done:!0,offset:Math.min(this.qI.endOffset||Infinity,this.offset)};};b.prototype.yL=function(a){l.Wf.yL(this,a);};return b;}(a(840).F2a);b.j3=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,d;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a+b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a+b.byteLength;},0);return d.buffer;};},function(d){var b,a,c,l;b={name:"heaac-2-dash reset sample",profile:53,Ao:2,sampleRate:24E3,duration:1024,Dv:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Ao:2,sampleRate:24E3,duration:1024,Dv:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Ao:6,sampleRate:48E3,duration:1536,Dv:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,Ao:2,sampleRate:48E3,duration:1536,Dv:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.P={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(82);a=a(27);l=d.Y5;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a,f,d;this.Uf();1<=this.version&&(this.fGa=this.L.M0());a=this.L.Fb();this.Gj={};for(var b=this.startOffset+this.length,c=0;c<a;++c){f=this.L.wy();"uuid"===f&&(f=this.L.M0());d=this.L.Zi();this.Gj[f]={offset:b,size:d};b+=d;}return!0;};b.Ne=l;b.ic=!1;return b;}(a.Wf);b["default"]=a;},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(82);d=a(27);q=l.X5;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.fileSize=this.L.Zi();this.S=this.L.Zi();this.duration=this.L.Zi(!1,!0);this.tNa=this.L.Zi();this.L.Zi();this.Wvb=this.L.Zi();this.gvb=this.L.Fb();this.uNa=this.L.Zi();this.sGa=this.L.Fb();this.fGa=this.L.M0();this.Gj={moof:{offset:this.tNa},sidx:{offset:this.uNa,size:this.sGa}};this.Gj[l.Mta]={offset:this.Wvb,size:this.gvb};this.L.offset-this.startOffset<=this.length-24&&(this.Vvb=this.L.Zi(),this.Yub=this.L.Fb(),this.Uvb=this.L.Zi(),this.Xub=this.L.Fb(),this.Gj[l.PS]={offset:this.Vvb,size:this.Yub},this.Gj[l.OS]={offset:this.Uvb,size:this.Xub});return!0;};b.Ne=q;b.ic=!1;return b;}(d.Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.SX=1536;return b;}c.__extends(b,a);b.ic=!0;return b;}(a(164)["default"]);b["default"]=d;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="ac-3";return b;}(d);b.YUa=a;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="ec-3";return b;}(d);b.lYa=d;},function(d){var b;b=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d*a.byteLength/a.length);}:function(a,b,d){a.set(b,d);};d.P={from:function(a,b,d,q){a=new a(b.length);for(var c="function"===typeof d,k=0;k<b.length;++k)a[k]=c?d.call(q,b[k],k,b):b[k];return a;},set:b};},function(d,b,a){var l,q,n;function c(a){return void 0===a?!0:a;}Object.defineProperty(b,"__esModule",{value:!0});b.ooa=void 0;l=a(860);q=a(34);a(6);n=a(74);d=function(){function a(a,b,f){this.K=b;this.G=f;this.Mg=a.track;this.I7a=a.Bg;this.dy=a.dy;this.Z4a=-1===this.profile.indexOf("none");this.sE=this.Ea=void 0;this.Jn=c(a.Jn);this.inRange=c(a.inRange);this.KF=a.KF;this.Hw=void 0;this.zza=this.ot=0;this.url=this.xC=this.qc=this.mp=this.Dha=this.location=this.Fa=this.lb=void 0;this.Gu=!1;this.Zga=this.fe=void 0;a=this.K&&"object"===typeof this.K.gPa&&this.K.gPa[this.profile];"object"===typeof a&&(a=a[this.O])&&(this.HE=new q.ka(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{Xd:{get:function(){return!!this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Mg.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Mg.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Mg.M;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.Mg.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Mg.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hH:{get:function(){return this.Mg.hH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.Mg.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bg:{get:function(){return this.I7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.dy.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ou:{get:function(){return this.Z4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.dy.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uc:{get:function(){return this.dy.vmaf||null;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.dy.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Cs:{get:function(){return this.dy.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{si:{get:function(){return this.HE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Z:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{q_:{get:function(){return this.Ea&&this.Ea.q_;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gea:{get:function(){return this.Mg.gea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fea:{get:function(){return this.Mg.fea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TRa:{get:function(){return this.Sqb();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Dx:{get:function(){return void 0!==this.Hw?this.Hw:this.MZ();},set:function(a){this.Hw=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zj:{get:function(){return this.Jn&&this.inRange&&!this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ni:{get:function(){return this.sE;},enumerable:!1,configurable:!0}});a.prototype.Ri=function(){return this.R.Ri(this.M,this.sa);};a.prototype.nY=function(){var a;a=this.Ri();return a&&a.stream.Z;};a.prototype.UC=function(){return this.R.UC(this);};a.prototype.qja=function(){this.track.qja();};a.prototype.Y_=function(a,b,c,k,d,n,q){k&&void 0!==k.Kj&&(this.track.Xd||void 0!==k.Hd&&k.Hd.length)&&void 0!==k.offset&&void 0!==k.sizes&&k.sizes.length?(this.K.wo&&this.si&&0===k.Kj&&(k.Kj+=this.si.Jf(k.S).Ab),this.sE=a,this.Xd||(this.track.Y_(this,b,c,k,n),this.Ea=new l.Owa(this.track.Km,k,d,n,q,this.u),this.track.fwb(this))):k?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==k.Kj)+","+this.track.Xd+","+this.track.Rca+","+(void 0!==k.Hd)+","+!(!k.Hd||!k.Hd.length)+","+(void 0!==k.offset)+","+(void 0!==k.sizes)+","+!(!k.sizes||!k.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.vW=function(a){this.Xd||(this.track.Ocb(a.track),this.Ea=a.Z,this.sE=a.ni);};a.prototype.mi=function(a){return new n.zh(this,this.Z.get(a));};a.prototype.BHa=function(a){var b;b=this.mi(a.index);a.Sa&&(b.Ij(a.Sa),b.eQ(a.Hv));return b;};a.prototype.UTa=function(a,b){this.ot=a;this.zza=b;};a.prototype.Tbb=function(){this.Fa=this.lb=this.qc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,streamId:this.sa,bitrate:this.O};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.sa+":"+this.O;};a.prototype.MZ=function(){var a;if(!this.Xd)return!0;if(this.track.Zfa>=this.O)return this.Hw=!0;if(this.track.oLa<=this.O)return this.Hw=!1;a=this.Ea.MZ(this.K.FO,this.ot,this.zza);if(a){if(!this.track.Rca||this.Ou)this.track.Zfa=this.O;}else this.track.oLa=this.O;return this.Hw=a;};a.prototype.Sqb=function(){return void 0!==this.Hw?!this.Hw:!this.MZ();};return a;}();b.ooa=d;},function(d,b,a){var l,q,n,k;function c(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(b,"__esModule",{value:!0});b.S9a=b.lO=b.O7=b.sxa=void 0;l=a(6);d=a(4);q=a(34);n=new d.Console("FRAGMENTS","media|asejs");k=function(){function a(a,b){this.ec=a;this.jj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.jj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zl:{get:function(){return new q.ka(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.ec.lV+this.ec.Vw[this.jj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gb:{get:function(){return this.Ra+this.ec.jo[this.jj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ho:{get:function(){return this.ec.jo[this.jj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.ec.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.ec.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return Math.floor(1E3*this.Ra/this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{na:{get:function(){return Math.floor(1E3*(this.Ra+this.Ho)/this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.na-this.T;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.Ra/this.Ta.S,endPts:1E3*this.gb/this.Ta.S,duration:1E3*this.Ho/this.Ta.S,index:this.index};};return a;}();b.sxa=k;a=function(){function a(a,b,c,k){this.M=a;this.length=c.Hd.length;this.Pl=c.S;this.jo=c.Hd;this.JV=k&&k.DH;this.uBa=k&&k.VH;this.pE=b;this.lna=this.mna=this.xza=void 0;this.lV=c.Kj;this.Vw=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Vw[b]=a,a+=this.jo[b];this.Vw[b]=a;this.s8=Math.floor((this.na-this.T)/this.length);}}Object.defineProperties(a.prototype,{Kj:{get:function(){return this.lSa(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hda:{get:function(){return this.lSa(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Qh(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{na:{get:function(){return this.Qh(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aB:{get:function(){return new q.ka(this.hda,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iia:{get:function(){return this.xza||this.r3a();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.pE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});a.prototype.lSa=function(a){return this.lV+this.Vw[a];};a.prototype.Qh=function(a){return Math.floor(1E3*(this.lV+this.Vw[a])/this.S);};a.prototype.ida=function(a){return this.Qh(a+1);};a.prototype.Hd=function(a){return this.ida(a)-this.Qh(a);};a.prototype.get=function(a){return new k(this,a);};a.prototype.cm=function(a,b,c){if(0===this.length||a<this.Qh(0))return-1;a=Math.max(a,b||0);for(var f=0,h=this.length-1,k,d;h>=f;)if(k=f+(h-f>>1),d=this.Qh(k),a<d)h=k-1;else if(a>=d+this.Hd(k))f=k+1;else{for(;b&&k<this.length&&this.Qh(k)<b;)++k;return k<this.length?k:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.DX=function(a,b,c){a=this.cm(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.Nba=function(a,b){var c,f;c=Math.floor(b*this.S/1E3);b=Math.min(a+Math.ceil(b/this.s8),this.length);f=this.Vw[b]-this.Vw[a];if(f>c){for(;f>=c;)--b,f-=this.jo[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.jo[b],++b;return b-a;};a.prototype.subarray=function(b,c){l.assert(void 0===b||0<=b&&b<this.length);l.assert(void 0===c||c>b&&c<=this.length);return new a(this.M,this.Ta,{S:this.S,Kj:this.lV+this.Vw[b],Hd:this.jo.subarray(b,c)},this.JV&&{DH:this.JV.subarray(b,c+1),VH:this.uBa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.s8};};a.prototype.dump=function(){var b;n.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.s8+"ms");for(var a=0;a<this.length;++a){b=this.get(a);n.trace("TrackFragments: "+a+": ["+b.T+"-"+b.na+"]");}};a.prototype.r3a=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.jo[b],a);return this.xza=a;};return a;}();b.O7=a;b.lO=c;a.prototype.kSa=c(a.prototype.Qh);b.S9a=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(d){function b(a){this.y9=a;this.bf=[];this.ro=!1;this.kA=void 0;this.gi={};}b.prototype.HV=function(a){this.bf.length===this.y9&&this.bf.shift();Array.isArray(a)?this.bf=this.bf.concat(a):this.bf.push(a);this.ro=!0;};b.prototype.qG=function(){return this.bf.length;};b.prototype.Taa=function(){var a;a=this.bf;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.bf.length:void 0;};b.prototype.fW=function(){var a,b;a=this.bf;if(0<a.length){b=this.Taa();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};b.prototype.Mp=function(a){var b,d,q;if(this.ro||void 0===this.kA)this.kA=this.bf.slice(0).sort(function(a,b){return a-b;}),this.gi={},this.ro=!1;if(void 0===this.gi[a]){b=this.kA;d=Math.floor(a/100*(b.length-1)+1)-1;q=(a/100*(b.length-1)+1)%1;this.gi[a]=d===b.length-1?b[d]:b[d]+q*(b[d+1]-b[d]);}return this.gi[a];};d.P=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rv=void 0;d=b.Rv||(b.Rv={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.EL=void 0;c=a(7);b.EL=function(a,b,d){var k,p;k=!0;d.forEach(function(h){var f;if(k&&a===h.profile){f=h.ranges;k=c.X(f)?b>=h.min&&b<=h.max:f.some(function(a){return b>=a.min&&b<=a.max;});!k&&h.disallowed&&h.disallowed.some(function(a){if(a.stream.bitrate===b)return p=a.disallowedBy,!0;});}});return{inRange:k,KF:p};};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(912),b);d.__exportStar(a(911),b);d.__exportStar(a(910),b);d.__exportStar(a(909),b);d.__exportStar(a(908),b);d.__exportStar(a(907),b);d.__exportStar(a(906),b);d.__exportStar(a(905),b);d.__exportStar(a(904),b);d.__exportStar(a(903),b);d.__exportStar(a(902),b);d.__exportStar(a(410),b);d.__exportStar(a(901),b);d.__exportStar(a(897),b);d.__exportStar(a(896),b);d.__exportStar(a(895),b);d.__exportStar(a(231),b);d.__exportStar(a(894),b);d.__exportStar(a(893),b);d.__exportStar(a(892),b);d.__exportStar(a(891),b);d.__exportStar(a(890),b);d.__exportStar(a(889),b);d.__exportStar(a(888),b);d.__exportStar(a(887),b);d.__exportStar(a(886),b);d.__exportStar(a(885),b);d.__exportStar(a(884),b);d.__exportStar(a(883),b);d.__exportStar(a(882),b);d.__exportStar(a(881),b);d.__exportStar(a(880),b);d.__exportStar(a(879),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y5=void 0;b.y5="ManifestEnricherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B6=b.C6=void 0;b.C6="PboLinksManagerSymbol";b.B6="PboLinksManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C5=void 0;b.C5="ManifestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D5=void 0;b.D5="ManifestVerifyErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S7=void 0;b.S7="TrickPlayFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P7=void 0;b.P7="TrackStreamFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b7=void 0;b.b7="PlayerTextTrackFactorySymbol";},function(d,b){function a(a,b){this.log=a;this.h2=b;}Object.defineProperty(b,"__esModule",{value:!0});b.CJ=void 0;a.prototype.wTa=function(a,b){var c;c=this;if(!a)return this.log.warn("There are no media streams for "+b.type+" track - "+b.cb),[];a=a.map(function(a){var k;k=c.h2(b,b.type,a.Nca,a.O,a.uc,a.size,c.ulb(a.me),a.uF,a.Tjb/a.Sjb,a.Ou);k.DDb(a.hBb,a.gBb,a.zxb,a.yxb);k.YCb(a.tfb,a.ufb,a.sfb,a.rfb);b.jk&&(k.jk=b.jk);a.uF&&(k.Qf=a.uF);return k;});a.sort(function(a,b){return a.O-b.O;});return a;};a.prototype.ulb=function(a){return a.reduce(function(a,b){a[b.ZCa]=b.url;return a;},{});};b.CJ=a;},function(d,b,a){var c,l,q;c=a(235);l=a(111);b=a(51);q=a(932);a=b(function(a,b){return 1===a?l(b):c(a,q(a,[],b));});d.P=a;},function(d){d.P=function(b,a){for(var c=0,d=a.length,q=Array(d);c<d;)q[c]=b(a[c]),c+=1;return q;};},function(d,b,a){var c,l,q,n,k;b=a(111);c=a(237);l=a(935);q=!{toString:null}.propertyIsEnumerable("toString");n="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");k=function(){return arguments.propertyIsEnumerable("length");}();a=b("function"!==typeof Object.keys||k?function(a){var b,f,d,p;if(Object(a)!==a)return[];d=[];f=k&&l(a);for(b in a)!c(b,a)||f&&"length"===b||(d[d.length]=b);if(q)for(f=n.length-1;0<=f;){b=n[f];if(p=c(b,a)){a:{for(p=0;p<d.length;){if(d[p]===b){p=!0;break a;}p+=1;}p=!1;}p=!p;}p&&(d[d.length]=b);--f;}return d;}:function(a){return Object(a)!==a?[]:Object.keys(a);});d.P=a;},function(d){d.P={Db:function(){return this.kR["@@transducer/init"]();},result:function(b){return this.kR["@@transducer/result"](b);}};},function(d){d.P=Array.isArray||function(b){return null!=b&&0<=b.length&&"[object Array]"===Object.prototype.toString.call(b);};},function(d,b,a){var c,l;c=a(424);l=a(942);d.P=function(a,b,k){return function(){var d,h;if(0===arguments.length)return k();d=Array.prototype.slice.call(arguments,0);h=d.pop();if(!c(h)){for(var f=0;f<a.length;){if("function"===typeof h[a[f]])return h[a[f]].apply(h,d);f+=1;}if(l(h))return b.apply(null,d)(h);}return k.apply(this,arguments);};};},function(d,b,a){var c,l,q,n,k,p;b=a(51);c=a(425);l=a(941);q=a(427);n=a(236);k=a(936);p=a(422);a=b(c(["filter"],k,function(a,b){return q(b)?n(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},p(b)):l(a,b);}));d.P=a;},function(d){d.P=function(b){return"[object Object]"===Object.prototype.toString.call(b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A5=void 0;b.A5="ManifestProviderConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B5=void 0;b.B5="ManifestParserFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o3=void 0;b.o3="CDMAttestedDescriptorProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h3=void 0;b.h3="BookmarkConfigParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i3=void 0;b.i3="BookmarkConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q3=void 0;b.Q3="DiskStorageRegistrySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N5=void 0;b.N5="MemoryStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m5=void 0;b.m5="LocalStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x3=void 0;b.x3="CorruptedStorageValidatorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DT=void 0;b.DT="Storage";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yJ=void 0;b.yJ="IndexedDBConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h7=void 0;b.h7="PresentationAPISymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F5=void 0;b.F5="MediaCapabilitiesLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G5=void 0;b.G5="MediaCapabilitiesSymbol";},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.RR=void 0;c=a(32);l=a(444);q=a(61);a(133);new(a(97)).qw();d=function(){function a(a,b){var h;h=l.aJ.call(this,a,b,c.Vq.Audio)||this;h.config=a;h.Aia=b;h.type=c.Tv.gz;return h;}ca(a,l.aJ);a.prototype.tQ=function(){return Promise.resolve(!1);};a.prototype.NA=function(){var a;a={};a[q.Wh.lS]="mp4a.40.2";a[q.Wh.VYa]="mp4a.40.2";a[q.Wh.z4]="mp4a.40.5";a[q.Wh.mS]="mp4a.40.2";a[q.Wh.PT]="mp4a.40.42";this.config().$ca&&(a[q.Wh.NR]="ec-3");this.config().Zca&&(a[q.Wh.B3]="ec-3");this.config().PM&&(a[q.Wh.OR]="ec-3");return a;};a.prototype.mIa=function(){return this.config().KL;};a.CI="audio/mp4;codecs={0};";return a;}();b.RR=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eh=void 0;b.eh=function(){function a(){}a.ira=/^hevc-main/;a.hra=/^hevc-hdr-|hevc-dv/;a.Us=/^hevc-hdr-/;a.Ss=/^hevc-dv/;a.rD=/-h264mpl/;a.lJ=/-h264mpl30/;a.sD=/-h264mpl31/;a.cD=/-h264hpl/;a.vw=/^vp9-/;a.zi=/^av1-/;a.lR=/^heaac-2-/;a.WLb=/^heaac-2hq-dash/;a.PT=/^xheaac-dash/;a.bXa=/ddplus-2/;a.cXa=/ddplus-5/;a.dXa=/ddplus-atmos/;return a;}();},function(d,b,a){var l,q,n;function c(a,b,c){this.config=a;this.Aia=b;this.M=c;this.Cia={};this.Cia[l.Vq.Audio]="audio";this.Cia[l.Vq.Mxa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.aJ=void 0;l=a(32);d=a(97);q=a(443);n=new d.qw().format;c.prototype.CIa=function(){return this.Dgb(this.mIa());};c.prototype.eu=function(a){return this.Aia.isTypeSupported(a);};c.prototype.mHa=function(){return[q.eh.lR,q.eh.rD];};c.prototype.Cga=function(){this.ul=[];this.uq=[];this.config().TNa&&this.uq.push(q.eh.ira);this.config().SNa&&this.uq.push(q.eh.hra);this.config().aP&&this.uq.push(q.eh.cD);this.config().UNa&&this.uq.push(q.eh.vw);this.config().RNa&&this.uq.push(q.eh.zi);this.uq=this.uq.concat(this.mHa());!this.config().bib&&this.ul.push(q.eh.PT);!this.config().$ca&&this.ul.push(q.eh.bXa);!this.config().Zca&&this.ul.push(q.eh.cXa);!this.config().PM&&this.ul.push(q.eh.dXa);!this.config().Uhb&&this.ul.push(/prk$/);this.config().TNa||this.config().Khb||this.ul.push(q.eh.ira);this.config().SNa||this.config().bda||this.ul.push(q.eh.hra);this.config().aP||this.config().iX||this.ul.push(q.eh.cD);this.config().UNa||this.config().$hb||this.ul.push(q.eh.vw);this.config().RNa||this.config().Ghb||this.ul.push(q.eh.zi);};c.prototype.BX=function(a){var b;b=this;a=a.filter(function(a){for(var c=S(b.uq),h=c.next();!h.done;h=c.next())if(h.value.test(a))return!0;c=S(b.ul);for(h=c.next();!h.done;h=c.next())if(h.value.test(a))return!1;a=b.mka[a];h="";if(a)return Array.isArray(a)&&(h=1<a.length?" "+a[1]:"",a=a[0]),a=n("{0}/mp4;codecs={1};{2}",b.Cia[b.M],a,h),b.eu(a);});return Promise.resolve(a);};c.prototype.Dgb=function(a){var b;b={};this.Cga();return this.BX(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};na.Object.defineProperties(c.prototype,{mka:{configurable:!0,enumerable:!0,get:function(){this.hAa||(this.hAa=this.NA());return this.hAa;}}});b.aJ=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y2=void 0;b.Y2={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q3=void 0;b.q3="CapabilityDetectorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m4=void 0;b.m4="ExtraPlatformInfoProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t3=void 0;b.t3="CdnThroughputTracker";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L7=void 0;b.L7="ThroughputTrackerConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z6=void 0;b.z6="PboGenerateScreenshotsCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P3=void 0;b.P3="DiagnosticsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7=void 0;b.Q7="TransitionLoggerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c8=void 0;b.c8="VideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X6=void 0;b.X6="PlaybackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x7=void 0;b.x7="SegmentConfigFactorySymbol";},function(d,b,a){var l;function c(a,b,c,d,h,f){this.level=a;this.Wl=b;this.timestamp=c;this.message=d;this.zd=h;this.index=void 0===f?0:f;this.m_a={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.q5=void 0;l=a(3);c.prototype.e2=function(a,b){var c;c=""+this.message;this.zd.forEach(function(k){c+=k.SC(a,b);});return(this.timestamp.ba(l.ia)/1E3).toFixed(3)+"|"+this.index+"|"+(this.m_a[this.level]||this.level)+"|"+this.Wl+"| "+c;};b.q5=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H3=void 0;b.H3="DebouncerFactorySymbol";},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.pD=b.Pqa=void 0;c=a(0);l=a(469);q=a(1);d=function(){var b;function a(){}a.prototype.create=function(){return new l.dj();};b=a;return b=c.__decorate([q.N()],b);}();b.Pqa=d;b.pD="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pD=void 0;b.pD="EventSourceFactorySymbol";},function(d,b,a){var l,q,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.H5=void 0;l=a(5);q=a(14);n=a(9);c.prototype.Yp=function(){return this.iqb()?n.lqa:/widevine/i.test(this.config().Yd)?n.X3:/fps/i.test(this.config().Yd)?"fairplay":n.VR;};c.prototype.iqb=function(){return/clearkey/i.test(this.config().Yd);};na.Object.defineProperties(c.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.K||(this.K=l.Y.get(q.fd));return this.K;}}});b.H5=new c();},function(d,b,a){var l,q,n,k;function c(a,b,c,k,d,l,g){this.debug=a;this.config=b;this.platform=c;this.dMa=k;this.debug.assert(d&&d!=q.J.Pk,"There should always be a specific error code");this.errorCode=d||q.J.Pk;l&&n.Se(l)?(this.ga=l.ga||l.cd,this.re=l.re||l.ph,this.oda=l.oda||l.PF,this.rb=l.rb||l.JF,this.UA=l.nda,this.XF=l.XF||l.DMa||l.ks,this.sX=l.sX||l.data,l.tO&&(this.tO=l.tO),this.Ni=l.Ni,this.method=l.method,this.L_=l.L_,this.alert=l.alert,this.Z$=l.Z$,this.debug.assert(!this.Ni||this.Ni==this.re)):(this.ga=l,this.re=g);this.stack=[this.errorCode];this.ga?this.stack.push(this.ga):this.re&&this.stack.push(q.I.Pk);this.re&&this.stack.push(this.re);this.WW=this.platform.eB+this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;l=a(9);q=a(2);n=a(22);k=a(15);a(20);c.prototype.toString=function(){var a;a="[PlayerError #"+this.WW+"]";this.rb&&(a+=" "+this.rb);this.UA&&(a+=" (CustomMessage: "+this.UA+")");return a;};c.prototype.Xma=function(){var a,b;this.UA&&(a=["streaming_error"]);a||this.dMa.Yp()!==l.VR||("80080017"==this.re&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.re&&(a=["pause_timeout"]));a||this.dMa.Yp()!==l.X3||this.errorCode!==q.J.pqa&&this.errorCode!==q.J.b4||(a=["no_cdm","platform_error","plugin_error"]);this.Qqb()&&(a=["received_soad"]);b=this.Vkb();b&&(a=[b],this.UA=void 0);if(!a)switch(this.errorCode){case q.J.$S:case q.J.BS:case q.J.qVa:case q.J.mua:a=["pause_timeout"];break;case q.J.Ura:case q.J.Vra:a=this.ga?["platform_error"]:["multiple_tabs"];break;case q.J.q_a:case q.J.b2a:case q.J.QZa:case q.J.PZa:case q.J.SZa:a=["should_signout_and_signin"];break;case q.J.U4:case q.J.pua:case q.J.oua:case q.J.q6:case q.J.O0a:a=["platform_error","plugin_error"];break;case q.J.Y0a:a=["no_cdm","platform_error","plugin_error"];break;case q.J.o6:a=this.ga?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case q.J.XR:case q.J.aT:case q.J.qua:switch(this.re){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case q.J.nua:case q.J.n6:a=["unsupported_output"];}!a&&q.Nqa(this.ga)&&(a=this.ga==q.I.uJ?["geo"]:["internet_connection_problem"]);a||this.errorCode!==q.J.b4||this.ga!==q.I.Ah||"S"!==this.platform.eB||(a=["private_mode"]);if(!a)switch(this.BSa(this.ga)){case q.I.e8:a=["should_upgrade"];break;case q.I.hua:a=["should_reset_device"];break;case q.I.gua:a=["should_reload_device"];break;case q.I.fua:a=["should_exit_device"];break;case q.I.$_a:case q.I.ata:a=["should_signout_and_signin"];break;case q.I.a0a:a=["internet_connection_problem"];break;case q.I.Gpa:a=["platform_error","plugin_error"];break;case q.I.D3:case q.I.zra:case q.I.Ara:a=["private_mode"];}a=a||[];a.push(this.platform.eB+this.errorCode);if(this.ga)switch(this.BSa(this.ga)){case q.I.iua:a.push("incorrect_pin");break;default:a.push(""+this.ga);}a={display:{code:this.WW,text:this.UA},messageIdList:a,alert:this.alert,alertTag:this.Z$};if(this.XF||this.DMa)a.mslErrorCode=this.XF||this.DMa||this.ks;return a;};c.prototype.BSa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.Qqb=function(){var a;a=k.la(this.re)?this.re.toString():k.Jd(this.re)?this.re:"";return this.XF===q.MS.W7&&(a.endsWith("2018")||a.endsWith("2020"));};c.prototype.Vkb=function(){if(this.errorCode===q.J.qz&&(this.ga===q.I.j6||this.ga===q.I.eua))return this.Wkb(this.ga===q.I.j6);};c.prototype.Wkb=function(a){var b,c,k;b=(this.config().browserInfo||{}).os||{};c=b.name;k=(b.version||"").split(".");b=parseInt(k&&k[0]);k=parseInt(k&&k[1]);switch(c){case"Windows":return 6>b||6===b&&1>k?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>k?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.lva=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X7=void 0;b.X7="UrlFactorySymbol";},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.i7=void 0;c=a(0);l=a(1);d=function(){var b;function a(a){this.b5a=void 0===a?!1:a;this.Rd={0:[]};}a.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Rd[b];c?this.b5a&&-1!==c.indexOf(a)||c.push(a):this.Rd[b]=[a];};a.prototype.remove=function(a,b){this.Ft(a,void 0===b?0:b);};a.prototype.removeAll=function(a){this.Ft(a);};a.prototype.Mr=function(){var a;a=this;return Object.keys(this.Rd).sort().reduce(function(b,c){return b.concat(a.Rd[c]);},[]);};a.prototype.Ft=function(a,b){var c;c=this;Object.keys(this.Rd).forEach(function(f){var h;if(void 0===b||b===parseInt(f)){f=c.Rd[f];-1<(h=f.indexOf(a))&&f.splice(h,1);}});};b=a;return b=c.__decorate([l.N()],b);}();b.i7=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U5=b.Y_a=void 0;b.Y_a=function(){};b.U5="MseConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K3=void 0;b.K3="DecoderTimeoutPathologistSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A3=void 0;b.A3="CsvEncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H7=void 0;b.H7="StringUtilsSymbol";},function(d,b,a){(function(c){var W,ka,O,oa,ta,za;function d(a,c){var f;f={yla:[],Mj:n};3<=arguments.length&&(f.depth=arguments[2]);4<=arguments.length&&(f.rF=arguments[3]);J(c)?f.bma=c:c&&b.p4a(f,c);H(f.bma)&&(f.bma=!1);H(f.depth)&&(f.depth=2);H(f.rF)&&(f.rF=!1);H(f.sEa)&&(f.sEa=!0);f.rF&&(f.Mj=q);return p(f,a,f.depth);}function q(a,b){return(b=d.XEb[b])?"\u001b["+d.rF[b][0]+"m"+a+"\u001b["+d.rF[b][1]+"m":a;}function n(a){return a;}function k(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function p(a,c,d){var l,n,q,g,F;if(a.sEa&&c&&y(c.RN)&&c.RN!==b.RN&&(!c.constructor||c.constructor.prototype!==c)){l=c.RN(d,a);m(l)||(l=p(a,l,d));return l;}if(l=h(a,c))return l;n=Object.keys(c);q=k(n);a.bma&&(n=Object.getOwnPropertyNames(c));if(Q(c)&&(0<=n.indexOf("message")||0<=n.indexOf("description")))return f(c);if(0===n.length){if(y(c))return a.Mj("[Function"+(c.name?": "+c.name:"")+"]","special");if(r(c))return a.Mj(RegExp.prototype.toString.call(c),"regexp");if(aa(c))return a.Mj(Date.prototype.toString.call(c),"date");if(Q(c))return f(c);}l="";g=!1;F=["{","}"];D(c)&&(g=!0,F=["[","]"]);y(c)&&(l=" [Function"+(c.name?": "+c.name:"")+"]");r(c)&&(l=" "+RegExp.prototype.toString.call(c));aa(c)&&(l=" "+Date.prototype.toUTCString.call(c));Q(c)&&(l=" "+f(c));if(0===n.length&&(!g||0==c.length))return F[0]+l+F[1];if(0>d)return r(c)?a.Mj(RegExp.prototype.toString.call(c),"regexp"):a.Mj("[Object]","special");a.yla.push(c);n=g?t(a,c,d,q,n):n.map(function(b){return z(a,c,d,q,b,g);});a.yla.pop();return G(n,l,F);}function h(a,b){if(H(b))return a.Mj("undefined","undefined");if(m(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Mj(b,"string");if(F(b))return a.Mj(""+b,"number");if(J(b))return a.Mj(""+b,"boolean");if(null===b)return a.Mj("null","null");}function f(a){return"["+Error.prototype.toString.call(a)+"]";}function t(a,b,c,f,h){for(var k=[],d=0,p=b.length;d<p;++d)Object.prototype.hasOwnProperty.call(b,String(d))?k.push(z(a,b,c,f,String(d),!0)):k.push("");h.forEach(function(h){h.match(/^\d+$/)||k.push(z(a,b,c,f,h,!0));});return k;}function z(a,b,c,f,h,k){var d,t;b=Object.getOwnPropertyDescriptor(b,h)||{value:b[h]};b.get?t=b.set?a.Mj("[Getter/Setter]","special"):a.Mj("[Getter]","special"):b.set&&(t=a.Mj("[Setter]","special"));Object.prototype.hasOwnProperty.call(f,h)||(d="["+h+"]");t||(0>a.yla.indexOf(b.value)?(t=null===c?p(a,b.value,null):p(a,b.value,c-1),-1<t.indexOf("\n")&&(t=k?t.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+t.split("\n").map(function(a){return"   "+a;}).join("\n"))):t=a.Mj("[Circular]","special"));if(H(d)){if(k&&h.match(/^\d+$/))return t;d=JSON.stringify(""+h);d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=a.Mj(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=a.Mj(d,"string"));}return d+": "+t;}function G(a,b,c){var f;f=0;return 60<a.reduce(function(a,b){f++;0<=b.indexOf("\n")&&f++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function D(a){return Array.isArray(a);}function J(a){return"boolean"===typeof a;}function F(a){return"number"===typeof a;}function m(a){return"string"===typeof a;}function H(a){return void 0===a;}function r(a){return R(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function R(a){return"object"===typeof a&&null!==a;}function aa(a){return R(a)&&"[object Date]"===Object.prototype.toString.call(a);}function Q(a){return R(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function y(a){return"function"===typeof a;}function T(a){return 10>a?"0"+a.toString(10):a.toString(10);}function u(){var a,b;a=new Date();b=[T(a.getHours()),T(a.getMinutes()),T(a.getSeconds())].join(":");return[a.getDate(),ta[a.getMonth()],b].join(" ");}function da(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}W=Object.FSb||function(a){for(var b=Object.keys(a),c={},f=0;f<b.length;f++)c[b[f]]=Object.getOwnPropertyDescriptor(a,b[f]);return c;};ka=/%[sdj%]/g;b.format=function(a){if(!m(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(d(arguments[c]));return b.join(" ");}for(var c=1,f=arguments,h=f.length,b=String(a).replace(ka,function(a){if("%%"===a)return"%";if(c>=h)return a;switch(a){case"%s":return String(f[c++]);case"%d":return Number(f[c++]);case"%j":try{return JSON.stringify(f[c++]);}catch(Qa){return"[Circular]";}default:return a;}}),k=f[c];c<h;k=f[++c])b=null!==k&&R(k)?b+(" "+d(k)):b+(" "+k);return b;};b.pgb=function(a,f){var h;if("undefined"!==typeof c&&!0===c.mUb)return a;if("undefined"===typeof c)return function(){return b.pgb(a,f).apply(this,arguments);};h=!1;return function(){if(!h){if(c.SVb)throw Error(f);c.UVb?console.trace(f):console.error(f);h=!0;}return a.apply(this,arguments);};};O={};b.BRb=function(a){var f;H(oa)&&(oa=c.tib.bNb||"");a=a.toUpperCase();if(!O[a])if(new RegExp("\\b"+a+"\\b","i").test(oa)){f=c.IUb;O[a]=function(){var c;c=b.format.apply(b,arguments);console.error("%s %d: %s",a,f,c);};}else O[a]=function(){};return O[a];};b.RN=d;d.rF={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};d.XEb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};b.isArray=D;b.eqb=J;b.Ma=function(a){return null===a;};b.iTb=function(a){return null==a;};b.la=F;b.Jd=m;b.lTb=function(a){return"symbol"===typeof a;};b.X=H;b.mKa=r;b.Se=R;b.BZ=aa;b.UN=Q;b.Tb=y;b.iKa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};b.isBuffer=a(1021);ta="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");b.log=function(){console.log("%s - %s",u(),b.format.apply(b,arguments));};b.Fpb=a(1020);b.p4a=function(a,b){if(b&&R(b))for(var c=Object.keys(b),f=c.length;f--;)a[c[f]]=b[c[f]];};g();g();za="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;b.fzb=function(a){function b(){for(var b,c,f=new Promise(function(a,f){b=a;c=f;}),h=[],k=0;k<arguments.length;k++)h.push(arguments[k]);h.push(function(a,f){a?c(a):b(f);});try{a.apply(this,h);}catch(Qa){c(Qa);}return f;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(za&&a[za]){b=a[za];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,za,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));za&&Object.defineProperty(b,za,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,W(a));};b.fzb.sRb=za;b.bRb=function(a){function b(){var k,d;function b(){return k.apply(d,arguments);}for(var f=[],h=0;h<arguments.length;h++)f.push(arguments[h]);k=f.pop();if("function"!==typeof k)throw new TypeError("The last argument must be of type Function");d=this;a.apply(this,f).then(function(a){c.QMa(b,null,a);},function(a){c.QMa(da,a,b);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(b,Object.getPrototypeOf(a));Object.defineProperties(b,W(a));return b;};}.call(this,a(250)));},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.dj=void 0;c=a(0);l=a(1);d=function(){var b,k;function a(){this.En={};this.id="$es$"+b.rM++;}a.prototype.addListener=function(a,b,c){var f,h;f="$netflix$player$order"+this.id+"$"+a;if(this.En){h=this.En[a]?this.En[a].slice():[];c&&(b[f]=c);0>h.indexOf(b)&&(h.push(b),h.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.En[a]=h;}};a.prototype.removeListener=function(a,b){if(this.En&&this.En[a]){for(var c=this.En[a].slice(),h;0<=(h=c.indexOf(b));)c.splice(h,1);this.En[a]=c;}};a.prototype.Vb=function(a,b,c){var f;if(this.En){f=this.Gea(a);for(a={yj:0};a.yj<f.length;a={yj:a.yj},a.yj++)c?function(a){return function(){var c;c=f[a.yj];setTimeout(function(){c(b);},0);};}(a)():f[a.yj].call(this,b);}};a.prototype.sg=function(){this.En=void 0;};a.prototype.on=function(a,b,c){this.addListener(a,b,c);};a.prototype.Gea=function(a){return this.En&&(this.En[a]||(this.En[a]=[]));};k=b=a;k.rM=0;return k=b=c.__decorate([l.N()],k);}();b.dj=d;},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z7=void 0;c=a(0);l=a(1);a(2);q=a(23);n=a(99);k=a(10);d=function(){var b;function a(a,b){this.is=a;this.Eh=b;}a.prototype.fH=function(a,b,c){var f,h,k,d;f=this;if(b)if(c){h=c.RG;k=c.prefix;d=c.nv;this.yx(b,function(b,c){if(!d||f.is.Td(c))a[(k||"")+(h?b.toLowerCase():b)]=c;});}else this.yx(b,function(b,c){a[b]=c;});return a;};a.prototype.yx=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};a.prototype.Br=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};a.prototype.TDa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};a.prototype.Fe=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};a.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};a.prototype.Aea=function(a){return this.getFunctionName(a.constructor);};a.prototype.mja=function(a){var b,c;b=this;c="";this.is.Tt(a)||this.is.GBa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.nn(a)?c=a:this.yx(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.CV(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.Aea(a)+" "+c+"]";};a.prototype.createElement=function(a,b,c,h){var f;f=k.ne.createElement(a);b&&(f.style.cssText=b);c&&(f.innerHTML=c);h&&this.yx(h,function(a,b){f.setAttribute(a,b);});return f;};a.prototype.cjb=function(a,b){return function(c){return c[a]===b;};};a.prototype.bP=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(q.Je)),c.__param(1,l.l(n.Uv))],b);}();b.Z7=d;},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.c3=void 0;c=a(0);l=a(1);d=Array.prototype.slice;q=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");d=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");n={};k={};p={};h={};f=/\s+/g;[q,d].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];n[c]=b<<18;k[c]=b<<12;p[c]=b<<6;h[c]=b;}});d=function(){var b,d;function a(){}a.prototype.encode=function(a){return b.dda(a,q,"=");};a.prototype.decode=function(a){return b.oca(a);};a.oca=function(a){var b,c,d;a=a.replace(f,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),t=0,l=0,q;l<c;){q=n[a[t++]]+k[a[t++]]+p[a[t++]]+h[a[t++]];if(!(0<=q&&16777215>=q))throw Error("bad base64");b[l++]=q>>>16;b[l++]=q>>>8&255;b[l++]=q&255;}if(0<d&&(q=n[a[t++]]+k[a[t++]],b[l++]=q>>>16,1<d&&(q+=p[a[t++]],b[l++]=q>>>8&255),!(0<=q&&16776960>=q&&0===(q&(1<d?255:65535)))))throw Error("bad base64");return b;};a.dda=function(a,b,c){for(var f="",h=0,k=a.length,d=k-2,p;h<d;){p=(a[h++]<<16)+(a[h++]<<8)+a[h++];if(!(0<=p&&16777215>=p))throw Error("not bytes");f+=b[p>>>18]+b[p>>>12&63]+b[p>>>6&63]+b[p&63];}if(h==d){p=(a[h++]<<8)+a[h++];if(!(0<=p&&65535>=p))throw Error("not bytes");f+=b[p>>>10]+b[p>>>4&63]+b[p<<2&63]+c;}else if(h==k-1){p=a[h++];if(!(0<=p&&255>=p))throw Error("not bytes");f+=b[p>>>2]+b[p<<4&63]+c+c;}return f;};d=b=a;return d=b=c.__decorate([l.N()],d);}();b.c3=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f6=void 0;b.f6="OneWayCounterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w3=void 0;b.w3="ClockConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$n=void 0;d=b.$n||(b.$n={});d.una="usable";d.Gib="expired";d.uAb="released";d.QNa="output-restricted";d.Fwb="output-downscaled";d.oSa="status-pending";d.Upb="internal-error";},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.oFa=b.zp=void 0;(function(a){a[a.RKa=0]="licenseStarted";a[a.LPa=1]="receivedLicenseChallenge";a[a.KPa=2]="receivedLicense";a[a.MPa=3]="receivedRenewalChallengeComplete";a[a.NPa=4]="receivedRenewalLicenseComplete";a[a.OPa=5]="receivedRenewalLicenseFailed";a[a.Ozb=6]="receivedIndivChallengeComplete";a[a.Pzb=7]="receivedIndivLicenseComplete";a[a.iBa=8]="addLicenseComplete";a[a.lBa=9]="addRenewalLicenseComplete";a[a.mBa=10]="addRenewalLicenseFailed";}(a=b.zp||(b.zp={})));b.oFa=function(b){switch(b){case a.RKa:return"lg";case a.LPa:return"lc";case a.KPa:return"lr";case a.MPa:return"renew_lc";case a.NPa:return"renew_lr";case a.OPa:return"renew_lr_failed";case a.Ozb:return"ilc";case a.Pzb:return"ilr";case a.iBa:return"ld";case a.lBa:return"renew_ld";case a.mBa:return"renew_ld_failed";default:return"unknown";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n4=b.Uxa=void 0;b.Uxa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.n4="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g4=void 0;b.g4="EmeSessionFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.V3=void 0;b.V3="DrmProviderSymbol";},function(d,b,a){var q,n;function c(a){var b;b=a.value;a=a.aj;a.closed||(a.next(b),a.complete());}function l(a){var b;b=a.dB;a=a.aj;a.closed||a.error(b);}q=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};n=a(85);d=function(a){function b(b,c){a.call(this);this.rs=b;this.ta=c;}q(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.Ol=function(a){var b,h,k;b=this;h=this.rs;k=this.ta;if(null==k)this.zt?a.closed||(a.next(this.value),a.complete()):h.then(function(c){b.value=c;b.zt=!0;a.closed||(a.next(c),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){n.root.setTimeout(function(){throw a;});});else if(this.zt){if(!a.closed)return k.Kc(c,0,{value:this.value,aj:a});}else h.then(function(f){b.value=f;b.zt=!0;a.closed||a.add(k.Kc(c,0,{value:f,aj:a}));},function(b){a.closed||a.add(k.Kc(l,0,{dB:b,aj:a}));}).then(null,function(a){n.root.setTimeout(function(){throw a;});});};return b;}(a(19).mb);b.Jva=d;},function(d,b,a){d=a(1059);b.from=d.MYa.create;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this);this.value=b;this.ta=c;this.zt=!0;c&&(this.zt=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.oc=function(a){var b,c;b=a.value;c=a.aj;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.Kc(a)));};b.prototype.Ol=function(a){var c,d;c=this.value;d=this.ta;if(d)return d.Kc(b.oc,0,{done:!1,value:c,aj:a});a.next(c);a.closed||a.complete();};return b;}(a(19).mb);b.qwa=d;},function(d,b,a){d=a(254);b.of=d.S2.of;},function(d,b,a){var c,l,q,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};l=a(174);d=a(175);b.YG=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof b&&(c=b,b=null);return f.jq(new q(a,b,c));};};q=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.lC=a;this.As=b;this.zba=c;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.lC,this.As,this.zba));};return a;}();b.JMb=q;n=function(a){function b(b,c,k,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.lC=c;this.As=k;this.zba=d;this.WIa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.Vk=function(a){this.active<this.zba?this.Y7a(a):this.buffer.push(a);};b.prototype.Y7a=function(a){var b,c;c=this.index++;try{b=this.lC(a,c);}catch(z){this.destination.error(z);return;}this.active++;this.W4a(b,a,c);};b.prototype.W4a=function(a,b,c){this.add(l.Y1(this,a,b,c));};b.prototype.Pd=function(){this.WIa=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};b.prototype.V_=function(a,b,c,k){this.As?this.Z5a(a,b,c,k):this.destination.next(b);};b.prototype.Z5a=function(a,b,c,k){var f;try{f=this.As(a,b,c,k);}catch(D){this.destination.error(D);return;}this.destination.next(f);};b.prototype.ls=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Vk(b.shift()):0===this.active&&this.WIa&&this.destination.complete();};return b;}(d.ZS);b.KMb=n;},function(d,b,a){var c,l;c=a(483);l=a(1075);b.PB=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.YG(l.jpb,null,a);};},function(d,b){b.jKa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(d,b){b.UJa=function(a){return a&&"number"===typeof a.length;};},function(d,b,a){var c,l,q,n,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);l=a(1092);b.sUb=function(a,b){void 0===b&&(b=0);return function(c){return c.jq(new q(a,b));};};q=function(){function a(a,b){void 0===b&&(b=0);this.ta=a;this.il=b;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.ta,this.il));};return a;}();b.ENb=q;n=function(a){function b(b,c,h){void 0===h&&(h=0);a.call(this,b);this.ta=c;this.il=h;}c(b,a);b.oc=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.ola=function(a){this.add(this.ta.Kc(b.oc,this.il,new k(a,this.destination)));};b.prototype.Vk=function(a){this.ola(l.Notification.$eb(a));};b.prototype.Ye=function(a){this.ola(l.Notification.Leb(a));};b.prototype.Pd=function(){this.ola(l.Notification.Beb());};return b;}(d.Wm);b.aua=n;k=function(){return function(a,b){this.notification=a;this.destination=b;};}();b.DNb=k;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);this.pn=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.pn;if(this.active)b.push(a);else{this.active=!0;do if(c=a.ff(a.state,a.il))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return b;}(a(1093).c2a);b.uoa=d;},function(d,b,a){var c,l;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};l=a(85);d=function(a){function b(b,c){a.call(this,b,c);this.ta=b;this.cP=!1;this.Dna=c;}c(b,a);b.prototype.Kc=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.cP=!0;a=this.id;c=this.ta;null!=a&&(this.id=this.Hka(a,b));this.il=b;this.id=this.id||this.Ska(c,this.id,b);return this;};b.prototype.Ska=function(a,b,c){void 0===c&&(c=0);return l.root.setInterval(a.flush.bind(a,this),c);};b.prototype.Hka=function(a,b){void 0===b&&(b=0);return null!==b&&this.il===b&&!1===this.cP?a:(l.root.clearInterval(a),void 0);};b.prototype.ff=function(a){if(this.closed)return Error("executing a cancelled action");this.cP=!1;if(a=this.Qya(a))return a;!1===this.cP&&null!=this.id&&(this.id=this.Hka(this.id,null));};b.prototype.Qya=function(a){var b,c;b=!1;c=void 0;try{this.Dna(a);}catch(f){b=!0;c=!!f&&f||Error(f);}if(b)return this.unsubscribe(),c;};b.prototype.v$=function(){var a,b,c;a=this.id;b=this.ta.pn;c=b.indexOf(this);this.state=this.Dna=null;this.cP=!1;this.ta=null;-1!==c&&b.splice(c,1);null!=a&&(this.id=this.Hka(a,null));this.il=null;};return b;}(a(1095).AVa);b.roa=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this);this.rQ=b;this.aj=c;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.rQ;b=a.jv;this.rQ=null;!b||0===b.length||a.wg||a.closed||(a=b.indexOf(this.aj),-1!==a&&b.splice(a,1));}};return b;}(a(116).rw);b.Twa=d;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.LD=d;},function(d,b,a){var c,l,q,n,k,p,h,f;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};l=a(19);d=a(70);q=a(116);n=a(491);k=a(490);p=a(258);h=function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;}(d.Wm);b.uPb=h;a=function(a){function b(){a.call(this);this.jv=[];this.AN=this.wg=this.closed=!1;this.Pma=null;}c(b,a);b.prototype[p.vC]=function(){return new h(this);};b.prototype.jq=function(a){var b;b=new f(this,this);b.tH=a;return b;};b.prototype.next=function(a){if(this.closed)throw new n.LD();if(!this.wg)for(var b=this.jv,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].next(a);};b.prototype.error=function(a){if(this.closed)throw new n.LD();this.AN=!0;this.Pma=a;this.wg=!0;for(var b=this.jv,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].error(a);this.jv.length=0;};b.prototype.complete=function(){if(this.closed)throw new n.LD();this.wg=!0;for(var a=this.jv,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.jv.length=0;};b.prototype.unsubscribe=function(){this.closed=this.wg=!0;this.jv=null;};b.prototype.t$=function(b){if(this.closed)throw new n.LD();return a.prototype.t$.call(this,b);};b.prototype.Ol=function(a){if(this.closed)throw new n.LD();if(this.AN)return a.error(this.Pma),q.rw.EMPTY;if(this.wg)return a.complete(),q.rw.EMPTY;this.jv.push(a);return new k.Twa(this,a);};b.prototype.maa=function(){var a;a=new l.mb();a.source=this;return a;};b.create=function(a,b){return new f(a,b);};return b;}(l.mb);b.Vm=a;f=function(a){function b(b,c){a.call(this);this.destination=b;this.source=c;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};b.prototype.Ol=function(a){return this.source?this.source.subscribe(a):q.rw.EMPTY;};return b;}(a);b.zJb=f;},function(d,b){b.zx={e:{}};},function(d,b){b.Se=function(a){return null!=a&&"object"===typeof a;};},function(d,b){b.Tb=function(a){return"function"===typeof a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a6=void 0;b.a6="NetworkMonitorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qT=void 0;b.qT="QueryStringDataProviderSymbol";},function(d,b,a){var l,q;function c(a,b,c,h,f){this.version=a;this.zH=b;this.wSa=c;this.Lj=h;this.Ks=f;this.zr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.W4=void 0;l=a(2);q=a(47);c.prototype.load=function(a){return this.hsb(a);};c.prototype.add=function(a){this.zr.push(a);return this.Gja();};c.prototype.remove=function(a,b){a=this.bHa(this.Xp(a,b));return 0<=a?(this.zr.splice(a,1),this.Gja()):Promise.resolve();};c.prototype.update=function(a,b){b=this.bHa(this.Xp(a,b));return 0<=b?(this.zr[b]=a,this.Gja()):Promise.resolve();};c.prototype.hsb=function(a){var b;b=this;this.XKa||(this.XKa=new Promise(function(c,h){function f(a){b.lgb().then(function(){h(a);})["catch"](function(){h(a);});}b.tfa().then(function(a){b.storage=a;return b.storage.load(b.zH);}).then(function(h){var k;h=h.value;try{k=a(h);b.version=k.version;b.zr=k.data;c();}catch(G){f(G);}})["catch"](function(a){a.ga!==l.I.pw?h(a):c();});}));return this.XKa;};c.prototype.Gja=function(){var a,b,c,h,f;a=this;if(!this.wSa)return Promise.resolve();if(this.R1){h=new Promise(function(a,f){b=a;c=f;});f=function(){a.R1=h;a.vSa().then(function(){b();})["catch"](function(a){c(a);});};this.R1.then(f)["catch"](f);return h;}return this.R1=this.vSa();};c.prototype.vSa=function(){var a,b;a=this;b=this.Ks();return new Promise(function(k,h){a.tfa().then(function(c){return c.save(a.zH,b,!1);}).then(function(){k();})["catch"](function(a){h(c.YFb(l.J.L0a,a));});});};c.prototype.lgb=function(){var a;a=this;return this.wSa?new Promise(function(b,c){a.tfa().then(function(b){return b.remove(a.zH);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.tfa=function(){return this.storage?Promise.resolve(this.storage):this.Lj.create();};c.prototype.Xp=function(a,b){for(var c=0;c<this.zr.length;++c)if(b(this.zr[c],a))return this.zr[c];};c.prototype.bHa=function(a){return a?this.zr.indexOf(a):-1;};c.YFb=function(a,b){var c;if(b.ga&&b.cause)return new q.Bc(a,b.ga,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.cd){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new q.Bc(a,l.I.Ah,void 0,void 0,void 0,void 0,b.stack,b):new q.Bc(a,l.I.Pk,void 0,void 0,void 0,void 0,void 0,b);};b.W4=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U3=void 0;b.U3="DrmDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M6=void 0;b.M6="PlatformConfigOverridesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m3=void 0;b.m3="BrowserInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.VI=void 0;b.VI=function(){function a(){}a.k1a="PSK";a.A_a="MGK";a.zMb="MGK_WITH_FALLBACK";a.yMb="MGK_JWE";a.nMb="JWEJS_RSA";a.jsa="JWK_RSA";a.oMb="JWK_RSAES";return a;}();},function(d,b,a){var q;function c(a,b){this.qf=b;this.$u=Math.floor(a);this.display=this.$u+" "+this.qf.name;}function l(a,b,c){this.qf=a;this.name=b;this.un=c?c:this;q.om(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Bp=b.bK=void 0;q=a(54);l.prototype.VM=function(a){return this.qf==a.qf;};l.prototype.toJSON=function(){return this.name;};b.bK=l;c.prototype.ba=function(a){return this.qf.VM(a)?this.$u:Math.floor(this.$u*this.qf.qf/a.qf);};c.prototype.x0=function(a){return this.qf.VM(a)?this.$u:this.$u*this.qf.qf/a.qf;};c.prototype.to=function(a){return new c(this.ba(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return{magnitude:this.$u,units:this.qf.name};};c.prototype.add=function(a){return this.DDa(a);};c.prototype.Mb=function(a){return this.DDa(a,function(a){return-a;});};c.prototype.scale=function(a){return new c(this.ba(this.qf.un)*a,this.qf.un);};c.prototype.fl=function(a){return this.ba(this.qf.un)-a.ba(this.qf.un);};c.prototype.VM=function(a){return 0==this.fl(a);};c.prototype.xKa=function(){return 0==this.$u;};c.prototype.eKa=function(){return 0>this.$u;};c.prototype.Gqb=function(){return 0<this.$u;};c.prototype.DDa=function(a,b){b=void 0===b?function(a){return a;}:b;return new c(this.ba(this.qf.un)+b(a.ba(this.qf.un)),this.qf.un);};b.Bp=c;},function(d,b,a){var q;function c(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.dia(a)(b);}c.iMa=new q.Metadata(a,b);return c;};}function l(a,b){a=a.pv;return null!==a?b(a)?!0:l(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});d=a(38);q=a(65);b.DTa=l;b.OSa=c;b.IMa=c(d.kw);b.JTa=function(a){return function(b){var c;return null!==b?(c=b.SL[0],"string"===typeof a?c.lf===a:a===b.SL[0].qk):!1;};};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(266);l=a(265);d=function(){function a(a){this.Nb=a;this.qK=new l.g3(this.Nb);this.u8=new c.vR(this.Nb);}a.prototype.when=function(a){return this.qK.when(a);};a.prototype.gR=function(){return this.qK.gR();};a.prototype.ms=function(a){return this.u8.ms(a);};return a;}();b.bz=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);l=a(101);q=a(65);n=a(1138);d=function(){function a(a,b,f,k){this.id=l.id();this.type=a;this.lf=f;this.name=new n.r1a(b||"");this.Ad=[];a=null;"string"===typeof k?a=new q.Metadata(c.kw,k):k instanceof q.Metadata&&(a=k);null!==a&&this.Ad.push(a);}a.prototype.cJa=function(a){for(var b=0,c=this.Ad;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.cJa(c.uz);};a.prototype.ntb=function(a){return this.dia(c.uz)(a);};a.prototype.Mga=function(){return this.cJa(c.kw);};a.prototype.Tga=function(){return this.Ad.some(function(a){return a.key!==c.xJ&&a.key!==c.uz&&a.key!==c.NS&&a.key!==c.aK&&a.key!==c.kw;});};a.prototype.gKa=function(){return this.dia(c.Yta)(!0);};a.prototype.umb=function(){return this.Mga()?this.Ad.filter(function(a){return a.key===c.kw;})[0]:null;};a.prototype.ilb=function(){return this.Tga()?this.Ad.filter(function(a){return a.key!==c.xJ&&a.key!==c.uz&&a.key!==c.NS&&a.key!==c.aK&&a.key!==c.kw;}):null;};a.prototype.dia=function(a){var b;b=this;return function(c){var k;for(var f=0,h=b.Ad;f<h.length;f++){k=h[f];if(k.key===a&&k.value===c)return!0;}return!1;};};return a;}();b.HT=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(38);q=a(65);n=a(90);d=function(){function a(a){this.A3a=a;}a.prototype.PGb=function(){return this.A3a();};return a;}();b.j5=d;b.l=function(a){return function(b,h,f){var k;if(void 0===a)throw Error(c.x2a(b.name));k=new q.Metadata(l.xJ,a);"number"===typeof f?n.NC(b,h,f,k):n.DQ(b,h,k);};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.qKa=function(a){return a instanceof RangeError||a.message===c.U1a;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);d=function(){function a(){}a.prototype.hHa=function(a){var b;b=Reflect.getMetadata(c.i6,a);a=Reflect.getMetadata(c.Wwa,a);return{GDa:b,THb:a||{}};};a.prototype.Tmb=function(a){return Reflect.getMetadata(c.Xwa,a)||[];};return a;}();b.Q5=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Zc=void 0;d=a(1);c=a(89);l=a(1119);q=a(263);n=a(1113);k=a(1105);p=a(1030);a=a(557);b.Zc=new d.MR({EC:!0});p.WKa(b.Zc);b.Zc.load(l.platform);b.Zc.load(n.config);q.QF.load(k.wFa);b.Zc.load(a.LBa);b.Zc.load(a.profile);b.Zc.bind(c.Y4).Sh(b.Zc);},function(d,b,a){var c;c=a(512);d.P=function(){return"function"===typeof Object.values?Object.values:c;};},function(d,b,a){var c,l,q;c=a(1154);l=a(1152);q=a(1148)("Object.prototype.propertyIsEnumerable");d.P=function(a){var b,d;a=l(a);b=[];for(d in a)c(a,d)&&q(a,d)&&b.push(a[d]);return b;};},function(d){var b;b=Object.prototype.toString;d.P=function(a){var c,d;c=b.call(a);d="[object Arguments]"===c;d||(d="[object Array]"!==c&&null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Function]"===b.call(a.callee));return d;};},function(d,b,a){var l,q,n,k,p,h;function c(a,b){var c,f,t,g,m,H;c=2<arguments.length?arguments[2]:{};f=l(b);q&&(f=k.call(f,Object.getOwnPropertySymbols(b)));for(var d=0;d<f.length;d+=1){t=a;g=f[d];m=b[f[d]];H=c[f[d]];if(!(g in t)||"function"===typeof H&&"[object Function]"===n.call(H)&&H())h?p(t,g,{configurable:!0,enumerable:!1,value:m,writable:!0}):t[g]=m;}}l=a(1156);g();g();q="function"===typeof Symbol&&"symbol"===typeof Symbol("foo");n=Object.prototype.toString;k=Array.prototype.concat;p=Object.defineProperty;h=p&&function(){var a;a={};try{p(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a;}catch(z){return!1;}}();c.LVb=!!h;d.P=c;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(122);l=a(9);d=a(2);q=a(5);n=a(115);k=a(52);a=a(24);q.Y.get(a.sf).register(d.J.Jra,function(a){var b,h;b=N._cad_global.videoPreparer;h=N._cad_global.playerPredictionModel;b&&N._cad_global.playerPredictionModel&&(p=q.Y.get(n.g7).create(h,b.vyb.bind(b)),N._cad_global.prefetchEvents=p,b.Fh.on("deletedCacheItem",function(a){p.bM(k.Od.MJ[a.type],parseInt(a.movieId,10),a.reason);}),c.$k.addEventListener("cacheEvict",function(a){p.bM(n.ze.Pj.rJ,a.movieId,"ase_cacheEvict");p.bM(n.ze.Pj.MEDIA,a.movieId,"ase_cacheEvict");}),c.$k.addEventListener("flushedBytes",function(){c.$k.dM().forEach(function(a){p.bM(n.ze.Pj.MEDIA,a.u,"ase_flushedBytes");},this);}),b.pp.addEventListener(b.pp.events.$wa,function(a){p.Jab(k.Od.MJ[a.type],a.u,a.reason);}),b.pp.addEventListener(b.pp.events.Ywa,function(a){p.Gab(k.Od.MJ[a.type],a.u,a.reason);}),b.pp.addEventListener(b.pp.events.Zwa,function(a){p.Iab(k.Od.MJ[a.type],a.u,a.reason);}),b.pp.addEventListener(b.pp.events.axa,function(a){p.Lab(k.Od.MJ[a.type],a.u,a.reason);}));a(l.gd);});},function(d,b,a){var q,n,k,p,h,f,t,g,G,D;function c(a,b){this.ti=a;this.ek=b;}function l(a){this.G=a;this.reset();}q=a(179);n=a(178);b=a(270);k=a(269).config;p=b.blb;h=b.Kkb;f=b.Bgb;t=b.Tvb;g=b.Svb;G=b.Rvb;D=b.mGa;l.prototype.constructor=l;l.prototype.reset=function(){this.eAa=void 0;this.Fi=[];this.Pza=this.Qza=!1;};l.prototype.update=function(a,b){var c;this.Fi&&(this.Fi=this.Fi.filter(this.SDb,this));if(!1===this.Qza){c=p(a.Ba).slice(0,k.tEa);0<c.length&&(this.RB(c,n.Rs.gj),this.Qza=!0,this.Fi=this.XC(c.concat(this.Fi)));}!1===this.Pza&&(c=h(a.Ba).slice(0,k.tEa),0<c.length&&(this.RB(c,n.Rs.gj),this.Pza=!0,this.Fi=this.XC(c.concat(this.Fi))));switch(b){case n.Ps.Sqa:b=this.mob(a);break;case n.Ps.cwa:b=this.wob(a);break;case n.Ps.yT:b=this.xob(a);break;case n.Ps.KJ:b=this.sob(a);break;default:b=this.job(a);}this.eAa=a;return b;};l.prototype.mob=function(a){a=t(a.Ba,k.EQa,k.ADa);this.RB(a,n.Rs.gj);return this.Fi=this.XC(this.Fi.concat(a));};l.prototype.wob=function(a){var b,c;this.G.log("handleScrollHorizontal");b=a.Ba;a=t(b,k.GQa,k.BDa);c=f(b,this.eAa.Ba);b=b[c].list.slice(0,k.DBb);b.concat(a);this.RB(b,n.Rs.K7);return this.XC(b.concat(this.Fi));};l.prototype.RB=function(a,b){a.forEach(function(a){if(void 0===a.ix||a.ix<b)a.ix=b;void 0===a.wI&&(a.wI=q());void 0===a.vj&&(a.vj=q());});};l.prototype.xob=function(a){this.G.log("handleSearch");a=g(a.Ba,k.WBb);this.RB(a,n.Rs.ewa);this.Fi=a.concat(this.Fi);return this.Fi=this.XC(this.Fi);};l.prototype.sob=function(a){var b,f,h,d,t;this.G.log("handlePlayFocus: ",k.DN);b=a.direction;f=a.Ba;a=[];h=D(f);if(void 0!==h.ti)switch(a.push(h),b){case n.Uq.Rva:for(b=1;b<k.DN;b++)a.push(new c(h.ti,h.ek+b));a.push(new c(h.ti-1,h.ek));a.push(new c(h.ti+1,h.ek));break;case n.Uq.nsa:for(b=1;b<k.DN;b++)a.push(new c(h.ti,h.ek-b));a.push(new c(h.ti-1,h.ek));a.push(new c(h.ti+1,h.ek));break;case n.Uq.A2a:a.push(new c(h.ti-1,h.ek));for(b=1;b<=k.DN/2;b++)a.push(new c(h.ti,h.ek+b)),a.push(new c(h.ti,h.ek-b));break;case n.Uq.UXa:for(a.push(new c(h.ti+1,h.ek)),b=1;b<=k.DN/2;b++)a.push(new c(h.ti,h.ek+b)),a.push(new c(h.ti,h.ek-b));}d=[];a.forEach(function(a){t=G(f,a.ti,a.ek);void 0!==t&&d.push(t);});this.RB(d,n.Rs.K7);return this.XC(d.concat(this.Fi));};l.prototype.job=function(a){this.G.log("ModelOne: handleDefaultCase");a=t(a.Ba,k.GQa,k.BDa);this.RB(a,n.Rs.K7);return this.XC(a.concat(this.Fi));};l.prototype.SDb=function(a){return a.ix==n.Rs.gj|a.ix==n.Rs.ewa&q()-a.wI<k.Yob;};l.prototype.XC=function(a){var b,c,f,h,k,d,t;b=[];c={};d=0;t=a.length;for(k=0;k<t;k++)f=a[k].oa,h=a[k],!1===f in c?(b.push(h),c[f]=d,d++):(f=b[c[f]],h.vj<f.vj&&(f.vj=h.vj),h.ix>f.ix&&(f.ix=h.ix),h.wI>f.wI&&(f.wI=h.wI));return b;};d.P=l;},function(d,b,a){var n,k,p,h,f,t,g;function c(a,b,c,f,h,k){this.u=this.oa=a;this.ie=b;this.Rc=c;k&&k.le&&(this.le=k.le);void 0!==f&&(this.dC=f);this.vj=h;this.fb=k;}function l(a,b,c,f,h){p(void 0!==f,"video preparer is null");p(void 0!==h,"ui preparer is null");this.G=b||console;this.G=b;this.Cb=c;this.i8a=f;this.a8a=h;this.dAa=t.Zja;this.RE=[];this.z$=!1;this.io=0;new g().on(t,"changed",q,this);this.reset();}function q(){this.G.log("config changed");t.Zja&&(this.dAa=t.Zja);t.HO!==this.CE&&(this.reset(),this.TAb());}n=a(179);k=a(178);b=a(270);p=b.assert;h=b.mGa;f=a(516);t=a(269).config;g=a(105).Fl;t.declare({Zja:["ppmConfig",{ZJb:{qNa:0,pNa:2,nNa:0,oNa:5,LRa:0},nPb:{qNa:0,pNa:1,nNa:0,oNa:3,LRa:1E3},oKb:{qNa:0,pNa:1,nNa:0,oNa:3,LRa:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.c9=!0;this.CE=t.HO;this.G.log("create model: "+t.HO,t.EQa,t.ADa);switch(t.HO){case"modelone":this.CE=new f(this.G);break;default:this.CE=new f(this.G);}};l.prototype.TAb=function(){var b,c;if(!1===this.z$){this.z$=!0;for(var a=0;a<this.RE.length;a++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.RE[a]));b=this.XDa(this.RE[a]);c=this.SGa(b);this.CE.update(b,c);this.c9=!1;}this.RE=[];}};l.prototype.update=function(a){var b,c,f;this.G.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ba&&a.Ba[0]){!1===this.z$&&this.RE.length<t.xtb&&this.RE.push(a);b=this.XDa(a);c=this.SGa(b);this.G.log("actionType",c);b="mlmodel"==t.HO?this.CE.update(a,c):this.CE.update(b,c);b=this.ikb(b,t.brb||1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.io&&(this.io=n(),this.Cb&&this.Cb.EP&&this.Cb.EP({UW:this.io}));if(this.Cb&&this.Cb.gQa){f={UW:this.io,offset:this.iY(),SOa:[]};b.forEach(function(a){f.SOa.push({Dq:a.oa});});f.OOa=JSON.stringify(a);f.POa=JSON.stringify(b);this.Cb.gQa(f);}this.i8a.wv(b);this.a8a.wv(b);this.c9=!1;}};l.prototype.jBb=function(){this.io=0;};l.prototype.iY=function(){return n()-this.io;};l.prototype.EP=function(){this.io=n();this.Cb&&this.Cb.EP&&this.Cb.EP({UW:this.io});};l.prototype.XDa=function(a){var b,c,f,h,d;b={};h=a.Ba||[];d=function(a){var h,d;h={};c=k.AJ.name.indexOf(a.context);h.context=0<=c?c:k.AJ.et;h.rowIndex=a.rowIndex;h.requestId=a.requestId;h.list=[];f=a.list||[];f.forEach(function(a){d={oa:a.oa,Rc:a.Rc,index:a.index,dC:a.dC,GH:a.GH,list:a.list,fb:a.fb};void 0!==a.property&&(c=k.xD.name.indexOf(a.property),d.property=0<=c?c:k.xD.et);h.list.push(d);}.bind(this));b.Ba.push(h);}.bind(this);void 0!==a.direction&&(c=k.Uq.name.indexOf(a.direction),b.direction=0<=c?c:k.Uq.et);void 0!==a.$M&&(b.qSb=a.$M.rowIndex,b.pSb=a.$M.ecb);b.$M=a.$M;b.Ba=[];h.forEach(d);return b;};l.prototype.SGa=function(a){var b,c,f;b=a.direction||k.Uq.et;c=a.$M;f=a.Ba||[];!0===this.c9?a=k.Ps.Sqa:!0===f.some(this.Lob)?(a=k.Ps.KJ,this.T0(f,b,c)):a=f[0].context===k.AJ.yT?k.Ps.yT:b===k.Uq.Rva||b===k.Uq.nsa?k.Ps.cwa:k.Ps.et;return a;};l.prototype.Lob=function(a){return(a.list||[]).some(function(a){return a.property===k.xD.KJ||a.property===k.xD.Fpa;});};l.prototype.T0=function(a,b,c){var f,d;this.G.log("reportPlayFocusEvent: ",b,c);f={};d=h(a);this.Cb&&this.Cb.T0&&(f.fSb=n(),f.direction=k.Uq.name[b],c&&(f.rowIndex=c.rowIndex,f.rba=c.ecb),void 0!==d.ti&&(f.requestId=a[d.ti].requestId),this.Cb.T0&&this.Cb.T0(f));};l.prototype.ikb=function(a,b){for(var c=a.length,f=[],h,k,d,p,l=0;l<c;l++){k=a[l];h=Math.floor(l/b)+1;if(void 0!==k.list){d=k.list;p=d.length;for(var n=0;n<Math.min(t.ccb,p)&&!(d[n].vj=k.vj,this.kBa(d[n],h,f),f.length>=t.TLa);n++);}else this.kBa(k,h,f);if(f.length>=t.TLa)break;}return f;};l.prototype.kBa=function(a,b,f){var k,d;function h(a){a.le&&(a.fb||(a.fb={}),a.fb.le=a.le);return a.fb;}k=a.GH;void 0!==k&&k instanceof Array?k.forEach(function(k){void 0!==k.oa&&(d=h(k),f.push(new c(k.oa,b,k.Rc,k.dC,a.vj,d)));}):void 0!==k&&void 0!==k.oa&&(k=a.GH,d=h(k),f.push(new c(k.oa,b,k.Rc,k.dC,a.vj,d)));void 0!==a.oa&&(d=h(a),f.push(new c(a.oa,b,a.Rc,a.dC,a.vj,d)));};l.prototype.Gx=function(a){var b;b=this.dAa;return a?b[a]:b;};d.P=l;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);l=a(9);d=a(2);q=a(5);b=a(24);q.Y.get(b.sf).register(d.J.Kra,function(b){var k,h;if(c.config.Wxb){k=q.rh("PlayerPredictionModel");N._cad_global.videoPreparer||(k.error("videoPreparer is not defined"),b(l.gd));h=a(517);k.log=k.trace.bind(k);n=new h({},k,{EP:function(a){N._cad_global.prefetchEvents.Agb(a.UW);},gQa:function(a){N._cad_global.prefetchEvents.xyb(a);}},N._cad_global.videoPreparer,{wv:function(){}});N._cad_global.playerPredictionModel=n;k.info("ppm v2 initialized");}b(l.gd);});},function(d){d.P={Bx:{ya:12E5,aO:9E5,Ad:12E5},hx:{ya:10,aO:10,Ad:10},gx:{ya:10240,aO:10240,Ad:10240}};},function(d){function b(a){var b;b=[];return function q(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&q(a[c]))return!0;}return!1;}(a);}d.P=function(a,c){var q;if(c&&b(a))return-1;c=[];a=[a];for(var d=0;a.length;){q=a.pop();if("boolean"===typeof q)d+=4;else if("string"===typeof q)d+=2*q.length;else if("number"===typeof q)d+=8;else if("object"===typeof q&&-1===c.indexOf(q)){c.push(q);for(var n in q)a.push(q[n]);}}return d;};},function(d,b,a){var k,p;function c(){return Object.create(null);}function l(a){this.log=a.log;this.Ja=a.Ja;this.SB=c();this.Promise=a.Promise;this.mu=a.mu;this.kna=a.kna;this.Kh=a.Kh||!1;this.Bx=c();this.hx=c();this.gx=c();this.A7a(a);a.$F&&(this.$F=a.$F,k(this.$F,l.prototype));}function q(a){return"undefined"!==typeof a;}function n(a){var h;for(var b=0,c=arguments.length;b<c;){h=arguments[b++];if(q(h))return h;}}k=a(58);a(520);p=a(519);l.prototype.A7a=function(a){this.Bx.manifest=n(a.xda,p.Bx.ya);this.Bx.ldl=n(a.wda,p.Bx.aO);this.Bx.metadata=n(a.iSb,p.Bx.Ad);this.hx.manifest=n(a.Saa,p.hx.ya);this.hx.ldl=n(a.Raa,p.hx.aO);this.hx.metadata=n(a.aRb,p.hx.Ad);this.gx.manifest=n(a.ZQb,p.gx.ya);this.gx.ldl=n(a.YQb,p.gx.aO);this.gx.metadata=n(a.$Qb,p.gx.Ad);};l.prototype.SY=function(a,b,c){this.ik("undefined"!==typeof a);this.ik("undefined"!==typeof b);return!!this.Tya(a,b,c).value;};l.prototype.Tya=function(a,b,c){var f,h;f={value:null,reason:"",log:""};h=this.SB[b];if("undefined"===typeof h)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof h[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=h[a][c?c:"DEFAULTCAPS"])&&c.value?this.CZ(b,c.Gh)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};l.prototype.getData=function(a,b,c){this.ik("undefined"!==typeof a);this.ik("undefined"!==typeof b);a=this.Tya(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.kna?JSON.parse(this.kna(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};l.prototype.setData=function(a,b,k,d,p){var f;this.ik("undefined"!==typeof a);this.ik("undefined"!==typeof b);f=this.SB;p=p?p:"DEFAULTCAPS";f[b]||(f[b]=c(),Object.defineProperty(f[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(f[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.mu?this.mu(JSON.stringify(k),"gzip",!0):k;f=f[b];this.n5a(a,b,p,f);b={Gh:this.Ja.getTime(),value:k,size:0,type:b,yca:d};f[a]=f[a]||c();f[a][p]=f[a][p]||c();f[a][p]=b;f.size+=0;f.numEntries++;this.$F&&this.emit("addedCacheItem",b);return b;};l.prototype.n5a=function(a,b,c,k){var f,h,d,t,p,l,n,q,g;f=this;h=k.numEntries;d=this.hx[b];l=k[a]&&k[a][c];if(l&&l.value)t=a,p="promise_or_expired";else if(h>=d){q=Number.POSITIVE_INFINITY;Object.keys(k).every(function(a){var h;h=k[a]&&k[a][c];h&&h.value&&f.CZ(b,h.Gh)&&(g=a);h&&h.value&&h.Gh<q&&(q=h.Gh,n=a);return!0;});t=g||n;p="cache_full";}this.Kh&&this.log.debug("makespace ",{maxCount:d,currentCount:k.numEntries,field:b,movieId:a,movieToBeRemoved:t});t&&(f.clearData(t,b,c,void 0,p),this.log.debug("removed from cache: ",t,b));};l.prototype.hba=function(a,b){var c,f;c=this;c.ik("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.SB[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(a,b,c,k,d){var f;this.ik("undefined"!==typeof a);this.ik("undefined"!==typeof b);f=this.SB[b];b=f?f[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){f.size-=b[c].size;f.numEntries--;if(f=b&&b[c])b[c]=void 0,!k&&f.yca&&f.yca();this.$F&&(a={creationTime:f.Gh,destroyFn:f.yca,size:f.size,type:f.type,value:f.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};l.prototype.flush=function(a){var b;this.ik("undefined"!==typeof a);b=this.SB;b[a]=c();b[a].numEntries=0;b[a].size=0;};l.prototype.CZ=function(a,b){return this.Ja.getTime()-b>this.Bx[a];};l.prototype.getStats=function(a,b,c){var f,h,k,d,t;f={};h=this;k=h.SB;d=q(a)&&q(b);t=c||"DEFAULTCAPS";Object.keys(k).forEach(function(c){var p,l;p=Object.keys(k[c]);l=k[c];p.forEach(function(k){!(k=l&&l[k]&&l[k][t])||!q(k.value)||k.value instanceof this.Promise||(f[c]=(f[c]|0)+1,h.CZ(k.type,k.Gh)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),d&&k.Gh>=a&&k.Gh<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};l.prototype.Yc=function(a){var b,c,h,k;b=[];c=this;h=c.SB;k=a||"DEFAULTCAPS";Object.keys(h).forEach(function(a){var f,d;f=Object.keys(h[a]);d=h[a];f.forEach(function(f){var h,t;h=d&&d[f]&&d[f][k];h&&q(h.value)&&(t=c.CZ(h.type,h.Gh)?"expired":h.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:t,type:a,size:h.size}));});});return b;};l.prototype.Sla=function(a,b){this.ik("undefined"!==typeof a);this.ik("undefined"!==typeof b);this.gx[a]=b;};l.prototype.ik=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Kh))throw Error("Debug Assert Failed ");};d.P=l;},function(d,b,a){var l,q;function c(a,b,c,h,f,d,g){this.u=a;this.ie=b;this.type=c;this.id=++q;this.Rp=h;this.status=l.ye.Woa;this.rxb=void 0===f?!1:f;this.dNa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.YJ=void 0;l=a(52);q=0;c.prototype.Pr=function(){var a;a={id:this.id,type:this.type,created:this.Rp,status:this.status,movieId:this.u};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};c.prototype.ls=function(a){this.dNa&&this.dNa(a);};b.YJ=c;},function(d,b,a){var q,n,k,p;function c(a){this.log=a.log;this.Ja=a.Ja;this.FW=this.yM=0;this.Ny=[];this.paused=!1;this.N1=[];this.KDa=[];this.QN=a.QN||k.Hna;this.Zc=a.Zc;this.Zj=this.Zc.get(n.$R);this.addEventListener=this.Zj.addListener.bind(this.Zj);this.events={$wa:"taskstart",Ywa:"taskabort",Zwa:"taskfail",axa:"tasksuccess"};}function l(a){return a.Pr();}Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;d=a(142);q=a(52);n=a(68);k=function(){function a(){}a.h1a="prepend";a.Hna="append";a.iZa="ignore";return a;}();p=d.Vs;b.fxa=c;c.prototype.pBa=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.Ny=this.X4a(a);this.yM=0;this.FW+=1;this.oc();};c.prototype.X4a=function(a){var b,c;b=this.Ny.filter(function(a){return a.rxb&&a.status===q.ye.Woa;});c=this.QN;if(c===k.iZa)return[].concat(a);if(c===k.h1a)return b.concat(a);if(c===k.Hna)return a.concat(b);};c.prototype.pause=function(){this.paused=!0;};c.prototype.oc=function(){var a,b;if(this.yM===this.Ny.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.yM,numberOfTasks:this.Ny.length});else{a=this.xmb();b=this.FW;a.startTime=this.Ja.getTime();a.status=q.ye.hwa;this.Zj.Vb(this.events.$wa,{u:a.u,type:a.type});this.N1.push(a);a.Ef(function(c){a.endTime=this.Ja.getTime();c?0<=[q.ye.dz,q.ye.zR,q.ye.ZI,q.ye.yR].indexOf(c.status)?(a.status=c.status,this.U9(a,this.events.Ywa,"cancelled task")):(a.status=q.ye.Yv,this.U9(a,this.events.Zwa,"task failed",c)):(a.status=q.ye.mwa,this.U9(a,this.events.axa,"task succeeded"));this.KDa.push(a);this.N1.splice(this.N1.indexOf(a),1);this.FW===b&&(this.yM++,this.oc());}.bind(this));}};c.prototype.xmb=function(){return this.Ny[this.yM];};c.prototype.U9=function(a,b,c,k){var f;f=a.Pr();k?this.log.warn(c,f,k):this.log.trace(c,f);this.Zj.Vb(b,{u:a.u,type:a.type,reason:a.status});a.ls(f);};c.prototype.getStats=function(a,b,c){var f,h,k,d;f=this.KDa.map(l);h=this.N1.map(l);k=p.Td(a)&&p.Td(b);d={};if(p.Td(c))return d.mcb=f.filter(function(a){return a.movieId===c;}),d;f.concat(h).forEach(function(c){var f;d[c.type+"_"+c.status]=(d[c.type+"_"+c.status]|0)+1;f=c.status==q.ye.hwa?c.startTime:c.endTime;k&&f>=a&&f<b&&(d[c.type+"_"+c.status+"_delta"]=(d[c.type+"_"+c.status+"_delta"]|0)+1);});return d;};},function(d,b,a){var l,q,n,k,p,h,f,t,g,G;function c(a){this.log=a.log;this.Ja=a.Ja;this.Vea=a.Vea;this.pY=a.pY;this.oY=a.oY;this.oG=a.oG;this.Xu=a.Xu;this.DM=a.DM;this.Zc=a.Zc;this.config=this.Zc.get(h.fd)();this.FM=a.FM;this.EM=a.EM;this.Fna=a.Fna;this.sja=a.sja;this.tja=a.tja;this.RO=a.RO;this.Eea=a.Eea;this.Kh=a.Kh||!1;this.C$={};this.MU={};this.mV={num_of_calls:0,num_of_movies:0};this.cba=a.cba;this.Nia=a.Nia;this.ukb=a.ukb;this.rea=a.rea;this.Fh=new f({log:this.log,Ja:this.Ja,Promise:Promise,Kh:this.Kh,Saa:a.Saa,Raa:a.Raa,xda:a.xda,wda:a.wda,$F:t});this.pp=new l.fxa({log:this.log,Ja:this.Ja,QN:a.QN,Zc:this.Zc});this.Xp=this.Fh.getData.bind(this.Fh);this.Ey=this.Fh.setData.bind(this.Fh);this.QY=this.Fh.SY.bind(this.Fh);}Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;l=a(523);q=a(522);d=a(142);n=a(251);k=a(470);p=a(115);h=a(14);f=a(521);t=a(105).EventEmitter;g=d.Vs;G=new k.Z7(g,new n.uR());b.Pxa=c;c.prototype.aHa=function(a){var b;b=this.Fh.getData(a,"ldl");this.Fh.clearData(a,"ldl",void 0,!0);return b;};c.prototype.wv=function(a,b){var c,f,h;c=this;a=a.map(function(a){a.fb=a.fb||{ML:{xOa:!1},Uh:0};g.SA(a.fb.Uh)||(a.fb.Uh=0);g.SA(a.Rc)&&(a.fb.T=a.Rc);return a;});f=a.map(function(a){return c.zya(a,b);}).reduce(function(a,b){return a.concat(b);},[]);h=f.map(function(a){return a.u+"-"+a.type;});this.log.trace("prepare tasks",h);this.pp.pBa(f);this.mV.num_of_calls++;this.mV.num_of_movies+=a.length;};c.prototype.syb=function(a,b){var c,f,h;c=this;f=a.map(function(a){return a.u+"";});a=a.map(function(a){a.fb=a.fb||{ML:{xOa:!1},Uh:0};a.fb.ve=!0;a.fb.yMa=f;return c.zya(a,b);}).reduce(function(a,b){return a.concat(b);},[]);h=a.map(function(a){return a.u+"-"+a.type;});this.log.trace("predownload tasks",h);this.pp.pBa(a);};c.prototype.lHb=function(a,b){this.MU[a]||(this.MU[a]={});a=this.MU[a];a.TOa=(a.TOa|0)+1;a.vj=b;};c.prototype.getStats=function(a,b,c){var f;f=c&&this.MU[c]||{};f.Ny=this.pp.getStats(a,b,c);f.cache=this.Fh.getStats(a,b);f.OGa=G.fH(this.Eea(),this.mV);return f||{};};c.prototype.zya=function(a,b){var c,f,h,k,d;a.le&&(a.fb.le=a.le);c=[];f=a.u;h=!!a.fb.ve;this.lHb(f,a.vj);k=null;if(this.Fh.SY(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{d=new q.YJ(f,a.ie,"manifest",this.Ja.getTime(),h,void 0,b);k=d.id;d.Ef=this.Vea.bind(this,f,a);c.push(d);}this.pY&&(this.Fh.SY(f,"ldl")?this.Kh&&this.log.trace("ldl exists in cache for "+f):(d=new q.YJ(f,a.ie,"ldl",this.Ja.getTime(),h,k,b),d.Ef=this.pY.bind(this,f,a),c.push(d)));this.oY&&this.oG&&this.cba()&&(this.Nia(f)?this.Kh&&this.log.trace("headers/media exists in cache for "+f):(f=new q.YJ(a.u,a.ie,"getHeaders",this.Ja.getTime(),h,k,b),f.Ef=this.oY.bind(this,a.u,a),c.push(f),b=new q.YJ(a.u,a.ie,"getMedia",this.Ja.getTime(),h,k,b),b.Ef=this.oG.bind(this,a.u,a),c.push(b)));return c;};c.prototype.vob=function(a){this.tja(a);};c.prototype.uob=function(a){this.log.trace("task scheduler paused on playback created");this.pp.pause();this.FM&&this.Fh.hba(a,["manifest"]);this.EM&&this.Fh.hba(a,["ldl"]);this.sja(a);};c.prototype.TIa=function(){this.log.info("track changed, clearing all manifests from cache");this.Fh.hba("none",["manifest"]);};c.prototype.tob=function(a){var b;b=this;this.DM?this.Fh.clearData(a,"manifest"):this.Fh.SY(a,"manifest")&&this.Fh.getData(a,"manifest").then(function(c){c.isSupplemental||b.Fh.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.nba(a);this.RO();};c.prototype.nba=function(a){this.C$[a]=void 0;};c.prototype.GY=function(a){return this.C$[a];};c.prototype.nEa=function(a){return this.C$[a]=this.Fna();};c.prototype.vyb=function(){var a;a=[];a=this.Fh.Yc().map(function(a){return{Dq:parseInt(a.movieId,10),state:a.state,Vt:a.type,size:a.size||void 0};});this.rea().map(function(b){2===b.bq?a.push({Dq:b.u,state:"cached",Vt:p.ze.Pj.rJ,size:void 0}):b.Djb&&!b.Arb&&a.push({Dq:b.u,state:"loading",Vt:p.ze.Pj.rJ,size:void 0});b.wUa&&0<b.wUa&&b.cCa&&0<b.cCa?a.push({Dq:b.u,state:"cached",Vt:p.ze.Pj.MEDIA,size:void 0}):b.oyb&&!b.nyb&&a.push({Dq:b.u,state:"loading",Vt:p.ze.Pj.MEDIA,size:void 0});});return a;};c.prototype.WJa=function(a){return a&&0<=a.indexOf("billboard");};},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D,m,F,L,H,r,R,aa,Q,y,T,u,da,W;Object.defineProperty(b,"__esModule",{value:!0});c=a(50);l=a(122);q=a(12);n=a(9);k=a(35);d=a(2);p=a(5);h=a(23);f=a(239);t=a(3);g=a(87);G=a(118);D=a(113);m=a(52);F=a(182);L=a(22);H=a(33);r=a(524);R=a(123);aa=a(151);Q=a(46);y=a(62);b=a(24);T=a(137);u=a(166);da=a(264);p.Y.get(b.sf).register(d.J.Ora,function(a){var qa,ka,Fa,A,la,Ea,Qa,Oa,E,S,V,fb,Y,Ta;function b(){var a,b,c;if(q.config.ep){a={};a.trigger=m.Od.g1a.J0a;b=qa.getTime();c=W.getStats(Y,b);a.startoffset=Y;Y=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.Ny);a.general=JSON.stringify(c.OGa);b=p.Y.get(Q.Sj);a=p.Y.get(y.bo).xn("prepare","info",a);b.Jc(a);}}function d(a,b,c){var f,h;h=a.Pv;h&&h.length&&h[0].dc&&h[0].dc.length&&(f=h[0].dc[0].uF);h=q.Cba(b.le);f=q.Bba(!!a.iu,!1,f);f=l.Wc.Do(Object.assign(Object.assign({},h),f));return{u:c,ie:0,hmb:function(){return{ya:a,Af:!1,zA:a.LEa[0].zA};},config:f,ve:!!b.ve,yMa:b.yMa};}function z(a,b,c){W.Xp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Ea.trace("ldl not available in cache",f);W.Xp(a,"manifest").then(function(f){var k,d,t,l,n;function h(b){Ea.warn("ldl is now invalid",b);n.close();W.Ey(a,"ldl",void 0);W.nba(a);}k=f.Pf;if(W.QY(a,"ldl"))c({status:m.Od.ye.dz});else if(k.VY)if(q.config.eFa&&Qa&&Qa!==a&&!b.force)c({status:m.Od.ye.zR});else if(q.config.fFa&&Oa&&Oa!==a&&!b.force)c({status:m.Od.ye.ZI});else{Qa&&Qa!==a&&(E[a]=(E[a]|0)+1);Oa&&Oa!==a&&(S[a]=(S[a]|0)+1);d=k.Pv[0].HH;t=k.Pv[0].Qca;l=(d?d:[t]).map(function(a){return p.Ul(a.bytes);});n=U({Gpb:"cenc",xFa:Ea,qN:function(b){var c;c=[];b.li.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:p.vr(a.data)});});b={li:c,bX:[k.jk],ri:m.Od.WDa(b.ri),ig:k.ig,ha:W.nEa(a),Bj:f.Bj};Ea.trace("xid created ",{MovieId:a,xid:b.ha});return A.tA(b);},GEb:void 0,uib:h,dd:void 0,gja:L.Xe,Ja:la});W.Ey(a,"ldl",n,function(){n.close();});return n.create(q.config.Yd).then(function(){return n.pi(g.ej.dw,l,!0);}).then(function(){c(null,n);})["catch"](function(a){h(a);c(a);});}else c({status:m.Od.ye.yR});})["catch"](function(a){Ea.warn("Manifest not available for ldl request",a);c({status:m.Od.ye.dz});});});}function J(a,b,c){W.Xp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Ea.trace("ldl not available in cache",f);W.Xp(a,"manifest").then(function(f){var k,d,t,l,n;function h(b,c){Ea.warn(b+" LDL is now invalid.",c);W.Ey(a,"ldl",void 0);W.nba(a);}k=f.Pf;if(W.QY(a,"ldl"))c({status:m.Od.ye.dz});else if(k.VY)if(q.config.eFa&&Qa&&Qa!==a&&!b.force)c({status:m.Od.ye.zR});else if(q.config.fFa&&Oa&&Oa!==a&&!b.force)c({status:m.Od.ye.ZI});else{Qa&&Qa!==a&&(E[a]=(E[a]|0)+1);Oa&&Oa!==a&&(S[a]=(S[a]|0)+1);d=k.Pv[0].HH;t=k.Pv[0].Qca;l=(d?d:[t]).map(function(a){return p.Ul(a.bytes);});n=p.Y.get(G.iJ)().then(function(b){var c;c={type:g.ej.dw,lZ:l,context:{Yd:q.config.Yd},Xg:{u:a,ha:W.nEa(a),ig:k.ig,jk:k.jk,Bj:f.Bj}};return b.wv(c,p.Y.get(T.DD)());}).then(function(a){c(null,a);return a;})["catch"](function(a){h("Unable to prepare an EME session.",a);});W.Ey(a,"ldl",n,function(){try{n.then(function(a){a.close().subscribe(void 0,function(a){h("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){h("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(jf){h("Unable to cleanup LDL session, unexpected exception.",jf);}});}else c({status:m.Od.ye.yR});})["catch"](function(a){Ea.warn("Manifest not available for ldl request",a);c({status:m.Od.ye.dz});});});}function U(a){var b,c,f;b=p.Y.get(H.Cp);c=new b.hz(a.xFa,a.qN,a.GEb,{Kh:!1,TN:!1});f=p.Y.get(D.Jz);return b.jz(a.xFa,a.Gpb,a.dd,{Kh:!1,TN:!1,oKa:q.config.vi,XQa:{hMa:q.config.WQa,eDa:q.config.vla},Ay:c,hPa:q.config.nka,eb:void 0,$C:q.config.ada,onerror:a.uib,gja:a.gja,Ja:a.Ja,Oxb:!1,dCa:f.sM([]),xUa:f.xM([]),CG:q.config.CG});}qa={getTime:k.Og,wSb:k.jM};ka=p.Y.get(h.Je);Fa=p.Y.get(R.eT);A=p.Y.get(aa.yD);la=qa;Ea=p.rh("VideoPreparer");E={};S={};V=p.Y.get(H.Cp);if(!V.jz||!V.hz){fb=p.Y.get(da.iT)();V.jz=fb.sb;V.hz=fb.request;}Ea.info("instance created");W=new r.Pxa({log:Ea,Ja:qa,Fna:k.uDa,Vea:function(a,b,c){var h;function f(){var b;ka.wA(h)||(h={trackingId:h});b={Oa:h,oa:a,Ex:R.Mk.r6};Ea.trace("manifest request for:"+a);return Fa.ff(Ea,b);}h=b.fb;Ea.trace("getManifest: "+a);q.config.v8a&&h&&h.ya&&!W.QY(a,"manifest")&&(!h.ya.clientGenesis||Date.now()-h.ya.clientGenesis<q.config.UOa)?(b=p.Y.get(u.CD).create(h.ya),b.zy=qa.getTime(),b.rC=qa.getTime(),W.Ey(a,"manifest",b),c(null,b)):W.Xp(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var h;Ea.trace("manifest not available in cache",b);if(W.QY(a,"manifest"))c({status:m.Od.ye.dz});else{h=qa.getTime();b=f();W.Ey(a,"manifest",b);b.then(function(b){b.zy=h;b.rC=qa.getTime();W.Ey(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);W.Ey(a,"manifest",void 0);});}});},pY:q.config.TF?q.config.sp?J:z:void 0,oY:function(a,b,c){var f;f=b.fb;W.Xp(a,"manifest").then(function(b){b=d(b.Pf,f,a);l.$k.bW(b,function(){c(null,{});});})["catch"](function(a){Ea.error("Exception in getHeaders",a);c(a);});},oG:function(a,b,c){var k;k=b.fb;W.Xp(a,"manifest").then(function(n){var q,g,z;q=n.Pf;n=d(q,k,a);g=q.duration;q=p.Y.get(f.wR).wBa({YC:t.Ib(q.dx),u:a,fP:t.Ib(g),Oa:k}).ba(t.ia);p.Y.get(h.Je).qr(k.T)&&(q=k.T);n.Rc=q;if(Qa!=a||k.ve||b.force){z=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(l.$k.removeEventListener("prebuffstats",z),c(null,{}));};l.$k.addEventListener("prebuffstats",z);l.$k.bW(n);}else c({status:m.Od.ye.ZI});})["catch"](function(a){Ea.error("Exception in getMedia",a);c(a);});},Xu:function(){return l.$k.Xu();},cba:function(){return q.config.jX;},Nia:function(a){var b;b=!1;l.$k.dM().forEach(function(c){c.u==a&&(b=!0);});return b;},rea:function(){return l.$k.dM().map(function(a){var b,f;b=l.$k.Mha(a.u);f=b[c.yc.Ci.AUDIO]&&b[c.yc.Ci.AUDIO].data;b=b[c.yc.Ci.VIDEO]&&b[c.yc.Ci.VIDEO].data;return{u:a.u,bq:a.bq,cCa:f&&f.length,wUa:b&&b.length,Djb:ka.qr(a.Wb.JX),Arb:ka.qr(a.Wb.$Z),oyb:ka.qr(a.Wb.EH),nyb:ka.qr(a.Wb.w0)};});},sja:function(a){Qa=a;},tja:function(a){Ta&&(Ta.mba(),b());Oa=a;},RO:function(){Ta&&Ta.Yla();Oa=Qa=void 0;},Eea:function(){return{ldls_after_create:E,ldls_after_start:S};},DM:q.config.DM,FM:q.config.FM,EM:q.config.EM,QN:q.config.yyb,Saa:q.config.Byb,Raa:q.config.zyb,xda:q.config.UOa,wda:q.config.Ayb,Kh:!1,Zc:p.Y});N._cad_global.videoPreparer=W;V=q.config.qxb;Y=qa.getTime();V&&(Ta=new F.m7(V,b),Ta.Yla());a(n.gd);});},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D;Object.defineProperty(b,"__esModule",{value:!0});c=a(119);l=a(121);q=a(9);n=a(43);d=a(2);k=a(5);p=a(150);h=a(16);f=a(22);t=a(10);b=a(24);g=a(35);G=a(89);D=a(131);k.Y.get(b.sf).register(d.J.Qra,function(a){function b(a,b){function c(a){a=new p.fJ(k.Ul(a));a.ue();return{Xx:a.xPa(),hib:a.xPa()};}return{encrypt:function(b,c){var d;b=f.Jd(b)?k.HI(b):b;d=t.ct.getRandomValues(new Uint8Array(16));n.YB(t.zn.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,f;a=new Uint8Array(a);b=[];f=new p.fJ(b);f.jR(2);f.PUa(d);f.PUa(a);a=k.vr(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){h.Wa(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,f){b=c(b);n.YB(t.zn.decrypt({name:"AES-CBC",iv:b.Xx},a,b.hib)).then(function(a){a=new Uint8Array(a);f({success:!0,text:k.XQ(a)});},function(a){h.Wa(!1,"Decrypt error: "+a);f({success:!1});});},hmac:function(a,c){a=f.Jd(a)?k.HI(a):a;n.YB(t.zn.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:k.vr(a)});},function(a){h.Wa(!1,"Hmac error: "+a);c({success:!1});});}};}c.hK.HL.mdx={getEsn:function(){return l.mh.oh;},createCryptoContext:function(a){var b;b=k.Y.get(G.TD);k.Y.get(D.FD)().then(function(c){var d,p;d=c.IO.getStateForMdx(b);p=d.cryptoContext;c=d.masterToken;d=d.userIdToken;c&&d?(h.Wa(p),c=["1",k.vr(JSON.stringify(c.toJSON())),k.vr(JSON.stringify(d.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:c,encrypt:function(a,b){a=f.Jd(a)?k.HI(a):a;p.encrypt(a,{result:function(a){a=k.vr(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){h.Wa(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=k.Ul(a);p.decrypt(a,{result:function(a){b({success:!0,text:k.XQ(a)});},timeout:function(){b({success:!1});},error:function(a){h.Wa(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=f.Jd(a)?k.HI(a):a;p.sign(a,{result:function(a){b({success:!0,hmacBase64:k.vr(a)});},timeout:function(){b({success:!1});},error:function(a){h.Wa(!1,"Hmac error: "+a);b({success:!1});}});}}})):(h.Wa(!1,"Must login first"),a({success:!1}));});},createCryptoContextFromSharedSecret:function(a,c){var f;f=k.Ul(a);a=f.subarray(32,48);f=f.subarray(0,32);if(16!=a.length||32!=f.length)throw Error("Bad shared secret");Promise.all([n.YB(t.zn.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),n.YB(t.zn.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){c({success:!0,cryptoContext:b(a[0],a[1])});},function(){c({success:!1});});},getServerEpoch:function(){return g.pba();}};a(q.gd);});},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});d=a(119);c=a(9);l=a(12);q=a(57);b=a(8);n=a(5);k=a(46);p=a(95);h=a(16);f=a(22);t=a(10);N.netflix=N.netflix||{};h.Wa(!N.netflix.player);N.netflix.player={VideoSession:d.hK,diag:{togglePanel:function(a,b){var c;c=[];if(!l.config||l.config.BP){switch(a){case"info":c=q.Rm.map(function(a){return a.r0;});break;case"streams":c=q.Rm.map(function(a){return a.s0;});break;case"log":c=[];}c.forEach(function(a){f.Xb(b)?b?a.show():a.Mo():a.toggle();});}},addLogMessageSink:function(a){n.Y.get(k.Sj).addListener({vVb:function(){},Xtb:function(b){a({data:b.data});}});}},log:n.rh("Ext"),LogLevel:b.Yh,addLogSink:function(a,b){n.Y.get(p.tz).P0(a,b);},getVersion:function(){return"6.0023.976.011";},isWidevineSupported:function(a){var f;function b(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Tq,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.gw,robustness:"SW_SECURE_CRYPTO"}]}];try{t.Di.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var h;h=f.getConfiguration();f=h.videoCapabilities||[];h=(h.audioCapabilities||[]).reduce(b(c.gw),!1);f=f.reduce(b(c.Tq),!1);a(h&&f);})["catch"](function(){a(!1);});}catch(J){a(!1);}}};},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(24);b=a(2);c=a(8);l=a(33);q=a(146);n=a(9);k=a(12);p=a(5);h=a(122);f=a(57);t=a(119);g=a(187);p.Y.get(d.sf).register(b.J.Rra,function(a){var d,z,G;function b(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):p.Y.get(g.bT).ff(this.log,{},{vFa:a,password:b}).then(function(){});}if(k.config.Hib){d=p.Y.get(q.OJ);z=p.Y.get(l.Wj);G=p.Y.get(c.Bb).yb("Test");t.hK.HL.test={pboRequests:d.Ay.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:f.Rm,getPlayback:function(a){return f.Rm.find(function(b){return b.ha===a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,h;return void 0!==(null===(h=null===(c=f.Rm.find(function(b){return b.ha===a;}))||void 0===c?void 0:c.Gb)||void 0===h?void 0:h.dY(b));}},aseManager:{cacheDestroy:function(){return h.$k.aW();}},device:{esn:N._cad_global.device.oh,esnPrefix:z.Ax,errorPrefix:z.eB},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return G.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return G.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return G.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return G.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return G.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return G.debug(a,c);}},login:b};}a(n.gd);});},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G;Object.defineProperty(b,"__esModule",{value:!0});c=a(121);l=a(119);q=a(9);n=a(12);d=a(2);k=a(5);p=a(16);h=a(20);f=a(22);t=a(15);g=a(46);G=a(62);a=a(24);k.Y.get(a.sf).register(d.J.Pra,function(a){var b,d;b=k.rh("NccpApi");d=h.UBa(["info","warn","trace","error"]);l.hK.HL.nccp={getEsn:function(){return c.mh.oh;},getPreferredLanguages:function(){return n.config.uu.bka;},setPreferredLanguages:function(a){p.Wa(t.isArray(a)&&f.Ru(a[0]));n.config.uu.bka=a;},queueLogblob:function(a,c,f){var h;if(a&&c)if(c=c.toLowerCase(),d[c]){h=k.Y.get(g.Sj);a=k.Y.get(G.bo).xn(a,c,f);h.Jc(a);}else b.warn("Invalid severity",{severity:c});},flushLogblobs:function(){k.Y.get(g.Sj).flush(!0);}};a(q.gd);});},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.rpa=void 0;c=a(67);l=a(43);q=a(16);n=a(20);k=a(22);b.rpa=function(a,b){q.Wa(a);q.Wa(b);q.EF(b.kib,"endpointURL property is required");q.Wa(b.cl);this.log=a;this.JOa=b;};b.rpa.prototype.Gx=function(){var a,b,f;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.JOa.cl)};f=a.JOa.kib+"?"+l.qH(b);return new Promise(function(b,h){function d(b){var c;try{if(b.da){c=new Uint8Array(b.content);return{da:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{da:!1,message:"Unable to download the config. "+b.rb,GN:b.Ni};}catch(U){return b=n.Fe(U),a.log.error("Unable to download the config. Received an exception parsing response",{message:U.message,exception:b,url:f}),{da:!1,rb:b,message:"Unable to download the config. "+U.message};}}function t(b,c,f){return c>f?(a.log.error("Config download failed, retry limit exceeded, giving up",k.tb({Attempts:c-1,MaxRetries:f},b)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function l(f,q,g){c.Re.download(f,function(c){var z;c=d(c);if(c.da)b(c);else{a.log.warn("Config download failed, retrying",k.tb({Attempt:q,WaitTime:z,MaxRetries:g},c));if(t(c,q+1,g))return z=n.tka(1E3,1E3*Math.pow(2,Math.min(q-1,g))),p(z).then(function(){return l(f,q+1,g);});h(c);}});}return c.Re?l({url:f,responseType:3,withCredentials:!0,TA:"config-download"},1,3):Promise.reject({da:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);l=a(9);d=a(2);q=a(5);n=a(177);a=a(24);q.Y.get(a.sf).register(d.J.Era,function(a){c.config.dkb&&q.Y.get(n.s4).start();a(l.gd);});},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D,m,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(152);l=a(271);d=a(57);q=a(12);n=a(56);k=a(9);p=a(43);h=a(35);f=a(20);t=a(10);g=a(5);G=a(117);D=a(13);m=a(24);F=a(33);d.W6(d.R6,function(a){var u,da,W,ka,O,oa;function b(c){c.newValue>=D.nb.LOADING&&(a.state.removeListener(b),T("type=openplay&sev=info&locstor="+t.SS(r())),W=h.Og(),J());}function d(){oa("type=startplay&sev=info&outcome=success");}function z(){var b,h;b=a.Oi;if(b){h="type=startplay&sev=error&outcome=error";b=c.efa(g.Y.get(F.Wj).eB,b);f.xd(b,function(a,b){h+="&"+t.SS(a)+"="+t.SS(b||"");});oa(h);}else oa("type=startplay&sev=info&outcome=abort");}function J(){var a,b;a=ka.shift();if(0<a){b=t.Gl(a-(h.Og()-W),0);da=setTimeout(function(){T("type=startstall&sev=info&kt="+a);J();},b);}}function L(){oa("type=startplay&sev=info&outcome=unload");}function r(){var a,b,c;try{b=""+h.jM();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(va){a="ex: "+va;}return a;}function T(b){b=O+"&soffms="+a.lfa()+"&"+b;a.pd&&Object.keys(a.pd).length&&(b+="&"+p.qH(f.tb({},a.pd,{prefix:"sm_"})));l.sTa("playback",b,u);}u=g.Y.get(G.Vy).host+q.config.ana;if(q.config.tTa&&u&&q.config.uTa.playback){ka=q.config.kGb.slice();O="xid="+a.ha+"&pbi="+a.index+"&uiLabel="+(a.le||"");a.state.addListener(b);a.addEventListener(D.U.Rn,d);a.addEventListener(D.U.yf,z);n.He.addListener(n.ll,L,k.Bz);oa=function(b){var c;oa=k.Xe;c=g.Y.get(m.sf);b+="&initstart="+c.startTime+"&initend="+c.endTime;T(b);clearTimeout(da);a.removeEventListener(D.U.Rn,d);a.removeEventListener(D.U.yf,z);n.He.removeListener(n.ll,L);};}});},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(80);c=a(12);l=a(5);d.xz(function(a,b){var k,d,h,f;k={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(k,c.config.FGb);d=k[b.le];if(c.config.GGb&&d){h={};f=l.Qg(a,"MediaStreamFilter");return{cG:"uiLabel",Bs:function(a){if(a.lower&&a.height>d)return h[a.height]||(h[a.height]=!0,f.warn("Restricting resolution due to uiLabel",{MaxHeight:d,streamHeight:a.height}),b.vn.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(d,b,a){var l;function c(a,b,c,d){this.j=a;this.Dm=b;this.ja=c;this.mc=d;this.log=this.ja.yb("KeyStatusStreamFilter",this.j);this.OZ=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.msa=void 0;l=a(474);c.prototype.Bs=function(a){this.ZEb();if(a.lower&&1080<a.height&&!this.OZ)return this.log.trace("stream restricted",{height:a.height,bitrate:a.O}),!0;this.log.debug("stream allowed",{height:a.height,bitrate:a.O});return!1;};c.prototype.Reb=function(){var a,b,c;b={};c=null===(a=this.Dm.mg.value)||void 0===a?void 0:a.HH;null===c||void 0===c?void 0:c.forEach(function(a){b[a.Xr]=a.wQa.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.dvb=function(a){var b;b=this.lrb[this.mc.encode(a.Xr)];if(1080<b)switch(a.value){case l.$n.una:this.OZ=!0;break;case l.$n.oSa:this.OZ=!1;break;default:this.OZ=!1,this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a.value}),this.Dm.vn.set({reason:"keyStatus",height:b});}this.log.trace("keyStatus change",{keyHeight:b,keyStatus:a.value});};c.prototype.ZEb=function(){var a,b,c;a=this;b=this.Dm.zf;c=b&&b.eha;!this.Tqb&&c&&(this.Tqb=!0,this.lrb=this.Reb(),b.eha().subscribe(function(b){return a.dvb(b);}));};na.Object.defineProperties(c.prototype,{cG:{configurable:!0,enumerable:!0,get:function(){return"keyStatus";}}});b.msa=c;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(80);c=a(12);l=a(5);q=a(534);n=a(471);d.xz(function(a,b){if(c.config.krb)return new q.msa(a,b,l.Df,new n.c3());});},function(d,b,a){var l,q,n;function c(a){var c,f;function b(h){h=h.rbb;a.removeEventListener(n.U.Qia,b);try{q.nKa(h.data[0])&&(f=!0,a.zDb());c.trace("RA check",{HasRA:f});}catch(z){c.error("RA check exception",z);}}c=l.Qg(a,"RAF");a.addEventListener(n.U.Qia,b);return{cG:"ra",Bs:function(a){if(!f&&a.Ou)return a=a.Qf,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(b,"__esModule",{value:!0});b.X_a=void 0;d=a(80);l=a(5);q=a(272);n=a(13);a=a(33);l.Y.get(a.Wj).vAb&&d.xz(c);b.X_a=c;},function(d,b,a){var l,q;function c(a,b){var c,h;c=q.Qg(a,"MSS");if(l.config.gub)return{cG:"mss",Bs:function(a){var f,k;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===h){try{k=N.MSMediaKeys;h=k&&k.isTypeSupportedWithFeatures?"probably"===k.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(G){c.error("hasUltraHdDisplay exception");h=!0;}h||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.vn.set({reason:"microsoftScreenSize",height:a.height}));}return!h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.W_a=void 0;d=a(80);l=a(12);q=a(5);d.xz(c);b.W_a=c;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(80).xz(function(){return{cG:"op",Bs:function(){}};});},function(d,b,a){var l,q,n,k,p,h,f,t,g;function c(a,b){var z,G,D,m,r,Q,y,T,u,da,W;function c(){var c;c=a.Ob.value===t.jb.Nc&&a.state.value===t.nb.ud&&a.u===b.u;W?c||(clearInterval(W),Q=W=void 0):c&&(W=N.setInterval(d,1E3));}function d(){var b,c,f,h,d,p;b=a.kf.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){c=k.Og();f=a.Ti.nB();if(f){if(Q&&2E3>c-Q.time&&b===Q.height){h=f-Q.qhb;d=G[b];d||(G[b]=d=[],b>T&&(r.push(b),n.oR(r)));0<h&&!(da&&da<b)&&(da=b);d.push(h);d.length>y&&d.shift();(d=m[b])||(m[b]=d={});p=d[h];d[h]=p?p+1:1;}Q={time:c,qhb:f,height:b};a.r0&&a.r0.ZCb(G);}}}z=p.Qg(a,"DFF");G={};D=l.config.uhb;m={};r=[];y=l.config.shb;T=l.config.thb;u=q.Rsa;if(l.config.rhb)return b.Tca={Ekb:function(){var a;a={};m&&r.forEach(function(b){var c,f,k;c=m[b];if(c){f=0;k=0;g.xd(c,function(a,b){k+=h.Kd(a);f+=b;});a[b]=k/f;}});return a;},tN:function(a){var b;b={};a.forEach(function(a){b[a]={};});m&&(n.oR(a),r.forEach(function(c){var h,k,d,p;h=m[c];if(h){k=0;d=0;g.xd(h,function(a,b){k+=b;});p=Object.keys(h).map(Number);n.oR(p);for(var t=p.length-1,l=p[t],q=a.length-1;0<=q;q--){for(var z=a[q];l>=z&&0<=t;)(l=h[l])&&(d+=l),l=p[--t];b[z][c]=f.Bh(d/k*100);}}}));return b;}},a.state.addListener(c),a.Ob.addListener(c),a.addEventListener(t.U.Vo,c),{cG:"df",Bs:function(a){var c,h,k,d;if(a.lower&&a.height>T){a=a.height;a:{if(da){c=r.length;for(var f=0;f<c;f++){h=r[f];if(h>=da&&h<u){k=G[h];if(d=k)b:{d=D.length;for(var p=k.length,t=0;t<d;t++)for(var l=D[t],n=l[0],l=l[1],q=0;q<p;q++)if(k[q]>=l&&0>=--n){d=!0;break b;}d=!1;}if(d&&u!=h){z.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:h});b.vn.set({reason:"droppedFrames",height:h});c=u=h;break a;}}}da=void 0;}c=u;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(b,"__esModule",{value:!0});b.V_a=void 0;d=a(80);l=a(12);q=a(9);n=a(43);k=a(35);p=a(5);h=a(22);f=a(10);t=a(13);g=a(20);d.xz(c);b.V_a=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(5);a=a(342);a=d.Y.get(a.P2);a;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D,m,F,L;Object.defineProperty(b,"__esModule",{value:!0});c=a(152);l=a(9);q=a(12);n=a(57);k=a(35);d=a(2);p=a(5);h=a(69);f=a(10);t=a(59);g=a(15);G=a(46);D=a(62);a=a(24);L=p.Y.get(a.sf);L.register(d.J.Gra,function(a){var d;function b(){var a,b,h,p;a=L.startTime;b={browserua:f.Hl,browserhref:f.TS.href,initstart:a,initdelay:L.endTime-a};(a=f.ne.documentMode)&&(b.browserdm=""+a);"undefined"!==typeof N.nrdp&&N.nrdp.device&&(b.firmware_version=N.nrdp.device.firmwareVersion);g.Ru(q.config.eGa)&&(b.fesn=q.config.eGa);Object.assign(b,c.ofa());h=f.Wq&&f.Wq.timing;h&&q.config.Gsb.map(function(a){var c;c=h[a];c&&(b["pt_"+a]=c-k.vDa());});p=d.WHa();Object.keys(p).forEach(function(a){return b["m_"+a]=p[a];});a=F.xn("startup","info",b,n.QD.Tda);m.Jc(a);}F=p.Y.get(D.bo);m=p.Y.get(G.Sj);d=p.Y.get(h.tw);L.fO(function(){m.Db();t.oc(b);});a(l.gd);});},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,D,m,F,L,r,U,R,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(190);l=a(121);q=a(12);n=a(9);k=a(2);p=a(16);h=a(5);f=a(69);t=a(52);g=a(71);G=a(20);D=a(10);m=a(15);F=a(43);L=a(96);r=a(3);d=a(24);U=a(354);R={};u=h.Y.get(d.sf);u.register(k.J.Ira,function(a){var J,H,Q,aa,oa,ta,za,P,va,ga,Fa,A,la,Ea;function b(b){b&&b.userList&&q.config.QDb&&(b.userList=[]);aa({esn:l.mh.oh,esnPrefix:l.mh.Ax,authenticationType:q.config.NL,authenticationKeyNames:q.config.kCa,systemKeyWrapFormat:q.config.uFb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:la,storeState:b,notifyMilestone:u.dd.bind(u),log:za,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:k.I.Q_a,MSL_READ_TIMEOUT:k.I.P_a}},{result:function(a){d(a);},timeout:function(){a({ga:k.I.bta});},error:function(b){a(z(k.I.bta,void 0,b));}});}function d(b){var f,d,l;function c(){A&&h.Y.get(g.Kq).create().then(function(a){return a.save(ga,d,!1);})["catch"](function(a){za.error("Error persisting msl store",k.Ap(a));});}f=h.Y.get(L.Kz)(r.Ib(100));l=oa.extend({init:function(a){this.Iza=a;},getResponse:function(a,b,c){var f,k;b=this.Iza;f=b.CMa.Re||f;a=m.Wga(a.body)?h.XQ(a.body):a.body;p.EF(a,"Msl should not be sending empty request");a={url:b.url,Xja:a,withCredentials:!0,TA:"nq-"+b.method,headers:b.headers};b=this.Iza.timeout;a.rW=b;a.Zia=b;k=f.download(a,function(a){try{if(a.da)c.result({body:a.content});else if(400===a.Ni&&a.rb)c.result({body:a.rb});else throw G.tb(new ta("HTTP error, SubCode: "+a.ga+(a.Ni?", HttpCode: "+a.Ni:"")),{cadmiumResponse:a});}catch(sd){c.error(sd);}});return{abort:function(){k.abort();}};}});va&&b.addEventHandler("shouldpersist",function(a){d=a.storeState;f.Kc(c);});G.tb(R,{bTb:function(){Fa=!0;},send:function(a){function c(){var b,c;b=a.CMa;c={method:a.method,nonReplayable:a.ivb,encrypted:a.uj,userId:a.UHb,body:a.body,timeout:2*a.timeout,url:new l(a),allowTokenRefresh:A,sendUserAuthIfRequired:Ea,shouldSendUserAuthData:q.config.VDb};b.vFa?(c.email=b.vFa,c.password=b.password||""):b.dGb?(c.token=b.dGb,c.mechanism=b.QTb,b.Ria&&(c.netflixId=b.Ria,c.secureNetflixId=b.YBb),b.lka&&(c.profileGuid=b.lka)):b.Ria?(c.netflixId=b.Ria,c.secureNetflixId=b.YBb):b.Gtb?(c.mdxControllerToken=b.Gtb,c.mdxPin=b.OTb,c.mdxNonce=b.NTb,c.mdxEncryptedPinB64=b.MTb,c.mdxSignature=b.PTb):Fa||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.lka&&(c.profileGuid=b.lka);return c;}return new Promise(function(a,f){var h;h=c();b.send(h).then(function(b){Fa&&(Fa=!1);a({da:!0,body:b.body});})["catch"](function(a){var c,h;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.ga?a.error.cadmiumResponse.ga:b.isErrorReauth(a.error)?k.I.ata:b.isErrorHeader(a.error)?k.I.J_a:k.I.I_a;h=b.getErrorCode(a.error);f(z(c,h,a.error));}else za.error("Unknown MSL error",a),a.cd=a.subCode,f({ga:a.cd?a.cd:k.I.R_a});});});},IO:b});a(n.gd);h.Y.get(U.LS).Rub(R);}function z(a,b,c){var f,h,k,d;d={ga:a,XF:b};if(c){f=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(k=c.cadmiumResponse){if(h=k.re&&k.re.toString())k.re=h;k.ga=a;k.XF=b;k.rb=f(c.message);k.error={cd:a,ph:h,ks:b,data:c.cause,message:c.message};return k;}f=f(c.errorMessage);h=G.Kd(c.internalCode)||G.Kd(c.error&&c.error.internalCode);k=void 0!==c.wib?F.mja(c.wib):void 0;}f&&(d.rb=f);h&&(d.re=h);d.error={cd:a,ph:h.toString(),ks:b,data:k,message:f};return d;}p.Wa(q.config);J=h.Y.get(f.tw);H=t.Od.ai;if(D.ct&&D.zn&&D.zn.unwrapKey){try{Q=N.netflix.msl;aa=Q.createMslClient;oa=Q.IHttpLocation;ta=Q.MslIoException;}catch(Qa){a({ga:k.I.K_a});return;}za=h.rh("Msl");P=q.config.Nub;va=q.config.Pub;ga=q.config.Ir?"mslstoretest":"mslstore";Q=c.JC.pRa;Fa=q.config.xpb;A=!Q||Q.da;la=h.Ul(q.config.Ir?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ea=!!q.config.Kla;h.Y.get(g.Kq).create().then(function(c){P?c.remove(ga).then(function(){b();})["catch"](function(a){za.error("Unable to delete MSL store",k.Ap(a));b();}):va?c.load(ga).then(function(a){J.mark(H.M_a);b(a.value);})["catch"](function(f){f.ga==k.I.pw?(J.mark(H.O_a),b()):(za.error("Error loading msl store",k.Ap(f)),J.mark(H.N_a),c.remove(ga).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){za.error("Error creating app storage while loading msl store",k.Ap(b));a(b);});}else a({ga:k.I.L_a});});},function(d,b,a){var n,k,p,h;function c(a,b,c,d){var f,t,g;n.Wa(h.Se(a)&&!h.isArray(a));d=d||"";f="";t=a.hasOwnProperty(p.yi)&&a[p.yi];t&&k.xd(t,function(a,b){f&&(f+=" ");f+=a+'="'+q(b)+'"';});c=(b?b+":":"")+c;t=d+"<"+c+(f?" "+f:"");g=a.hasOwnProperty(p.wp)&&a[p.wp].trim&&""!==a[p.wp].trim()&&a[p.wp];if(g)return t+">"+q(g)+"</"+c+">";a=l(a,b,d+"  ");return t+(a?">\n"+a+"\n"+d+"</"+c+">":"/>");}function l(a,b,d){var f;n.Wa(h.Se(a)&&!h.isArray(a));d=d||"";f="";k.xd(a,function(a,p){var n;if("$"!=a[0])for(var l=k.lO(p),t=0;t<l.length;t++)if(p=l[t],f&&(f+="\n"),h.Se(p))f+=c(p,b,a,d);else{n=(b?b+":":"")+a;f+=d+"<"+n+">"+q(p)+"</"+n+">";}});return f;}function q(a){if(h.Jd(a))return k.EN(a);if(h.la(a))return n.BM(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";n.Wa(!1,"Invalid xml value.");return"";}Object.defineProperty(b,"__esModule",{value:!0});b.bGb=b.grb=b.frb=void 0;n=a(16);k=a(20);p=a(125);h=a(15);b.frb=c;b.grb=l;b.bGb=q;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(2);c=a(5);l=a(322);a=a(24);c.Y.get(a.sf).register(d.J.Fra,function(a){c.Y.get(l.Z3)().then(function(){a({da:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({da:!0});});});},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);l=a(9);q=a(12);n=a(2);k=a(502);p=a(33);h=a(10);f=a(5);d=a(24);t=f.Y.get(d.sf);t.register(n.J.Sra,function(a){h.zn&&h.zn.generateKey&&h.zn.importKey&&h.zn.unwrapKey?!f.Y.get(p.Cp).uXa&&q.config.NL!=k.VI.k1a&&q.config.NL!=k.VI.A_a||h.RS?(t.dd("wcs"),c.YB(h.zn.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){t.dd("wcdone");a(l.gd);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=n.I.e8:0<=b.indexOf("timeout waiting for iframe to load")&&(c=n.I.I2a);a({ga:c,rb:b});})):a({ga:n.I.H2a}):a({ga:n.I.e8});});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(12);a(9);d=a(5);a(95);a(194);a(2);a(96);a(3);a=a(24);d.Y.get(a.sf);},function(d,b,a){var h,f,t,g,G;function c(a){var c,k;f.EF(a);if(t.Jd(a)&&b.Wra.test(a)){c=a.split(".");if(4===c.length){for(var h=0;h<c.length;h++){k=t.Kd(c[h]);if(0>k||!G.Qu(k,0,255)||1!==c[h].length&&0===c[h].indexOf("0"))return;}return a;}}}function l(a){var b;b=0;if(c(a)===a)return a=a.split("."),b+=t.Kd(a[0])<<24,b+=t.Kd(a[1])<<16,b+=t.Kd(a[2])<<8,b+t.Kd(a[3]);}function q(a){var c;f.EF(a);if(t.Jd(a)&&a.match(b.Xra)){c=a.split(":");-1!==c[c.length-1].indexOf(".")&&(a=n(c[c.length-1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==c.length)&&(c=1<a.length?k(a):c,a=c.length,8===a)){for(;a--;)if(!G.Qu(parseInt(c[a],16),0,h.Ssa))return;return c.join(":");}}}function n(a){var b;a=l(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function k(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function p(a){return-1<<32-a;}Object.defineProperty(b,"__esModule",{value:!0});b.a_a=b.f_a=b.c_a=b.b_a=b.e_a=b.$Za=b.d_a=b.oz=b.Xra=b.Wra=void 0;h=a(9);f=a(16);t=a(22);g=a(10);G=a(15);b.Wra=/^[0-9.]*$/;b.Xra=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.oz="0000000000000000";b.d_a=c;b.$Za=l;b.e_a=q;b.b_a=n;b.c_a=k;b.f_a=function(a,f,h){var k,d,t,n;k=c(a);d=q(a);t=c(f);n=q(f);if(!k&&!d||!t&&!n||k&&!t||d&&!n)return!1;if(a===k)return h=p(h),(l(a)&h)!==(l(f)&h)?!1:!0;if(a===d){a=a.split(":");f=f.split(":");for(k=g.Xs(h/b.oz.length);k--;)if(a[k]!==f[k])return!1;h%=b.oz.length;if(0!==h)for(a=parseInt(a[k],16).toString(2),f=parseInt(f[k],16).toString(2),a=b.oz.substring(0,b.oz.length-a.length)+a,f=b.oz.substring(0,b.oz.length-f.length)+f,k=0;k<h;k++)if(a[k]!==f[k])return!1;return!0;}return!1;};b.a_a=p;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(5);b=a(95);a=a(194);d.Y.get(b.tz).P0(a.w5.LWa,function(a){var b,c;b=a.level;if(!N._cad_global.config||b<=N._cad_global.config.Ksb){a=a.e2();c=N.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.XHb=b.l2a=b.j2a=b.i2a=b.k2a=void 0;c=a(22);l=a(10);b.k2a=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};b.i2a=function(a,b,k){k=c.Jd(k)?k:"...";return a.length<=b?a:a.substr(0,a.length-(a.length+k.length-b))+k;};b.j2a=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=l.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};b.l2a=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.XHb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d){function b(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function c(a,b){return a+b;}d.P={gcb:function(a,b,c){for(var k=0;k<a.length;k++)if(a[k]!==b[k])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},Wba:function(a,b,c){var k;k={};k.displayTime=a.tj;k.duration=a.duration;k.originX=a.d0;k.originY=a.e0;k.sizeX=a.H1;k.sizeY=a.I1;k.imageData=b;k.id=a.Vr;k.rootContainerExtentX=c.d1;k.rootContainerExtentY=c.e1;return k;},slb:function(a,b){return"o_"+a+"s_"+b;},uUa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Xb:function(a){return"undefined"!==typeof a;},VBb:function(a,b){return a.some(function(a){return a.id===b;});},xhb:function(d,q){return d.filter(b.bind(null,q)).map(a).reduce(c,0);},pN:function(a,b){var c,k;c=Object.create({});for(k in a)c[k]=a[k];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},mk:function(){return this.buffer.length-this.position;},ue:function(){return this.buffer[this.position++];},Ld:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},zc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},vs:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},yka:function(){for(var a="",b;b=this.ue();)a+=String.fromCharCode(b);return a;},Pb:function(){return this.zc(2);},Pa:function(){return this.zc(4);},yg:function(){return this.zc(8);},K0:function(){return this.zc(2)/256;},vP:function(){return this.zc(4)/65536;},Hf:function(a){for(var b,d="";a--;)b=this.ue(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},xy:function(){return this.Hf(4)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(6);},wP:function(a){for(var b=0,d=0;d<a;d++)b+=this.ue()<<(d<<3);return b;},oC:function(){return this.wP(4);},jR:function(a){this.buffer[this.position++]=a;},J2:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},iR:function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];},aD:function(a,b){this.iR(a.Ld(b));}};d.P=b;},function(d,b,a){var u,Q,y,T,qa,da;function c(a){u.call(this);this.flb=h;this.Zk=a.url;this.hL=a.request;this.XU=a.Rc||0;this.DU=a.Kh;this.Cb=a.ja;this.ak=this.di=null;this.xK={};this.Cw=0;this.TK=a.bufferSize||4194304;this.L9={};this.YAa=a.version||1;a.key&&(this.Bya=a.crypto,this.Yz=this.Bya.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.nq?this.di=a.nq:(this.Qd=a.offset,this.NE=a.size);}function l(){}function q(){}function n(a,b){var c,f,h,d,p,t,n,q;if(a)this.emit(qa.ERROR,T.pN(a,da.B_a));else try{if(2===this.YAa){f=new l();h=y.wka(b)[0];d=h.Hx("636F6D2E-6E65-7466-6C69-782E68696E66");p=h.Hx("636F6D2E-6E65-7466-6C69-782E6D696478");f.kZ=d.RV;f.Gh=d.Gh;f.rl=d.rl;f.u=d.u;f.d1=d.d1;f.e1=d.e1;f.language=d.srb;f.AFb=d.fFb;f.startOffset=p.jCb;t=[];n=0;for(a=0;a<p.Va.length;a++){q=p.Va[a];b={};b.duration=q.duration;b.size=q.size;t.push(b);n+=b.duration;}f.entries=t;f.endTime=n;c=f;}else{t=new Q(b);n=new l();n.identifier=t.vs(4);T.assert("midx"===n.identifier);n.version=t.zc(4);T.assert(0===n.version);n.kZ=t.Ld(36);n.Gh=t.yg();n.rl=t.yg();n.u=t.yg();n.d1=t.Pb();n.e1=t.Pb();n.language=t.Ld(16);n.AFb=t.Ld(16);n.startOffset=t.yg();n.Cn=t.Pb();f=[];for(q=p=0;q<n.Cn;q++)a={},a.duration=t.zc(4),a.size=t.Pb(),f.push(a),p+=a.duration;n.entries=f;n.endTime=p;c=n;}this.di=c;k.call(this);}catch(Ga){this.emit(qa.ERROR,T.pN(Ga,da.C_a));}}function k(){var a,b;a=this.di;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Zk,offset:b,size:a},this.emit(qa.D_a,this.di),this.hL(b,p.bind(this))):this.emit(qa.ERROR,T.pN({},da.d0a));}function p(a,b){var c,h,d,k;c=this;if(a)c.emit(qa.ERROR,T.pN(a,da.N1a));else{h=0;d=[];k=0;try{c.di.entries.forEach(function(a){var f,t,p,l,n,z,G;t=h;p=c.di.kZ;l=c.Cb;if(2===c.YAa){f=new q();n=y.wka(b);f.entries=[];f.images=[];for(var g=0;g<n.length;g++)for(p=n[g],t=p.Hx("636F6D2E-6E65-7466-6C69-782E73696478"),p=p.Hx("636F6D2E-6E65-7466-6C69-782E73656E63"),l=0;l<t.jp.length;l++){z={};G=t.jp[l];z.tj=G.tj;z.duration=G.duration;z.d0=G.d0;z.e0=G.e0;z.H1=G.H1;z.I1=G.I1;z.Vr=G.Vr;z.AG=G.AG;if(G=p&&p.jp[l])z.oX={Xx:G.Xx.slice(0),mode:G.HFa};f.entries.push(z);}}else{f=new Q(b);n=new q();g=0;f.position=t;n.identifier=f.vs(4);T.assert("sidx"===n.identifier);n.kZ=f.Ld(36);T.gcb(n.kZ,p,l);n.duration=f.zc(4);n.Cn=f.Pb();n.entries=[];for(n.images=[];g<n.Cn;)t={},t.tj=f.zc(4),t.duration=f.zc(4),t.d0=f.Pb(),t.e0=f.Pb(),t.H1=f.Pb(),t.I1=f.Pb(),t.Vr=f.yg(),t.AG=f.zc(4),g++,n.entries.push(t);f=n;}d.push(f);a.dma=f;f.uka=k;f.sP=k+a.duration;k=f.sP;n=f.entries;n.length&&(f.startTime=n[0].tj,f.endTime=n[n.length-1].tj+n[n.length-1].duration);h+=a.size;});}catch(P){c.emit(qa.ERROR,T.pN(P,da.O1a));return;}c.ak=d;c.emit(qa.P1a,this.ak);a=f.call(c,c.XU,2);a.length?D.call(c,a,c.XU,function(a){a&&c.Cb.error("initial sidx download failed");c.emit(qa.Nva);}):c.emit(qa.Nva);}}function h(a){var b,c,h,d,k;b=f.call(this,a,2);c=(c=this.di)?c.endTime:void 0;if(a>c)return[];h=this.xK.Cs;d=this.xK.index;c=[];d=T.Xb(d)&&this.ak[d+1];if(!(d&&d.entries.length||h&&!(a>h.endTime)))return[];b.length&&D.call(this,b,a);h&&h.images.length&&(c=g(h,a,[],this.di));d&&d.images.length&&(b=g(d,a,c,this.di),c.push.apply(c,b));b=G(c);if(this.ak&&0!=this.ak.length){c=this.ak[Math.floor(a/6E4)];if(!(c.uka<=a&&a<=c.sP))a:{c=this.ak.length;if(!this.vib){this.vib=!0;b:{try{k=String.fromCharCode.apply(String,this.di.language);break b;}catch(P){}k="";}this.Cb.error("bruteforce search for ",{movieId:this.di.u,packageId:this.di.rl,lang:k});}for(k=0;k<c;k++)if(h=this.ak[k],h.uka<=a&&a<=h.sP){c=h;break a;}c=void 0;}k=c;}else k=void 0;if(c=k&&0<k.entries.length&&0===k.images.length)a:{c=k.entries.length;for(d=0;d<c;d++)if(h=k.entries[d],h.tj<=a&&h.tj+h.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function f(a,b){var c,d;c=[];if(a=t.call(this,a))this.xK=a;else return this.xK={},c;for(var f=0,h=this.ak?this.ak.length:0;f<b&&a.index+f<h;){d=this.ak[a.index+f];d&&!d.images.length&&c.push(d);f++;}return c;}function t(a){var b,c,f,h,d,k,t;c=this.xK;f=c.Cs;h=c.index;d=this.ak;this.ik(T.Xb(a));f&&(0===h&&a<=f.startTime?(t=!0,b=c):a>=f.startTime&&a<=f.endTime?(t=!0,b=c):(k=d[h-1],d=d[h+1],k&&a>k.endTime&&a<=f.startTime?(t=!0,b=c):d&&a>=f.endTime&&a<=d.endTime&&(t=!0,b={Cs:d,index:h+1})));if(!t)for(c=this.di.entries,f=c.length,h=0;h<f;h++)if(k=c[h].dma,a<=k.startTime||a>k.startTime&&a<=k.endTime){b={Cs:c[h].dma,index:h};break;}return b;}function g(a,b,c,f){var h,d,k,t,p,l;h=a.entries;d=h.length;k=[];p=0;if(!h.length)return k;for(;p<d;){t=h[p];if(t.tj<=b)t.tj+t.duration>=b&&k.push(T.Wba(t,a.images[p].data,f));else{l=k.length&&k[k.length-1]||c.length&&c[c.length-1];if(l&&l.tj>b&&l.tj!==t.tj)break;l.Vr!==t.Vr&&k.push(T.Wba(t,a.images[p].data,f));}p++;}return k;}function G(a){return a.map(function(b,c){b.duration+=T.xhb(a.slice(c+1),b);return b;}).reduce(function(a,b){T.VBb(a,b.id)||a.push(b);return a;},[]);}function D(a,b,c){var f,h,d,k,t,p;f=this;h=a[0];d=a[a.length-1];0<h.entries.length&&(k=h.entries[0].Vr,t=h.entries[h.entries.length-1]);0<d.entries.length&&(T.Xb(k)||(k=d.entries[0].Vr),t=d.entries[d.entries.length-1]);if(k){h=t.Vr+t.AG-k;p=T.slb(k,h);f.L9[p]||(f.L9[p]=!0,m.call(f,a,b),f.hL({url:f.Zk,offset:k,size:h},function(b,h){var d,t,l,n;setTimeout(function(){delete f.L9[p];},1E3);if(b)c&&c(b);else{d=new Q(h);t=0;n=[];a.forEach(function(a){a.entries.forEach(function(b,c){var h,p;d.position=b.Vr-k;h={data:d.Ld(b.AG)};p=b.oX;p&&(h.Xx=p.Xx,h.HFa=p.mode,l=!0,n.push(h));a.images[c]=h;!b.oX&&T.uUa(a.images[c].data,f.ik.bind(f));t+=a.images[c].data.length;});});f.Cw+=t;l?f.Yz.then(function(a){return R.call(f,n,a);}).then(function(){c&&c(null);})["catch"](function(a){f.Cb.error("decrypterror",a);c&&c({da:!1});}):c&&c(null);}}));}else c&&c(null);}function m(a,b){var d,k,p,l,n,q;function c(){return{pts:b,hasEnoughSpace:d.Cw+k<=d.TK,required:k,currentSize:d.Cw,max:d.TK,currentIndex:t.call(d,b).index,sidxWithImages:L.call(d),newSidxes:a.map(function(a){return d.ak.indexOf(a);})};}function f(a,b){d.DU&&!a&&d.Cb.info("not done in iteration",b);}function h(a){var b,c,f;b=d.ak[a];c=b.images&&b.images.length;if(0<c){f=F([b]);b.images=[];d.Cw-=f;d.DU&&d.Cb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(d.Cw+k<=d.TK)return!0;}}d=this;k=F(a);d.Cb.info("make space start:",c());if(!(d.Cw+k<=d.TK)){p=t.call(d,b).index;l=!1;n=0;q=d.ak.length-1;if(0>p){d.Cb.error("inconsistent sidx index");return;}for(;!l&&n<p-2;)l=h(n),n++;for(f(l,1);!l&&q>p+2;)l=h(q),q--;for(f(l,2);!l&&n<p;)l=h(n),n++;for(f(l,3);!l&&q>p;)l=h(q),q--;f(l,4);l||d.Cb.error("could not make enough space",{maxBuffer:this.TK});}d.Cb.info("make space end",c());}function F(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.AG+a;},0);},0);}function L(){var a;a=[];this.di&&this.di.entries&&this.di.entries.reduce(function(b,c,f){var h;c=c.dma;h=0;c&&c.images.length&&(a.push(f),h=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+h;},0);return a.join(", ");}function r(a,b){return a&&a.uka<=b&&a.sP>=b;}function U(a,b){var c,f,h,d,k,t;c=this;f=c.di;h=c.ak;d=h&&h.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&h){if(0===d)return[];f=h[0].duration;if(T.Xb(f)&&0<f)f=Math.floor(a/f),k=f<d&&r(h[f],a)?h[f]:void 0;else for(c.DU&&c.Cb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<d;f++){t=h[f];if(r(t,a)){k=t;break;}}if(T.Xb(k)){k=[];for(var p=function(c){var f;f=c.tj<=a&&a<=c.tj+c.duration;return a<=c.tj&&c.tj<=b||f;};f<d;){t=h[f];k=k.concat(t.entries.filter(p));if(b<t.sP)break;f++;}k=k.map(function(a){return T.Wba(a,null,c.di);});return G(k);}}}function R(a,b){var f,h;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.Xx);return c.Bya.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));T.uUa(a.data,c.ik.bind(c));});}f=this;try{h=[];a.forEach(function(a){a.Xx&&(a=c.call(f,a,b),h.push(a));});return(void 0).all(h);}catch(za){return f.Cb.error("decrypterror",za),(void 0).reject(za);}}u=a(129).EventEmitter;Q=a(552);y=a(315);T=a(551);qa=c.events={D_a:"midxready",P1a:"sidxready",Nva:"ready",ERROR:"error"};da=c.dSb={B_a:"midxdownloaderror",C_a:"midxparseerror",d0a:"nosidxfoundinmidx",N1a:"sidxdownloaderror",O1a:"sidxparseerror"};c.prototype=Object.create(u.prototype);c.prototype.constructor=c;c.prototype.start=function(){var a;if(this.di)this.Cb.warn("midx was prefectched and provided"),k.call(this);else{a={url:this.Zk,offset:this.Qd,size:this.NE,responseType:"binary"};this.Cb.warn("downloading midx...");this.hL(a,n.bind(this));}};c.prototype.close=function(){};c.prototype.ik=function(a){this.DU&&T.assert(a,this.Cb);};c.prototype.Lx=function(a,b){return U.call(this,a,b);};c.prototype.xfa=function(a,b){return(a=this.Lx(a,b))?a.length:a;};d.P=c;},function(d,b,a){var q;function c(a,b){return b.reduce(l.bind(this,a),[]);}function l(a,b,c){var h,f;h=c.displayTime-a;a=c.displayTime+c.duration-a;f=0<b.length?b[0].timeout:Infinity;return 0<h&&h<f?[{timeout:h,type:"showsubtitle",pe:c}]:h===f?b.concat([{timeout:h,type:"showsubtitle",pe:c}]):0<a&&a<f?[{timeout:a,type:"removesubtitle",pe:c}]:a===f?b.concat([{timeout:a,type:"removesubtitle",pe:c}]):b;}q=a(129).EventEmitter;b=a(273)({});a=function k(a,b,c){if(!(this instanceof k))return new k(a,b,c);q.call(this);this.vt=a;this.E4a=b;this.It={};this.OE={};this.Cb=c||console;this.VT=!1;};a.prototype=Object.create(q.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Yk);Object.keys(a.It).forEach(function(b){a.emit("removesubtitle",a.It[b]);});a.It={};};a.prototype.pause=function(){clearTimeout(this.Yk);};a.prototype.Gq=function(a,b){var h,f;h=this;f=h.vt();clearTimeout(this.Yk);a=h.E4a(f);null!==a&&h.VT&&(h.VT=!1,h.emit("bufferingComplete"));b="number"===typeof b?b:0;Object.keys(h.It).forEach(function(a){a=h.It[a];a.displayTime<=f&&f<a.displayTime+a.duration||(delete h.It[a.id],h.emit("removesubtitle",a));});Object.keys(h.OE).forEach(function(a){a=h.OE[a];f>=a.displayTime+a.duration&&delete h.OE[a.id];});null!==a&&0<a.length?(b=a.length,h.Cb.info("found "+b+" entries for pts "+f),a.forEach(function(a){a.displayTime<=f&&f<a.displayTime+a.duration&&!h.It[a.id]&&(h.emit("showsubtitle",a),h.It[a.id]=a,delete h.OE[a.id]);}),b=a[a.length-1],h.It[b.id]||h.OE[b.id]||(h.emit("stagesubtitle",b),h.OE[b.id]=b),b=c(f,a),0<b.length?h.eV(b[0].timeout):h.eV(2E4)):null===a?(a=250*Math.pow(2,b),2E3<a&&(a=2E3),h.Cb.warn("checking buffer again in "+a+"ms"),h.VT||(h.VT=!0,h.emit("underflow")),h.eV(a,b+1)):h.eV(2E4);};a.prototype.eV=function(a,b){var c;c=this;c.Cb.trace("Scheduling pts check.");c.Yk=setTimeout(function(){c.Gq(c.vt(),b);},a);};d.P=b(["function","function","object"],a);},function(d,b,a){var k,p,h;function c(a){var b;b=1;"dfxp-ls-sdh"===this.WU&&(b=a.NQb.length);this.Cb.info("show subtitle called at "+this.vt()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Jw[this.Jw.length-1].D1+=b;}function l(a){this.Cb.info("remove subtitle called at "+this.vt()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function q(){this.Cb.info("underflow fired by the subtitle timer");this.emit("underflow");}function n(){this.Cb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}k=a(129).EventEmitter;p=a(554);b=a(273)();h=a(553);a=function t(a,b){var d,g;d=this;g=a.Kh||!1;if(!(d instanceof t))return new t(a,b);k.call(d);d.Cb=a.ja||console;d.hL=a.request;d.vt=a.nIa;d.Yk=null;d.Ct=!0;d.Jw=[];d.WU=b.profile;d.Zk=b.url;d.XU=b.Rc;d.K6a=b.tyb;d.Y3a=b.am;a={url:d.Zk,request:d.hL,Rc:d.XU,xml:b.xml,tyb:d.K6a,am:d.Y3a,ja:d.Cb,Kh:g,bufferSize:b.bufferSize,crypto:b.crypto,key:b.key,nq:b.nq};if("nflx-cmisc"===d.WU)a.offset=b.y_,a.size=b.Fia,d.Ed=new h(a);else if("nflx-cmisc-enc"===d.WU)a.version=2,a.offset=b.y_,a.size=b.Fia,d.Ed=new h(a);else throw Error("SubtitleManager: "+d.WU+" is an unsupported profile");d.Ed.on("ready",function(){var a,h;a=!!b.G$a;d.Cb.info("ready event fired by subtitle stream");d.emit("ready");h=d.Ed.flb.bind(d.Ed);d.Yk=new p(d.vt,h,d.Cb);d.Yk.on("showsubtitle",c.bind(d));d.Yk.on("removesubtitle",l.bind(d));d.Yk.on("underflow",q.bind(d));d.Yk.on("bufferingComplete",n.bind(d));a&&(d.Cb.info("autostarting subtitles"),setTimeout(function(){d.Gq(d.vt());},10));});d.Ed.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(k.prototype);a.prototype.start=function(){this.Ed.start();};a.prototype.Gq=function(a){this.Ct&&(this.Ct=!1,this.Cb.info("creating a new subtitle interval at "+a),this.Jw.push({T:a,D1:0}));null!==this.Yk&&this.Yk.Gq(a);};a.prototype.stop=function(){var a;this.vt();this.Cb.info("stop called");this.Ct||this.pause();this.Ed.removeAllListeners(["ready"]);null!==this.Yk&&this.Yk.stop();a=this.Jw.reduce(function(a,b){a.SRa+=b.D1;a.Up+=b.WFa;a.Xpb.push(b);return a;},{SRa:0,Up:0,Xpb:[]});"object"===typeof this.Ed&&this.Ed.close();this.Cb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.vt();if(this.Ct)this.Cb.warn("pause called on subtitle manager, but it was already paused!");else{this.Cb.info("pause called at "+a);this.Ct=!0;this.Cb.info("ending subtitle interval at "+a);b=this.Jw[this.Jw.length-1];b.na=a;b.na<b.T&&(this.Cb.warn("correcting for interval where endPts is smaller than startPts"),b.T=0<b.na?b.na-1:0);b.WFa=this.Ed.xfa(b.T,b.na);this.Cb.info("showed "+b.D1+" during this interval");this.Cb.info("expected "+b.WFa+" for this interval");}null!==this.Yk&&this.Yk.pause();};a.prototype.Lx=function(a,b){return this.Ed.Lx(a,b);};a.prototype.xfa=function(a,b){return this.Ed.xfa(a,b);};a=b([{request:"function",nIa:"function",ja:"object"},"object"],a);d.P=a;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Yna=void 0;c=a(0);l=a(1);q=a(30);n=a(37);k=a(41);p=a(28);h=a(238);d=function(){var b;function a(a,b,c,f){a=k.$d.call(this,a,void 0===f?"AppInfoConfigImpl":f)||this;a.config=b;a.j2=c;return a;}ca(a,k.$d);a.prototype.Amb=function(a){return""+this.KFa+(this.j2.ama(a)?"/msl_v1":"");};a.prototype.Imb=function(a){return""+this.host+(this.j2.ama(a)?"/msl":"")+"/playapi";};na.Object.defineProperties(a.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},KFa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.WF){case q.Ts.e2a:a="www.stage";break;case q.Ts.hxa:a="www-qa.test";break;case q.Ts.gsa:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},uCa:{configurable:!0,enumerable:!0,get:function(){return"pbo_manifests";}}});b=a;c.__decorate([n.config(n.string,"apiEndpoint")],b.prototype,"endpoint",null);c.__decorate([n.config(n.string,"nqEndpoint")],b.prototype,"KFa",null);c.__decorate([n.config(n.string,"bindService")],b.prototype,"uCa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(p.Ei)),c.__param(1,l.l(q.Qj)),c.__param(2,l.l(h.$J)),c.__param(3,l.l(p.ez)),c.__param(3,l.optional())],b);}();b.Yna=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.LBa=void 0;c=a(556);l=a(117);d=a(1);q=a(89);n=a(14);b.LBa=new d.Cc(function(a){a(l.Vy).to(c.Yna).$();});b.profile=new d.Cc(function(a){a(q.TD).Qy(function(a){return(a=a.kb.get(n.fd)())&&a.Ir?"browsertest":"browser";});});},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.aPa=void 0;c=a(2);l=[c.J.EZa,c.J.Nra,c.J.Lra,c.J.Mra,c.J.Sra,c.J.Hra,c.J.Fra,c.J.U4,c.J.Tra,c.J.Ira,c.J.BZa,c.J.CZa,c.J.Gra,c.J.$v,c.J.Cra,c.J.Era,c.J.Pra,c.J.Qra,c.J.Rra,c.J.FZa,c.J.HZa,c.J.LZa,c.J.JZa,c.J.IZa,c.J.GZa,c.J.KZa,c.J.Ora,c.J.Kra,c.J.Jra,c.J.Dra];(function(a){a.k0a=function(a){var f;for(var b={},h=0;h<a.length;h++){f=a[h];if(b[f.errorCode])return{errorCode:f.errorCode,ga:c.I.hVa};b[f.errorCode]=1;}};a.l0a=function(a){var h;for(var b=0;b<a.length;b++){h=a[b];if(-1===l.indexOf(h.errorCode))return{errorCode:h.errorCode,ga:c.I.iVa};}};}(q||(q={})));b.aPa=function(a){return new Promise(function(b,c){var h;h=q.l0a(a);h&&c(h);(h=q.k0a(a))&&c(h);b(a.sort(function(a,b){return l.indexOf(a.errorCode)-l.indexOf(b.errorCode);}));});};},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,m,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.soa=void 0;c=a(0);l=a(69);q=a(2);n=a(558);k=a(52);p=a(1);h=a(8);f=a(14);t=a(64);g=a(3);G=a(86);m=a(274);J=a(25);F=a(9);d=function(){var b;function a(a,b,c,f,h,d){var k;k=this;this.bj=a;this.config=c;this.Dk=f;this.debug=h;this.qa=d;this.jTa=[];this.pd={};this.log=b.yb("loadAsync");this.Xsb=m.bra(function(a){k.rAb=!0;k.startTime=k.qa.Zb().ba(g.ia);k.load(k.jTa).then(function(){k.endTime=k.qa.Zb().ba(g.ia);a(F.gd);})["catch"](function(b){k.endTime=k.qa.Zb().ba(g.ia);a(b);});});}a.prototype.fO=function(a){this.Xsb(a);};a.prototype.register=function(a,b){this.debug.assert(!this.rAb);this.jTa.push({msb:this.abb(b),errorCode:a});};a.prototype.dd=function(a){this.debug.assert(void 0===this.pd[a]);this.pd[a]=this.qa.Zb().ba(g.ia);};a.prototype.load=function(a){var b;b=this;return n.aPa(a).then(function(a){b.bj.mark(k.Od.ai.nVa);return a.reduce(function(a,c){return a.then(function(){return b.isb(c);});},Promise.resolve()).then(function(){b.bj.mark(k.Od.ai.lVa);});});};a.prototype.isb=function(a){var b,c;b=this;c=a.msb;return this.Dk.Am(g.Ib(this.config().j$a),c())["catch"](function(c){b.log.error("Failed to load component "+a.errorCode,c);b.bj.mark(k.Od.ai.mVa);if(c instanceof t.Xm)throw{ga:q.I.kVa,errorCode:a.errorCode};c.errorCode=c.errorCode||a.errorCode;c.ga=c.ga||q.I.jVa;throw c;});};a.prototype.abb=function(a){return function(){return new Promise(function(b,c){a(function(a){a.da?b():c(a);});});};};b=a;return b=c.__decorate([p.N(),c.__param(0,p.l(l.tw)),c.__param(1,p.l(h.Bb)),c.__param(2,p.l(f.fd)),c.__param(3,p.l(t.nw)),c.__param(4,p.l(G.Nq)),c.__param(5,p.l(J.Ue))],b);}();b.soa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;d=a(1);c=a(559);l=a(24);b.aCa=new d.Cc(function(a){a(l.sf).to(c.soa).$();});},function(d,b,a){var l,q,n,k,p,h,f;function c(a,b,c,f,h,d,k,q,g,m){var t;t=p.EJ.call(this,b,c,g,m)||this;t.Ej=a;t.ja=f;t.he=h;t.qa=d;t.byb=k;t.fG=!1;t.eka=Promise.resolve();t.tMa=q.Rba({ifa:function(){return n.Ib(100);}},function(){return t.Ih().fY()||0;});t.Jb.addListener(l.wb.loaded,function(){return t.FH();});return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=void 0;l=a(13);q=a(181);n=a(3);k=a(2);p=a(275);h=a(279);f=a(112);ca(c,p.EJ);c.prototype.SO=function(){this.FH();};c.prototype.HNa=function(){};c.prototype.OIa=function(a,b){var c,h,d,t;c=this.Ic.Rg(a);if(this.Ej.w2&&this.Ic.fa.oa===c.oa)return Promise.resolve(this.Ih().seek(c.mf,l.Ae.ft,void 0));h=this.Al.FY(c.oa);b=f.Eia(h.fb,b);d=this.Ih().Qr();if(h.state!==q.fo.R3)return h=h.state===q.fo.Error?h.error:this.he(k.J.M0a,{rb:a}),d.cob({oa:c.oa,Na:a,Oa:b},h),d.vo("Transition "+this.Ic.rg+"->"+a+" error "+h.UA),Promise.reject();c=d.Gb;if(!c)throw this.ja.debug("No streaming session. Aborting transition"),Error("No streaming session");this.ja.debug("going to next segment: "+this.Ic.rg+" -> "+a);d.vo("Transition "+this.Ic.rg+"->"+a);t=d.Du(a);t.Jk=this.qa.Zb().ba(n.ia);t.Oa=b;return(void 0!==c.dY(a)?this.dob(a,t.u):this.OP(a,t.u)).then(function(){d.BGa(t.u);});};c.prototype.OP=function(a,b){var c;c=this.Ic.Fj.Va[a].mf;this.ja.debug("Segment is not pre-buffered - performing a regular seek");this.Ih().Qr().vo("NO DATA "+a+", SEEKING "+c+", viewableId: "+b);return Promise.resolve(this.Ih().seek(c,l.Ae.ft,a,!0));};c.prototype.dob=function(a,b){var c,f,h,d,k;c=this;f=this.Ih().Qr();h=f.Gb;if(!h)throw Error("No streaming session");d=new Promise(function(a){function b(){c.ja.debug("Stopped ASE");h.removeEventListener("stop",b);a();}h.addEventListener("stop",b);});k=new Promise(function(a){function b(){c.ja.debug("Repositioned");f.removeEventListener(l.U.gp,b);a();}function d(){c.ja.debug("Repositioning");f.removeEventListener(l.U.ys,d);h.stop();}f.addEventListener(l.U.ys,d);f.addEventListener(l.U.gp,b);});d=Promise.all([d,k]).then(function(){if(!h.ju(a,!1,!0))return f.vo("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.OP(a,b);f.fireEvent(l.U.P_,{rg:c.Ic.rg,MO:a});});k=h.qM(void 0,this.Ic.Fj.Va[a].mf,a);this.ja.debug("Calling seek on internal player to "+k);this.Ih().seek(k,l.Ae.Gz,a,!0);return d;};c.prototype.fka=function(a){if(!this.fG)return this.fG=!0,p.EJ.prototype.fka.call(this,a);this.FH();this.eka=this.Ih().Qr().Ob.when(function(a){return a!==l.jb.Xf;}).then(function(){});return this.Al.FY(a.u).Jzb;};c.prototype.FH=function(){var a,b;a=this;if(this.isReady()){this.tMa.cancel();b=this.byb.TDb();b.result===h.eo.psa?this.tMa.observe(b.Li,function(){a.FH();}):b.result===h.eo.j8&&this.Dyb(b.DUa);}};c.prototype.Dyb=function(a){var c,f,h,d,k,p,t;function b(a){a.u===k&&(c.Ic.rg=f,c.FH(),d.removeEventListener(l.U.Vo,b),c.Jb.Vb(l.Dz.RP));}c=this;f=a.Na;h=this.Ic.Rg(f);d=this.Ih().Qr();a=Object.assign(this.Al.FY(a.oa).fb||{},{T:h.mf,na:h.tg,Si:!1,m2:Date.now(),KZ:!0});k=d.R$({oa:h.oa,Na:f,Oa:a});p=d.gm(k);this.ja.debug("Creating new playback xid: "+p.ha+", movieId: "+p.u);d.addEventListener(l.U.Vo,b);t="pauseAtStart"!==h.ke;this.Al.eDb(h.oa);d.vo("queueManifest",p.Na);this.eka=a=this.eka.then(function(){return d.szb(k,t);}).then(function(){d.vo("queueManifest done",p.Na);c.Al.tRa(h.oa);d.wyb(p);})["catch"](function(a){d.vo("queueManifest error "+a.UA,p.Na);c.Al.dDb(h.oa,a);throw a;});a.then(function(){return c.FH();});};b.Gwa=c;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,m;Object.defineProperty(b,"__esModule",{value:!0});b.tva=void 0;c=a(0);l=a(1);q=a(60);n=a(25);k=a(124);p=a(561);h=a(455);f=a(246);t=a(14);g=a(275);G=a(247);m=a(29);d=function(){var b;function a(a,b,c,f,h,d,k,p){this.qa=a;this.he=b;this.iCb=f;this.Ej=d;this.jy=k;this.um=p;this.gCb=c.Gx(!1,"6.0023.976.011",a.id,p,h);}a.prototype.create=function(a,b,c,f,h){var d,k;d=this.iCb.Veb(this.gCb);k=this.Ej.v2||this.Ej.rUa&&1<Object.keys(a.Fj.Va).length;c.debug("Using "+(k?"single":"multiple")+" player playback strategy");return k?new p.Gwa(this.Ej,a,b,c,this.he,this.qa,f,this.jy,d,h):new g.EJ(a,b,d,h);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(n.Ue)),c.__param(1,l.l(q.Nk)),c.__param(2,l.l(h.x7)),c.__param(3,l.l(f.CT)),c.__param(4,l.l(t.fd)),c.__param(5,l.l(k.SD)),c.__param(6,l.l(G.KS)),c.__param(7,l.l(m.PD))],b);}();b.tva=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.nva=void 0;c=a(0);l=a(1);q=a(41);n=a(28);k=a(37);p=a(3);d=function(){var b;function a(a){return q.$d.call(this,a,"PlaygraphConfigImpl")||this;}ca(a,q.$d);na.Object.defineProperties(a.prototype,{WOa:{configurable:!0,enumerable:!0,get:function(){return 2;}},VOa:{configurable:!0,enumerable:!0,get:function(){return p.GO(3);}},v2:{configurable:!0,enumerable:!0,get:function(){return!1;}},w2:{configurable:!0,enumerable:!0,get:function(){return!1;}},rUa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([k.config(k.Nv,"prepareSegmentsUpfront")],b.prototype,"WOa",null);c.__decorate([k.config(k.Ug,"prepareSegmentsDuration")],b.prototype,"VOa",null);c.__decorate([k.config(k.kd,"usePlaygraphForPostPlay")],b.prototype,"v2",null);c.__decorate([k.config(k.kd,"usePlaygraphForSkipSegment")],b.prototype,"w2",null);c.__decorate([k.config(k.kd,"useSinglePlayerPlayback")],b.prototype,"rUa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(n.Ei))],b);}();b.nva=d;},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;c=a(0);l=a(1);q=a(144);d=function(){var b;function a(){}a.prototype.efb=function(a){var d,k,p;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;if(0===b.length)throw Error("Empty playgraph");k=new q.nT().Qla(this.XX(b[0]));b.reverse().forEach(function(a){var b;b=d.XX(a);k.Hp(b,Object.assign({oa:a,mf:0},p?{gl:p}:{}));p=b;});return k.dk();};a.prototype.XX=function(a,b){return a+":[startPts:"+(void 0===b?0:b)+"]";};a.prototype.I9a=function(a,b){var c,h,d,k;c=void 0===c?this.XX(b.u,b.T):c;h=void 0===h?"pauseAtStart":h;d=this.bmb(a);k=new q.nT(a);k.Hp(c,{oa:b.u,mf:b.T||0,ke:h});a=a.Va[d];b={};k.Hp(d,Object.assign({},a,{gl:c,next:Object.assign({},a.next||{},(b[c]={},b))}));return k.dk();};a.prototype.bmb=function(a){for(var b=a.Jh,c=b;c=a.Va[c].gl;)b=c;return b;};b=a;return b=c.__decorate([l.N()],b);}();b.ova=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.xva=void 0;c=a(0);l=a(1);d=function(){var d;function b(){}b.prototype.create=function(b,c,h){return new(a(276)).Nxa(b,c,h);};d=b;return d=c.__decorate([l.N()],d);}();b.xva=d;},function(d,b,a){var l,q;function c(a,b,c){this.Ej=a;this.Ff=b;this.Al=c;}Object.defineProperty(b,"__esModule",{value:!0});b.uva=void 0;l=a(3);q=a(279);c.prototype.TDb=function(){var a,b,c,h,f;a=this.Al.RMa;if(!a)return{result:q.eo.HJ};b=this.Ff.Ic;if(b.rg===a.Na)return{result:q.eo.j8,DUa:a};c=this.jnb(b,b.rg,a.Na);if(!c)return{result:q.eo.HJ};h=c.duration;if(c.ru>=this.Ej.WOa)return{result:q.eo.HJ};c=this.wHa(b.rg);if(!c)return{result:q.eo.HJ};b=this.Ff.Ih().fY()||0;c=Math.max(0,c-b);h=c+h;f=this.Ej.VOa.ba(l.ia);if(h<=f)return{result:q.eo.j8,DUa:a};a=h-f;return c<a?{result:q.eo.HJ}:{result:q.eo.psa,Li:b+a};};c.prototype.jnb=function(a,b,c){var d,k,f;b=a.sN(b);for(var h=0,f=0;b!==c&&void 0!==b;){h++;d=a.Rg(b);k=this.wHa(b)||Infinity;f=f+(k-d.mf);b=a.sN(b);}return b?{ru:h,duration:f}:void 0;};c.prototype.wHa=function(a){var b,c;b=this.Ff.Ic;c=b.vIa(a);if(void 0!==c)return c;a=b.Rg(a);if(a=this.Ff.gm(a.oa))return a.Er.ba(l.ia);};b.uva=c;},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rva=void 0;l=a(144);c.prototype.nGb=function(a){var b;if(!this.Pqb(a.Va))return a;b=new l.nT().Qla(a.Jh);Object.keys(a.Va).forEach(function(c){c===a.Jh?b.Hp(c,Object.assign(Object.assign({},a.Va[c]),{next:void 0,tg:void 0,gl:void 0})):b.Hp(c,a.Va[c]);});return b.dk();};c.prototype.Pqb=function(a){var b;b=Object.keys(a).map(function(b){return a[b].oa;});return 1===new Set(b).size;};b.rva=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.Jh,segments:a.Vfb(b.Va)},void 0!==b.ke?{transitionType:b.ke}:{});};a.encode=function(b){return Object.assign({Jh:b.initialSegment,Va:a.fib(b.segments)},void 0!==b.transitionType?{ke:b.transitionType}:{});};a.eTb=function(a){return void 0!==a.Jh&&void 0!==a.Va;};a.kTb=function(a){return void 0!==a.oa&&void 0!==a.mf;};a.fib=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.eib(b[d]);return c;},{});};a.eib=function(b){return Object.assign({oa:b.viewableId,mf:b.startTimeMs},b.endTimeMs?{tg:b.endTimeMs}:{},b.defaultNext?{gl:b.defaultNext}:{},b.transitionType?{ke:b.transitionType}:{},b.next?{next:a.cib(b.next)}:{},b.transitionDelayZones?{i2:b.transitionDelayZones}:{});};a.cib=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.dib(b[d]);return c;},{});};a.dib=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.transitionType?{ke:a.transitionType}:{});};a.Vfb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Ufb(b[d]);return c;},{});};a.Ufb=function(b){return Object.assign({viewableId:b.oa,startTimeMs:b.mf},b.tg?{endTimeMs:b.tg}:{},b.gl?{defaultNext:b.gl}:{},b.ke?{transitionType:b.ke}:{},b.next?{next:a.Sfb(b.next)}:{},b.i2?{transitionDelayZones:b.i2}:{});};a.Sfb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Tfb(b[d]);return c;},{});};a.Tfb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.ke?{transitionType:a.ke}:{});};return a;}();b.p1a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){a&&(this.Qla(a.Jh),this.yDb(a.ke),this.sDb(a.Va));}a.prototype.Qla=function(a){this.Jh=a;return this;};a.prototype.yDb=function(a){this.ke=a;};a.prototype.Hp=function(a,b){this.Va||(this.Va={});this.Va[a]=this.DEa(b);return this;};a.prototype.sDb=function(a){var b;b=this;this.Va={};Object.keys(a).forEach(function(c){return b.Hp(c,a[c]);});};a.prototype.dk=function(){if(!this.Va)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Jh)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Va[this.Jh])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({Jh:this.Jh,Va:this.Va},this.ke?{ke:this.ke}:{});};a.prototype.DEa=function(a){var b;b=this;return a&&"object"===typeof a?Object.keys(a).reduce(function(c,d){c[d]="object"===typeof a[d]?b.DEa(a[d]):a[d];return c;},{}):a;};return a;}();b.nT=d;},function(d,b,a){var l;function c(a){this.NU={};this.lma={};this.YTa=[];this.YRa=[];this.Fj=a;this.rg=a.Jh;}Object.defineProperty(b,"__esModule",{value:!0});b.wva=void 0;l=a(144);c.prototype.cQ=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.QP(a.Na);}).filter(function(a){a=a.MO;return!a||d.QP(a);}).forEach(function(a){d.NU[a.Na]=d.jja(a.MO);});};c.prototype.YBa=function(a){var b;b=this;a.filter(function(a){return b.QP(a);}).forEach(function(a){b.NU[a]=b.jja(b.Rg(a).gl);});};c.prototype.qp=function(a,b){var c,d,h;c=this.Rg(a);if(c&&c.next){d=new l.nT(this.Fj);h=Object.keys(c.next).reduce(function(a,h){a[h]=void 0===b[h]?c.next[h]:Object.assign({},c.next[h],{weight:b[h]});return a;},{});h=Object.assign({},c,{next:h});d.Hp(a,h);this.Fj=d.dk();}};c.prototype.QP=function(a,b){b=void 0===b?this.Fj.Va:b;return a in b;};c.prototype.sN=function(a){return this.NU[a];};c.prototype.Rg=function(a){return this.Fj.Va[a];};c.prototype.vIa=function(a){return void 0===this.lma[a]?this.jja(this.Rg(a).tg):this.lma[a];};c.prototype.kHb=function(a,b){this.lma[a]=b;this.Bvb(a);};c.prototype.aFb=function(a){this.YTa.push(a);};c.prototype.bFb=function(a){this.YRa.push(a);};c.prototype.Dvb=function(){var a;a=this;this.YTa.forEach(function(b){return b(a.Fj);});};c.prototype.Bvb=function(a){this.YRa.forEach(function(b){return b(a);});};c.prototype.jja=function(a){return null===a?void 0:a;};na.Object.defineProperties(c.prototype,{Fj:{configurable:!0,enumerable:!0,get:function(){return this.J6a;},set:function(a){if(this.rg&&!this.QP(this.rg,a.Va))throw Error("Provided playgraphMap does not contain the current segmentId "+this.rg);this.J6a=a;this.NU={};a=Object.keys(a.Va);this.YBa(a);this.Dvb();}},rg:{configurable:!0,enumerable:!0,get:function(){return this.U3a;},set:function(a){if(!this.QP(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.U3a=a;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Rg(this.rg);}}});b.wva=c;},function(d,b,a){var l;function c(a){this.xg=a;this.Os={};this.SO();}Object.defineProperty(b,"__esModule",{value:!0});b.yva=void 0;l=a(181);c.prototype.SO=function(){var a,b;a=this;b=this.xg.Fj.Va;Object.keys(b).map(function(c){var d,h;c=b[c].oa;if(!a.Os[c]){d=void 0;h=new Promise(function(a,b){d=function(c){(c?a:b)();};});a.Os[c]={state:l.fo.Sta,Jzb:h,yQa:d};}});this.p2();};c.prototype.FY=function(a){return this.Os[a];};c.prototype.eDb=function(a){this.Os[a].state=l.fo.Xqa;this.p2();};c.prototype.dDb=function(a,b){a=this.Os[a];a.state=l.fo.Error;a.error=b;a.yQa(!1);this.p2();};c.prototype.tRa=function(a){a=this.Os[a];a.state=l.fo.R3;a.yQa(!0);this.p2();};c.prototype.$8a=function(a,b){this.Os[a].fb=b;};c.prototype.p2=function(){var b;this.RMa=void 0;for(var a=this.xg.rg;a=this.xg.sN(a);){b=this.Efa(a);if(this.Os[b].state===l.fo.Error)break;if(this.Os[b].state===l.fo.Xqa)break;if(this.Os[b].state===l.fo.Sta){this.RMa={oa:b,Na:a};break;}}};c.prototype.Efa=function(a){return this.xg.Fj.Va[a].oa;};b.yva=c;},function(d,b,a){var l,q,n,k,p,h;function c(a,b,c,d,l,q,g){this.hP=d;this.cna=q;this.fG=!1;l.w2&&(a=new p.rva().nGb(a));this.Ic=new k.wva(a);this.Al=new n.yva(this.Ic);this.Al.tRa(this.Ic.fa.oa);this.log=b.yb("PlaygraphManager");a=new h.uva(l,this,this.Al);this.Jb=c.create();this.py=g.create(this.Ic,this.Al,this.log,a,this.Jb);this.IDb();}Object.defineProperty(b,"__esModule",{value:!0});b.qva=void 0;l=a(13);q=a(181);n=a(571);k=a(570);p=a(567);h=a(566);c.prototype.gY=function(){return this.Ic.fa;};c.prototype.lHa=function(){return this.Ic.rg;};c.prototype.Pmb=function(){return this.Ic.Fj;};c.prototype.cQ=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Ic.cQ.apply(this.Ic,[].concat(fa(b)));};c.prototype.Sbb=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Ic.YBa(b);};c.prototype.fHb=function(a){this.Ic.Fj=a;};c.prototype.qp=function(a,b){this.Ic.qp(a,b);};c.prototype.Gfa=function(a,b,c){if(a!==this.Ic.rg)throw Error("Invalid currentSegmentId");if(b!==this.Ic.sN(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: "+a+" -> "+b);return this.py.OIa(b,c);};c.prototype.isReady=function(){return this.py.isReady();};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.Fn=function(){return this.py.Fn();};c.prototype.Ih=function(){return this.py.Ih();};c.prototype.Hp=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: "+a.u+", startPts: "+a.T+", logicalEnd: "+(""+a.On));if(this.fG){c=Object.keys(this.Ic.Fj.Va).find(function(c){return b.Ic.Fj.Va[c].oa===a.u;});if(c)return a.On&&this.Ic.kHb(c,a.On),null;c=this.hP.I9a(this.Ic.Fj,a);this.Ic.Fj=c;this.Ih().Qr().vo("addSegment movieId: "+a.u+", startPts: "+a.T+", logicalEnd: "+a.On);this.Al.$8a(a.u,a.fb);}c=this.py.fka(a);this.fG||(this.Ih().Qr().addEventListener(l.U.n1,function(a){return b.uja(a);}),this.fG=!0);return c;};c.prototype.transition=function(a){var b;b=this.Ic.sN(this.Ic.rg);return b?this.Gfa(this.Ic.rg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.py.close(a);};c.prototype.gm=function(a){if(this.Al.FY(a).state==q.fo.R3)return this.Ih().Qr().gm(a);};c.prototype.IDb=function(){var a;a=this;this.Ic.aFb(function(){a.Al.SO();a.py.SO();});this.Ic.bFb(function(b){a.py.HNa(b);});this.addListener(l.Dz.RP,function(){return a.pwb();});};c.prototype.pwb=function(){var a;a=this.Ih().getError();a?this.Jb.Vb(l.wb.Paa,a):(this.Jb.Vb(l.wb.eCa),this.Jb.Vb(l.wb.LL),this.Jb.Vb(l.wb.RC),this.Jb.Vb(l.wb.zI),this.Jb.Vb(l.wb.LQ),this.Jb.Vb(l.wb.Paa));};c.prototype.uja=function(a){var b,c,f;b=a.metrics;if(b){c=this.Ih().Qr();f=c.Du(a.segmentId);b=c.Du(b.srcsegment);this.cna.$yb(a,f,b);}};b.qva=c;},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.pva=void 0;c=a(0);l=a(1);q=a(572);n=a(8);k=a(124);p=a(459);h=a(278);f=a(180);t=a(452);d=function(){var b;function a(a,b,c,f,h,d){this.Df=a;this.tda=b;this.Ej=c;this.hP=f;this.cna=h;this.ayb=d;}a.prototype.create=function(a){return new q.qva(a,this.Df,this.tda,this.hP,this.Ej,this.cna,this.ayb);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(n.Bb)),c.__param(1,l.l(p.pD)),c.__param(2,l.l(k.SD)),c.__param(3,l.l(f.RJ)),c.__param(4,l.l(t.Q7)),c.__param(5,l.l(h.d7))],b);}();b.pva=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ff=void 0;d=a(1);c=a(280);l=a(573);q=a(277);n=a(565);k=a(180);p=a(564);h=a(563);f=a(124);t=a(278);g=a(562);b.Ff=new d.Cc(function(a){a(c.c7).to(l.pva).$();a(q.e7).to(n.xva).$();a(k.RJ).to(p.ova).$();a(f.SD).to(h.nva).$();a(t.d7).to(g.tva).$();});},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G;Object.defineProperty(b,"__esModule",{value:!0});b.tsa=void 0;c=a(0);l=a(2);q=a(5);n=a(113);k=a(43);p=a(10);h=a(1);f=a(193);t=a(33);g=a(281);G=a(87);d=function(){var d;function b(a,b,c,f,h){c=g.YI.call(this,c,f,h)||this;c.config=a;c.Ac=b;c.log=q.Qg(c.j,"LegacyLicenseBroker");c.Yd=c.config().Yd;c.config().nka?k.kKa()?c.x2=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:p.Hl}):c.x2=!1;return c;}ca(b,g.YI);b.prototype.cEa=function(a){var b;b=void 0===b?this.j:b;return new this.dP.hz(a,function(a){return b.oM.qN(a);},function(a){return b.oM.release(a);},{Kh:!1,TN:!1});};b.prototype.tM=function(b,c){var f,h,d,k,p,t;c=void 0===c?this.j:c;f=this;k=a(35).Og;this.dP.hz||this.Sd(l.J.qz,l.I.oYa);d=q.Qg(c,"Eme");h=this.cEa(d);p=q.Y.get(n.Jz);t=p.sM(c.jd.value.dc);p=p.xM(c.mg.value.dc);return this.dP.jz(d,b,function(a){return c.dd(a);},{Kh:!1,TN:!1,oKa:this.config().vi,XQa:{hMa:this.config().WQa,eDa:this.config().vla},Ja:{getTime:k},Ay:h,hPa:!!this.x2,eb:this.Hb.eb,$C:this.config().ada,onerror:function(a,b,c){return f.Sd(a,b,c);},gja:function(a){return f.NY(a);},Oxb:!0,dCa:t,xUa:p,CG:this.config().CG});};b.prototype.AC=function(a){var b;b=this;return this.x2?new Promise(function(c,f){if(b.Hb.eb)b.Hb.eb.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.MIa(a);f({da:!1,code:l.J.p6,cd:c.ga,ph:c.re,rb:c.rb,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.RFa=function(a){return{code:a.code,subCode:a.cd,extCode:a.ph,edgeCode:a.PF,message:a.message,errorDetails:a.rb,errorData:a.sX,state:a.state};};b.prototype.Rla=function(a,b,c){var h,d,k;function f(){d.CP()["catch"](function(a){h.log.error("Unable to set the license",h.RFa(a));a.cause&&a.cause.rb&&(a.rb=a.rb?a.rb+a.cause.rb:a.cause.rb);h.Sd(a.code,a,a.ph);});}c=void 0===c?this.j:c;h=this;d=c.zf;this.log.info("Setting the license");k=b?function(){return Promise.resolve();}:function(){return d.pi(h.Rea(),a);};return(b?function(){return d.iaa(h.Hb.eb);}:function(){return d.create(h.Yd).then(function(){return Promise.resolve();});})().then(function(){return h.config().xRa?h.AC(d.pl):Promise.resolve();}).then(k).then(function(){return h.config().xRa?Promise.resolve():h.AC(d.pl);}).then(function(){h.log.info("license set");h.HX(c.u);h.Hb.JUa.then(function(){h.config().$x&&(b||h.config().aN)&&(h.fQa=N.setTimeout(f,h.config().$x));});})["catch"](function(a){h.log.error("Unable to set the license",h.RFa(a));a.cause&&a.cause.rb&&(a.rb=a.rb?a.rb+a.cause.rb:a.cause.rb);if(b)throw Error(a&&a.message?a.message:"failed to set license");h.Sd(a.code,a,a.ph);});};b.prototype.uOa=function(){return Promise.resolve();};b.prototype.rja=function(a){var c;function b(){var b;c.j.zf=c.tM(a.initDataType);b=[];c.j.vq.forEach(function(a){b.push(q.Ul(a));});c.Rla(b);}c=this;this.log.trace("Received event: "+a.type);this.cO||(this.cO=!0,this.dP.jz?this.j.vq?this.config().TF&&this.config().ep&&this.Ac()?this.Ac().aHa(this.j.u).then(function(a){c.j.zf=a;return a.sWb.then(function(){var b;b=[];c.j.vq.forEach(function(a){b.push(q.Ul(a));});return c.Rla(b,!0).then(function(){var b;if(a.lRb)c.Sd(l.J.sYa);else{b=q.Qg(c.j,"Eme");a.eWb({log:b,uUb:function(a){return c.j.dd(a);}},{Ay:c.cEa(b),onerror:function(a,b,f){return c.Sd(a,b,f);}});(b=a.FUb)&&c.NY(b);c.j.Ju(a.pd||{});c.j.jx="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Sd(l.J.V0a)):this.Sd(l.J.qz,l.I.pYa));};b.prototype.kQa=function(a){var b;a=void 0===a?this.j:a;a.zf=this.tM("cenc");b=[];a.vq.forEach(function(a){b.push(q.Ul(a));});return this.Rla(b,!1,a);};b.prototype.Rea=function(){return this.config().aN?G.ej.dw:G.ej.Sm;};na.Object.defineProperties(b.prototype,{dP:{configurable:!0,enumerable:!0,get:function(){return q.Y.get(t.Cp);}},VB:{configurable:!0,enumerable:!0,get:function(){return this.x2?"encrypted":this.Hb.f4+"needkey";}}});d=b;c.__decorate([f.$N],d.prototype,"dP",null);c.__decorate([f.$N],d.prototype,"VB",null);return d=c.__decorate([h.N()],d);}();b.tsa=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G;Object.defineProperty(b,"__esModule",{value:!0});b.xsa=void 0;c=a(0);l=a(2);q=a(5);n=a(9);k=a(475);p=a(3);h=a(1);f=a(193);t=a(281);g=a(87);G=a(13);d=function(){var b;function a(a,b,c,f,h,d,k,p){f=t.YI.call(this,f,h,d)||this;f.config=a;f.Ee=b;f.Ac=c;f.YA=k;f.yia=p;f.log=q.Qg(f.j,"LicenseBroker");f.cO=new Set();f.xia=!1;return f;}ca(a,t.YI);a.prototype.rja=function(){var a,b,c;a=this;c=this.j.fa;this.cO.has(c.u)||(this.cO.add(c.u),((null===(b=c.ya)||void 0===b?0:b.WA)?this.K9a(c,c.ya.WA):this.config.TF&&this.Ee.ep&&this.Ac()?this.L9a(c):Promise.reject())["catch"](function(){return a.lQa(c);}).then(function(){return a.RBa(c);})["catch"](function(b){return a.QBa(c,b);})["catch"](function(b){return a.Sd(b.code,b,b.ph);}));};a.prototype.L9a=function(a){var b;b=this;return this.Ac().aHa(a.u).then(function(c){return b.iaa(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};a.prototype.K9a=function(a,b){var c;c=this;return this.YA().then(function(f){var h;h=c.THa(a);f.vMa(h,b);f.OG().subscribe(c.fHa(a));return c.iaa(b,a,"manifest");});};a.prototype.iaa=function(a,b,c){this.bPa(a,b);b.jx=c;this.yia.AC(a.pl);return a.jaa().JQ();};a.prototype.Ojb=function(a){var b;b={};a.forEach(function(a){b[k.oFa(a.lub)]=a.time.ba(p.ia);});return b;};a.prototype.oob=function(a,b){this.log.trace("Key status",{viewable:a.u,keyId:q.vr(b.Xr),status:b.value});};a.prototype.bPa=function(a,b){var c,f,h;c=this;b.zf=a;f={next:function(a){c.oob(b,a);},error:n.Xe,complete:n.Xe};h={next:function(a){c.Sd(a.code,a,a.ph);},error:n.Xe,complete:n.Xe};a.eha().subscribe(f);(a=a.ZF())&&a.subscribe(h);};a.prototype.RBa=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ha+", viewable: "+a.u+", segment: "+a.Na);b=a.zf;(null===b||void 0===b?0:b.vha)&&this.NY(b.vha);this.Ju(a);this.xia?this.HX(a.u):this.AC(a);};a.prototype.QBa=function(a,b){this.Ju(a);throw b;};a.prototype.Ju=function(a){a.zf&&a.Ju(this.Ojb(a.zf.pd));};a.prototype.fHa=function(a){var b;b=this;return{next:function(c){b.cO.add(a.u);b.NY(c);},error:n.Xe,complete:n.Xe};};a.prototype.THa=function(a){return{type:this.Rea(),lZ:a.vq.map(function(a){return q.Ul(a);}),context:{Yd:this.config.Yd,eb:this.Hb.eb},Xg:{u:a.u,ha:a.ha,ig:a.ig,jk:a.jk,Bj:a.ya.Bj}};};a.prototype.lQa=function(a){var b;b=this;return this.YA().then(function(c){var f;f=b.THa(a);c.OG().subscribe(b.fHa(a));return c.pi(f,b.yia).Lr(function(c){b.bPa(c,a);b.j.fireEvent(G.U.eO,{u:a.u});return c.jaa();}).JQ();});};a.prototype.AC=function(a){var b;b=this;if(this.xia)this.log.trace("Media Keys already set");else try{this.Hb.eb?this.Hb.eb.setMediaKeys(a.zf.pl).then(function(){b.HX(a.u);b.xia=!0;})["catch"](function(a){a=b.MIa(a);b.Sd(l.J.p6,a,a.re);}):this.HX(a.u);}catch(H){this.Sd(l.J.p6,H,void 0);}};a.prototype.uOa=function(){var a,b;a=this;b=this.j.fa.zf;return b?this.YA().then(function(c){return new Promise(function(f){c.HEb(b,a.yia).Lr(function(a){return a.M9a();}).Lr(function(b){a.log.trace("Fulfilled the last secure stop");a.Ee.vi&&a.j.Wu.m1({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.Ee.vi&&a.j.Wu.m1({success:b.da,ErrorCode:b.code,ErrorSubCode:b.cd,ErrorExternalCode:b.ph,ErrorEdgeCode:b.PF,ErrorDetails:b.JF});f();},complete:function(){f();}});});}):Promise.resolve();};a.prototype.kQa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.lQa(a).then(function(){return b.RBa(a);})["catch"](function(c){return b.QBa(a,c);});};a.prototype.Rea=function(){return this.Ee.aN?g.ej.dw:g.ej.Sm;};na.Object.defineProperties(a.prototype,{VB:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}},Yd:{configurable:!0,enumerable:!0,get:function(){return this.config.Yd;}}});b=a;c.__decorate([f.$N],b.prototype,"VB",null);return b=c.__decorate([h.N()],b);}();b.xsa=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.wsa=void 0;c=a(0);l=a(1);q=a(118);n=a(576);k=a(575);p=a(53);h=a(60);f=a(14);t=a(137);g=a(103);d=function(){var b;function a(a,b,c,f,h,d){this.YA=a;this.Ee=b;this.he=c;this.config=f;this.uO=h;this.Ac=d;}a.prototype.create=function(a,b,c){return a?new n.xsa(this.config(),this.Ee,this.Ac,this.he,b,c,this.YA,this.uO()):new k.tsa(this.config,this.Ac,this.he,b,c);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(q.iJ)),c.__param(1,l.l(p.Dl)),c.__param(2,l.l(h.Nk)),c.__param(3,l.l(f.fd)),c.__param(4,l.l(t.DD)),c.__param(5,l.l(g.Nz))],b);}();b.wsa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aj=void 0;d=a(1);c=a(295);l=a(577);b.Aj=new d.Cc(function(a){a(c.l5).to(l.wsa);});},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.vxa=void 0;c=a(0);l=a(1);q=a(41);n=a(28);k=a(37);p=a(30);d=function(){var b;function a(a){return q.$d.call(this,a,"TransportConfigImpl")||this;}ca(a,q.$d);a.prototype.ama=function(a){var b,c;b=this.xna;c=this.CBa;switch(a){case p.Zs.oT:return b;case p.Zs.Ava:return b&&!c;case p.Zs.m0a:return!1;}};na.Object.defineProperties(a.prototype,{xna:{configurable:!0,enumerable:!0,get:function(){return!0;}},CBa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([k.config(k.kd,"usesMsl")],b.prototype,"xna",null);c.__decorate([k.config(k.kd,"allowRequestsWithoutMsl")],b.prototype,"CBa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(n.Ei))],b);}();b.vxa=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Jwa=void 0;c=a(0);l=a(1);q=a(3);n=a(8);k=a(146);p=a(92);d=function(){var b;function a(a,b,c){this.receiver=b;this.Re=c;this.log=a.yb("SslTransport");}a.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,TA:"nq-"+a.fk,Xja:JSON.stringify(b),rW:a.timeout.ba(q.ia),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Re.download(f,function(c){c.da?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.LH({command:a.fk,inputs:b,outputs:f});return f;})["catch"](function(f){var h;if(!f.error)throw f.cd=f.ga||f.cd,c.receiver.LH({command:a.fk,inputs:b,outputs:f}),f;h=f.error;h.By=f.By;c.log.error("Error sending SSL request",{subCode:h.cd,data:h.content,message:h.message});c.receiver.LH({command:a.fk,inputs:b,outputs:h});throw h;});};a.prototype.Hba=function(){return{};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(n.Bb)),c.__param(1,l.l(k.OJ)),c.__param(2,l.l(p.ew))],b);}();b.Jwa=d;},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Kta=void 0;c=a(0);l=a(1);q=a(8);n=a(131);k=a(3);p=a(146);h=a(89);f={license:!0};d=function(){var b;function a(a,b,c,f){var h;h=this;this.ky=b;this.receiver=c;this.profile=f;this.log=a.yb("MslTransport");this.ky().then(function(a){return h.BMa=a;});}a.prototype.send=function(a,b){var c,h;c=this;h={CMa:Object.assign({Re:a.Re,log:a.log,profile:this.profile},a.fab),method:a.fk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ba(k.ia),UHb:this.profile,ZUb:!f[a.fk],ivb:!!f[a.fk],uj:!0,b1:a.gla,headers:a.headers};return this.ky().then(function(f){return f.send(h).then(function(f){c.receiver.LH({command:a.fk,inputs:b,outputs:f});return f;})["catch"](function(f){var h;if(!f.error)throw f.cd=f.ga||f.cd,c.receiver.LH({command:a.fk,inputs:b,outputs:f}),f;h=f.error;h.By=f.By;c.log.error("Error sending MSL request",{mslCode:h.ks,subCode:h.cd,data:h.data,message:h.message});c.receiver.LH({command:a.fk,inputs:b,outputs:h});throw h;});});};a.prototype.Hba=function(){var a;return{userTokens:null===(a=this.BMa)||void 0===a?void 0:a.IO.getUserIdTokenKeys()};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(q.Bb)),c.__param(1,l.l(n.FD)),c.__param(2,l.l(p.OJ)),c.__param(3,l.l(h.TD))],b);}();b.Kta=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.CTa=void 0;d=a(1);c=a(238);l=a(311);q=a(581);n=a(580);k=a(579);p=a(30);b.CTa=new d.Cc(function(a){a(c.$J).to(k.vxa).$();a(l.V5).to(q.Kta);a(l.C7).to(n.Jwa);a(l.R7).nf(function(a){return function(b){var f;return a.kb.get(c.$J).ama(null!==(f=null===b||void 0===b?void 0:b.Oub)&&void 0!==f?f:p.Zs.oT)?a.kb.get(l.V5):a.kb.get(l.C7);};});});},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Bua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.NYa,2,n.hh.ya,n.og.Qq,"generateScreenshots")||this;}ca(a,k.dh);a.prototype.ff=function(a,b){var c;c=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw c.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with GenerateScreenshots"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Bua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;b.Kua="PboPingCommandSymbol";},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.K0a,1,n.hh.ping,n.og.Qq,n.hh.ping)||this;}ca(a,k.dh);a.prototype.ff=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with ping"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Jua=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.vua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.NVa,2,n.hh.bind,n.og.Qq,n.hh.bind)||this;}ca(a,k.dh);a.prototype.ff=function(a,b,c){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.vua=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Hua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.s0a,2,n.hh.WNa,n.og.Qq,n.hh.WNa)||this;}ca(a,k.dh);a.prototype.ff=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with pair"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Hua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iua=void 0;b.Iua="PboPairCommandSymbol";},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.uua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.MVa,2,n.hh.bind,n.og.Qq,n.hh.bind)||this;}ca(a,k.dh);a.prototype.ff=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with bind"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.uua=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G;Object.defineProperty(b,"__esModule",{value:!0});b.xua=void 0;c=a(0);l=a(1);q=a(117);n=a(93);k=a(309);p=a(312);h=a(114);f=a(92);t=a(462);g=a(68);G=a(72);d=function(){function a(a,b,c,f,h,d,k,p,l){this.Zf=a;this.Re=b;this.Dj=c;this.Tgb=f;this.zG=h;this.CHb=d;this.IW=k;this.$Ab=p;this.sx=l;}return a=c.__decorate([l.N(),c.__param(0,l.l(q.Vy)),c.__param(1,l.l(f.ew)),c.__param(2,l.l(n.lw)),c.__param(3,l.l(p.w6)),c.__param(4,l.l(h.pz)),c.__param(5,l.l(t.X7)),c.__param(6,l.l(g.kD)),c.__param(7,l.l(k.J6)),c.__param(8,l.l(G.Oq))],a);}();b.xua=d;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Iqa=void 0;c=a(0);l=a(1);q=a(2);n=a(120);k=a(78);p=a(45);h=a(42);d=function(){var b;function a(a){return n.Zn.call(this,a,q.J.wYa,k.El.UM,3,h.og.AD)||this;}ca(a,n.Zn);a.prototype.ZV=function(a){return Object.assign(Object.assign({},n.Zn.prototype.ZV.call(this,a)),{action:a.action});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Iqa=d;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Iwa=void 0;c=a(0);l=a(1);q=a(2);n=a(120);k=a(78);p=a(45);h=a(42);d=function(){var b;function a(a){return n.Zn.call(this,a,q.J.fwa,k.El.splice,1,h.og.AD)||this;}ca(a,n.Zn);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Iwa=d;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.lsa=void 0;c=a(0);l=a(1);q=a(2);n=a(120);k=a(78);p=a(45);h=a(42);d=function(){var b;function a(a){return n.Zn.call(this,a,q.J.g5,k.El.WN,1,h.og.AD)||this;}ca(a,n.Zn);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.lsa=d;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;c=a(0);l=a(1);q=a(2);n=a(120);k=a(78);p=a(45);h=a(42);d=function(){var b;function a(a){return n.Zn.call(this,a,q.J.iwa,k.El.stop,3,h.og.M5)||this;}ca(a,n.Zn);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Nwa=d;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;c=a(0);l=a(1);q=a(2);n=a(120);k=a(78);p=a(45);h=a(42);d=function(){var b;function a(a){return n.Zn.call(this,a,q.J.V1a,k.El.start,3,h.og.Qq)||this;}ca(a,n.Zn);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Kwa=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Dua=void 0;c=a(0);l=a(1);q=a(26);n=a(44);d=function(){var b;function a(a,b){this.ed=a;this.Yt=b;}a.prototype.vTa=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.ed.bP(a.substring(a.indexOf("?")+1));});return{da:!0,pc:a.map(function(a,b){return{id:a.drmSessionId,Zx:c[b].drmlicensecontextid,PG:c[b].licenseid};}),jm:a.map(function(a){return{data:b.Yt.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};a.prototype.pGb=function(a){return{da:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId)&&c&&(a[b]=c);return a;},{})}};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(q.tf)),c.__param(1,l.l(n.cj))],b);}();b.Dua=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Cua=void 0;c=a(0);l=a(1);q=a(40);n=a(3);d=function(){var b;function a(a){this.Ja=a;}a.prototype.lGb=function(a){var b;b=this.Ja.ef.ba(n.Il);return{inputs:a.li.map(function(c){return{drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ha.toString(),mdxControllerEsn:a.sO};}),yha:"standard"===a.ri.toLowerCase()?"license":"ldl"};};a.prototype.oGb=function(a){var b,c,h,d;b=this;c=a.ZBb||{};h=[];d=a.pc.map(function(f){var d;h.push(f.id);d=c[f.id];delete c[f.id];return{url:b.KCa(f.Zx,f.PG),echo:"drmSessionId",params:{drmSessionId:f.id,secureStop:d,secureStopId:d?f.PG:void 0,xid:a.ha.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.KCa(a.pc[0].Zx),echo:"drmSessionId",params:{drmSessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.ha.toString()}});});return d;};a.prototype.KCa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(q.Bi))],b);}();b.Cua=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.I1a,3,n.hh.pi,n.og.M5,"release/license")||this;}ca(a,k.dh);a.prototype.ff=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.jDa(a);return a;})["catch"](function(a){throw c.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with release"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Rua=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.tua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.qz,3,n.hh.pi,n.og.Qq,n.hh.pi)||this;}ca(a,k.dh);a.prototype.ff=function(){return Promise.reject(Error("Links are required with acquire command"));};a.prototype.Jo=function(a,b,c){var f,h;f=this;b=b.Sea(c.yha).href;h="license"===c.yha?n.og.Qq:n.og.AD;this.Y9="ldl"===c.yha?"prefetch/license":n.hh.pi;return this.send(a,b,c.inputs,"drmSessionId",h).then(function(a){a=a.result;f.jDa(a);f.ybb(a);return a;})["catch"](function(a){throw f.em(a);});};a.prototype.ybb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.tua=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,m,J,F,r,H,U,R,u,Q,y,T;Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;c=a(0);l=a(1);q=a(123);n=a(2);k=a(42);p=a(460);h=a(5);f=a(14);t=a(68);a(153);g=a(66);G=a(45);m=a(234);J=a(430);F=a(282);r=a(100);H=a(33);U=a(30);R=a(166);u=a(40);Q=a(3);y=a(260);T=a(198);d=function(){var b;function a(a,b,c,f,h,d,p,l,t,q,z){a=g.dh.call(this,a,n.J.MANIFEST,3,k.hh.ya,k.og.Qq,k.hh.ya)||this;a.platform=b;a.config=c;a.IW=f;a.ibb=h;a.Pxb=d;a.ol=p;a.btb=l;a.Waa=t;a.Ja=q;a.Nrb=z;return a;}ca(a,g.dh);a.prototype.ff=function(a,b){var c;c=this;this.Y9=b.Ex===q.Mk.r6?"prefetch/manifest":k.hh.ya;return this.Fib(b).then(function(f){var h,d;f=S(f);h=f.next().value;d=f.next().value;return c.send(a,d.fk,h,void 0,c.cnb(b.Ex),void 0,b.Ex===q.Mk.v7?U.Zs.Ava:U.Zs.oT).then(function(a){var b;a=c.btb.create(a.result);b=a.Pf.Pv.map(function(a){return a.pi;}).filter(Boolean);d.WA&&(0<b.length?(b=c.Nrb.vTa(b),d.WA.hBa(b),a.WA=d.WA):d.WA.close().subscribe());return a;});})["catch"](function(a){throw c.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are not supported with manifest command"));};a.prototype.Fib=function(a){var b,c,f,d,k,l,t,n;b=this;c=a.Oa;f=Object.assign({},c.ML,c.Un);d={};k=a.oa;d[k]={unletterboxed:!!f.preferUnletterboxed};l=this.config().OHb?30:25;t=h.mB();n=this.config().sp?this.ol.xlb():Promise.resolve(p.H5.Yp());return Promise.all([t.Anb(),t.Bnb(),t.pG(),t.uN(),this.Ukb(a.ha),this.Alb(a),n]).then(function(h){var p,t,n,q,g,z;p=S(h);t=p.next().value;n=p.next().value;q=p.next().value;g=p.next().value;z=p.next().value;h=p.next().value;p=p.next().value;t=(t||[]).concat(n||[]).concat(b.config().Jv).concat(["BIF240","BIF320"]).filter(Boolean);n=g&&void 0!==g.SUPPORTS_SECURE_STOP?!!g.SUPPORTS_SECURE_STOP:void 0;g=g?g.DEVICE_SECURITY_LEVEL:void 0;q={type:"standard",viewableId:k,profiles:t,flavor:a.Ex,drmType:p,drmVersion:l,usePsshBox:!0,isBranching:!!a.Oa.Si,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().rFb,imageSubtitleHeight:m.GT.jfa(),uiVersion:b.context.Dj.QQ,uiPlatform:b.context.Dj.l2,clientVersion:b.platform.version,supportsPreReleasePin:b.config().uu.nFb,supportsWatermark:b.config().uu.oFb,showAllSubDubTracks:b.config().uu.$Db||!!f.showAllSubDubTracks,packageId:b.Fmb(c),deviceSupportsSecureStop:n,deviceSecurityLevel:g,videoOutputInfo:q,titleSpecificData:d,preferAssistiveAudio:!!f.assistiveAudioPreferred,preferredTextLocale:f.preferredTextLocale,preferredAudioLocale:f.preferredAudioLocale,isUIAutoPlay:!!f.isUIAutoPlay,challenge:z,isNonMember:b.context.Dj.GG,pin:c.wOa,desiredVmaf:b.config().JHb?b.config().ygb:b.config().zgb};c.XFa&&(q.extraParams=c.XFa);z={fk:h?"licensedManifest":"manifest",WA:null===h||void 0===h?void 0:h.sb};h&&(h={drmSessionId:h.sb.Kx()||"session",clientTime:b.Ja.v1.ba(Q.Il),challengeBase64:h.bDa},q.challenges={"default":[h]},q.profileGroups=[{name:"default",profiles:t}],q.licenseType="standard");return[q,z];});};a.prototype.Fmb=function(a){if(this.config().F0.enabled){if(void 0!==a.rl)return a.rl;if(void 0!==this.config().F0.rl)return Number(this.config().F0.rl);}};a.prototype.cnb=function(a){switch(a){case q.Mk.Sm:case q.Mk.VXa:return k.og.Qq;case q.Mk.j7:case q.Mk.v7:return k.og.M5;case q.Mk.r6:return k.og.AD;}};a.prototype.Ukb=function(a){var b;b=this;return this.ibb.eHa().then(function(c){var f;f=a&&b.Pxb.Lmb(a);f&&f.qn("cad");return c;});};a.prototype.Alb=function(a){return(a.Ex===q.Mk.Sm||a.Ex===q.Mk.j7)&&this.config().sp&&this.config().fcb?this.Waa.sIa():Promise.resolve(void 0);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(G.Vj)),c.__param(1,l.l(H.Wj)),c.__param(2,l.l(f.fd)),c.__param(3,l.l(t.kD)),c.__param(4,l.l(J.o3)),c.__param(5,l.l(F.kT)),c.__param(6,l.l(r.Ys)),c.__param(7,l.l(R.CD)),c.__param(8,l.l(y.IR)),c.__param(9,l.l(u.Bi)),c.__param(10,l.l(T.dT))],b);}();b.Gua=d;},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Fua=void 0;c=a(0);l=a(1);q=a(2);n=a(42);k=a(66);p=a(45);d=function(){var b;function a(a){return k.dh.call(this,a,q.J.p_a,1,n.hh.fLa,n.og.AD,n.hh.fLa)||this;}ca(a,k.dh);a.prototype.ff=function(a,b){var c;c=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.em(a);});};a.prototype.Jo=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Vj))],b);}();b.Fua=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,G,m,J,F,r,H,U,R,u,Q,y,T,qa,da,W,ka,O,oa,A,E,P,va;Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;d=a(1);c=a(344);l=a(601);q=a(123);n=a(600);k=a(331);p=a(599);h=a(329);f=a(598);t=a(328);g=a(597);G=a(198);m=a(596);J=a(78);F=a(595);r=a(594);H=a(47);U=a(2);R=a(593);u=a(592);Q=a(591);y=a(45);T=a(590);qa=a(187);da=a(589);W=a(588);ka=a(587);O=a(348);oa=a(586);A=a(585);E=a(584);P=a(450);va=a(583);b.EDa=new d.Cc(function(a){a(y.Vj).to(T.xua);a(c.D6).to(l.Fua);a(qa.bT).to(da.uua);a(O.u6).to(oa.vua);a(W.Iua).to(ka.Hua);a(q.eT).to(n.Gua);a(k.t6).to(p.tua);a(h.I6).to(f.Rua);a(t.A6).to(g.Cua);a(G.dT).to(m.Dua);a(J.E7).to(F.Kwa);a(J.F7).to(r.Nwa);a(J.h5).to(R.lsa);a(J.B7).to(u.Iwa);a(J.h4).to(Q.Iqa);a(E.Kua).to(A.Jua);a(P.z6).to(va.Bua);a(J.ZR).nf(function(a){return function(b){switch(b){case J.El.start:return a.kb.get(J.E7);case J.El.stop:return a.kb.get(J.F7);case J.El.WN:return a.kb.get(J.h5);case J.El.splice:return a.kb.get(J.B7);case J.El.UM:return a.kb.get(J.h4);}throw new H.Bc(U.J.z0a,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(d,b,a){var c,l,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Fta=void 0;c=a(0);l=a(1);q=a(52);n=a(69);k=a(3);p=a(67);h=a(30);f={start:{video:q.xa.GR,audio:q.xa.CR},end:{video:q.xa.FR,audio:q.xa.BR}};d=function(){var b;function a(a,b){var c;c=this;this.zk=a;this.Wp=b;this.qTa=function(a){var b,f,h,d,k,p;b=c.PSa++;f=a.request.TA||"dl";h=c.IIa(f,"start");if(h){d=a.request.Zo.stream.R.Bk;if(d&&!c.nSa.has(d)){k=c.iIa(d);p=a.wq;c.zk.mark(h,k,p?f+"-"+p+"-"+b:f);a.K$(function(){var a,h;a=c.IIa(f,"end");h=p?f+"-"+p+"-"+b:f;a&&c.zk.mark(a,k,h);});}}};this.PSa=0;this.nSa=new Set();this.Bla=new Map();b.QM&&this.EIb();}a.prototype.jIa=function(a){var c,f,h,d,p,l,t,n;function b(b){return k.timestamp(c.vBa(k.timestamp(b),a,!0));}c=this;f=new Set();h=a.pd;d=a.sEb;p=a.ha;l=a.Na;t=this.zk.YHa(p);n=l&&this.iIa(l);n&&t.push.apply(t,[].concat(fa(this.zk.YHa(n))));this.zk.$Pa(a.ha);n&&this.zk.$Pa(n);l&&this.nSa.add(l);l=[];"pr_ats"in h&&l.push({name:q.xa.wT,Hs:b(h.pr_ats),ha:p,gk:"request-pre-manifest"});"ats"in h&&l.push({name:q.xa.uT,Hs:b(h.ats),ha:p,gk:"request-manifest"});"pr_at"in h&&l.push({name:q.xa.vT,Hs:b(h.pr_at),ha:p,gk:"request-pre-manifest"});"at"in h&&l.push({name:q.xa.tT,Hs:b(h.at),ha:p,gk:"request-manifest"});"lg"in h&&l.push({name:q.xa.sT,Hs:b(h.lg),ha:p,gk:"request-license"});"lr"in h&&l.push({name:q.xa.rT,Hs:b(h.lr),ha:p,gk:"request-license"});"tt_start"in h&&l.push({name:q.xa.ER,Hs:b(h.tt_start),ha:p,gk:"request-timed-text"});"tt_comp"in h&&l.push({name:q.xa.DR,Hs:b(h.tt_comp),ha:p,gk:"request-timed-text"});return l.concat(t).map(function(b){return c.UFb(b,a);}).filter(function(a){return a.timestamp<=d?("end"===a.step&&f.add(a.eventId),!0):!1;}).filter(function(a){return"start"!==a.step||f.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.timestamp-b.timestamp;});};a.prototype.o9a=function(a,b,c){return(void 0===c?0:c)?a.ba(k.ia)+b.Ak.ba(k.ia):a.ba(k.ia)-b.Ak.ba(k.ia);};a.prototype.vBa=function(a,b,c){c=void 0===c?!1:c;if(b.Jk)if(c)a.ba(k.ia)+b.Jk;else return a.ba(k.ia)-b.Jk;return this.o9a(a,b,c);};a.prototype.UFb=function(a,b){var c;c=a.name;return{eventName:c,eventId:a.gk||c,timestamp:this.vBa(a.Hs,b),component:this.jN(c),category:this.Tkb(c),step:this.vnb(c)};};a.prototype.jN=function(a){switch(a){case q.xa.wT:case q.xa.vT:case q.xa.uT:case q.xa.tT:return"manifest";case q.xa.sT:case q.xa.rT:case q.xa.s7:case q.xa.r7:case q.xa.cS:case q.xa.bS:case q.xa.O2:case q.xa.N2:return"license";case q.xa.ER:case q.xa.DR:case q.xa.CR:case q.xa.BR:case q.xa.GR:case q.xa.FR:case q.xa.M2:case q.xa.L2:return"buffering";case q.xa.l6:case q.xa.k6:return"playback";default:return null;}};a.prototype.Tkb=function(a){switch(a){case q.xa.wT:case q.xa.vT:case q.xa.uT:case q.xa.tT:return"aws";case q.xa.sT:case q.xa.rT:return"mixed";case q.xa.l6:case q.xa.k6:case q.xa.s7:case q.xa.r7:case q.xa.cS:case q.xa.bS:case q.xa.O2:case q.xa.N2:case q.xa.M2:case q.xa.L2:return"dev";case q.xa.ER:case q.xa.DR:case q.xa.CR:case q.xa.BR:case q.xa.GR:case q.xa.FR:return"cdn";default:return null;}};a.prototype.vnb=function(a){switch(a){case q.xa.wT:case q.xa.l6:case q.xa.uT:case q.xa.sT:case q.xa.M2:case q.xa.ER:case q.xa.CR:case q.xa.GR:case q.xa.s7:case q.xa.cS:case q.xa.O2:return"start";case q.xa.vT:case q.xa.k6:case q.xa.tT:case q.xa.rT:case q.xa.r7:case q.xa.bS:case q.xa.N2:case q.xa.L2:case q.xa.DR:case q.xa.BR:case q.xa.FR:return"end";default:return null;}};a.prototype.IIa=function(a,b){if(a in f[b])return f[b][a];};a.prototype.OGb=function(){p.Re.removeEventListener(p.cZ,this.qTa);};a.prototype.EIb=function(){this.OGb();p.Re.addEventListener(p.cZ,this.qTa);};a.prototype.iIa=function(a){var b;if(this.Bla.has(a))return this.Bla.get(a);b=Date.now();this.Bla.set(a,b);return b;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(n.ED)),c.__param(1,l.l(h.Qj))],b);}();b.Fta=d;},function(d,b,a){var l;function c(a,b,c,d){this.Dca=a;this.debug=b;this.qa=c;this.j=d;this.g0=[];this.H_={};this.Fca={};this.Kda=!1;this.PSa=1;this.yoa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.Zpa=void 0;l=a(3);a(13);a(15);a(67);c.prototype.register=function(a,b){this.debug.assert(!(0<=this.g0.indexOf(a)),"panel already registered");this.H_[a]=b;this.g0.push(a);};c.prototype.lNa=function(a){var b;b=this;this.Fca[a]=!0;this.Kda||(this.Kda=!0,setTimeout(function(){return b.yjb();},0));};c.prototype.pmb=function(a){return(a=this.H_[a])?a():void 0;};c.prototype.mY=function(){var a;a=this.j.r0;return a?a.mY():[];};c.prototype.addEventListener=function(a,b){this.Dca.addListener(a,b);this.H_[a]&&this.lNa(a);};c.prototype.removeEventListener=function(a,b){this.Dca.removeListener(a,b);};c.prototype.getTime=function(){return this.qa.Zb().ba(l.ia);};c.prototype.yjb=function(){this.Kda=!1;for(var a=this.g0.length,b;a--;)b=this.g0[a],this.Fca[b]&&(this.Fca[b]=!1,this.Dca.Vb(b+"changed",{getModel:this.H_[b]}));};b.Zpa=c;},function(d,b,a){var l,q,n,k,p,h,f;function c(a,b,c,d,k,q,g,m,r){var t;t=this;this.yGb=a;this.j=b;this.id=c;this.height=d;this.width=k;this.Axb=q;this.Bxb=g;this.size=m;this.me=r;this.type=l.Dg.gna;this.Bv=!0;this.state=p.Zm.VS;this.Tg={};this.UV={};this.Zyb=function(a){if(a.da)try{t.data=t.yGb.parse(a.content);t.state=p.Zm.LOADED;t.log.trace("TrickPlay parsed",{Images:t.data.images.length},t.Tg);t.j.fireEvent(h.U.LQ);}catch(Q){t.state=p.Zm.dua;t.log.error("TrickPlay parse failed.",Q);}else t.state=p.Zm.VS,t.log.error("TrickPlay download failed.",f.Ap(a),t.Tg);};this.log=n.Qg(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;l=a(77);q=a(12);n=a(5);k=a(67);p=a(307);h=a(13);f=a(2);c.prototype.Llb=function(a){if(this.data&&(a=Math.floor(a/this.data.Lo.hTa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Lo.hTa,height:this.height,width:this.width,pixelAspectHeight:this.Axb,pixelAspectWidth:this.Bxb};};c.prototype.zY=function(){switch(this.state){case p.Zm.LOADED:return"downloaded";case p.Zm.LOADING:return"loading";case p.Zm.BJ:return"downloadfailed";case p.Zm.dua:return"parsefailed";default:return"notstarted";}};c.prototype.download=function(){var a;a=this.Tnb();a?(this.state=p.Zm.LOADING,this.bhb(a)):this.Bv=!1;};c.prototype.Yc=function(){return this.state;};c.prototype.Tnb=function(){var a,b,c;a=this;b=Object.keys(this.me).find(function(b){return(a.UV[a.me[b]]||0)<=q.config.uGb;});if(b){c=this.me[b];c in this.UV?this.UV[c]++:this.UV[c]=1;return{url:c,lx:b};}};c.prototype.bhb=function(a){this.log.trace("Downloading",a.url,this.Tg);a={responseType:k.FN,gc:this.xea(a.lx),url:a.url,track:this};this.j.fZ.download(a,this.Zyb);};c.prototype.xea=function(a){return this.j.qj.find(function(b){return b&&b.id===a;});};b.xxa=c;},function(d,b,a){var c,l,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Yva=void 0;c=a(0);l=a(13);q=a(1);n=a(25);k=a(3);d=function(){var b;function a(a){this.qa=a;this.trace=[];}a.prototype.ys=function(a){a.cause!==l.Ae.nz&&(this.trace.unshift({time:this.qa.Zb(),event:a}),5<this.trace.length&&this.trace.pop());};a.prototype.BIa=function(){var a,b;a=this;if(0===this.trace.length)return{};b=this.trace[0];return{timeSinceLastRepositionMs:this.bTa(b.time),lastRepositionCause:this.dHa(b.event.cause),repositionTrace:this.trace.map(function(b){return{timeSince:a.bTa(b.time),cause:a.dHa(b.event.cause),newMediaTime:b.event.kH,oldMediaTime:b.event.PO,skip:b.event.skip};})};};a.prototype.bTa=function(a){return this.qa.Zb().Mb(a).ba(k.ia);};a.prototype.dHa=function(a){switch(a){case l.Ae.nz:return"initial";case l.Ae.ft:return"seek";case l.Ae.Gz:return"segment_changed";case l.Ae.WJ:return"track_changed";}};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(n.Ue))],b);}();b.Yva=d;},function(d,b,a){var l,q,n,k,p;function c(a,b,c,d){this.ha=a;this.cBb=b;this.ja=c;this.app=d;this.pd={};}Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;l=a(0);q=a(1);n=a(8);k=a(25);p=a(3);d=function(){var b;function a(a,b){this.Df=a;this.app=b;this.Ad={};this.ja=a.yb("PlaybackMilestoneStoreImpl");}a.prototype.qAb=function(a,b){this.Ad[a]&&this.ja.warn("registerPlayback: xid "+a+" already registered, overriding");b=(b?b:this.app.Zb()).ba(p.ia);this.ja.trace("registerPlayback: xid "+a+" at "+b);this.Ad[a]=new c(a,b,this.ja,this.app);return this.Ad[a];};a.prototype.Lmb=function(a){this.Ad[a]||this.ja.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Ad[a];};a.prototype.FAb=function(a){this.ja.trace("removePlayback: xid "+a);delete this.Ad[a];};b=a;return b=l.__decorate([q.N(),l.__param(0,q.l(n.Bb)),l.__param(1,q.l(k.Ue))],b);}();b.gva=d;c.prototype.qn=function(a,b){b=b?b.ba(p.ia):this.app.Zb().ba(p.ia)-this.cBb;this.ja.trace("addMilestone: xid "+this.ha+" "+a+" at "+b);this.pd[a]=b;};},function(d,b,a){var l,q,n,k,p,h,f,t,g,G,m,J,F,r;function c(a,b,c,f,d){var p;p=this;this.j=a;this.mh=b;this.VQ=c;this.ed=f;this.bSa=d;this.fca={};this.update=function(){var a;if(p.Im.selectionStart==p.Im.selectionEnd){a="";p.mY().forEach(function(b){a=a?a+"\n":"";Object.keys(b).forEach(function(c){a+=c+": "+b[c]+"\n";});});p.Im.style.fontSize=k.Pm(h.Xs(p.element.clientHeight/60),8,18)+"px";p.Im.value=a;}};this.gwb=function(){var a,b;if(p.j.Ti){b=p.j.Ti.nB();b&&(p.dca=b-(null!==(a=p.oTa)&&void 0!==a?a:0),p.oTa=b,p.TO());}};this.TO=function(){p.VQ.Kc(p.update);};this.onkeydown=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==g.Rq.ZWa||a.keyCode==g.Rq.Q)&&p.toggle();};this.DOa=[a.$b,a.gc[l.yc.La.AUDIO],a.gc[l.yc.La.VIDEO],a.jg,a.kf,a.al,a.rf,a.nj,a.state,a.yo,a.Ob,a.volume,a.muted];this.element=this.ed.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.Im=this.ed.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.Im);this.controls=this.ed.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.ed.createElement("button",void 0,"X");b.addEventListener("click",function(){return p.Mo();},!1);this.controls.appendChild(b);n.He.addListener(n.Ox,this.onkeydown);a.addEventListener(t.U.yf,function(){n.He.removeListener(n.Ox,p.onkeydown);p.Mo();});}Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;l=a(50);q=a(57);n=a(56);k=a(91);p=a(184);h=a(10);f=a(15);t=a(13);g=a(102);G=a(3);d={};m=(d[t.nb.JD]="Not Loaded",d[t.nb.LOADING]="Loading",d[t.nb.ud]="Normal",d[t.nb.CLOSING]="Closing",d[t.nb.CLOSED]="Closed",d);d={};J=(d[t.We.ud]="Normal",d[t.We.we]="Pre-buffering",d[t.We.gwa]="Network stalled",d);d={};F=(d[t.jb.Xf]="Waiting for decoder",d[t.jb.Nc]="Playing",d[t.jb.Ch]="Paused",d[t.jb.Pq]="Media ended",d);r=[t.U.u_,t.U.U$a];c.prototype.ZCb=function(a){this.fca.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible||(this.Wpb=N.setInterval(this.gwb,1E3),this.j.If.appendChild(this.element),this.DOa.forEach(function(b){b.addListener(a.TO);}),r.forEach(function(b){a.j.addEventListener(b,a.TO);}),this.visible=!0);this.update();};c.prototype.Mo=function(){var a;a=this;this.visible&&(clearInterval(this.Wpb),this.oTa=this.dca=void 0,this.j.If.removeChild(this.element),this.DOa.forEach(function(b){b.removeListener(a.TO);}),r.forEach(function(b){a.j.removeEventListener(b,a.TO);}),this.VQ.Kc(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Mo():this.show();};c.prototype.mY=function(){var b,c,d,t,n,g,z,D,r,L,u,O,oa,A,E,P,va,ga,Fa,Ga,la,Ea,Qa,Oa,N,S,V,Y,ca,ea,fa,ha,ba,ia,ja,na,ma;b=this;L=[];u=this.mh();L.push({Version:"6.0023.976.011",Esn:u?u.oh:"UNKNOWN",PBCID:this.j.gk,UserAgent:h.Hl});try{O={MovieId:this.j.u,TrackingId:this.j.Uh,Xid:this.j.ha+" ("+q.Rm.map(function(a){return a.ha;}).join(", ")+")",Position:k.fh(this.j.$b.value),Duration:k.fh(this.j.Er.ba(G.ia)),PlayerDuration:k.fh(this.j.qq.ba(G.ia)),Volume:h.Bh(100*this.j.volume.value)+"%"+(this.j.muted.value?" (Muted)":"")};if(this.j.Oa.Si||this.j.Oa.KZ)O["Segment Position"]=k.fh(this.j.pB()),O.Segment=this.j.gfa();L.push(O);}catch(Yb){}try{oa=this.j.nl?this.j.nl.$ob():void 0;L.push({"Player state":m[this.j.state.value],"Buffering state":J[this.j.yo.value]+(f.la(oa)?", ETA:"+k.fh(oa):""),"Rendering state":F[this.j.Ob.value]});}catch(Yb){}try{A=this.j.zna()+this.j.paa();E=this.j.jg.value;P=null===E||void 0===E?void 0:E.stream;va=this.j.kf.value;ga=null===va||void 0===va?void 0:va.stream;Fa=null!==(c=null===P||void 0===P?void 0:P.O)&&void 0!==c?c:"?";Ga=ga?ga.O+" ("+ga.width+"x"+ga.height+")":"?";la=null!==(d=null===ga||void 0===ga?void 0:ga.uc)&&void 0!==d?d:"?";Ea=null!==(n=null===(t=this.j.rf.value)||void 0===t?void 0:t.uc)&&void 0!==n?n:"?";Qa=null!==(z=null===(g=this.j.al.value)||void 0===g?void 0:g.O)&&void 0!==z?z:"?";Oa=null!==(r=null===(D=this.j.rf.value)||void 0===D?void 0:D.O)&&void 0!==r?r:"?";N=this.j.gc[l.yc.La.VIDEO].value;S=this.j.gc[l.yc.La.AUDIO].value;L.push({"Playing bitrate (a/v)":Fa+" / "+Ga,"Playing/Buffering vmaf":la+"/"+Ea,"Buffering bitrate (a/v)":Qa+" / "+Oa,"Buffer size in Bytes (a/v)":this.j.paa()+" / "+this.j.zna(),"Buffer size in Bytes":""+A,"Buffer size in Seconds (a/v)":k.fh(this.j.IL())+" / "+k.fh(this.j.bR()),"Current CDN (a/v)":(S?S.name+", Id: "+S.id:"?")+" / "+(N?N.name+", Id: "+N.id:"?")});}catch(Yb){}try{if(this.j.jg.value&&this.j.kf.value){V=this.j.jg.value.stream.track;Y=this.j.kf.value.stream;ca=this.j.nj.value;ea=this.bSa.xM(this.j.mg.value?this.j.mg.value.dc:[]);fa=this.bSa.sM(V.dc);ha=Y.Qf;ba=/hevc/.test(ha)?"hevc":/vp9/.test(ha)?"vp9":/h264hpl/.test(ha)?"avchigh":"avc";/hdr/.test(ha)&&(ba+=", hdr");/dv/.test(ha)&&(ba+=", dv");/prk/.test(ha)&&(ba+=", prk");L.push({"Audio Track":V.bl+", Id: "+V.cb+", Channels: "+V.Ao+", Codec: "+fa,"Video Track":"Codec: "+ea+" ("+ba+")","Timed Text Track":ca?ca.bl+", Profile: "+ca.profile+", Id: "+ca.cb:"none"});}}catch(Yb){}try{ia=this.j.Ti;ja=this.j.rf.value?this.j.rf.value.TX:0;na=a(283).rLa;L.push({Framerate:ja.toFixed(3),"Current Dropped Frames":f.la(this.dca)?this.dca:"","Total Frames":ia.oB(),"Total Dropped Frames":ia.nB(),"Total Corrupted Frames":ia.kN(),"Total Frame Delay":ia.lY(),"Main Thread stall/sec":na?na.Rlb().join(" "):"DISABLED",VideoDiag:p.Uha(this.j.EY())});}catch(Yb){}try{L.push({Throughput:this.j.Fa+" kbps"});}catch(Yb){}ma=void 0;try{Object.keys(this.fca).forEach(function(a){ma=ma||{};ma[a]=JSON.stringify(b.fca[a]);});ma&&L.push(ma);}catch(Yb){}return L;};b.eva=c;},function(d,b,a){var l,q,n;function c(a,b){this.config=a;this.j=b;this.Ux=!1;this.nha=0;}Object.defineProperty(b,"__esModule",{value:!0});b.twa=void 0;l=a(13);q=a(3);n=a(91);c.prototype.vmb=function(a,b,c,f){var h,d,k,p,n;c=void 0===c?this.j.Na:c;f=void 0===f?!1:f;h=b===l.Ae.Gz;d=this.j.QHa(c);f=this.Yab(h?a:this.Mbb(a,c),f,c,d);h?(a=f,f=this.j.Gb.Fr(d,f,c)):a=this.j.Gb.qM(d,f,c);b===l.Ae.nz&&(this.j.ACa=f);k=this.fu(a,b);p=(b===l.Ae.ft||b===l.Ae.WJ)&&!this.j.pKa;p=(h=h||k||p)?a:f;if(this.j.qq){n=this.config().c0;this.j.XIa(p,n)||b!==l.Ae.ft||(p=this.j.qq.ba(q.ia)-n-1E3,h?(a=p,f=this.j.Gb.Fr(d,p,c)):(a=this.j.Gb.qM(d,p,c),f=p));}return{kH:p,Li:f,Xxb:a,fu:k};};c.prototype.Yab=function(a,b,c,f){a=this.Hqb()||b?Math.round(a):this.snb(a,c,f);this.config().wla&&(a+=this.config().wla);return a;};c.prototype.fu=function(a,b){return b===l.Ae.Gz||this.j.Oa.Si&&this.Ux?!1:(b=this.j.Gb)&&b.fu(a)||!1;};c.prototype.Hqb=function(){return this.j.Oa.Si?!0:"boolean"===typeof this.j.Oa.jP?this.j.Oa.jP:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().jP&&this.config().pyb:this.config().jP;};c.prototype.Mbb=function(a,b){b=this.j.Du(b).Er.ba(q.ia)-this.config().JIb;return n.Pm(a,0,b);};c.prototype.snb=function(a,b,c){var f;f=this.j.Oa.Si?this.config().tFa:this.config().xx;return this.j.Gb.TCa(a,c,f,b);};b.twa=c;},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;c=a(0);l=a(150);q=a(1);d=function(){var b,d;function a(){}a.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new l.fJ(b);a=this.Nwb(c);b=this.Pwb(c,b,a);return{Lo:a,images:b};};a.prototype.Nwb=function(a){var c,h,d,k;if(a.mk()<this.eBb())throw Error("array buffer too short");b.Qsa.forEach(function(b){if(b!=a.ue())throw Error("BIF has invalid magic.");});c=a.oC();if(c>b.VERSION)throw Error("BIF version in unsupported");h=a.oC();if(0==h)throw Error("BIF has no frames.");d=a.oC();k=a.Ld(b.Ova);return{version:c,Jvb:h,hTa:d,iBb:k};};a.prototype.Pwb=function(a,b,c){var d,k;for(var f=[],h=0;h<=c.Jvb;h++){k={timestamp:a.oC(),offset:a.oC()};void 0!=d&&f.push(b.subarray(d.offset,k.offset));d=k;}return f;};a.prototype.eBb=function(){return b.Qsa.length+4+4+4+b.Ova;};d=b=a;d.Qsa=[137,66,73,70,13,10,26,10];d.VERSION=0;d.Ova=44;return d=b=c.__decorate([q.N()],d);}();b.Axa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U7=void 0;b.U7="TrickPlayParserSymbol";},function(d,b,a){var l,q;function c(a,b,c,h,f,d,q,g,m,J,F){this.index=a;this.u=b;this.Na=c;this.Oa=h;this.ha=f;this.Ak=d;this.Iha=q;this.Gcb=m;this.kMa=F;this.jd=new l.Mc(null);this.mg=new l.Mc(null);this.tc=new l.Mc(null);this.nj=new l.Mc(null);this.Is=new l.Mc(void 0);this.rf=new l.Mc(null);this.al=new l.Mc(null);this.jg=new l.Mc(null);this.kf=new l.Mc(null);this.$b=new l.Mc(void 0);this.playbackRate=new l.Mc(1);this.vn=new l.Mc(null);this.du=this.jx="notcached";this.background=!1;g&&(this.rf.set(g.rf.value),this.al.set(g.al.value));this.vm=J(this);this.zk=this.kMa.qAb(this.ha,this.Ak);}Object.defineProperty(b,"__esModule",{value:!0});b.hva=void 0;l=a(185);q=a(3);c.prototype.dd=function(a){this.zk.qn(a);};c.prototype.Ju=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.zk.qn(c,q.Ib(a[c]-b.Ak.ba(q.ia)));});};c.prototype.T_=function(){this.kMa.FAb(this.ha);};na.Object.defineProperties(c.prototype,{le:{configurable:!0,enumerable:!0,get:function(){return this.Oa.le;}},jk:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.jk;}},tn:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.tn;}},Mm:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Mm;}},Mv:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Mv;}},Ik:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Ik;}},ig:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.ig;}},Su:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Su;}},vq:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.vq;}},qj:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.qj;}},z0:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.z0;}},Er:{configurable:!0,enumerable:!0,get:function(){return this.I8&&0<this.I8.ba(q.ia)?this.I8:q.Ib(this.ya?this.ya.Pf.duration:0);},set:function(a){this.I8=a;}},Uh:{configurable:!0,enumerable:!0,get:function(){return this.Oa.Uh||0;}},cca:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.sW?this.sW:void 0===this.$b.value?null:this.Gcb(this.$b.value,this.Na);}},gk:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.ya)||void 0===a?void 0:a.Pf.YCa)||void 0===b?void 0:b.aC;}},yC:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.ya)||void 0===a?void 0:a.Pf.YCa)||void 0===b?void 0:b.yC;}},pd:{configurable:!0,enumerable:!0,get:function(){return this.zk.pd;}}});b.hva=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O6=void 0;b.O6="PlayTimeTrackerFactorySymbol";},function(d,b,a){var l,q,n,k,p,h,f,t,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zua=void 0;l=a(0);q=a(1);n=a(8);k=a(14);p=a(89);a(3);h=a(23);f=a(86);t=a(9);g=a(20);c.prototype.encode=function(a){return{key:a.key,downloadableId:a.ld,bitrate:a.O,vmaf:a.uc,duration:a.duration,metric:a.yO,cdnId:a.lx};};c.prototype.decode=function(a){return{key:a.key,ld:a.downloadableId,O:a.bitrate,uc:a.vmaf,duration:a.duration,yO:a.metric,lx:a.cdnId};};d=function(){var b;function a(a,b,c,f,h){var d;d=this;this.sh=a;this.config=c;this.Ga=f;this.debug=h;this.u0=[];this.bp=[];this.Oja=[];this.BA={};this.iFa=!1;this.QL={};this.Gga=0;this.log=b.yb("PlayTimeTracker");this.startTime=this.sh.$b.value;this.h_=this.config().t8a;this.hR();this.BA.abrdel=0;this.h_.forEach(function(a){a="abrdel"+a;d.QL[a]=0;d.BA[a]=0;});}a.prototype.xN=function(){var a;this.GC(this.sh.$b.value);a=0;this.bp.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};a.prototype.JIa=function(){var a;this.GC(this.sh.$b.value);a=0;this.bp.forEach(function(b){a+=(b.endTime-b.startTime)*b.vPa;});return Math.floor(a);};a.prototype.ykb=function(){this.GC(this.sh.$b.value);return{audio:this.oN(this.u0,this.sHa),video:this.oN(this.bp,this.sHa)};};a.prototype.Jmb=function(){var a;a={total:this.xN(),totalContentTime:this.JIa(),audio:this.oN(this.u0,this.jY),video:this.oN(this.bp,this.jY),timedtext:this.oN(this.Oja,this.jY)};this.debug.assert(!(!a.audio||!a.video));return a;};a.prototype.VGa=function(){var a,b;this.GC(this.sh.$b.value);a=this.oea(this.bp,this.Lkb);try{b=this.WGa(a);}catch(L){return this.log.warn("Failed to calc average bitrate."),null;}this.BA.abrdel=Math.round(b);return this.BA.abrdel;};a.prototype.Dkb=function(){var a,b;this.GC(this.sh.$b.value);a=this.oea(this.bp,this.$nb);try{b=this.WGa(a);}catch(L){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};a.prototype.Ckb=function(){var a,b;a=this;if(!this.iFa){b=this.xN();this.h_.forEach(function(c){var f,h,d;if(0===a.QL["abrdel"+c]&&b>c*t.fj){f=0;h=0;d=0;a.bp.some(function(a){f+=a.stream.O*(a.endTime-a.startTime);h+=a.endTime-a.startTime;d=a.stream.O;if(h>c*t.fj)return!0;});f&&(a.QL["abrdel"+c]=Math.round((f-d*(h-c*t.fj))/(c*t.fj)));}});0!==this.QL["abrdel"+this.h_[this.h_.length-1]]&&(this.iFa=!0);g.xd(this.QL,function(b,c){a.BA[b]=0===c?a.BA.abrdel:c;});}return this.BA;};a.prototype.P8a=function(a){this.Gga+=a;};a.prototype.Mob=function(){return!!(this.bp[0]&&this.bp[0].stream&&this.Ga.Td(this.bp[0].stream.uc));};a.prototype.hR=function(){var a;a=this;this.sh.jg.addListener(function(b){a.yF=a.dDa(a.yF,a.u0,b.newValue);});this.sh.kf.addListener(function(b){a.AF=a.dDa(a.AF,a.bp,b.newValue);});this.sh.playbackRate.addListener(function(b){a.GC(a.sh.$b.value,b.oldValue);});this.sh.nj.addListener(this.Xvb.bind(this));};a.prototype.xvb=function(a,b){this.GC(a);this.startTime=b;this.AF=this.yF=void 0;this.zF&&(this.zF.startTime=this.startTime);};a.prototype.Xvb=function(a){this.oP(this.zF,this.Oja,this.sh.$b.value);this.zF=a.newValue?{track:a.newValue,startTime:this.sh.$b.value,endTime:p.Ws}:void 0;};a.prototype.GC=function(a,b){b=void 0===b?this.sh.playbackRate.value:b;a&&this.yF&&this.AF&&(a=Math.min(a,this.yF.endTime,this.AF.endTime),this.oP(this.yF,this.u0,a,b),this.yF.startTime=a,this.oP(this.AF,this.bp,a,b),this.AF.startTime=a,this.zF&&(this.oP(this.zF,this.Oja,a,b),this.zF.startTime=a),this.startTime=a);};a.prototype.dDa=function(a,b,c){a&&this.oP(a,b,Math.min(a.endTime,this.sh.$b.value));if(c&&c.stream)return a=c.Bo,b=c.stream,{gc:c.gc,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};a.prototype.oP=function(a,b,c,f){f=void 0===f?this.sh.playbackRate.value:f;a&&c&&c>=a.startTime&&(a={gc:a.gc,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,vPa:f},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.gc===a.gc&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};a.prototype.oea=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,h){var d,k,p;d=b.bind(c,h)();k=d.key;h=h.endTime-h.startTime;p=f[k];p?p.duration+=h:(delete d.key,p=d,p.duration=h,a.push(p),f[k]=p);return a;},[]);};a.prototype.oN=function(a,b){return this.oea(a,b).map(function(a){return new c().encode(a);});};a.prototype.jY=function(a){var b,c,f;f=a.stream;f?(a=f.ld,b=f.O,c=f.uc):a=a.track.ld;return{key:a+"$"+(b||0),ld:a,O:b,uc:c};};a.prototype.sHa=function(a){var b;b=this.jY(a);a=a.gc.id;return Object.assign({},b,{key:b.key+"$"+a,lx:a});};a.prototype.Lkb=function(a){a=(a=a.stream)?a.O:0;return{key:a,yO:a};};a.prototype.$nb=function(a){a=(a=a.stream)?a.uc:0;return{key:a,yO:a};};a.prototype.WGa=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Ga.Td(a.duration)&&b.Ga.Td(a.yO))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.yO*a.duration/c;});return f;};b=a;return b=l.__decorate([q.N(),l.__param(1,q.l(n.Bb)),l.__param(2,q.l(k.fd)),l.__param(3,q.l(h.Je)),l.__param(4,q.l(f.Nq))],b);}();b.Zua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jPa=void 0;b.jPa=function(a){var b,d;b=!1;d=!1;return function(){if(b)d=!0;else for(d=!0;d;)d=!1,b=!0,a(),b=!1;};};},function(d,b,a){var l,q,n,k,p,h;function c(a){var b,c;b=this;this.j=a;this.dwb=function(){var a;n.He.removeListener(n.KY,b.GNa);a=b.No.Fn();a&&a.parentNode&&a.parentNode.removeChild(a);};this.vja=function(a){b.No.bDb(a.newValue);};this.twb=function(a){b.No.hDb(a.newValue?a.newValue.IZ:void 0);};this.GNa=function(){b.No.PH();};this.No=new p.nxa(k.config.Sma,a.tc.value?a.tc.value.IZ:void 0);c=a.KI;q.Wa(.1<c.width/c.height);this.No.SCb(c.width/c.height);a.If.appendChild(this.No.Fn());a.Is.addListener(this.vja);a.tc.addListener(this.twb);a.addEventListener(h.U.yf,this.dwb,l.Bz);n.He.addListener(n.KY,this.GNa);}Object.defineProperty(b,"__esModule",{value:!0});b.pxa=void 0;l=a(9);q=a(16);n=a(56);k=a(12);p=a(290);h=a(13);c.prototype.Xla=function(a){this.No.Xla(a);};c.prototype.Cfa=function(){return this.No.Cfa();};c.prototype.Vla=function(a){this.No.Vla(a);};c.prototype.Afa=function(){return this.No.Afa();};c.prototype.Wla=function(a){this.No.Wla(a);};c.prototype.Bfa=function(){return this.No.Bfa();};b.pxa=c;},function(d,b,a){var c,l,q,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.mxa=void 0;d=a(57);c=a(12);l=a(56);q=a(5);n=a(22);k=a(233);p=a(130);h=a(67);f=a(102);t=a(13);d.W6(d.S6,function(a){var h;function b(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==f.Rq.m2a){c=n.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,f,d;b=c.files[0];if(b){f=b.name;h.info("Loading file",{FileName:f});d=new FileReader();d.readAsText(b);d.addEventListener("load",function(){return a.Wn.M$("nourl",f,{content:d.result});});}});c.click();}}h=q.Qg(a,"TimedTextCustomTrack");c.config.eca&&(h.info("Loading url",{Url:c.config.eca}),a.Wn.M$(c.config.eca,"custom"));l.He.addListener(l.Ox,b);a.addEventListener(t.U.yf,function(){l.He.removeListener(l.Ox,b);});});a=function(){function a(a,b,c,f,h){var d,l;a=k.Lz.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",f||a,p.Ym.ND,"primary",null!==(d=null===h||void 0===h?void 0:h.profile)&&void 0!==d?d:"custom",null!==(l=null===h||void 0===h?void 0:h.midx)&&void 0!==l?l:{},!1,!1,null===h||void 0===h?void 0:h.isLanguageLeftToRight)||this;a.j=b;a.url=c;a.options=h;a.Hq=null===h||void 0===h?void 0:h.useRangeHeader;return a;}ca(a,k.Lz);a.Eeb=function(b,c,f,h){var d;d="custom"+a.Spb++;return new a(d,b,c,f,h);};a.prototype.lFa=function(){var a;a=this;return new Promise(function(b,c){var f,d;if(null===(f=a.options)||void 0===f?0:f.content)b(a.options.content);else if(a.url){d={responseType:h.ega,url:a.url,track:a,gc:null,TA:"tt-"+a.bl};a.j.fZ.download(d,function(f){f.da?b(f.content):(f.reason="downloadfailed",f.url=d.url,f.track=a,c(f));});}});};a.Spb=0;return a;}();b.mxa=a;},function(d,b,a){var q;function c(a,b,c){this.start=a;this.track=b;this.tI=Array.isArray(c)?c:[];}function l(a,b){this.log=a;this.$C=b;this.vka=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Vwa=void 0;q=a(16);l.prototype.B8a=function(a,b){this.NMa(a,b,"activating");};l.prototype.Cfb=function(a){this.fda(a,"de-activating");};l.prototype.NMa=function(a,b,d){var h;this.rj&&this.fda(a,"close current for new");h=[];this.orphans.length&&(h.push.apply(h,[].concat(fa(this.orphans))),this.orphans=[]);this.rj=new c(a,b,h);this.$C&&this.log.trace("new range: "+d,this.rj);};l.prototype.fda=function(a,b){this.rj&&(this.rj.end=a,this.vka.push(this.rj),this.$C&&this.log.trace("end range: "+b,this.rj||{}),this.rj=void 0);};l.prototype.dUa=function(a){this.rj?this.rj.tI.push(a):this.orphans.push(a);};l.prototype.wfa=function(a){var b,d;b=this.vka.slice(0);if(this.rj&&"undefined"!==typeof a){d=new c(this.rj.start,this.rj.track,this.rj.tI);d.end=a;b.push(d);}a=b.reduce(function(a,b){var c,f,h,d;if(!b.track)return a;f=b.track.ld;h=b.track.Lx(b.start,b.end);if(!h)return a;d=new Set(b.tI);a[f]?(b=a[f],b.expected+=h.length,b.missed+=h.length-d.size):a[f]={dlid:f,bcp47:b.track.bl,profile:b.track.profile,expected:h.length,missed:h.length-d.size,startPts:null!==(c=b.track.tnb())&&void 0!==c?c:0};return a;},{});a=Object.values(a);this.$C&&this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};l.prototype.hnb=function(a){var b,d,h,f;b=this.vka.slice(0);d=0;h=0;this.rj&&"undefined"!=typeof a&&(f=new c(this.rj.start,this.rj.track,this.rj.tI),f.end=a,b.push(f));b.forEach(function(a){var b,c;if(a.track){if(a.end<a.start){q.Wa("negative range",a);a.Cy=0;return;}b=new Set(a.tI);c=a.track.Lx(a.start,a.end);a.Up=c?c.map(function(a){return a.id;}):[];a.Cy=c?0===c.length?100:100*b.size/c.length:0;}else a.Cy=100;b=a.end-a.start;d+=b;h+=a.Cy*b;});f=d?Math.round(h/d):100;this.log.trace("qoe score "+f+", at pts: "+a);this.$C&&(a=b.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.Cy),lang:a.track?a.track.bl:"none","actual  ":a.tI.join(" "),expected:(a.Up||[]).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return f;};b.Vwa=l;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,m,D,r;Object.defineProperty(b,"__esModule",{value:!0});b.oxa=void 0;c=a(233);l=a(294);q=a(76);n=a(12);k=a(43);p=a(5);h=a(618);f=a(2);t=a(59);g=a(15);m=a(13);D=a(617);r=a(60);d=function(){var b;function a(b){var d;d=this;this.j=b;this.Bma=this.GMa=0;this.yf=this.wm=!1;this.b1=0;this.zI=function(){var a,b;d.a1();d.pEa&&(d.log.info("Deactivating",d.pEa),d.Jy.Cfb(d.Wd()));d.j.nj.set(null);d.QC.vRa(d.entries=void 0);d.pDa();a=d.j.tc.value;a&&a.JZ()&&!a.EZ()&&(a=null);if(a&&d.j.Ob.value!==m.jb.Xf){b=d.Wd();d.Jy.B8a(b,a);}a?(d.log.info("Activating",a),d.j.Hk.set(a.Yc()===c.Lz.t7.LOADED?m.We.ud:m.We.we),d.wm||d.j.dd("tt_start"),a.getEntries().then(d.$E)["catch"](d.$E)):d.j.Hk.set(m.We.ud);d.pEa=a;d.DI();};this.Ima=function(){d.wm&&(d.QC.start(),d.j.Ob.value!==m.jb.Nc&&d.QC.stop());};this.DI=function(){var b;d.j.state.value===m.nb.ud&&d.j.Ob.value!==m.jb.Xf&&(d.entries?b=d.QC.nkb():d.j.tc.value&&(b=a.zEb[d.j.tc.value.Yc()]));b&&g.Xb(b.startTime)&&(d.GMa++,d.Bma+=d.QC.cIa()-b.startTime,d.pCa=Math.ceil(d.Bma/(d.GMa+0)));d.j.Is.set(b);};this.Wd=function(){return d.j.ffa();};this.rwb=function(b){d.fireEvent(a.bEb,b);b&&b.id&&d.Jy.dUa(b.id);d.log.trace("showsubtitle",d.AIa(b));};this.mwb=function(b){d.fireEvent(a.NAb,b);d.log.trace("removesubtitle",d.AIa(b));};this.wk=function(){d.log.warn("imagesubs buffer underflow",d.j.tc.value.Tg);d.j.Hk.set(m.We.we);};this.Zvb=function(){d.log.info("imagesubs buffering complete",d.j.tc.value.Tg);d.j.Hk.set(m.We.ud);};this.yNa=function(){d.wm&&d.cg&&d.cg.Gq(d.Wd());};this.DNa=function(a){d.cg&&d.cg.cQ&&d.cg.cQ(a.rg,a.MO);};this.INa=function(a){d.cg&&d.cg.qp&&d.cg.qp(a.Na,a.uHb);};this.$_=function(){d.wm=!0;t.oc(function(){d.cg?d.cg.Gq(d.Wd()):d.Ima();d.DI();});};this.RO=function(){d.entries=void 0;d.pDa();d.QC.stop();d.DI();d.yf=!0;d.a1();};this.vja=function(a){(a=a.newValue)&&g.Xb(a.id)&&d.Jy.dUa(a.id);};this.jwb=function(a){d.oHb(a.newValue,a.oldValue);d.Ima();};this.$E=function(a){var b;if(!d.yf){b=a.track;if(b===d.j.tc.value)try{b.Kn?d.z8a(a):d.A8a(a);}catch(Q){d.log.error("Error activating track:",Q,b);return;}d.wm||d.j.dd(a.da?"tt_comp":"tt_err");a.da?(n.config.IQa?setTimeout(function(){d.j.Hk.set(m.We.ud);},n.config.IQa):d.j.Hk.set(m.We.ud),b.Kn||d.DI()):a.or?d.log.warn("aborted timed text track loading"):n.config.Uib?(b=p.Y.get(r.Nk),d.j.Sd(b(f.J.TZa,{rb:a.track?a.track.Tg:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.Hk.set(m.We.ud));}};this.Jb=new q.dj();this.Jy=new h.Vwa(p.Qg(b,"SubtitleTracker"),n.config.Zhb);this.log=p.Qg(b,"TimedTextManager");this.QC=new l.qxa(this.Wd,this.DI);this.j.tc.addListener(this.zI);n.config.myb?(this.j.addEventListener(m.U.Rn,this.$_),this.zI()):(this.j.Hk.set(m.We.ud),this.j.addEventListener(m.U.Rn,function(){d.wm=!0;d.zI();}));this.j.Ob.addListener(this.jwb);this.j.addEventListener(m.U.Nma,this.Ima);this.j.Is.addListener(this.vja);this.j.addEventListener(m.U.yf,this.RO);}a.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};a.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};a.prototype.fireEvent=function(a,b,c){this.Jb.Vb(a,b,c);};a.prototype.M$=function(a,b,c){var f;f=D.mxa.Eeb(this.j,a,b,c);this.j.Ik.push(f);this.j.tn.forEach(function(a){k.boa(a.Ik,f);});this.j.tc.set(f);this.j.fireEvent(m.U.RC);};a.prototype.uyb=function(a){this.Yka(a)?a.getEntries().then(function(){}):Promise.resolve();};a.prototype.znb=function(a){return this.Jy.hnb(a);};a.prototype.wfa=function(a){return this.Jy.wfa(a);};a.prototype.BY=function(){var a,b;a=this.j.IQ;b=n.config.eTa.characterSize;b={size:n.config.Tma.characterSize||b};a&&(b.visibility=a.Cfa(),b.VL=a.Afa(),b.Wo=a.Bfa());return b;};a.prototype.wDb=function(a){n.config.Tma.characterSize=a;a=this.j.tc.value;this.Yka(a)&&!a.Kn&&a.getEntries().then(this.$E)["catch"](this.$E);};a.prototype.oHb=function(a,b){var c;a===m.jb.Nc||a==m.jb.Ch?b!==m.jb.Nc&&b!==m.jb.Ch&&((b=this.j.tc.value)&&!this.Yka(b)||this.Jy.NMa(this.Wd(),b||void 0,"presentingstate:"+a)):a!==m.jb.Xf&&a!==m.jb.Pq||this.Jy.fda(null!==(c=this.Wd())&&void 0!==c?c:void 0,"presentingstate:"+a);};a.prototype.a1=function(){this.b1=0;clearTimeout(this.yBb);};a.prototype.pDa=function(){this.cg&&(this.cg.stop(),this.xLa("removeListener"));this.cg=void 0;};a.prototype.xLa=function(a){this.cg&&(this.cg[a]("showsubtitle",this.rwb),this.cg[a]("removesubtitle",this.mwb),this.cg[a]("underflow",this.wk),this.cg[a]("bufferingComplete",this.Zvb),"addListener"===a?(this.j.addEventListener(m.U.Fo,this.yNa),this.j.addEventListener(m.U.P_,this.DNa),this.j.addEventListener(m.U.qp,this.INa)):(this.j.removeEventListener(m.U.Fo,this.yNa),this.j.removeEventListener(m.U.P_,this.DNa),this.j.removeEventListener(m.U.qp,this.INa)));};a.prototype.AIa=function(a){return{currentPts:this.Wd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};a.prototype.z8a=function(a){var b,c;b=this;c=a.track;if(!c||!c.Kn)throw Error("Not an image base subtitle");a.da?(this.a1(),this.cg=c.cg,this.xLa("addListener"),this.log.info("Activated",c),this.j.nj.set(c),this.wm?t.oc(function(){b.cg.Gq(b.Wd());}):this.cg.pause()):this.AQa(c,a);};a.prototype.A8a=function(a){var b,c;b=a.track;c=a.entries;if(!b||b.Kn)throw Error("Not a valid text track");c?(this.a1(),this.QC.vRa(this.entries=c),this.log.info("Activated",b),this.j.nj.set(b)):this.AQa(b,f.Ap(a));this.DI();};a.prototype.AQa=function(a,b){var c,f;c=this;f=this.b1<n.config.Atb;f&&(this.yBb=setTimeout(function(){c.b1++;a.getEntries().then(c.$E)["catch"](c.$E);},n.config.NFb));this.log.error("Failed to activate"+((null===a||void 0===a?0:a.Kn)?" img subtitle":""),{retry:f},b,a);};a.prototype.Yka=function(a){return!(!a||a.JZ()&&!a.EZ());};b={};a.zEb=(b[c.Lz.t7.LOADING]={uTb:!0},b[c.Lz.t7.BJ]={Cx:!0},b);a.bEb="showsubtitle";a.NAb="removesubtitle";return a;}();b.oxa=d;},function(d,b,a){var k,p,h,f,t,g,m,D,r,F,L,H,U,u,aa,Q,y,T,qa,da,W,ka,O,oa,A,E,P;function c(a){var b;b=this;this.j=a;this.JUa=Promise.resolve();this.f4=N.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Uw=[];this.Zj=new g.dj();this.Dya=this.q8=0;this.eU=[];this.xb=r.Qg(this.j,"MediaElementASE");this.vAa=aa.Xe;this.P8=!1;this.Of={};this.EK={};this.oB=this.gU(function(){var a;if(b.eb){a=b.xU();return a?a.totalVideoFrames:b.eb.webkitDecodedFrameCount;}});this.nB=this.gU(function(){var a;if(b.eb){a=b.xU();return a?a.droppedVideoFrames:b.eb.webkitDroppedFrameCount;}});this.kN=this.gU(function(){var a;if(b.eb){a=b.xU();return a&&a.corruptedVideoFrames;}});this.lY=this.gU(function(){var a;if(b.eb){a=b.xU();return a&&y.Bh(a.totalFrameDelay*aa.fj);}});this.sza=function(a){return b.Zj.Vb(da.$h.SKa,{oa:a});};this.Aj=r.Y.get(qa.l5).create(t.config.sp,this,this.j);t.config.$x&&(this.JUa=new Promise(function(a){b.vAa=a;b.j.addEventListener(O.U.yf,a);}));this.xb.trace("Created Media Element");this.addEventListener=this.Zj.addListener;this.removeEventListener=this.Zj.removeListener;this.eb=l(this.j.KI);this.sourceBuffers=this.Uw;}function l(a){var b,c;b=r.Y.get(W.g8).anb();a=a.width/a.height*b.height;c=(b.width-a)/2;return t.config.ADb?aa.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):aa.createElement("VIDEO","position:absolute;width:100%;height:100%");}function q(a){a.preventDefault();return!1;}function n(a,b){var c,f,h;c=a.target;c=c&&c.error;f=a.errorCode;h=c&&c.code;aa.Xb(h)||(h=f&&f.code);f=c&&c.msExtendedCode;aa.Xb(f)||(f=c&&c.systemCode);aa.Xb(f)||(f=a.systemCode);a=aa.tb({},{code:h,systemCode:f},{nv:!0});b={ga:b(h),rb:Q.Uha(a)};try{c&&c.message&&(b.tO=c.message);}catch(Ea){}f=aa.Kd(f);T.la(f)&&(b.re=r.Caa(f,4));return{YF:b,Csb:a};}Object.defineProperty(b,"__esModule",{value:!0});b.rta=void 0;k=a(50);p=a(186);h=a(60);f=a(9);t=a(12);g=a(76);m=a(56);D=a(43);r=a(5);F=a(2);L=a(16);H=a(91);U=a(472);u=a(20);aa=a(22);Q=a(184);y=a(10);T=a(15);qa=a(295);da=a(183);W=a(319);ka=a(3);O=a(13);oa=a(172);A=a(52);E=!!(y.ID&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);P=E&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||y.HD);c.prototype.mN=function(a){try{this.eb&&(this.Dya=this.eb.currentTime);}catch(ga){this.xb.error("Exception while getting VIDEO.currentTime",ga);a&&this.hE(F.J.Z0a,ga);}return y.Bh(this.Dya*aa.fj);};c.prototype.seek=function(a){var b;L.Wa(!this.jn);this.qAa();b=this.mN(!0);if(!t.config.z9a&&y.vz(b-a)<=this.xla)this.xb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.xla});else try{this.xb.trace("Setting video elements currentTime",{From:H.fh(b),To:H.fh(a)});this.jn={};this.eb.currentTime=a/aa.fj;this.Zj.Vb(da.$h.Fo);}catch(Fa){this.xb.error("Exception while setting VIDEO.currentTime",Fa);this.hE(F.J.$0a,Fa);}};c.prototype.inb=function(){return!!this.jn;};c.prototype.addSourceBuffer=function(a){var b,c;b=aa.Kd(this.q8.toString()+this.Uw.length.toString());b={sourceId:this.q8,YV:b};try{c=new p.I5(this.j,a,this.af,b,this.xb);this.Uw.push(c);a==f.BD&&c.Qda&&c.Qda.addListener(this.vAa);return c;}catch(Ga){c=aa.Fe(Ga);this.xb.error("Unable to add source buffer.",{error:c});b=r.Y.get(h.Nk);this.j.Sd(b(F.J.q6,{ga:a===k.yc.Ci.AUDIO?aa.I.Zsa:aa.I.$sa,rb:c}));}};c.prototype.IV=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Zj.Vb(da.$h.cSa);return!0;};c.prototype.removeSourceBuffer=function(a){this.Uw=this.Uw.filter(function(b){return!D.tba(a,b);});this.af.removeSourceBuffer(a);};c.prototype.endOfStream=function(){t.config.Vaa&&this.af.endOfStream();};c.prototype.An=function(a){this.Uw=[];a&&a.wUb();return!0;};c.prototype.RCb=function(a){this.q8=a;};c.prototype.bIa=function(){if(this.af)return ka.ROa(this.af.duration);};c.prototype.jDb=function(a){this.af&&(this.af.duration=a.x0(ka.Il));};c.prototype.Igb=function(){var a;if(!this.P8&&this.eb&&this.eb.readyState>=A.Od.jra.HAVE_CURRENT_DATA){a=this.eb.webkitDecodedFrameCount;if(void 0===a||0<a||t.config.BIb)this.P8=!0;}return this.P8;};c.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(O.U.RRa,function(b){return a.w6a(b);});if(E){if(this.j.Su){if(!P){this.dn(F.J.oua);return;}if(y.HD&&y.HD.isTypeSupported&&this.Aj.Yd)try{if(!y.HD.isTypeSupported(this.Aj.Yd,"video/mp4")){this.X7a(function(b){a.dn(F.J.o6,b);});return;}}catch(Ga){this.hE(F.J.o6,Ga);return;}}try{this.af=new y.ID();}catch(Ga){this.hE(F.J.P0a,Ga);return;}try{this.Zk=URL.createObjectURL(this.af);}catch(Ga){this.hE(F.J.Q0a,Ga);return;}try{this.Aj.S8a(this.sza);this.af.addEventListener("sourceopen",function(b){return a.Sza(b);});this.af.addEventListener(this.f4+"sourceopen",function(b){return a.Sza(b);});this.eb.addEventListener("error",this.Of.error=function(b){return a.FE(b);});this.eb.addEventListener("seeking",this.Of.seeking=function(){return a.v6a();});this.eb.addEventListener("seeked",this.Of.seeked=function(){return a.K9();});this.eb.addEventListener("timeupdate",this.Of.timeupdate=function(){return a.y6a();});this.eb.addEventListener("loadstart",this.Of.loadstart=function(){return a.YK();});this.eb.addEventListener("volumechange",this.Of.volumechange=function(b){return a.z6a(b);});this.eb.addEventListener(this.Aj.VB,this.Of[this.Aj.VB]=function(b){return a.r6a(b);});b=this.j.If;c=b.lastChild;c?b.insertBefore(this.eb,c):b.appendChild(this.eb);t.config.$Ea&&this.eb.addEventListener("contextmenu",q);this.eb.src=this.Zk;m.He.addListener(m.wG,this.EK[m.wG]=function(){return a.Rza();});this.Rza();}catch(Ga){this.hE(F.J.R0a,Ga);}}else this.dn(F.J.pua);};c.prototype.close=function(){var b;function a(){b.Zk&&(b.qAa(),m.He.removeListener(m.wG,b.EK[m.wG]),b.G3a());}b=this;this.eb.removeEventListener(this.Aj.VB,this.Of[this.Aj.VB]);this.eb.removeEventListener("error",this.Of.error);this.eb.removeEventListener("seeking",this.Of.seeking);this.eb.removeEventListener("seeked",this.Of.seeked);this.eb.removeEventListener("timeupdate",this.Of.timeupdate);this.eb.removeEventListener("loadstart",this.Of.loadstart);this.eb.removeEventListener("volumechange",this.Of.volumechange);this.Aj.BAb(this.sza);t.config.sp?this.Aj.uOa().then(function(){return a();}):a();this.Aj.fQa&&clearTimeout(this.Aj.fQa);};c.prototype.r6a=function(a){return this.Aj.rja(a);};c.prototype.xU=function(){if(this.eb)return this.eb.getVideoPlaybackQuality&&this.eb.getVideoPlaybackQuality()||this.eb.videoPlaybackQuality||this.eb.playbackQuality;};c.prototype.C7a=function(){var a;a=this.j.Oi;return(a=a&&a.errorCode)&&0<=[F.J.$S,F.J.BS].indexOf(a);};c.prototype.G3a=function(){var a;a=!1;t.config.Lyb&&this.C7a()&&(a=!0);t.config.Ubb&&!a&&(this.eb.removeAttribute("src"),this.eb.load&&this.eb.load());URL.revokeObjectURL(this.Zk);t.config.$Ea&&this.eb.removeEventListener("contextmenu",q);!a&&this.eb&&this.j.If.removeChild(this.eb);this.eb=this.af=void 0;this.Zk="";};c.prototype.Rza=function(){!0===y.ne.hidden?this.eU.forEach(function(a){a.refresh();a.pEb();}):this.eU.forEach(function(a){a.refresh();a.EEb();});};c.prototype.gU=function(a){var b;b=r.Y.get(U.f6)(a);this.eU.push(b);return function(){b.refresh();return b.clb();};};c.prototype.hE=function(a,b){var c,f;c={ga:aa.I.Ah,rb:aa.Fe(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.re=f);}catch(la){}b=r.Y.get(h.Nk);this.j.Sd(b(a,c));};c.prototype.qAa=function(){this.eU.forEach(function(a){a.refresh();});};c.prototype.y4a=function(){return this.eb&&this.eb.msGraphicsTrustStatus;};c.prototype.dn=function(a,b,c){var f;f=r.Y.get(h.Nk);this.j.Sd(f(a,b,c));};c.prototype.X7a=function(a){var c,h;function b(f){b=aa.Xe;c.wi();a(f);}c=r.Y.get(oa.ZJ)(500,function(){b();});c.bB();try{h=this.j.rf.value.Lo.bUb.children.filter(function(a){return"pssh"==a.type&&a.nhb==f.jqa;})[0];new y.HD(this.Aj.Yd).createSession("video/mp4",h.raw,null).addEventListener(this.f4+"keyerror",function(a){a=n(a,F.k4);b(a.YF);});}catch(la){b();}};c.prototype.w6a=function(a){var b,h,d,k,p,l,n;if(this.eb){a=a.dR;b=this.y4a();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.eb.readyState;a.currentTime=""+this.eb.currentTime;a.pbRate=""+this.eb.playbackRate;}catch(Ia){}for(var b=this.Uw.length,c;b--;){c=this.Uw[b];h="";c.type==f.HS?h="audio":c.type==f.BD&&(h="video");aa.tb(a,c.cY(),{prefix:h});t.config.Qhb&&this.j.Oi&&f.BD==c.type&&(h=aa.gI(c.gY()),3E3>(h.data&&h.data.length)&&(h.data=u.YDa(h.data).join(),aa.tb(a,h,{prefix:c.type})));}this.af&&(b=this.af.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(t.config.Dsb)try{d=this.j.zf;k=d&&d.jrb;if(k){p=k.expiration;isNaN(p)||(a.exp=p);l=k.keyStatuses.entries();if(l.next){n=l.next().value;n&&(a.keyStatus=n[1]);}}}catch(Ia){}}};c.prototype.Sza=function(a){this.E7a||(this.E7a=!0,this.Zj.Vb(da.$h.dSa,a));};c.prototype.v6a=function(){this.xb.trace("Video element event: seeking");this.jn?this.jn.Nvb=!0:(this.xb.error("unexpected seeking event"),t.config.Wib&&this.dn(F.J.e1a));};c.prototype.K9=function(){this.xb.trace("Video element event: seeked");this.jn?(L.Wa(this.jn.Nvb),this.jn.Mvb=!0,this.QAa()):(this.xb.error("unexpected seeked event"),t.config.Vib&&this.dn(F.J.d1a));};c.prototype.y6a=function(){this.jn&&(this.jn.Pvb=!0,this.QAa());this.Zj.Vb(da.$h.Fo);};c.prototype.YK=function(){this.xb.trace("Video element event: loadstart");};c.prototype.z6a=function(a){this.xb.trace("Video element event:",a.type);try{this.j.volume.set(this.eb.volume);this.j.muted.set(this.eb.muted);}catch(ga){this.xb.error("error updating volume",ga);}};c.prototype.FE=function(a){a=n(a,F.Oqa);this.xb.error("Video element event: error",a.Csb);this.dn(F.J.X0a,a.YF);};c.prototype.QAa=function(){this.jn&&this.jn.Mvb&&this.jn.Pvb&&(this.jn=void 0,this.Zj.Vb(da.$h.PP));};na.Object.defineProperties(c.prototype,{xla:{configurable:!0,enumerable:!0,get:function(){return t.config.jEb;}}});b.rta=c;},function(d,b,a){var h,f,t,g,m,D,r,F,L,H,U,u,aa,Q,y,T,qa,da;function c(a,b,c){this.Wl=a;this.Ifa=b;this.prefix=c;a=u(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function l(){this.VEa=h.Go.VEa.bind(h.Go);this.xW=h.Go.xW.bind(h.Go);this.MF=h.Go.MF;this.KD="NDA";}function q(){}function n(){}function k(){return L?L:"0.0.0.0";}function p(a){a({PNa:0,BQ:0,nJa:0,dGa:0});}h=a(145);l.prototype.set=function(a,b){g[a]=b;m.save(a,b);};l.prototype.get=function(a,b){if(g.hasOwnProperty(a))return g[a];F.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");m.load(a,function(c){c.da?(g[a]=c.data,b&&b(c.data)):g[a]=void 0;});};l.prototype.remove=function(a){m.remove(a);};l.prototype.clear=function(){F.info("WARNING: Calling unimplemented function Storage.clear()");};q.prototype.now=function(){return D();};q.prototype.ea=function(){return r();};q.prototype.Lia=function(a){return a+D()-r();};q.prototype.ija=function(a){return a+r()-D();};b=a(105).EventEmitter;a(58)(b,n.prototype);c.prototype.jEa=function(a){var b;b=[];this.prefix&&Array.isArray(this.prefix)?b.push.apply(b,[].concat(fa(this.prefix))):this.prefix&&b.push(this.prefix);b.push(a);return new c(this.Wl,this.Ifa,b);};aa=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();d.P=function(a){f=a.eC;u=a.rh;m=a.storage;g=a.NG;D=a.zmb;H=a.rN;U=a.MN;r=a.getTime;F=a.T9a;Q=a.Tj;da=a.Zq;y=a.lD;T=a.SourceBuffer;qa=a.MediaSource;L=a.dTb;t=a.px;return{name:"cadmium",px:t,eC:f,rN:H,MN:U,storage:new l(),Storage:l,time:new q(),events:new n(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:aa,Tj:Q,lD:y,U_a:T,MediaSource:qa,Zq:da,qm:{name:k},memory:{Plb:p},lk:a.lk};};},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Hva=void 0;c=a(5);l=a(67);b.Hva=function(){c.rh("ProbeDownloader");return{eN:function(a){l.Re.Ryb({url:a.url,Oyb:a});}};}();},function(d,b,a){var l,q,n,k,p,h,f;function c(){var a;a=new q.dj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Vb.bind(this);this.bV=h++;this.xb=n.rh("ProbeRequest");this.fAa=l.Hva;k.Wa(void 0!==this.fAa);this.pg=b.Zq.jc.UNSENT;}Object.defineProperty(b,"__esModule",{value:!0});b.Zq=void 0;l=a(622);q=a(76);n=a(5);k=a(16);p=a(22);h=0;(function(){function a(){return JSON.stringify({url:this.Zk,id:this.bV,affected:this.RT,readystate:this.pg});}p.tb(c.prototype,{ls:function(a){a.affected=this.RT;a.probed={requestId:this.bV,url:this.Zk,Kb:this.mL,groupId:this.yU};this.emit(b.Zq.Nd.IJ,a);},hja:function(a){this.H7a=a.httpcode;a.affected=this.RT;a.probed={requestId:this.bV,url:this.Zk,Kb:this.mL,groupId:this.yU};this.emit(b.Zq.Nd.Az,a);},open:function(a,c,f,h){if(!a)return!1;this.Zk=a;this.RT=c;this.mL=f;this.pg=b.Zq.jc.OPENED;this.j5a=h;this.fAa.eN(this);return!0;},wc:function(){return!0;},xj:function(){return this.bV;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.pg;},set:function(){}},status:{get:function(){return this.H7a;}},url:{get:function(){return this.Zk;}},vQb:{get:function(){return this.RT;}},ysb:{get:function(){return this.j5a;}}});}());(function(a){a.Nd={IJ:"pr0",Az:"pr1"};a.jc={UNSENT:0,OPENED:1,ow:2,DONE:3,Yv:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(f||(f={})));b.Zq=Object.assign(c,f);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.epa=b.fpa=void 0;d=b.fpa||(b.fpa={});d[d.t0a=0]="PAUSE";d[d.y1a=1]="RESUME";d[d.hKb=2]="CAPTIONS_ON";d[d.gKb=3]="CAPTIONS_OFF";d[d.iKb=4]="CAPTION_LANGUAGE_CHANGED";d[d.vJb=5]="AUDIO_LANGUAGE_CHANGED";d[d.aNb=6]="NEXT_EP";d[d.bOb=7]="PREV_EP";d[d.ft=8]="SEEK";d[d.iwa=9]="STOP";b.epa="CastInteractionTrackerSymbol";},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,m,D,r,F,L,H,U,u,aa,Q,y,T,qa,da,W;Object.defineProperty(b,"__esModule",{value:!0});b.cva=void 0;c=a(0);l=a(114);q=a(1);n=a(96);k=a(24);p=a(25);h=a(40);f=a(306);t=a(429);g=a(415);m=a(341);D=a(103);r=a(60);F=a(124);L=a(84);H=a(239);U=a(191);u=a(123);aa=a(624);Q=a(308);y=a(46);T=a(26);qa=a(305);da=a(69);W=a(304);d=function(){var d;function b(a,b,c,f,h,d,k,p,l,t,n,q,g,z,m,G,D,F,r,J,L,y,H){this.zG=a;this.gF=b;this.qa=c;this.Ja=f;this.V$a=h;this.Mma=d;this.Zha=k;this.$ha=p;this.i_=l;this.Ac=t;this.he=n;this.Ej=q;this.dx=g;this.Nja=z;this.Yha=m;this.fna=G;this.Lh=D;this.zk=F;this.Sc=r;this.Mja=J;this.V0=L;this.hW=y;this.FL=H;}b.prototype.create=function(b,c,f,h,d){return new(a(303)).dva(b,c,h,d,this.zG,f,this.qa,this.gF,this.Ja,this.Zha,this.V$a,this.Mma,this.$ha,this.i_,this.Ac,this.he,this.Ej,this.dx,this.Nja,this.Yha,this.fna,this.Lh,this.Sc,this.Mja,this.zk,this.V0,void 0,this.hW);};d=b;return d=c.__decorate([q.N(),c.__param(0,q.l(l.pz)),c.__param(1,q.l(k.sf)),c.__param(2,q.l(p.Ue)),c.__param(3,q.l(h.Bi)),c.__param(4,q.l(f.b3)),c.__param(5,q.l(n.Kz)),c.__param(6,q.l(t.B5)),c.__param(7,q.l(g.D5)),c.__param(8,q.l(m.u5)),c.__param(9,q.l(D.Nz)),c.__param(10,q.l(r.Nk)),c.__param(11,q.l(F.SD)),c.__param(12,q.l(H.wR)),c.__param(13,q.l(U.lT)),c.__param(14,q.l(u.eT)),c.__param(15,q.l(Q.T7)),c.__param(16,q.l(y.Sj)),c.__param(17,q.l(da.ED)),c.__param(18,q.l(T.tf)),c.__param(19,q.l(qa.Y6)),c.__param(20,q.l(W.q7)),c.__param(21,q.l(aa.epa)),c.__param(21,q.optional()),c.__param(22,q.l(L.TI)),c.__param(22,q.optional())],d);}();b.cva=d;},function(d,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Coa=void 0;a.prototype.cUa=function(){var a;a=this.j.Gm&&this.j.Gm.ub.get()||{};a.th&&(this.j.th=a.th.Ca);a.Fa&&(this.j.Fa=a.Fa.Ca);};a.prototype.hm=function(){-1===this.j.Fa&&this.cUa();return this.j.Fa;};a.prototype.Qab=function(a){-1!==this.j.th&&-1!==this.j.Fa||this.cUa();return-1===this.j.th||-1===this.j.Fa?Number.MAX_VALUE:this.j.th+8*a/this.j.Fa;};b.Coa=a;},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.zxa=void 0;c=a(0);l=a(13);q=a(307);n=a(25);k=a(1);p=a(3);h=a(14);d=function(){var b;function a(a,b){this.app=a;this.config=b;}a.prototype.UF=function(a){var b;a.MQ={};if(!a.BB()&&a.Mv&&0<a.Mv.length&&(a.Lv=this.JHa(a),a.Lv)){b=this.GDb(a);b()||(a.Ob.addListener(b),a.rf.addListener(b));}};a.prototype.GDb=function(a){var c;function b(){var f,h;if(!a.rf.value||a.Ob.value===l.jb.Xf)return!1;f=a.Lv;h=f.Yc();return h===q.Zm.LOADING?!1:h!==q.Zm.LOADED&&f.Bv?(f=c.Nnb(a))?(a.MQ.offset=c.app.Zb().ba(p.ia),a.Lv=f,f.download(),!0):!1:(a.Ob.removeListener(b),a.rf.removeListener(b),!1);}c=this;return b;};a.prototype.Nnb=function(a){var b,c;b=this.config();c=a.vm.xN()<b.wGb;b=(a.rf.value?a.rf.value.O:0)>b.vGb;return this.gnb(a,c&&b);};a.prototype.gnb=function(a,b){if(b&&(b=this.JHa(a),this.pIa(a,b.size)))return a.MQ.qQa="h",b;b=this.fmb(a);if(this.pIa(a,b.size))return a.MQ.qQa="l",b;};a.prototype.pIa=function(a,b){var c,f;c=this.config();f=Math.min(a.IL(),a.bR());return a.T$a.Qab(b)*(1+.01*c.n9a[2])<f*c.zGb;};a.prototype.JHa=function(a){return a.Mv[a.Mv.length-1];};a.prototype.fmb=function(a){return a.Mv[0];};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(n.Ue)),c.__param(1,k.l(h.fd))],b);}();b.zxa=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,m,D,r,F,L,H,U,u,aa,Q,y,T,qa,da,W,ka,O,oa,A,E,P,N,ga,Fa,Ga,la;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;d=a(1);c=a(416);l=a(308);q=a(627);n=a(306);k=a(626);p=a(451);h=a(454);f=a(625);t=a(614);g=a(14);m=a(25);D=a(86);r=a(23);F=a(8);L=a(613);H=a(191);U=a(612);u=a(3);aa=a(611);Q=a(610);y=a(285);T=a(609);qa=a(68);da=a(305);W=a(608);ka=a(96);O=a(26);oa=a(113);A=a(72);E=a(337);P=a(282);N=a(607);ga=a(69);Fa=a(30);Ga=a(304);la=a(606);b.j=new d.Cc(function(b){b(P.kT).to(N.gva).$();b(c.S7).nf(function(b){var c;c=b.kb;return function(b,f,h,d,k,p,l,t){return new(a(605)).xxa(c.get(aa.U7),b,f,h,d,k,p,l,t);};});b(aa.U7).to(Q.Axa).$();b(l.T7).to(q.zxa).$();b(h.X6).to(f.cva).$();b(Ga.q7).to(la.Yva);b(p.P3).nf(function(b){var c;c=b.kb;return function(b){return new(a(604)).Zpa(c.get(qa.O3),c.get(D.Nq),c.get(m.Ue),b);};});b(n.b3).nf(function(){return function(a){return new k.Coa(a);};});b(L.O6).nf(function(a){var b;b=a.kb;return function(a){return new t.Zua(a,b.get(F.Bb),b.get(g.fd),b.get(r.Je),b.get(D.Nq));};});b(H.lT).nf(function(a){var b;b=a.kb;return function(a,c,f,h,d,k,p,l,t){return new U.hva(a,c,f,h,d,k,p,l,t,b.get(L.O6),b.get(P.kT));};});b(y.w7).nf(function(a){return function(b){var c;c=a.kb.get(g.fd);return new T.twa(c,b);};});b(da.Y6).nf(function(a){return function(b){var c,f,h,d;c=a.kb.get(A.Oq);f=a.kb.get(ka.Kz);h=a.kb.get(O.tf);d=a.kb.get(oa.Jz);return new W.eva(b,c,f(u.ah(1)),h,d);};});b(E.R5).Qy(function(b){return new(a(603)).Fta(b.kb.get(ga.ED),b.kb.get(Fa.Qj));}).$();});},function(d,b,a){var c,l,q;Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;c=a(0);l=a(1);q=a(135);d=function(){var b;function a(){this.rQ=new q.Vm();}a.prototype.LH=function(a){this.rQ.next(a);};na.Object.defineProperties(a.prototype,{Ay:{configurable:!0,enumerable:!0,get:function(){return this.rQ;}}});b=a;return b=c.__decorate([l.N()],b);}();b.Qua=d;},function(d,b,a){var c,l,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Eua=void 0;c=a(0);l=a(1);q=a(8);n=a(72);d=function(){var b;function a(a,b){this.sx=b;this.log=a.yb("Pbo");this.links={};}a.prototype.P$=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};a.prototype.Sea=function(a){return this.links[a];};a.prototype.R8a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.sx().oh;a="drmContextId="+a.drmContextId;this.P$({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(q.Bb)),c.__param(1,l.l(n.Oq))],b);}();b.Eua=d;},function(d,b,a){var l,q,n;function c(a,b,c,f,d,l,n){this.version=a;this.url=b;this.id=c;this.languages=f;this.fb=d;this.yhb=l;this.Oub=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Sua=void 0;l=a(0);q=a(1);n=a(93);d=function(){var b;function a(a){this.Dj=a;}a.prototype.create=function(a,b,d,k,l){return new c(this.Dj.version,b,a,this.Dj.languages,d,k,l);};b=a;return b=l.__decorate([q.N(),l.__param(0,q.l(n.lw))],b);}();b.Sua=d;c.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.fb,echo:this.yhb};};},function(d,b,a){var c,l,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.yua=void 0;c=a(0);l=a(1);q=a(41);n=a(28);k=a(37);p=a(14);h=a(117);d=function(){var b;function a(a,b,c){a=q.$d.call(this,a,"PboConfigImpl")||this;a.config=b;a.F9a=c;return a;}ca(a,q.$d);na.Object.defineProperties(a.prototype,{QQ:{configurable:!0,enumerable:!0,get:function(){return this.config().uu.QQ||"";}},l2:{configurable:!0,enumerable:!0,get:function(){return this.config().uu.l2||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},ONa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().uu.bka;}},GG:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ftb:{configurable:!0,enumerable:!0,get:function(){return!0;}},Htb:{configurable:!0,enumerable:!0,get:function(){return!0;}},lRa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.F9a.uCa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.mRa);}},mRa:{configurable:!0,enumerable:!0,get:function(){return{};}},RPa:{configurable:!0,enumerable:!0,get:function(){return!1;}},dga:{configurable:!0,enumerable:!0,get:function(){return 10;}},rBa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([k.config(k.string,"uiVersion")],b.prototype,"QQ",null);c.__decorate([k.config(k.string,"uiPlatform")],b.prototype,"l2",null);c.__decorate([k.config(k.Nv,"pboVersion")],b.prototype,"version",null);c.__decorate([k.config(k.string,"pboOrganization")],b.prototype,"ONa",null);c.__decorate([k.config(k.X1,"pboLanguages")],b.prototype,"languages",null);c.__decorate([k.config(k.kd,"hasLimitedPlaybackFunctionality")],b.prototype,"GG",null);c.__decorate([k.config(k.kd,"mdxBindUsingNodeQuark")],b.prototype,"Ftb",null);c.__decorate([k.config(k.kd,"mdxPairUsingNodeQuark")],b.prototype,"Htb",null);c.__decorate([k.config(k.object(),"pboCommands")],b.prototype,"lRa",null);c.__decorate([k.config(k.object(),"pboCommandsOverride")],b.prototype,"mRa",null);c.__decorate([k.config(k.kd,"pboRecordHistory")],b.prototype,"RPa",null);c.__decorate([k.config(k.Nv,"pboHistorySize")],b.prototype,"dga",null);c.__decorate([k.config(k.kd,"pboAddXEsnHeader")],b.prototype,"rBa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(n.Ei)),c.__param(1,l.l(p.fd)),c.__param(2,l.l(h.Vy))],b);}();b.yua=d;},function(d,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.x6=void 0;l=a(2);c.Mqb=function(a){var b,c;b=a&&a.code;c=a&&(a.ga||a.cd);a=a.ph!==l.AS.sua;c=!!c&&c>=l.I.wJ&&c<=l.I.uJ&&a;return!("RETRY"!==b&&"FAIL"!==b)||c;};c.jmb=function(a){var b,c;c=null===(b=null===a||void 0===a?void 0:a.By)||void 0===b?void 0:b.maxRetries;return"number"===typeof c?c:"FAIL"===(null===a||void 0===a?void 0:a.code)?1:void 0;};b.x6=c;},function(d,b,a){var q,n,k,p,h,f,t,g,m,D,r,F,L,H,U,u;function c(a){this.config=a;this.ku=[];}function l(a,b,c){this.qa=a;this.BI=b;this.context=c;this.startTime=this.qa.Zb();}Object.defineProperty(b,"__esModule",{value:!0});b.zua=void 0;q=a(0);n=a(1);k=a(3);p=a(311);h=a(8);f=a(29);t=a(25);g=a(30);m=a(134);D=a(36);r=a(310);F=a(93);L=a(68);H=a(13);U=a(42);u=a(633);d=function(){var b;function a(a,b,f,h,d,k,l,p,t){this.BTa=b;this.json=f;this.qa=h;this.Wp=d;this.ska=k;this.ta=l;this.Jb=t;this.log=a.yb("Pbo");p.RPa&&(this.ku=new c(p));this.BI=this.BTa();}a.prototype.send=function(a,b){var c;c=new l(this.qa,this.BI,a);this.ku&&this.ku.append(c);return this.Ila(a,b,c);};a.prototype.Ila=function(a,b,c){var f;f=this;return new Promise(function(h,d){f.Bv(a,b).then(function(a){var b,k;f.ACb(a);b=S(f.dIb(a));k=b.next().value;b=b.next().value;k&&(f.acb(c),h(a));b&&(f.zDa(c,b),d(b));})["catch"](function(a){var b;b=f.zDa(c,a);a.rb&&(a.rb=[a.rb," ",b].join(""));d(a);});});};a.prototype.ACb=function(a){(a=a.serverTime)&&this.Jb.Vb(H.a5.kRa,k.Ib(a));};a.prototype.dIb=function(a){var b;b=a.result;if("deviceCommand"in a){a=a.deviceCommand;this.log.trace("Received device command '"+a+"'");switch(a){case"reset":b="RESET_DEVICE";break;case"reload":b="RELOAD_DEVICE";break;case"exit":b="EXIT_DEVICE";break;default:b="FAIL",this.log.error("Unhandled device command '"+a+"'");}return[,{code:b,detail:{message:"Server sent device action to '"+a+"' device"}}];}if(b)return[b,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};a.prototype.Uwb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(qa){throw{bC:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{bC:!0,code:"FAIL",message:"There is no result property on the response"};}throw{bC:!0,code:"FAIL",message:"There is no body property on the response"};};a.prototype.n$a=function(a,b,c){var f;f=this;this.rHb(b,a);this.BI=this.BTa(c);return this.BI.send(b,c).then(function(a){return{Bv:!1,result:f.Uwb(a.body)};})["catch"](function(c){var h,d;d=(h=u.x6.jmb(c))?Math.min(h,b.gla):b.gla;return f.C1(b,c,a,d)?(h=f.Xab(c,a,d),f.log.warn("Method failed, retrying",Object.assign({Method:b.fk,Attempt:a+1,WaitTime:h,MaxRetries:d},f.nca(c))),Promise.resolve({Bv:!0,il:h,error:c})):Promise.resolve({Bv:!1,error:c});});};a.prototype.rHb=function(a,b){var c;c=a.url.searchParams;c.set(U.xT.B1a,(b+1).toString());c.set(U.xT.og,a.Uka.toString());c.set(U.xT.C1a,a.Tka);};a.prototype.Bv=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.n$a(c++,a,b).then(function(h){if(h.Bv)return f.vIb(h.il).then(function(){return f.Bv(a,b,c);});if(h.error)throw h.error;if(void 0===h.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return h.result;});};a.prototype.C1=function(a,b,c,f){var h;h=this.Wp.BQa||u.x6.Mqb(b);if(h&&c<f)return!0;h?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.fk,Attempt:c+1,MaxRetries:f},this.nca(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.fk},this.nca(b)));return!1;};a.prototype.Xab=function(a,b,c){return a&&a.By&&void 0!==a.By.retryAfterSeconds?k.ah(a.By.retryAfterSeconds):k.Ib(this.ska.uPa(1E3*(0===b?1:b),1E3*Math.pow(2,Math.min(b,c))));};a.prototype.vIb=function(a){var b;b=this;return new Promise(function(c){b.ta.uh(a||k.sd,c);});};a.prototype.nca=function(a){return r.hKa(a)?a:{message:a.message,subCode:a.cd,extCode:a.ph,mslCode:a.ks,data:a.data};};a.prototype.acb=function(a){a.Ama();};a.prototype.zDa=function(a,b){var c;a.Cx(b);if(this.ku)try{c=this.json.stringify(this.ku);this.log.error("PBO command history",c);return c;}catch(da){}return"";};b=a;return b=q.__decorate([n.N(),q.__param(0,n.l(h.Bb)),q.__param(1,n.l(p.R7)),q.__param(2,n.l(f.cw)),q.__param(3,n.l(t.Ue)),q.__param(4,n.l(g.Qj)),q.__param(5,n.l(m.SJ)),q.__param(6,n.l(D.Hg)),q.__param(7,n.l(F.lw)),q.__param(8,n.l(L.dS))],b);}();b.zua=d;l.prototype.Ama=function(){this.da=!0;this.elapsedTime=this.qa.Zb().Mb(this.startTime);};l.prototype.Cx=function(a){this.da=!1;this.elapsedTime=this.qa.Zb().Mb(this.startTime);this.YEb=a.cd||a.subCode;this.Jib=a.ph||a.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var a;a=Object.assign({success:this.da,method:this.context.fk,startTime:this.startTime.ba(k.ia),elapsedTime:this.elapsedTime?this.elapsedTime.ba(k.ia):"in progress"},this.BI.Hba());return this.da?a:Object.assign(Object.assign(Object.assign({},a),this.BI.Hba()),{subcode:this.YEb,extcode:this.Jib});};c.prototype.append=function(a){this.ku.push(a);0<this.config.dga&&this.ku.length>this.config.dga&&this.ku.shift();};c.prototype.toJSON=function(){return this.ku;};},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;d=a(1);c=a(312);l=a(634);q=a(93);n=a(632);k=a(309);p=a(631);h=a(413);f=a(630);t=a(146);g=a(629);b.rOa=new d.Cc(function(a){a(q.lw).to(n.yua).$();a(c.w6).to(l.zua).$();a(h.C6).to(f.Eua);a(h.B6).nf(function(a){return function(){return a.kb.get(h.C6);};});a(k.J6).to(p.Sua).$();a(t.OJ).to(g.Qua).$();});},function(d,b,a){var c,l,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ita=void 0;c=a(0);l=a(37);q=a(41);n=a(1);k=a(28);p=a(3);d=function(){var b;function a(a){return q.$d.call(this,a,"MseConfigImpl")||this;}ca(a,q.$d);na.Object.defineProperties(a.prototype,{rMa:{configurable:!0,enumerable:!0,get:function(){return p.Ib(5E3);}},LNa:{configurable:!0,enumerable:!0,get:function(){return p.Ib(1E3);}},MNa:{configurable:!0,enumerable:!0,get:function(){return p.Ib(1E3);}}});b=a;c.__decorate([l.config(l.Ug,"minDecoderBufferMilliseconds")],b.prototype,"rMa",null);c.__decorate([l.config(l.Ug,"optimalDecoderBufferMilliseconds")],b.prototype,"LNa",null);c.__decorate([l.config(l.Ug,"optimalDecoderBufferMillisecondsBranching")],b.prototype,"MNa",null);return b=c.__decorate([n.N(),c.__param(0,n.l(k.Ei))],b);}();b.Ita=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;d=a(1);c=a(464);l=a(636);b.AMa=new d.Cc(function(a){a(c.U5).to(l.Ita).$();});},function(d,b,a){var c,l,q,n,k,p,h,f,t,g;Object.defineProperty(b,"__esModule",{value:!0});b.wta=void 0;c=a(0);l=a(1);q=a(8);n=a(14);k=a(10);p=a(23);h=a(314);f=a(76);t=a(147);g=a(114);d=function(){function a(a,b,c,h,d,l){function p(k,p){this.track=k;this.label=p;this.pg=t.Qb.jc.UNSENT;this.Ce=0;this.hp=[];this.requestId=l.MA().toString();this.Ga=c;this.log=b.yb("MediaRequest");this.config=a;this.Jb=new f.dj();"notification"===this.label?this.config().$A&&(this.nl=h):this.nl=d;}function n(k,p){this.requestId=l.MA().toString();this.Ga=c;this.log=b.yb("MediaRequest");this.config=a;this.Jb=new f.dj();this.label=p;"notification"===this.label?this.config().$A&&(this.nl=h):this.nl=d;this.ON=this.$L=this.aM=void 0;this.track=k;this.$V=this.url=this.responseType=void 0;this.pg=t.Qb.jc.UNSENT;this.Ui=this.bG=this.qh=this.status=void 0;this.sl=this.Ce=0;this.connect=this.Nda=this.IA=this.ay=this.iha=this.$c=this.Mda=this.hf=this.LE=void 0;this.hp=[];this.Rp=!1;}p.prototype.addEventListener=function(a,b,c){this.Jb.addListener.call(this,a,b,c);};p.prototype.removeEventListener=function(a,b){this.Jb.removeListener.call(this,a,b);};p.prototype.emit=function(a,b,c){this.Jb.Vb.call(this,a,b,c);};p.prototype.tvb=function(a){this.pg===t.Qb.jc.OPENED&&(this.ON=!0,this.hf=this.$c=a.timestamp,this.pg=t.Qb.jc.ow,this.emit(t.Qb.Nd.Wta,a));};p.prototype.fja=function(a){var b;if(this.pg<t.Qb.jc.Ez){this.hp=[];b=a.timestamp-this.hf;!this.bc&&0<b&&(this.connect=!0,this.hp.push(b));!0===this.config().opb?this.Mda=a.timestamp:this.Mda=this.$c=a.timestamp;this.pg=t.Qb.jc.Ez;this.emit(t.Qb.Nd.Vta,a);}};p.prototype.wvb=function(a){this.pg===t.Qb.jc.Ez&&(this.iha=this.$c=a.timestamp,a.newBytes=a.bytesLoaded-this.Ce,this.Ce=a.bytesLoaded,this.Ga.Td(this.iha)&&this.emit(t.Qb.Nd.Xta,a));};p.prototype.ls=function(a){-1<[t.Qb.jc.ow,t.Qb.jc.Ez].indexOf(this.pg)&&(this.ON=!1,this.$c=a.timestamp,this.pg=t.Qb.jc.DONE,a.newBytes=this.Th-this.Ce,this.Ce=this.Th,this.Ga.Td(this.IA)&&(this.$c=this.IA,0===a.newBytes&&(this.iha=this.IA)),this.Ga.Td(this.ay)&&(this.hf=this.ay),this.LE=a.response,this.emit(t.Qb.Nd.IJ,a));};p.prototype.ovb=function(a){this.ON=!1;this.emit(t.Qb.Nd.q0a,a);};p.prototype.hja=function(a){this.$c=a.timestamp;this.status=a.httpcode;this.qh=a.errorcode;this.bG=t.Qb.oD.name[this.qh];this.Ui=a.nativecode;this.emit(t.Qb.Nd.Az,a);this.ON=!1;};p.prototype.open=function(a,b,c,f,h,d,k){this.IC=!1;this.$V=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.pg=t.Qb.jc.OPENED;this.nl.eN(this,b,k);return!0;};p.prototype.wc=function(){-1!==[t.Qb.jc.OPENED,t.Qb.jc.ow,t.Qb.jc.Ez].indexOf(this.pg)&&this.abort();return!0;};p.prototype.oDa=function(){this.LE=void 0;this.tF&&(this.tF.response=void 0,this.tF.cadmiumResponse.content=void 0);this.hga=void 0;};p.prototype.zQ=function(a){this.url=a;return!0;};p.prototype.abort=function(){this.pg=t.Qb.jc.SI;this.nl.rA(this);return!0;};p.prototype.pause=function(){};p.prototype.getResponseHeader=function(){return null;};p.prototype.getAllResponseHeaders=function(){return"";};p.prototype.AP=function(){};p.prototype.xj=function(){return this.requestId;};p.prototype.toString=function(){var a;a={requestId:this.xj(),segmentId:this.Na,isHeader:this.bc,ptsStart:this.yv,ptsOffset:this.xm,responseType:this.responseType,duration:this.Hr,readystate:this.pg};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);};p.prototype.toJSON=function(){return this.toString();};p.prototype.Jnb=function(){var a,b;if(this.config().pUa&&k.Wq&&k.Wq.getEntriesByType&&(!this.Ga.Td(this.ay)||!this.Ga.Td(this.IA)&&this.Ga.Td(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.aM+"-"+this.$L+"*");b=new RegExp(a);a=k.Wq.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ga.Td(a)&&(0<a.startTime&&(this.ay=a.startTime,0<a.requestStart&&(this.ay=Math.max(this.ay,a.requestStart))),0<a.responseStart&&(this.Nda=a.responseStart),0<a.responseEnd&&(this.IA=a.responseEnd));}};p.prototype.Lqb=function(){return this.Ga.Td(this.ay)&&this.Ga.Td(this.IA)&&this.Ga.Td(this.Nda);};na.Object.defineProperties(p.prototype,{Th:{configurable:!0,enumerable:!0,get:function(){return this.$V.end-this.$V.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.$L-this.aM+1;}},$Ia:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},bc:{configurable:!0,enumerable:!0,get:function(){return!this.zB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.LE;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.pg;},set:function(){}}});Object.getOwnPropertyNames(p.prototype).forEach(function(a){Object.defineProperty(n.prototype,a,Object.getOwnPropertyDescriptor(p.prototype,a));});this.Tj=Object.assign(n,t.Qb);}return a=c.__decorate([l.N(),c.__param(0,l.l(n.fd)),c.__param(1,l.l(q.Bb)),c.__param(2,l.l(p.Je)),c.__param(3,l.l(h.g6)),c.__param(4,l.l(h.L5)),c.__param(5,l.l(g.pz))],a);}();b.wta=d;},function(d,b,a){var c,l,q,n,k,p,h,f,t,g,m,D,r;Object.defineProperty(b,"__esModule",{value:!0});b.xta=void 0;c=a(0);l=a(50);q=a(1);n=a(8);k=a(92);p=a(317);h=a(77);f=a(147);t=a(25);g=a(3);m=a(316);D=a(30);r=a(14);d=function(){var b;function a(a,b,c,f,h,d,k){this.qa=a;this.Wp=b;this.config=c;this.Re=h;this.Ptb=d;this.mDa=k;this.log=f.yb("MediaRequestDownloader");}a.prototype.eN=function(a,b,c){var k,p,t;function d(){a.removeEventListener(f.Qb.Nd.Az,d);a.YM?a.YM++:a.YM=1;a.YM>=k.config().Bda.length&&(a.YM=k.config().Bda.length-1);setTimeout(function(){k.eN(a,b,c);},k.config().Bda[a.YM]);}k=this;a.jTb=!0;p={url:a.url,responseType:this.Re.x1a.LVa,withCredentials:!1,TA:a.M===l.yc.La.AUDIO?"audio":"video",offset:b.start,length:a.Th,track:{type:a.M===l.yc.La.AUDIO?h.Dg.audio:h.Dg.video},stream:{ld:a.sa,O:a.O},gc:a.Kb,Zo:a,hg:a.bc?void 0:this.mDa.parse.bind(this.mDa),E1:c,Hq:this.Wp.Hq};p=this.Ptb.download(p,function(b){b.da&&a.readyState!==f.Qb.jc.DONE&&a.readyState!==f.Qb.jc.SI&&(a.readyState!==f.Qb.jc.Yv&&a.readyState===f.Qb.jc.ow&&(a.readyState=f.Qb.jc.Ez,a.fja({mediaRequest:a,readyState:a.readyState,timestamp:k.Bu(),connect:!1})),a.readyState=f.Qb.jc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:k.Bu(),cadmiumResponse:b,response:b.content},a.tF=b,a.ls(b));});if(a.bc){t={mediaRequest:a,readyState:a.readyState,timestamp:this.Bu(),connect:!1};a.fja(t);}a.addEventListener(f.Qb.Nd.Az,d);a.hga=p.abort;};a.prototype.rA=function(a){try{a.hga();}catch(U){this.log.warn("exception aborting request");}};a.prototype.Bu=function(){return this.qa.Zb().ba(g.ia);};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(t.Ue)),c.__param(1,q.l(D.Qj)),c.__param(2,q.l(r.fd)),c.__param(3,q.l(n.Bb)),c.__param(4,q.l(k.ew)),c.__param(5,q.l(p.J5)),c.__param(6,q.l(m.v3))],b);}();b.xta=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.cua=void 0;c=a(0);l=a(1);g=a(8);n=a(92);d=function(){var b;function a(a,b){this.Re=b;this.log=a.yb("OpenConnectSideChannel");}a.prototype.eN=function(a,b,c){this.Re.cEb({url:a.url,RBb:c});};a.prototype.rA=function(a){try{a.hga();}catch(f){this.log.warn("exception aborting request");}};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.Bb)),c.__param(1,l.l(n.ew))],b);}();b.cua=d;},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},mk:function(){return this.buffer.length-this.position;},ue:function(){return this.buffer[this.position++];},Ld:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},zc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},vs:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},yka:function(){for(var a="",b;b=this.ue();)a+=String.fromCharCode(b);return a;},Pb:function(){return this.zc(2);},Pa:function(){return this.zc(4);},yg:function(){return this.zc(8);},K0:function(){return this.zc(2)/256;},vP:function(){return this.zc(4)/65536;},Hf:function(a){for(var b,d="";a--;)b=this.ue(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},xy:function(){return this.Hf(4)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(2)+"-"+this.Hf(6);},wP:function(a){for(var b=0,d=0;d<a;d++)b+=this.ue()<<(d<<3);return b;},oC:function(){return this.wP(4);},jR:function(a){this.buffer[this.position++]=a;},J2:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},iR:function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];},aD:function(a,b){this.iR(a.Ld(b));}};d.P=b;},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.mpa=void 0;c=a(0);l=a(1);g=a(150);n=a(8);k=a(9);p=a(14);h=a(315).wka;d=function(){var b;function a(a,b){this.config=a;this.log=b.yb("ChunkMediaParser");}a.prototype.parse=function(a){var f,d,p;a=new Uint8Array(a);for(var b=h(a),c=0;c<b.length;c+=2){f=b[c];if("moof"!==f.type||"mdat"!==b[c+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:f.type,nextBoxType:b[c+1].type}),Error("data is not moof-mdat box pairs");if(this.config().IIb&&"moof"==f.type){d=f.Hx("traf/saio");p=f.Hx("traf/"+k.Joa);d&&p&&(f=p.H$a.byteOffset-f.raw.byteOffset,d.KQa[0]!==f&&(this.log.error("Repairing bad SAIO",{saioOffsets:d.KQa[0],auxDataOffsets:f}),this.Gwb(d,f)));}}return a.buffer;};a.prototype.Gwb=function(a,b){var c;c=new g.fJ(a.raw);c.seek(a.size-a.ox);a=c.zc(1);c.zc(3)&1&&(c.Pa(),c.Pa());a=1<=a?8:4;c.Pa();c.J2(b,a);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.fd)),c.__param(1,l.l(n.Bb))],b);}();b.mpa=d;},function(d,b,a){var c,l,g,n,k,p,h,f,t,z,m;Object.defineProperty(b,"__esModule",{value:!0});b.sta=void 0;c=a(0);l=a(147);g=a(84);n=a(2);k=a(8);p=a(1);h=a(92);f=a(23);t=a(25);z=a(3);m=a(14);d=function(){var b;function a(a,b,c,f,h,d){this.FL=a;this.Re=c;this.Ga=f;this.qa=h;this.config=d;this.log=b.yb("MediaHttp");}a.prototype.Bu=function(){return this.qa.Zb().ba(z.ia);};a.prototype.fNa=function(a,b){a.tvb({mediaRequest:a,timestamp:b});};a.prototype.ANa=function(a){var b;b=a.mediaRequest.Zo;b.readyState=l.Qb.jc.Ez;a=a.connect?a:{timestamp:this.Bu(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.fja(a);};a.prototype.Z_=function(a){this.fNa(a.mediaRequest.Zo,a.timestamp);};a.prototype.a0=function(a){var b,c;b=a.mediaRequest.Zo;c=a.bytes;"undefined"!==typeof b&&(b.readyState===l.Qb.jc.ow&&this.ANa(a),this.Ga.jh(c)&&(a.mediaRequest=b,a.timestamp=this.Bu(),c>b.Ce&&(a.newBytes=c-b.Ce,a.bytesLoaded=c,b.wvb(a))));};a.prototype.sH=function(a){var b,c,f,h;b=a.mediaRequest;c=a.errorcode;f=a.httpcode;h=l.Qb.oD;if("undefined"!==typeof b&&(b=b.Zo,"undefined"!==typeof b&&b.readyState!==l.Qb.jc.Yv))if(c===n.I.Zv)b.readyState=l.Qb.jc.SI,a.mediaRequest=b,a.readyState=b.readyState,b.ovb(a);else{b.readyState=l.Qb.jc.Yv;switch(c){case n.I.wJ:f=h.p3;break;case n.I.P4:f=h.M4;break;case n.I.tJ:f=400<f&&500>f?h.O4:500<=f?h.pra:h.M4;break;case n.I.uJ:f=h.N4;break;case n.I.sJ:f=h.Toa;break;case n.I.vJ:f=h.yS;break;case n.I.mz:f=h.yS;break;case n.I.L4:f=h.ora;break;case n.I.lra:f=h.O4;break;case n.I.WXa:f=h.N4;break;default:f=h.yS;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=f;a.nativecode=c;b.hja(a);}};a.prototype.oja=function(a,b){var c,f;c=b.request.Zo;if(c)if(b.da){if(a.j&&c.readyState!==l.Qb.jc.DONE){switch(c.readyState){case l.Qb.jc.SI:return;case l.Qb.jc.ow:this.ANa({mediaRequest:b.request});}c.readyState=l.Qb.jc.DONE;if(!c.bc){f={mediaRequest:c,readyState:c.readyState,timestamp:this.Bu(),cadmiumResponse:b};a.j.Yma+=1;c.Jnb();c.Lqb()&&(a.j.cla+=1,b.tk.$g=Math.ceil(c.Nda),b.tk.Bm=Math.ceil(c.IA),b.tk.requestTime=Math.floor(c.ay));c.tF=f;c.ls(f);}}}else c.readyState!==l.Qb.jc.SI&&(a={mediaRequest:b.request,timestamp:this.Bu(),errorcode:b.ga,httpcode:b.Ni},this.sH(a));};a.prototype.download=function(a,b){var c,f;c=this;b=this.Re.download(a,b);if(a.Zo){f=a.Zo;-1<[l.Qb.jc.OPENED,l.Qb.jc.Yv].indexOf(f.readyState)&&(f.readyState=l.Qb.jc.ow,this.config().Rtb?b.iDb(function(a){c.Z_(a);}):this.fNa(f,this.Bu()));}b.K$(function(b){c.oja(a,b);});b.qDb(function(a){c.a0(a);});b.cDb(function(a){c.sH(a);});return b;};b=a;return b=c.__decorate([p.N(),c.__param(0,p.l(g.TI)),c.__param(1,p.l(k.Bb)),c.__param(2,p.l(h.ew)),c.__param(3,p.l(f.Je)),c.__param(4,p.l(t.Ue)),c.__param(5,p.l(m.fd))],b);}();b.sta=d;},function(d,b,a){var c,l,g,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.cqa=void 0;c=a(0);l=a(1);g=a(8);n=a(148);k=a(129).EventEmitter;d=function(){function a(a){function b(b,c){this.K=b;this.Tk=c;this.xX=!1;this.emit=k.prototype.emit;this.addListener=k.prototype.addListener;this.on=k.prototype.on;this.once=k.prototype.once;this.removeListener=k.prototype.removeListener;this.removeAllListeners=k.prototype.removeAllListeners;this.listeners=k.prototype.listeners;this.listenerCount=k.prototype.listenerCount;k.call(this);this.xb=a.yb("DownloadTrack");}b.prototype.An=function(){this.vV=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.vV+" config: "+JSON.stringify(this.K);};b.prototype.toJSON=function(){return"Download Track id:"+this.vV+" config: "+JSON.stringify(this.K);};b.prototype.O0=function(a){this.K.connections!==a.connections&&(this.K=a);};b.prototype.Ln=function(){return 1<this.K.connections?!0:!1;};na.Object.defineProperties(b.prototype,{cb:{configurable:!0,enumerable:!0,get:function(){return this.vV;}},Rp:{configurable:!0,enumerable:!0,get:function(){return void 0===this.vV;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},eC:{configurable:!0,enumerable:!0,get:function(){return this.xb;}},nl:{configurable:!0,enumerable:!0,get:function(){return this.Tk.nl;}}});this.lD=Object.assign(b,new n.dqa());}return a=c.__decorate([l.N(),c.__param(0,l.l(g.Bb))],a);}();b.cqa=d;},function(d,b,a){var c,l,g,n,k,p,h,f,t,z,m;Object.defineProperty(b,"__esModule",{value:!0});b.$f=void 0;d=a(1);c=a(148);l=a(644);g=a(317);n=a(643);k=a(316);p=a(642);h=a(314);f=a(640);t=a(639);z=a(313);m=a(638);b.$f=new d.Cc(function(a){a(c.T3).to(l.cqa).$();a(g.J5).to(n.sta).$();a(k.v3).to(p.mpa).$();a(h.g6).to(f.cua).$();a(h.L5).to(t.xta).$();a(z.K5).to(m.wta).$();});},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Bva=void 0;c=a(0);l=a(1);g=a(41);n=a(28);k=a(37);p=a(3);d=function(){var b;function a(a){return g.$d.call(this,a,"PrefetchEventsConfigImpl")||this;}ca(a,g.$d);na.Object.defineProperties(a.prototype,{eRa:{configurable:!0,enumerable:!0,get:function(){return!0;}},Kha:{configurable:!0,enumerable:!0,get:function(){return p.GO(5);}}});b=a;c.__decorate([k.config(k.kd,"sendPrefetchEventLogs")],b.prototype,"eRa",null);c.__decorate([k.config(k.Ug,"logsInterval")],b.prototype,"Kha",null);return b=c.__decorate([l.N(),c.__param(0,l.l(n.Ei))],b);}();b.Bva=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Yua=void 0;c=a(0);l=a(1);g=a(8);n=a(23);d=function(){var b;function a(a,b){this.Ga=b;this.ja=a.yb("PlayPredictionDeserializer");}a.prototype.xgb=function(a){var b;b=this;try{return{direction:a.direction,Krb:a.layoutHasChanged,CBb:a.rowInteractionIndex,Ba:a.lolomos.map(function(a){return b.tgb(a);})};}catch(t){this.ja.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};a.prototype.tgb=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.sgb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,EBb:a.rowSegment};};a.prototype.sgb=function(a){var b,c;b={Rc:a.pts,property:a.property,oa:a.viewableId,index:a.index};c=a.preplay;this.Ga.Td(c)&&(b.GH=this.wgb(c));a=a.params;this.Ga.Td(a)&&(b.fb=this.TEa(a));return b;};a.prototype.wgb=function(a){var b;b={Rc:a.pts,oa:a.viewableId,dC:a.pipelineNum,index:a.index};a=a.params;this.Ga.Td(a)&&(b.fb=this.TEa(a));return b;};a.prototype.TEa=function(a){return{le:a.uiLabel,Uh:a.trackingId,Un:a.sessionParams};};a.prototype.UEa=function(a){var b;b=this;try{return a.map(function(a){return b.ugb(a);});}catch(t){this.ja.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};a.prototype.ugb=function(a){var b,c;c=a.params;this.Ga.Td(c)&&(b=this.vgb(c));return{u:a.movieId,ie:a.priority,force:a.force,fb:b,le:a.uiLabel,$Vb:a.uiExpectedStartTime,ZVb:a.uiExpectedEndTime,vj:a.firstTimeAdded};};a.prototype.vgb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ga.Td(c)&&(b=c);return{ML:this.rgb(a.authParams),Un:b,Uh:a.trackingId,T:a.startPts,ya:a.manifest,Si:a.isBranching};};a.prototype.rgb=function(a){return{xOa:(a||{}).pinCapableClient};};a.prototype.DCb=function(a){var b,c;try{b="";this.Ga.Td(a.OOa)&&(b=JSON.stringify(this.GCb(JSON.parse(a.OOa))));c="";this.Ga.Td(a.POa)&&(c=JSON.stringify(this.HCb(JSON.parse(a.POa))));return{dest_id:a.UW,offset:a.offset,predictions:a.SOa.map(this.JCb,this),ppm_input:b,ppm_output:c,prepare_type:a.OUb};}catch(z){this.ja.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};a.prototype.JCb=function(a){return{title_id:a.Dq};};a.prototype.GCb=function(a){return{direction:a.direction,layoutHasChanged:a.Krb,rowInteractionIndex:a.CBb,lolomos:a.Ba.map(this.FCb,this)};};a.prototype.FCb=function(a){return{context:a.context,list:a.list.map(this.ECb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.EBb};};a.prototype.ECb=function(a){var b,c;this.Ga.Td(a.GH)&&(b=this.KCb(a.GH));this.Ga.Td(a.fb)&&(c=this.Mla(a.fb));return{preplay:b,pts:a.Rc,viewableId:a.oa,params:c,property:a.property,index:a.index};};a.prototype.KCb=function(a){var b;this.Ga.Td(a.fb)&&(b=this.Mla(a.fb));return{pts:a.Rc,viewableId:a.oa,params:b,pipelineNum:a.dC,index:a.index};};a.prototype.Mla=function(a){return{uiLabel:a.le,trackingId:a.Uh,sessionParams:a.Un};};a.prototype.HCb=function(a){return a.map(this.ICb,this);};a.prototype.ICb=function(a){var b;this.Ga.Td(a.fb)&&(b=this.Mla(a.fb));return{movieId:a.u,priority:a.ie,params:b,uiLabel:a.le,firstTimeAdded:a.vj,viewableId:a.oa,pts:a.Rc};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.Bb)),c.__param(1,l.l(n.Je))],b);}();b.Yua=d;},function(d,b,a){var l,g,n,k,p,h,f,t,z,m;function c(a,b,c,f,d,h,k,p){this.Lh=a;this.QB=b;this.ta=c;this.oy=d;this.config=h;this.wea=k;this.Lja=p;this.H0=[];this.hha=[];this.cka={};this.ja=f.yb("PrefetchEvents");}Object.defineProperty(b,"__esModule",{value:!0});b.Cva=void 0;l=a(0);g=a(115);n=a(1);k=a(3);p=a(46);h=a(62);f=a(36);t=a(8);z=a(318);m=a(192);d=function(){var b;function a(a,b,c,f,d,h){this.Lh=a;this.QB=b;this.ta=c;this.Df=f;this.config=d;this.Lja=h;}a.prototype.create=function(a,b){return new c(this.Lh,this.QB,this.ta,this.Df,a,this.config,b,this.Lja);};b=a;return b=l.__decorate([n.N(),l.__param(0,n.l(p.Sj)),l.__param(1,n.l(h.bo)),l.__param(2,n.l(f.Hg)),l.__param(3,n.l(t.Bb)),l.__param(4,n.l(z.f7)),l.__param(5,n.l(m.jT))],b);}();b.Cva=d;c.prototype.Jab=function(a,b,c){this.HB(g.ze.iz.vWa,a,b,void 0,c);};c.prototype.Lab=function(a,b,c){this.HB(g.ze.iz.wWa,a,b,void 0,c);};c.prototype.Iab=function(a,b,c){this.HB(g.ze.iz.uWa,a,b,void 0,c);};c.prototype.Gab=function(a,b,c){this.HB(g.ze.iz.sWa,a,b,void 0,c);};c.prototype.bM=function(a,b,c){this.HB(g.ze.iz.tWa,a,b,void 0,c);};c.prototype.Qxb=function(a){this.HB(g.ze.iz.I0a,void 0,a);};c.prototype.wm=function(a,b,c,f,d,h,k){this.DV()&&(this.HB(g.ze.iz.W1a,void 0,a),this.Hsb(a,b,c,f,d,h,k),this.wGa(),this.cLa());this.Iqb(a)&&this.kBb();};c.prototype.Agb=function(a){a={dest_id:a,cache:this.Lla(this.wea())};this.WP("destiny_start",a);};c.prototype.xyb=function(a){(a=this.Lja.DCb(a))?this.WP("destiny_prepare",a):this.ja.error("failed to serialize prepare event");};c.prototype.wGa=function(){0<this.H0.length&&this.DV()&&(this.WP("destiny_events",{dest_id:this.oy.io,events:this.H0}),this.H0=[]);this.k1&&(this.k1.cancel(),this.k1=void 0);this.MFa();};c.prototype.cLa=function(){var a;if(this.Kab()&&this.DV()){a=this.wea();this.hha=a;a={dest_id:this.oy.io,offset:this.oy.iY(),cache:this.Lla(a)};this.WP("destiny_cachestate",a);}this.j1&&(this.j1.cancel(),this.j1=void 0);this.LFa();};c.prototype.update=function(a){var b;b=this;a.Ba.forEach(function(a){a.list.forEach(function(a){b.cka[a.oa]=!0;});});};c.prototype.Iqb=function(a){return this.cka[a];};c.prototype.Kab=function(){var a,b,c;a=this;b=this.wea();if(b.length!==this.hha.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.hha[f])&&(c=!0);}catch(U){a.ja.error("Failed to stringify cachedTitle",U);}});return c;};c.prototype.HB=function(a,b,c,f,d){this.DV()&&(a={offset:this.oy.iY(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.H0.push(a),this.MFa(),this.LFa());};c.prototype.MFa=function(){this.k1||(this.k1=this.ta.uh(this.config.Kha,this.wGa.bind(this)));};c.prototype.LFa=function(){this.j1||(this.j1=this.ta.uh(this.config.Kha,this.cLa.bind(this)));};c.prototype.Hsb=function(a,b,c,f,d,h,p){var l;l=[];c&&l.push({Dq:a,Vt:g.ze.Pj.Kna,state:g.ze.nR.xR});f&&l.push({Dq:a,Vt:g.ze.Pj.qz,state:g.ze.nR.xR});d&&l.push({Dq:a,Vt:g.ze.Pj.rJ,state:g.ze.nR.xR});(0<h.ba(k.ia)||0<p.ba(k.ia))&&l.push({Dq:a,Vt:g.ze.Pj.MEDIA,state:g.ze.nR.xR,y$a:h.ba(k.ia),pIb:p.ba(k.ia)});a={dest_id:this.oy.io,offset:this.oy.iY(),xid:b,cache:this.Lla(l)};this.WP("destiny_playback",a);};c.prototype.WP=function(a,b){this.config.eRa&&(a=this.QB.xn(a,"info",b),this.Lh.Jc(a));};c.prototype.Lla=function(a){return a.map(function(a){return{title_id:a.Dq,state:a.state,asset_type:a.Vt,size:a.size,audio_ms:a.y$a,video_ms:a.pIb};});};c.prototype.DV=function(){return 0!==this.oy.io;};c.prototype.kBb=function(){this.oy.jBb();this.cka={};};},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ac=void 0;d=a(1);c=a(115);l=a(648);g=a(192);n=a(647);k=a(646);p=a(318);h=a(103);b.Ac=new d.Cc(function(a){a(p.f7).to(k.Bva).$();a(c.g7).to(l.Cva).$();a(g.jT).to(n.Yua).$();a(h.Nz).nf(function(){return function(){return N._cad_global.videoPreparer;};});});},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Wxa=void 0;c=a(0);l=a(1);g=a(10);n=a(33);k=a(193);p=a(5);d=function(){var b;function a(){}a.prototype.anb=function(){var a;a=N.devicePixelRatio||1;return{width:this.O9.DKb||g.Xq.width*a,height:this.O9.CKb||g.Xq.height*a};};na.Object.defineProperties(a.prototype,{O9:{configurable:!0,enumerable:!0,get:function(){return p.Y.get(n.Cp);}}});b=a;c.__decorate([k.$N],b.prototype,"O9",null);return b=c.__decorate([l.N()],b);}();b.Wxa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Zta=void 0;c=a(0);l=a(1);g=a(142);d=function(){var b;function a(){}a.prototype.compare=function(a,b){var c;c=[];this.uba(a,b,"",c);return c;};a.prototype.uba=function(a,b,c,d){var f;f=this;if(g.Vs.Tt(a))g.Vs.Tt(b)&&a.length===b.length?a.forEach(function(h,k){f.uba(a[k],b[k],c+"["+k+"]",d);}):d.push({a:a,b:b,path:c});else if(g.Vs.wA(a)&&null!=a)if(g.Vs.wA(b)&&null!=b){for(var h in a)this.uba(a[h],b[h],c+"."+h,d);for(var k in b)k in a||void 0===b[k]||d.push({a:void 0,b:b[k],path:c+"."+k});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};b=a;return b=c.__decorate([l.N()],b);}();b.Zta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ta=void 0;b.$ta="ObjectComparerSymbol";},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Mva=void 0;c=a(0);l=a(54);g=a(29);n=a(1);d=function(){var b,d;function a(a){this.location=a;l.om(this,"location");}a.bP=function(a){var c,d,h;c={};if(0<a.length){a=a.split("&");for(var f=0;f<a.length;f++){d=a[f].trim();h=d.indexOf("=");0<=h?c[decodeURIComponent(d.substr(0,h).replace(b.rua,"%20"))]=decodeURIComponent(d.substr(h+1).replace(b.rua,"%20")):c[d.toLowerCase()]="";}}return c;};na.Object.defineProperties(a.prototype,{qzb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=b.bP(this.rPa);}},rPa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.qP)return this.qP;this.qP=this.location.search.substr(1);a=this.qP.indexOf("#");0<=a&&(this.qP=this.rPa.substr(0,a));return this.qP;}}});d=b=a;d.rua=/[+]/g;return d=b=c.__decorate([n.N(),c.__param(0,n.l(g.n5))],d);}();b.Mva=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;c=a(0);l=a(1);d=function(){var b;function a(){}a.prototype.RGa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.RGa(a);});};b=a;return b=c.__decorate([l.N()],b);}();b.Dxa=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Swa=void 0;c=a(0);l=a(54);g=a(29);n=a(1);k=a(23);p=a(136);d=function(){var b,d;function a(a,b){this.is=a;this.json=b;l.om(this,"json");}a.prototype.DPa=function(a){var c;c=this;return b.read(a,function(a){return parseInt(a);},function(a){return c.is.caa(a);});};a.prototype.xka=function(a){var c;c=this;return b.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return c.is.tL(a);});};a.prototype.Pa=function(a){var c;c=this;return b.read(a,function(a){return parseInt(a);},function(a){return c.is.qr(a);});};a.prototype.Dzb=function(a){var c;c=this;return b.read(a,function(a){return parseFloat(a);},function(a){return c.is.jh(a);});};a.prototype.CPa=function(a,c){return b.read(a,function(a){return b.jjb(a,c);},function(a){return void 0!==a;});};a.prototype.Aka=function(a,c){return b.read(a,function(a){return a;},function(a){return c?c.test(a):!0;});};a.prototype.EPa=function(a){var c,f;c=void 0===c?function(){return!0;}:c;f=this;try{return b.read(a,function(a){return f.json.parse(decodeURIComponent(a));},function(a){return f.is.wA(a)&&c(a);});}catch(J){return new p.Qm();}};a.prototype.Ld=function(a,c,f){var d,h;f=void 0===f?1:f;d=this;a=a.trim();h=c instanceof Function?c:this.Zeb(c,f);c=a.indexOf("[");f=a.lastIndexOf("]");if(0!=c||f!=a.length-1)return new p.Qm();a=a.substring(c+1,f);try{return b.Rwb(a).map(function(a){a=h(d,b.cIb(a));if(a instanceof p.Qm)throw a;return a;});}catch(L){return L instanceof p.Qm?L:new p.Qm();}};a.prototype.Zeb=function(a,c){var f;c=void 0===c?1:c;f=this;return function(d,h){d=b.Emb(a);return 1<c?f.Ld(h,a,c-1):d(f,h);};};a.jjb=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};a.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new p.Qm();};a.Emb=function(a){switch(a){case"int":return function(a,b){return a.DPa(b);};case"bool":return function(a,b){return a.xka(b);};case"uint":return function(a,b){return a.Pa(b);};case"float":return function(a,b){return a.Dzb(b);};case"string":return function(a,b){return a.Aka(b);};case"object":return function(a,b){return a.EPa(b);};}};a.Rwb=function(a){var n;for(var b=[["[","]"]],c=[],f=0,d=0,h=0,k=[],l={};d<a.length;l={"char":l["char"]},++d){l["char"]=a.charAt(d);n=void 0;","==l["char"]&&0==h?(c.push(a.substr(f,d-f)),f=d+1):(n=b.find(function(a){return function(b){return b[0]==a["char"];};}(l)))?(++h,k.push(n)):0<k.length&&k[k.length-1][1]==l["char"]&&(--h,k.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new p.Qm();return c;};a.cIb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new p.Qm();return a.substring(1,a.length-1);}return a;};d=b=a;return d=b=c.__decorate([n.N(),c.__param(0,n.l(k.Je)),c.__param(1,n.l(g.cw))],d);}();b.Swa=d;},function(d,b,a){var c,l,g,n,k,p,h,f,t,z;Object.defineProperty(b,"__esModule",{value:!0});b.Sc=void 0;d=a(1);c=a(655);l=a(654);g=a(653);n=a(136);k=a(497);p=a(343);h=a(652);f=a(651);t=a(319);z=a(650);b.Sc=new d.Cc(function(a){a(n.FT).to(c.Swa).$();a(k.qT).to(g.Mva).$();a(p.a8).to(l.Dxa).$();a(h.$ta).to(f.Zta).$();a(t.g8).to(z.Wxa).$();});},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Bpa=void 0;c=a(0);l=a(320);g=a(1);d=function(){var b;function a(a){this.fvb=a;}a.prototype.pHa=function(){var a;a=this.fvb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(l.c6))],b);}();b.Bpa=d;},function(d,b,a){var c,l,g,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;d=a(1);c=a(320);l=a(349);g=a(350);n=a(657);k=a(10);b.crypto=new d.Cc(function(a){a(g.y3).to(n.Bpa).$();a(c.c6).Sh(k.ct);a(l.z3).Sh(k.RS);});},function(d,b,a){var c,l,g,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.h0a=void 0;c=a(0);l=a(1);g=a(26);n=a(23);k=a(68);p=a(153);h=a(323);f=a(102);t=a(195);d=function(){var b;function a(a,b,c){var f;f=h.XJ.call(this,a,b,"network")||this;f.IW=c;f.YW=p.QR.T_a;f.stb=30;f.uwb=function(a){f.YW=a.target.value;f.refresh();};f.bwb=function(){f.data={};f.refresh();};f.FQa=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=f.data[f.YW][b].value;c=JSON.stringify(b,null,4);"copy"===a?t.KR.Mba(c):"log"===a&&console.log(b);};return f;}ca(a,h.XJ);a.prototype.Db=function(){var a;a=this;if(this.Po)return Promise.resolve();N.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==f.Rq.Z_a&&a.toggle();});this.data={};this.IW.addListener(p.J3.l1a,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.stb&&c.shift();c.push(b);b.type===a.YW&&a.refresh();});this.Po=!0;return Promise.resolve();};a.prototype.Ri=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};a.prototype.nfa=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.LCa.dk(c);return'\n            <tr>\n                <td><span class="'+this.prefix+'-display-indexvalue">'+f+'</span></td>\n                <td><span class="'+this.prefix+'-display-keyvalue">'+b+'</span></td>\n                <td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+'</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};a.prototype.yfa=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.Ri(),b=this.data[this.YW]||[],c=0;c<b.length;++c)a+=this.nfa(c,b[c].name,b[c].value);return a+"</table>";};a.prototype.jHa=function(){var a;a=this.ed.createElement("button",h.gD,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.bwb;return[a,this.mfb(),this.ffb()];};a.prototype.mfb=function(){var a;a=this.ed.createElement("select",h.gD,Object.keys(p.QR).reduce(function(a,b){b=p.QR[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.uwb;return a;};a.prototype.ffb=function(){var a,b,c,f;a=this;b=this.ed.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.lP;b.onchange=function(){return a.cGb();};c=this.ed.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.ed.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};a.prototype.UPa=function(){return Promise.resolve(this.yfa());};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.tf)),c.__param(1,l.l(n.Je)),c.__param(2,l.l(k.kD))],b);}();b.h0a=d;},function(d,b,a){var l,g,n,k,p,h,f,t,z,m,r,J,F,L,H,U,u,aa;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Esa=void 0;l=a(0);g=a(1);n=a(26);k=a(96);p=a(457);h=a(36);f=a(40);t=a(3);z=a(25);m=a(72);r=a(8);J=a(95);F=a(194);L=a(321);H=a(71);U=a(102);u=a(195);c.download=function(a,b){return c.Hlb(a).then(function(a){return c.Fnb(a,b.join("\r\n")).then(function(a){return c.Zgb(a.filename,a.text);});});};c.Hlb=function(a){return new Promise(function(b,c){var f,d,h,k,l,p,n;try{f=new Date();d=f.getDate().toString();h=(f.getMonth()+1).toString();k=f.getFullYear().toString();l=f.getHours().toString();p=f.getMinutes().toString();n=f.getSeconds().toString();1===d.length&&(d="0"+d);1===h.length&&(h="0"+h);1===l.length&&(l="0"+l);1===p.length&&(p="0"+p);1===n.length&&(n="0"+n);b(k+h+d+l+p+n+"."+a+".log");}catch(za){c(za);}});};c.Fnb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(da){f(da);}});};c.Zgb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(qa){return Promise.reject(qa);}};aa=function(){function a(b){var c;this.elements=[];c=document.createElementNS(a.yQ,"svg");c.setAttribute("viewBox",b);this.elements.push(c);}a.prototype.nI=function(){var b;b=document.createElementNS(a.yQ,"g");b.setAttribute("stroke","none");b.setAttribute("stroke-width",1..toString());b.setAttribute("fill","none");b.setAttribute("fill-rule","evenodd");b.setAttribute("stroke-linecap","round");this.addElement(b);return this;};a.prototype.oI=function(b,c,f){var d;d=document.createElementNS(a.yQ,"path");d.setAttribute("d",b);c&&d.setAttribute("fill",c);f&&d.setAttribute("fill-rule",f);this.addElement(d);return this;};a.prototype.nQ=function(b,c,f,d,h){var k;h=void 0===h?"#000000":h;k=document.createElementNS(a.yQ,"rect");k.setAttribute("x",b.toString());k.setAttribute("y",c.toString());k.setAttribute("height",f.toString());k.setAttribute("width",d.toString());h&&k.setAttribute("fill",h);this.addElement(k);return this;};a.prototype.vEb=function(){var b;b=document.createElementNS(a.yQ,"polygon");b.setAttribute("points","0 0 24 0 24 24 0 24");b.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(b);return this;};a.prototype.end=function(){this.elements.pop();return this;};a.prototype.dk=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};a.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};na.Object.defineProperties(a,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},QA:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});a.yQ="http://www.w3.org/2000/svg";return a;}();d=function(){var b;function a(a,b,f,d,h,k,l,p,n,g){var q;q=this;this.Ja=a;this.app=b;this.ed=f;this.ta=d;this.yl=h;this.config=k;this.sx=l;this.Mma=p;this.Efb=n;this.Lj=g;this.BFb=function(){q.VQ.Kc(function(){q.update();});};this.clear=function(){q.entries=[];q.update();};this.oMa=function(){q.Md.IG=!q.Md.IG;q.ey&&q.iy&&(q.Md.IG?(q.ey.style.display="inline-block",q.iy.style.display="none"):(q.iy.style.display="inline-block",q.ey.style.display="none"));q.DC(!1);};this.Nsb=function(a){var b;q.entries.push(a);b=q.config.QG;0<=b&&q.entries.length>b&&q.entries.shift();void 0===q.Md.gu[a.Wl]&&(q.Md.gu[a.Wl]=!0,q.DC(!1));q.Md.Mn&&!q.TSa?q.BFb():q.VQ.Kc();};this.$gb=function(){c.download("all",q.entries.map(function(a){return a.e2(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Po=!1;this.Md={Mn:!1,IG:!0,XW:!0,Hha:r.Yh.T4,gu:{}};this.VQ=this.Mma(t.ah(1));this.djb=this.Efb(t.Ib(250));this.entries=[];}a.prototype.Db=function(){var a;a=this;this.ml||(this.ml=new Promise(function(b){N.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==U.Rq.l_a?a.toggle():b.keyCode==U.Rq.E&&u.KR.Mba(a.sx().oh));});a.yl.P0(F.w5.vXa,a.Nsb);b();}));return this.ml;};a.prototype.show=function(){document.body&&(this.element||(this.Ceb(),this.Po=!0),!this.Md.Mn&&this.element&&(document.body.appendChild(this.element),this.Md.Mn=!0,this.update(!0)));};a.prototype.Mo=function(){this.Po&&this.Md.Mn&&this.element&&(document.body.removeChild(this.element),this.Md.Mn=!1);};a.prototype.toggle=function(){this.Md.Mn?this.Mo():this.show();this.DC(!1);};a.prototype.Ceb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Im=this.kfb());a.appendChild(this.lfb());a.appendChild(this.web());this.element=a;}catch(da){console.error("Unable to create the log console",da);}};a.prototype.kfb=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.TSa=!0;a.update();a.Im&&(a.Im.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.TSa=!1;a.update();a.Im&&(a.Im.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};a.prototype.lfb=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.Teb());a.appendChild(this.Meb());a.appendChild(this.Geb());a.appendChild(this.nfb());a.appendChild(this.zeb());a.appendChild(this.Yeb());a.appendChild(this.Web());a.appendChild(this.Ieb());a.appendChild(this.Aeb());return a;};a.prototype.web=function(){var a,b,c,f,d,h;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");f=this.createElement("select",this.Or(22,160,1,2),"<option>Select categories</option>");d=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});h=!1;c.addEventListener("click",function(){h?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.Md.gu).sort()).forEach(function(b){d.appendChild(a.xeb(b,c));}),d.style.display="block");h=!h;});return b;};a.prototype.xeb=function(a,b){var c,f,d;c=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;d=this.createElement("input","margin:1px");d.type="checkbox";d.id=a;d.checked=this.Md.gu[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Md.gu).forEach(function(b){c.Md.gu[b]="all"===a;}),b.click()):c.Md.gu[a]=!c.Md.gu[a];c.DC(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};a.prototype.Teb=function(){var a,b;a=this;b=this.createElement("select",this.Or(22,NaN,1,2),'<option value="'+r.Yh.ERROR+'">Error</option>'+('<option value="'+r.Yh.d8+'">Warn</option>')+('<option value="'+r.Yh.T4+'">Info</option>')+('<option value="'+r.Yh.cxa+'">Trace</option>')+('<option value="'+r.Yh.Ya+'">Debug</option>'));b.value=this.Md.Hha.toString();b.addEventListener("change",function(b){a.Md.Hha=parseInt(b.target.value);a.DC(!0);},!1);return b;};a.prototype.Meb=function(){var b,c;function a(a){return b.djb.Kc(function(){var c;c=a.target.value;b.Md.filter=c?new RegExp(c):void 0;b.DC(!0);});}b=this;c=this.createElement("input",this.Or(14,150,1,2));c.value=this.Md.filter?this.Md.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};a.prototype.Geb=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Or(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Md.XW;c.addEventListener("change",function(b){a.Md.XW=b.target.checked;a.DC(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};a.prototype.nfb=function(){var a,b,c;a=this;b=this.createElement("button",this.Or());c=new aa("0 0 24 24").nI().vEb().end().oI("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",aa.QA,"nonzero").end().end().dk();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};a.prototype.zeb=function(){var a,b;a=this.createElement("button",this.Or());b=new aa("0 0 24 24").nI().nQ(0,0,24,24,aa.background).end().oI("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",aa.QA).end().end().dk();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};a.prototype.Yeb=function(){var a;this.iy=this.createElement("button",this.Or());this.iy.style.display=this.Md.IG?"none":"inline-block";a=new aa("0 0 24 24").nI().nQ(0,0,24,24,aa.background).end().oI("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",aa.QA,"nonzero").end().end().dk();this.iy.addEventListener("click",this.oMa,!1);this.iy.appendChild(a);this.iy.setAttribute("title","Shrink the log console");return this.iy;};a.prototype.Web=function(){var a;this.ey=this.createElement("button",this.Or());this.ey.style.display=this.Md.IG?"inline-block":"none";a=new aa("0 0 24 24").nI().nQ(4,4,16,16,aa.background).end().oI("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",aa.QA,"nonzero").end().end().dk();this.ey.addEventListener("click",this.oMa,!1);this.ey.appendChild(a);this.ey.setAttribute("title","Expand the log console");return this.ey;};a.prototype.Ieb=function(){var a,b;a=this.createElement("button",this.Or());b=new aa("0 0 26 26").nI().nQ(0,0,24,24,aa.background).end().oI("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",aa.QA,"nonzero").end().end().dk();a.appendChild(b);a.addEventListener("click",this.$gb,!1);a.setAttribute("title","Download all log messages");return a;};a.prototype.Aeb=function(){var a,b,c;a=this;b=this.createElement("button",this.Or());c=new aa("0 0 24 24").nI().nQ(0,0,24,24,aa.background).end().oI("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",aa.QA,"nonzero").end().end().dk();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};a.prototype.DC=function(a){(void 0===a?0:a)&&this.update(!1);};a.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.BP&&Promise.resolve(this.Cab()+this.Ilb().join("\r\n")).then(function(c){b.element&&b.Im&&(b.Im.value=c,b.element.style.cssText=b.Md.IG?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ta.uh(t.sd,function(){b.Im.scrollTop=b.Im.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};a.prototype.Ilb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Md.Hha&&a.Md.gu[c.Wl]&&(c=c.e2(!a.Md.XW,!a.Md.XW),a.Md.filter&&!a.Md.filter.test(c)||b.push(c));});return b;};a.prototype.Cab=function(){var a;a=this.sx();return"Version: 6.0023.976.011 \n"+((a?"Esn: "+a.oh:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ja.ef.ba(t.Il)+", Start: "+this.app.GB.ba(t.Il)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};a.prototype.createElement=function(a,b,c,f){return this.ed.createElement(a,b,c,f);};a.prototype.Or=function(a,b,c,f){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+aa.QA+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(f?"border-radius:"+f+"px;":"");};b=a;b.JEb="logDxDisplay";return b=l.__decorate([g.N(),l.__param(0,g.l(f.Bi)),l.__param(1,g.l(z.Ue)),l.__param(2,g.l(n.tf)),l.__param(3,g.l(h.Hg)),l.__param(4,g.l(J.tz)),l.__param(5,g.l(L.p5)),l.__param(6,g.l(m.Oq)),l.__param(7,g.l(k.Kz)),l.__param(8,g.l(p.H3)),l.__param(9,g.l(H.Kq))],b);}();b.Esa=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Dsa=void 0;c=a(0);l=a(1);g=a(37);n=a(41);k=a(28);p=a(140);d=function(){var b;function a(a,b){a=n.$d.call(this,a,"LogDisplayConfigImpl")||this;a.am=b;return a;}ca(a,n.$d);na.Object.defineProperties(a.prototype,{BP:{configurable:!0,enumerable:!0,get:function(){return!0;}},QG:{configurable:!0,enumerable:!0,get:function(){return this.am.QG;}},eLa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});b=a;c.__decorate([g.config(g.kd,"renderDomDiagnostics")],b.prototype,"BP",null);c.__decorate([g.config(g.wZ,"logDisplayMaxEntryCount")],b.prototype,"QG",null);c.__decorate([g.config(g.wZ,"logDisplayAutoshowLevel")],b.prototype,"eLa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(k.Ei)),c.__param(1,l.l(p.OD))],b);}();b.Dsa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.coa=void 0;c=a(0);l=a(1);a(3);g=a(84);d=function(){var b;function a(){this.zla="";this.EUa=[[],[]];this.Z=[[],[]];}a.prototype.downloadRequest=function(a){var b;""===this.zla&&(this.zla=a.Na);if(!a.bc){b=this.WFb(a);this.Z[a.M].push(b);this.EUa[a.M].forEach(function(a){a.sQb(b);});}};a.prototype.WFb=function(a){return{id:a.xj(),Na:a.Na,M:a.M,Li:a.Li,startTime:a.yv,endTime:a.JH,offset:a.xm,aM:a.aM,$L:a.$L,duration:a.Hr,O:a.O,state:g.V2.nFa,rq:!1,aTb:!1,$Ia:!1,TRb:g.U2.waiting};};a.prototype.update=function(a){this.EUa[a.M].forEach(function(b){b.dWb(a);});};na.Object.defineProperties(a.prototype,{Na:{configurable:!0,enumerable:!0,get:function(){return this.zla;}}});b=a;return b=c.__decorate([l.N()],b);}();b.coa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.nqa=void 0;c=a(0);l=a(1);g=a(324);d=function(){var b;function a(a){this.Ugb=a;}a.prototype.Db=function(){var a;a=this;this.ml||(this.ml=new Promise(function(b,c){var f;f=[];a.Ugb.forEach(function(a){f.push(a.Db());});Promise.all(f).then(function(){b();})["catch"](function(a){c(a);});}));return this.ml;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.TB(g.Y3))],b);}();b.nqa=d;},function(d,b){function a(a){this.is=a;this.irb="#881391";this.QEb="#C41A16";this.mab=this.Ivb="#1C00CF";this.Ypb="#D79BDB";this.MGb=this.Fvb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;a.prototype.dk=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Jx=function(a,b){return'<font color="'+((void 0===b?0:b)?this.Ypb:this.irb)+'">'+a+": </font>";};a.prototype.TGa=function(a,b){b=b||"";a=""+('<li><a href="#">'+this.Jx(a)+"Array["+b.length+"]</a>");a+="<ul>";for(var c=0;c<b.length;++c)a+=this.getValue(c.toString(),b[c]);a+=this.getValue("length",b.length,!0);return a+"</ul></li>";};a.prototype.fIa=function(a,b){var c,d,k;c=this;if(b instanceof CryptoKey)return this.elb(a,b);d=Object.keys(b);k="";k=k+('<li><a href="#">'+("~~NONAME~~"!==a?this.Jx(a):"")+"Object</a>");k=k+"<ul>";d.forEach(function(a){k=a.startsWith("$")?k+c.getValue(a,"REMOVED"):k+c.getValue(a,b[a]);});k+="</ul>";return k+="</li>";};a.prototype.elb=function(a,b){a=""+('<li><a href="#">'+this.Jx(a)+"CryptoKey</a>");a=a+"<ul>"+this.fIa("algorithm",b.algorithm);a+=this.XGa("extractable",b.extractable);a+=this.zIa("type",b.type);a+=this.TGa("usages",b.usages);return a+"</ul></li>";};a.prototype.Cmb=function(a,b,d){return'<li><a href="#">'+this.Jx(a,void 0===d?!1:d)+('<font color="'+this.Ivb+'">'+b.toString()+"</font>")+"</a></li>";};a.prototype.XGa=function(a,b,d){return'<li><a href="#">'+this.Jx(a,void 0===d?!1:d)+('<font color="'+this.mab+'">'+b.toString()+"</font>")+"</a></li>";};a.prototype.zIa=function(a,b,d){128<b.length&&(b=b.substr(0,128)+"...");return'<li><a href="#">'+this.Jx(a,void 0===d?!1:d)+('<font color="'+this.QEb+'">"'+b+'"</font>')+"</a></li>";};a.prototype.Bmb=function(a){return'<li><a href="#">'+this.Jx(a)+('<font color="'+this.Fvb+'">null</font>')+"</a></li>";};a.prototype.Snb=function(a,b){b="undefined"===typeof b?"":b.toString();255<b.length&&(b=b.substr(0,255)+"...");return'<li><a href="#">'+this.Jx(a)+('<font color="'+this.MGb+'">'+b+"</font>")+"</a></li>";};a.prototype.getValue=function(a,b,d){d=void 0===d?!1:d;return null===b?""+this.Bmb(a):this.is.Tt(b)?""+this.TGa(a,b):this.is.wA(b)?""+this.fIa(a,b):this.is.nn(b)?""+this.zIa(a,b,d):this.is.jh(b)?""+this.Cmb(a,b,d):this.is.tL(b)?""+this.XGa(a,b,d):""+this.Snb(a,b);};b.wxa=a;},function(d,b,a){var c,l,g,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.h_a=void 0;c=a(0);l=a(1);g=a(26);n=a(23);k=a(169);p=a(323);h=a(102);f=a(195);d=function(){var b;function a(a,b,c){var f;f=p.XJ.call(this,a,b,"idb")||this;f.Lj=c;f.FQa=function(a){f.mgb(a.target.id).then(function(){return f.refresh();});};f.cwb=function(){f.Qbb().then(function(){return f.refresh();});};f.lwb=function(){f.refresh();};f.ewb=function(){f.Pcb();};return f;}ca(a,p.XJ);a.prototype.Db=function(){var a;a=this;if(this.Po)return Promise.resolve();N.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==h.Rq.hZa&&a.toggle();});return this.Lj.create().then(function(b){a.storage=b;a.Po=!0;});};a.prototype.Ri=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};a.prototype.nfa=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.LCa.dk({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};a.prototype.yfa=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.Ri(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.nfa(f,c[f],a[c[f]]);return b+"</table>";};a.prototype.jHa=function(){var a,b,c;a=this.ed.createElement("button",p.gD,"Clear",{"class":this.prefix+"-display-btn"});b=this.ed.createElement("button",p.gD,"Refresh",{"class":this.prefix+"-display-btn"});c=this.ed.createElement("button",p.gD,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.cwb;b.onclick=this.lwb;c.onclick=this.ewb;return[a,b,c];};a.prototype.nsb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.wJa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.wJa;});};a.prototype.mgb=function(a){return this.storage.remove(a);};a.prototype.Qbb=function(){return this.storage.removeAll();};a.prototype.UPa=function(){var a;a=this;return this.nsb().then(function(b){return a.yfa(b);});};a.prototype.Pcb=function(){var a;a=JSON.stringify(this.wJa,null,4);f.KR.Mba(a);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.tf)),c.__param(1,l.l(n.Je)),c.__param(2,l.l(k.DS))],b);}();b.h_a=d;},function(d,b,a){var l,g,n,k,p,h,f,t;function c(a){return function(){return new Promise(function(b,c){var f;f=a.kb.get(g.a4);f.Db().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;d=a(1);l=a(324);a(665);g=a(322);n=a(663);k=a(84);p=a(662);h=a(321);f=a(661);t=a(660);a(659);b.rFa=new d.Cc(function(a){a(h.p5).to(f.Dsa).$();a(l.Y3).to(t.Esa);a(k.TI).to(p.coa).$();a(g.a4).to(n.nqa).$();a(g.Z3).KQ(c);});},function(d,b,a){var c,l,g,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pua=b.Mua=b.Lua=void 0;c=a(0);l=a(1);g=a(196);n=a(47);k=a(2);d=function(){var b;function a(a){this.ixb=a;}a.prototype.Iq=function(a){a.map(this.ixb.Iq);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.H6))],b);}();b.Lua=d;d=function(){var b;function a(a){this.gxb=a;}a.prototype.Iq=function(a){this.gxb.Iq(a.data);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.E6))],b);}();b.Mua=d;d=function(){var b;function a(){}a.prototype.Iq=function(a){var b;a.ha&&"string"===typeof a.ha?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new n.Bc(k.J.$v,k.I.Vv,void 0,void 0,void 0,b,void 0,a.ha);};b=a;return b=c.__decorate([l.N()],b);}();b.Pua=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Aua=void 0;c=a(0);l=a(78);g=a(8);n=a(1);d=function(){var b;function a(a,b){this.kM=b;this.log=a.yb("PboEventSenderImpl");}a.prototype.Jla=function(a,b){var c;c=this.kM(l.El.start);return this.UFa(c,a,b);};a.prototype.hRa=function(a){var b;b=this;return this.kM(l.El.stop).ff(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};a.prototype.VP=function(a,b,c){a=this.kM(a);return this.UFa(a,b,c);};a.prototype.UFa=function(a,b,c){var f;f=this;return a.Jo(this.log,b.ya.Bj,c).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(g.Bb)),c.__param(1,n.l(l.ZR))],b);}();b.Aua=d;},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.jva=void 0;c=a(0);l=a(1);g=a(41);n=a(28);k=a(37);p=a(3);h=a(30);d=function(){var b;function a(a,b){a=g.$d.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}ca(a,g.$d);na.Object.defineProperties(a.prototype,{zH:{configurable:!0,enumerable:!0,get:function(){return this.config.Ir?"unsentplaydatatest":"unsentplaydata";}},Gla:{configurable:!0,enumerable:!0,get:function(){return!0;}},cRa:{configurable:!0,enumerable:!0,get:function(){return p.Ib(1E4);}},Hja:{configurable:!0,enumerable:!0,get:function(){return p.Ib(4E3);}},CKa:{configurable:!0,enumerable:!0,get:function(){return p.GO(1);}},DKa:{configurable:!0,enumerable:!0,get:function(){return p.ah(30);}}});b=a;c.__decorate([k.config(k.string,"playdataPersistKey")],b.prototype,"zH",null);c.__decorate([k.config(k.kd,"sendPersistedPlaydata")],b.prototype,"Gla",null);c.__decorate([k.config(k.Ug,"playdataSendDelayMilliseconds")],b.prototype,"cRa",null);c.__decorate([k.config(k.Ug,"playdataPersistIntervalMilliseconds")],b.prototype,"Hja",null);c.__decorate([k.config(k.Ug,"heartbeatCooldown")],b.prototype,"CKa",null);c.__decorate([k.config(k.Ug,"keepAliveWindow")],b.prototype,"DKa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(n.Ei)),c.__param(1,l.l(h.Qj))],b);}();b.jva=d;},function(d,b,a){var g,n,k,p,h,f,t,z,m,r,J,F,L,H,U;function c(a,b){this.config=a;this.Ja=b;}function l(a,b,c,f,d,h){this.log=a;this.ta=b;this.sh=c;this.pq=f;this.Ms=d;this.Jxb=h;this.aGa=this.Np=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Oua=b.m1a=void 0;g=a(0);n=a(1);k=a(3);p=a(8);h=a(36);f=a(245);t=a(327);z=a(13);m=a(326);r=a(2);J=a(197);F=a(325);L=a(112);H=a(40);U=a(60);l.prototype.I_=function(a,b){var f;function c(){var a;a=f.pq.create(f.sh);f.Ms.rna(a)["catch"](function(a){var b;b=f.aGa?p.Yh.d8:p.Yh.ERROR;f.aGa=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Ms.a9a(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.ip=f.ta.nla(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new J.fT().encode(b)});f.ip=f.ta.nla(a,c);});};l.prototype.stop=function(a){var b,c;b=this;if(this.Np)return Promise.resolve();this.ip&&this.ip.cancel();c=this.pq.create(this.sh);return this.Ms.rna(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.sh.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.Jxb.hRa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Ms.aQa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};l.prototype.cancel=function(){this.Np=!0;this.ip&&this.ip.cancel();this.Ms.rna(this.pq.create(this.sh));};na.Object.defineProperties(c.prototype,{bbb:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ja.ef;return!this.DB||0<=a.Mb(this.DB).fl(this.config.DKa)?(this.DB=a,!0):!1;}}});b.m1a=c;d=function(){var b;function a(a,b,f,d,h,k,l,p){this.config=a;this.ta=f;this.Ms=d;this.pq=h;this.t0=k;this.he=l;this.DB=Promise.resolve();this.closed=!1;this.log=b.yb("PlaydataServices");this.fC=[];this.active=new Set();this.wBb=new c(a,p);}a.prototype.Db=function(){var a;a=this;this.ml||(this.log.trace("Starting playdata services"),this.ml=this.Ms.Gzb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.ml;};a.prototype.close=function(){this.closed=!0;this.fC.forEach(function(a){a.I_.cancel();});};a.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.zH&&b.Gla?this.tCb(a):Promise.resolve();};a.prototype.tma=function(a){this.closed||this.tEb(a);};a.prototype.qSa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.pq.create(a);this.active["delete"](c.ha);a=S(L.ps(function(a){return a.key===c.ha;},this.fC));f=a.next().value;this.fC=a.next().value;return Promise.all(f.map(function(a){a.rSa=!0;return a.I_.stop(b.config.Gla);})).then(function(){});};a.prototype.$_=function(a,b){var c,f;c=this;f=a.fa;this.hSa(f,b);this.Jla(f,a.pM)["catch"](function(a){c.log.error("Start command failed",{playdata:a.gC,error:a.dB});});this.qEb(a);};a.prototype.tEb=function(a){var b;b=this;a.addEventListener(z.U.Vo,function(c){var f;if(void 0!==c.A0){f=a.gm(c.A0);b.qSa(f);c.yB||new Promise(function(b){var c;if(a.rq.value)b();else{c=function(f){f.newValue&&(b(),a.rq.removeListener(c));};a.rq.addListener(c);}}).then(function(){return b.$_(a,"online");});}});a.addEventListener(z.U.Rn,function(){b.$_(a,"online");});a.background||a.addEventListener(z.U.eO,function(c){c=a.gm(c.u);b.hSa(c,"online");});a.addEventListener(z.U.yf,function(){b.FEb();});a.addEventListener(z.U.sUa,function(){b.zCb(a.fa)["catch"](function(b){(b=b.Pja)&&a.Sd(b);});});a.tc.addListener(function(){a.Oa.Gca?b.log.trace("stickiness is disabled for timedtext"):b.gRa(a.fa);});a.jd.addListener(function(){a.Oa.Gca?b.log.trace("stickiness is disabled for audio"):b.gRa(a.fa)["catch"](function(b){(b=b.Pja)&&a.Sd(b);});});};a.prototype.hSa=function(a,b){var c,f;a.dd("pdb");if(this.config.Hja.Gqb()){c=this.pq.create(a);f=c.ha;this.fC.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.fC.push({key:f,I_:this.qmb(a,c),IC:!1,rSa:!1}));}};a.prototype.tCb=function(a){var b,c,f,d;b=this;c=this.Ms.gC.filter(function(a){return!b.active.has(a.ha);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=S(L.ps(function(b){return b.u===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.ta.uh(this.config.cRa,function(){b.fRa(d);});return f&&0!==f.length?this.fRa(f):Promise.resolve();};a.prototype.fRa=function(a){var c;function b(a){return c.t0.hRa(a).then(function(){return c.EAb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};a.prototype.EAb=function(a){var b;b=this;return this.Ms.aQa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};a.prototype.qmb=function(a,b){a=new l(this.log,this.ta,a,this.pq,this.Ms,this.t0);a.I_(this.config.Hja,b);return a;};a.prototype.Jla=function(a,b){var c,f;c=this;f=this.pq.Neb(a,b);return this.t0.Jla(a,f).then(function(){c.fC.filter(function(b){return b.key===a.ha.toString();}).forEach(function(a){a.IC=!0;});})["catch"](function(a){throw{gC:f,dB:a};});};a.prototype.zCb=function(a){return this.wBb.bbb?this.VP(F.cT.WN,a,r.J.g5):Promise.resolve();};a.prototype.gRa=function(a){return this.VP(F.cT.splice,a,r.J.fwa);};a.prototype.VP=function(a,b,c){var d;function f(a){var b;b=d.fC.filter(function(b){return b.key===a.ha.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.rSa||!b.IC;},!1);}d=this;return f(b)?this.DB:this.DB=this.DB["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.pq.create(b);return d.t0.VP(a,b,c);}).then(function(a){return a;})["catch"](function(f){var h;d.log.error("Failed to send event",{eventKey:a,xid:b.ha,error:f});f.nda?h=d.he(c,f):f.ks===r.MS.W7&&(h=d.he(c,f));throw{dB:f,Pja:h};});};a.prototype.qEb=function(a){this.UDb(a)&&this.qma(this.$lb(a.fa),a);};a.prototype.qma=function(a,b){var c;c=this;this.kba();this.cha=this.ta.uh(a,function(){c.kba();c.VP(F.cT.WN,b.fa,r.J.g5).then(function(){c.qma(a,b);})["catch"](function(f){var d;d=f.dB;(f=f.Pja)&&b.Sd(f);d.ks===r.MS.W7&&c.qma(a,b);});});};a.prototype.FEb=function(){this.kba();};a.prototype.UDb=function(a){return a.state.value==z.nb.ud;};a.prototype.kba=function(){this.cha&&(this.cha.cancel(),this.cha=void 0);};a.prototype.$lb=function(a){return a.Oa.Ufa?k.Ib(a.Oa.Ufa):this.config.CKa;};b=a;return b=g.__decorate([n.N(),g.__param(0,n.l(m.Z6)),g.__param(1,n.l(p.Bb)),g.__param(2,n.l(h.Hg)),g.__param(3,n.l(t.v6)),g.__param(4,n.l(f.gT)),g.__param(5,n.l(F.y6)),g.__param(6,n.l(U.Nk)),g.__param(7,n.l(H.Bi))],b);}();b.Oua=d;},function(d,b,a){var g,n,k,p,h,f,t,z,m,r,J;function c(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.wua=void 0;g=a(0);n=a(1);k=a(14);p=a(2);h=a(23);f=a(47);t=a(498);z=a(71);m=a(72);r=a(197);J=a(196);d=function(){var b;function a(a,b,d,h,k){var l;l=this;this.is=a;this.Lj=b;this.config=d;this.sx=h;this.hxb=k;this.Ks=function(){return new c().encode({version:l.version,data:l.gC});};this.wHb=function(a){a=l.vHb(a);l.hxb.Iq(a);return a;};this.vHb=function(a){if(l.is.Ql(a))return l.zHb(a);if(void 0!=a.version&&l.is.jh(a.version)&&1==a.version)return l.AHb(a);if(void 0!=a.version&&l.is.jh(a.version)&&2==a.version)return new c().decode(a);if(a.version&&l.is.jh(a.version))throw new f.Bc(p.J.$v,p.I.Qoa,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new f.Bc(p.J.$v,p.I.Vv,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.np=new t.W4(2,this.config().HOa,""!==this.config().HOa&&0<this.config().Txb,this.Lj,this.Ks);}a.prototype.Gzb=function(){return this.np.load(this.wHb)["catch"](function(a){throw new f.Bc(p.J.$v,a.ga||a.cd,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};a.prototype.a9a=function(a){return this.np.add(a);};a.prototype.aQa=function(a){return this.np.remove(a,function(a,b){return a.ha===b.ha;});};a.prototype.rna=function(a){return this.np.update(a,function(a,b){return a.ha===b.ha;});};a.prototype.toString=function(){return JSON.stringify(this.Ks(),null,"  ");};a.prototype.fUa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.sx().oh:"";};a.prototype.tna=function(a){return a.map(function(a){return{ld:a.downloadableId,duration:a.duration};});};a.prototype.gUa=function(a){var b;return a?{total:a.playTimes.total,TC:null!==(b=a.playTimes.totalContentTime)&&void 0!==b?b:a.playTimes.total,audio:this.tna(a.playTimes.audio||[]),video:this.tna(a.playTimes.video||[]),text:this.tna(a.playTimes.timedtext||[])}:{total:0,TC:0,audio:[],video:[],text:[]};};a.prototype.zHb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",href:this.fUa(a.playbackContextId),ha:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,iM:a.timestamp,ZP:a.playback?1E3*a.playback.startEpoch:-1,WG:a.mediaId,eP:this.gUa(a.playback),cb:"",Un:{},profileId:a.accountKey};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Lj.create().then(function(a){a.save(b.config().NM,d,!1);});if(""===c.href||""===c.ha)throw new f.Bc(p.J.$v,p.I.Vv);return{version:2,data:[c]};};a.prototype.AHb=function(a){var b;b=this;if(!a.playdata||!this.is.Tt(a.playdata))throw new f.Bc(p.J.$v,p.I.Vv,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.fUa(a.playbackContextId),ha:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,iM:a.timestamp,ZP:a.playback?1E3*a.playback.startEpoch:-1,WG:a.mediaId,eP:b.gUa(a.playback),cb:"",Un:{},profileId:a.profileId};});}(a.playdata)};};na.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.np.version;}},gC:{configurable:!0,enumerable:!0,get:function(){return this.np.zr;}}});b=a;return b=g.__decorate([n.N(),g.__param(0,n.l(h.Je)),g.__param(1,n.l(z.Kq)),g.__param(2,n.l(k.fd)),g.__param(3,n.l(m.Oq)),g.__param(4,n.l(J.F6))],b);}();b.wua=d;l.prototype.encode=function(a){var b;b=new r.fT();return a.map(b.encode);};l.prototype.decode=function(a){var b;b=new r.fT();return a.map(b.decode);};c.prototype.encode=function(a){return{version:a.version,data:new l().encode(a.data)};};c.prototype.decode=function(a){return{version:a.version,data:new l().decode(a.data)};};},function(d,b,a){var l,g,n,k,p,h,f,t,z,m,r,J;function c(a){return function(){return a.kb.get(l.G6).Db();};}Object.defineProperty(b,"__esModule",{value:!0});b.gC=void 0;d=a(1);l=a(149);g=a(245);n=a(197);k=a(327);p=a(671);h=a(670);f=a(326);t=a(669);z=a(325);m=a(668);r=a(196);J=a(667);b.gC=new d.Cc(function(a){a(f.Z6).to(t.jva).$();a(g.gT).to(n.Nua).$();a(k.v6).to(p.wua).$();a(l.G6).to(h.Oua).$();a(l.NJ).KQ(c);a(z.y6).to(m.Aua).$().gR();a(r.H6).to(J.Pua).$();a(r.E6).to(J.Lua).$();a(r.F6).to(J.Mua).$();});},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.ysa=void 0;c=a(0);l=a(1);g=a(8);n=a(331);a(330);k=a(329);p=a(328);h=a(198);d=function(){var b;function a(a,b,c,f,d){this.y8a=a;this.sAb=b;this.oQa=f;this.zQa=d;this.ja=c.yb("LicenseProviderImpl");}a.prototype.tA=function(a){var b,c;b=this;c=this.oQa.lGb(a);return this.y8a.Jo(this.ja,a.Bj,c).then(function(a){a.map(function(a){return a.Mrb;});return b.zQa.vTa(a);})["catch"](function(a){b.ja.error("PBO license failed",a);return Promise.reject(a);});};a.prototype.release=function(a){var b;b=this;a=this.oQa.oGb(a);return this.sAb.ff(this.ja,a).then(function(a){return b.zQa.pGb(a);})["catch"](function(a){b.ja.error("PBO release license failed",a);return Promise.reject(a);});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(n.t6)),c.__param(1,l.l(k.I6)),c.__param(2,l.l(g.Bb)),c.__param(3,l.l(p.A6)),c.__param(4,l.l(h.dT))],b);}();b.ysa=d;},function(d,b,a){var c,l,g,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.hqa=void 0;c=a(0);l=a(1);g=a(26);n=a(44);k=a(98);p=a(138);h=a(87);f=a(476);t=a(151);d=function(){var b;function a(a,b,c,f){this.ed=a;this.Yt=b;this.YHb=c;this.c_=f;}a.prototype.pi=function(a){var b;b=this;return this.ed.Br(a.li[0].data[0],[8,4])?Promise.resolve({pc:[{id:"ddd",Zx:"cert",PG:void 0}],jm:[{sessionId:"ddd",data:new Uint8Array(this.Yt.decode(f.Uxa))}]}):this.ed.Br(a.li[0].data[0],this.YHb.decode("certificate"))?Promise.resolve({pc:[{id:"ddd",Zx:"cert",PG:void 0}],jm:[{sessionId:"ddd",data:new Uint8Array(this.Yt.decode(f.n4))}]}):this.c_.tA(this.Wjb(a)).then(function(a){return b.Xjb(a);});};a.prototype.release=function(a){var b;b=this;return this.c_.release(this.$jb(a)).then(function(c){return b.akb(c,a);});};a.prototype.Wjb=function(a){var b,c;b=this;c=a.li.map(function(a){return a.data.map(function(c){return{sessionId:a.sessionId,dataBase64:b.Yt.encode(c)};});});return{ha:a.ha,ig:a.ig,bX:a.bX,ri:h.wha(a.ri),Gr:p.Nm[a.Gr],li:c.reduce(function(a,b){return a.concat(b);},[]),sO:a.sO,Bj:a.Bj};};a.prototype.$jb=function(a){var b;b={};a.li&&a.pc[0].id&&(b[a.pc[0].id]=this.Yt.encode(a.li[0]));return a&&a.li?{ha:a.ha,pc:a.pc,ZBb:b}:{ha:a.ha,pc:a.pc};};a.prototype.Xjb=function(a){return{pc:a.pc,jm:a.jm};};a.prototype.akb=function(a,b){return a&&a.response&&a.response.data&&b.pc[0].id&&(a=a.response.data[b.pc[0].id])?{response:this.Yt.decode(a)}:{};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.tf)),c.__param(1,l.l(n.cj)),c.__param(2,l.l(k.uw)),c.__param(3,l.l(t.yD))],b);}();b.hqa=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.lPa=void 0;d=a(1);c=a(478);l=a(674);g=a(151);n=a(673);b.lPa=new d.Cc(function(a){a(c.V3).to(l.hqa).$();a(g.yD).to(n.ysa).$();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ysb=b.vLa=b.Wsb=void 0;b.Wsb=function(a){return a;};b.vLa=function(a){return a;};b.Ysb=function(a){return Object.assign({},a);};},function(d,b,a){var c,l,g,n,k,p,h,f,t;Object.defineProperty(b,"__esModule",{value:!0});b.wra=void 0;c=a(0);l=a(54);g=a(676);n=a(48);k=a(29);p=a(40);h=a(1);f=a(335);t=a(3);d=function(){var b,d;function a(a,b,c){this.Ja=a;this.MIb=b;this.performance=c;l.om(this,"performance");}a.prototype.get=function(a,c,f){var d;d=this;return new Promise(function(h,k){var l,p,g;try{l=d.MIb.create();"withCredentials"in l||k(Error("Missing CORS support"));l.open("GET",a,!0);c&&(l.withCredentials=!0);f&&(l.timeout=f.ba(t.ia));p=d.Ja.ef;g=void 0;l.onreadystatechange=function(){var c;switch(l.readyState){case XMLHttpRequest.HEADERS_RECEIVED:g=d.Ja.ef.Mb(p);break;case XMLHttpRequest.DONE:c=d.Ja.ef.Mb(p),c={body:l.responseText,status:l.status,headers:b.Owb(l.getAllResponseHeaders()),od:d.nmb(a,n.aa(l.responseText.length),c,g)};h(c);}};l.send();}catch(T){k(T);}});};a.Owb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};a.prototype.nmb=function(a,b,c,f){b={size:b,duration:c,Rma:f};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=g.vLa(b);a.Wfb&&(b.size=n.aa(a.Wfb));0<a.duration?b.duration=t.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=t.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.dFa=t.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Kma=t.timestamp(a.connectEnd-a.connectStart),b.Rma=t.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Vma=t.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.Vma=t.timestamp(c),b.Kma=t.timestamp(a.connectEnd-a.connectStart-c)));return b;};d=b=a;return d=b=c.__decorate([h.N(),c.__param(0,h.l(p.Bi)),c.__param(1,h.l(f.i8)),c.__param(2,h.l(k.hT)),c.__param(2,h.optional())],d);}();b.wra=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Zqa=void 0;c=a(0);l=a(1);g=a(54);n=a(29);k=a(3);p=a(23);d=function(){var b;function a(a,b){this.is=a;this.json=b;g.om(this,"json");}a.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.E$(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.uL(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.uL(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Tt(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.uL(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Tt(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Ql(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.wA(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.E$(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.nn(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.nn(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{mzb:a.pulses,oPa:a.pulse_delays?a.pulse_delays.map(k.Ib):[],lzb:k.Ib(a.pulse_timeout),BKa:a.next?k.Ib(a.next):void 0,me:a.urls,Jha:a.logblob,context:a.ctx};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Je)),c.__param(1,l.l(n.cw))],b);}();b.Zqa=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;c=a(0);l=a(1);g=a(48);n=a(3);k=a(46);p=a(62);d=function(){var b,d;function a(a,b){this.Lh=a;this.QB=b;}a.prototype.DP=function(a){a=this.QB.xn("ftlProbeError","info",b.GIb({url:a.url,sc:a.status,pf_err:a.Jja},a));this.Lh.Jc(a);};a.GIb=function(a,c){c.od&&(c=c.od,b.pr(a,"d",c.duration),b.pr(a,"dns",c.dFa),b.pr(a,"tcp",c.Kma),b.pr(a,"tls",c.Vma),b.pr(a,"ttfb",c.Rma),a.sz=c.size.ba(g.Mq));return a;};a.pr=function(a,b,c){c&&(a[b]=c.ba(n.ia));return a;};d=b=a;return d=b=c.__decorate([l.N(),c.__param(0,l.l(k.Sj)),c.__param(1,l.l(p.bo))],d);}();b.Uva=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Vva=void 0;c=a(0);l=a(1);g=a(48);n=a(3);k=a(46);p=a(62);d=function(){var b,d;function a(a,b){this.Lh=a;this.QB=b;}a.prototype.DP=function(a){a=this.QB.xn(a.Jha,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return b.HIb({d:a.od.duration.ba(n.ia),sc:a.status,sz:a.od.size.ba(g.Mq),via:a.iIb,cip:a.Jbb,err:a.dB},a);})};})});this.Lh.Jc(a);};a.HIb=function(a,c){b.pr(a,"dns",c.od.dFa);b.pr(a,"tcp",c.od.Kma);b.pr(a,"tls",c.od.Vma);b.pr(a,"ttfb",c.od.Rma);return a;};a.pr=function(a,b,c){c&&(a[b]=c.ba(n.ia));return a;};d=b=a;return d=b=c.__decorate([l.N(),c.__param(0,l.l(k.Sj)),c.__param(1,l.l(p.bo))],d);}();b.Vva=d;},function(d,b,a){var c,l,g,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.ara=void 0;c=a(0);l=a(1);g=a(3);n=a(36);k=a(8);p=a(333);h=a(332);f=a(177);d=function(){var b,d;function a(a,b,c,f,d,h,k){this.config=a;this.tJa=b;this.ta=c;this.hg=f;this.VAb=d;this.Oka=h;this.erb=0;this.ja=k.yb("FTL");}a.prototype.start=function(){this.config.enabled&&!this.ip&&(this.ip=this.ta.uh(this.config.fSa,this.UH.bind(this)));};a.prototype.stop=function(){this.ip&&(this.ip.cancel(),this.ip=void 0);};a.prototype.UH=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.erb++;this.Cnb(b).then(function(b){return Promise.all(b.me.map(function(c){return a.Aob(b,c.url,c.name);})).then(function(c){0<c.length&&a.VAb.DP({data:c,context:b.context,Jha:b.Jha});}).then(function(){return b;});}).then(function(b){a.ip&&(b.BKa?a.ip=a.ta.uh(b.BKa,a.UH.bind(a)):a.stop());})["catch"](function(b){return a.ja.error("FTL run failed",b);});};a.prototype.Cnb=function(a){var b;b=this;return this.tJa.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.Oka.DP({url:a,status:c.status,Jja:"FTL API request failed",od:c.od}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.hg.parse(c.body);return f instanceof Error?(b.Oka.DP({url:a,status:4,Jja:"FTL Probe API JSON parsing error",od:c.od}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.Oka.DP({url:a,status:0,Jja:c.message}),b.ja.error("FTL API call failed",c.message));return Promise.reject(c);});};a.prototype.Aob=function(a,c,f){var d;d=this;return new Promise(function(h,k){var m;for(var l,p,n,t=[],q={},z=0;z<a.mzb;q={il:q.il,pka:q.pka},++z){q.il=z<a.oPa.length?a.oPa[z]:g.sd;q.pka=""+c+(-1===c.indexOf("?")?"?":"&")+"pulse="+(z+1);m=function(c){return function(){return new Promise(function(f,h){d.ta.uh(c.il,function(){b.Syb(d.tJa,c.pka,a.lzb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}l=b(l,"via",a);p=b(p,"x-ftl-probe-data",a);n=b(n,"x-ftl-error",a);f({status:a.status,od:a.od,iIb:l||"",Jbb:p||"",dB:n||""});})["catch"](function(a){h(a);});});});};}(q);t.push(0<z?t[z-1].then(m):m());}Promise.all(t).then(function(a){h({url:c,name:f,data:a});})["catch"](function(a){k(a);});});};a.Syb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};d=b=a;return d=b=c.__decorate([l.N(),c.__param(0,l.l(f.r4)),c.__param(1,l.l(h.Q4)),c.__param(2,l.l(n.Hg)),c.__param(3,l.l(p.q4)),c.__param(4,l.l(f.p7)),c.__param(5,l.l(f.o7)),c.__param(6,l.l(k.Bb))],d);}();b.ara=d;},function(d,b,a){var c,l,g,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;d=a(1);c=a(681);l=a(680);g=a(679);n=a(678);k=a(677);p=a(333);h=a(332);f=a(177);b.MGa=new d.Cc(function(a){a(f.s4).to(c.ara).$();a(f.p7).to(l.Vva).$();a(f.o7).to(g.Uva).$();a(p.q4).to(n.Zqa).$();a(h.Q4).to(k.wra).$();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.sr=a;}a.prototype.NO=function(){var a,b,d;a=this.sr.Xlb();b=this.sr.Ylb();d=this.sr.Zlb();if("number"===typeof a&&"number"===typeof b&&"number"===typeof d)return(d-a)/b;};return a;}();b.j0a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a,b){this.sr=a;this.NO=b;}a.prototype.Pla=function(a){return this.sr.Pla(a);};a.prototype.hm=function(){return this.sr.hm();};a.prototype.ymb=function(){return this.NO.NO();};return a;}();b.i0a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.ZKa=a;}a.prototype.Pla=function(a){try{this.ZKa.setItem("gtp",JSON.stringify(a));}catch(l){return!1;}return!0;};a.prototype.HHa=function(){var a;try{a=this.ZKa.getItem("gtp");if(a)return JSON.parse(a);}catch(l){}};a.prototype.hm=function(){var a;a=this.HHa();if(a&&a.tp)return a.tp.a;};a.prototype.Xlb=function(){var a;a=this.Oea();if(a)return a.p25;};a.prototype.Ylb=function(){var a;a=this.Oea();if(a)return a.p50;};a.prototype.Zlb=function(){var a;a=this.Oea();if(a)return a.p75;};a.prototype.Oea=function(){var a;a=this.HHa();if(a&&(a=a.iqr))return a;};return a;}();b.Q2=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(685);l=a(684);g=a(683);b["default"]=function(a){var b;a=new c.Q2(a);b=new g.j0a(a);return new l.i0a(a,b);};},function(d,b,a){var c,l,g,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Qta=void 0;c=a(0);l=a(496);g=a(1);n=a(170);k=a(334);d=function(){var b;function a(a,b,c){this.config=a;this.xsb=b;this.ub=c;}a.prototype.Qba=function(){if(this.config.lUa)return this.ub(this.xsb());};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(l.a6)),c.__param(1,g.l(n.Z5)),c.__param(2,g.l(k.b6))],b);}();b.Qta=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Yxa=void 0;c=a(0);l=a(1);d=function(){var b;function a(){}a.prototype.create=function(){return new XMLHttpRequest();};b=a;return b=c.__decorate([l.N()],b);}();b.Yxa=d;},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.MMa=void 0;d=a(1);c=a(688);l=a(92);g=a(335);n=a(687);k=a(199);p=a(334);h=a(686);b.MMa=new d.Cc(function(a){a(g.i8).to(c.Yxa).$();a(l.ew).Qy(function(){return N._cad_global.http;});a(k.GJ).to(n.Qta).$();a(p.b6).Sh(h["default"]);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;b.KLa=function(a,b){var k,p;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),g=1;g<a.length;g++){k=a[g];p=b(k);p>d&&(c=k,d=p);}return c;}};},function(d,b,a){var l;function c(a,b,c){a=l.TR.call(this,a,b)||this;a.lx=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.hpa=void 0;l=a(339);ca(c,l.TR);b.hpa=c;},function(d,b,a){var c,l,g,n,k,p,h,f,t,z,m,r,J,F,L,H,u,R,aa,Q,y,T;Object.defineProperty(b,"__esModule",{value:!0});b.Ksa=void 0;c=a(0);l=a(244);g=a(448);n=a(46);k=a(26);p=a(440);h=a(240);f=a(93);t=a(1);z=a(340);m=a(338);r=a(92);J=a(14);F=a(40);L=a(25);H=a(33);u=a(62);R=a(103);aa=a(124);Q=a(29);y=a(30);T=a(337);d=function(){var b;function a(a,b,c,f,d,h,k,l,p,g,n,t,q,z,m,G,r,D,F){this.ZSa=a;this.iW=b;this.Lh=c;this.wia=f;this.zda=d;this.Dj=h;this.Sc=k;this.aX=l;this.Re=p;this.config=g;this.Ac=n;this.Ja=t;this.qa=q;this.platform=z;this.um=m;this.hO=G;this.Ej=r;this.Wp=D;this.z_=F;}a.prototype.create=function(a,b,c){return new z.Lsa(a,b,c,this.ZSa,this.iW,this.Lh,this.wia,this.zda,this.Dj,this.Sc,this.aX,this.Re,this.config,this.Ac,this.Ja,this.qa,this.platform,this.um,this.hO,this.Ej,this.Wp,this.z_);};b=a;return b=c.__decorate([t.N(),c.__param(0,t.l(l.IT)),c.__param(1,t.l(g.t3)),c.__param(2,t.l(n.Sj)),c.__param(3,t.l(p.F5)),c.__param(4,t.l(h.l4)),c.__param(5,t.l(f.lw)),c.__param(6,t.l(k.tf)),c.__param(7,t.l(m.S3)),c.__param(8,t.l(r.ew)),c.__param(9,t.l(J.fd)),c.__param(10,t.l(R.Nz)),c.__param(11,t.l(F.Bi)),c.__param(12,t.l(L.Ue)),c.__param(13,t.l(H.Wj)),c.__param(14,t.l(Q.PD)),c.__param(15,t.l(u.bo)),c.__param(16,t.l(aa.SD)),c.__param(17,t.l(y.Qj)),c.__param(18,t.l(T.R5))],b);}();b.Ksa=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Isa=void 0;c=a(0);l=a(1);g=a(48);n=a(72);d=function(){var b;function a(a){this.mh=a;}a.prototype.Fsb=function(){var a;a=this.mh()?this.mh().oh.length:40;return g.aa(a+33);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(n.Oq))],b);}();b.Isa=d;},function(d,b,a){var l,g,n,k,p,h,f,t,z,m;function c(a,b,c,f,d,h,k,l,g,n){this.platform=b;this.aca=c;this.type=f;this.severity=d;this.timestamp=h;this.data=k;this.qa=l;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.Aca;this.data.clver=this.platform.version;a&&a.cl&&(a.cl.os&&(this.data.osplatform=a.cl.os.name,this.data.osver=a.cl.os.version),this.data.browsername=a.cl.name,this.data.browserver=a.cl.version);a.Vga&&(this.data.tester=!0);a.Px&&!this.data.groupname&&(this.data.groupname=a.Px);a.mF&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.mF:a.mF);a.WC&&(this.data.uigroupname=a.WC);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.qa.emb();this.data.uniqueLogId=g.RGa();this.data.appId=this.qa.id;n&&(a=this.qa.Zb(),this.data.soffms=a.Mb(n.Ak).ba(p.ia),this.data.mid=this.data.mid||n.u,this.data.lvpi=n.Iha,this.data.uiLabel=n.le,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||n.ha,n.yC&&(f=n.yC,(n=n.yC.split("."))&&1<n.length&&"S"!==n[0][0]&&(f="SABTest"+n[0]+".Cell"+n[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}Object.defineProperty(b,"__esModule",{value:!0});b.Hsa=void 0;l=a(0);g=a(48);n=a(1);k=a(40);p=a(3);h=a(466);f=a(30);t=a(25);z=a(343);m=a(33);d=function(){var b;function a(a,b,c,f,d,h){this.Ja=a;this.aca=b;this.config=c;this.qa=f;this.$Hb=d;this.platform=h;}a.prototype.xn=function(a,b,f,d){return new c(this.config,this.platform,this.aca,a,b,this.Ja.ef,f,this.qa,this.$Hb,d);};b=a;return b=l.__decorate([n.N(),l.__param(0,n.l(k.Bi)),l.__param(1,n.l(h.A3)),l.__param(2,n.l(f.Qj)),l.__param(3,n.l(t.Ue)),l.__param(4,n.l(z.a8)),l.__param(5,n.l(m.Wj))],b);}();b.Hsa=d;na.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.PCa||(this.PCa=g.aa(this.aca.encode(this.data).length));return this.PCa;}}});},function(d,b,a){var c,l,g,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Bsa=void 0;c=a(0);l=a(48);g=a(3);n=a(1);k=a(14);p=a(37);h=a(41);f=a(28);d=function(){var b;function a(a,b){a=h.$d.call(this,a,"PboConfigImpl")||this;a.config=b;a.ttb=l.aa(5E5);a.vCb=g.GO(1);a.QLa=l.aa(1E6);return a;}ca(a,h.$d);na.Object.defineProperties(a.prototype,{O$:{configurable:!0,enumerable:!0,get:function(){return this.config().O$;}},QRa:{configurable:!0,enumerable:!0,get:function(){return[];}},PRa:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"];}}});b=a;c.__decorate([p.config(p.object(),"shedLogblobTypes")],b.prototype,"QRa",null);c.__decorate([p.config(p.rn("string"),"shedDebugTypes")],b.prototype,"PRa",null);return b=c.__decorate([n.N(),c.__param(0,n.l(f.Ei)),c.__param(1,n.l(k.fd))],b);}();b.Bsa=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Jsa=void 0;c=a(0);l=a(1);g=a(200);n=a(48);d=function(){var b;function a(a){this.config=a;}a.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.Fsb());}).reduce(function(a,b){return a.add(b);},n.aa(0));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(g.s5))],b);}();b.Jsa=d;},function(d,b,a){var l,g,n,k,p,h,f,t,z,m,r,J;function c(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Msa=void 0;l=a(0);g=a(1);n=a(54);k=a(29);p=a(3);h=a(26);f=a(25);t=a(33);z=a(72);m=a(8);r=a(344);J=a(93);d=function(){var b;function a(a,b,c,f,d,h,k,l){this.qa=a;this.platform=c;this.mh=f;this.json=d;this.ed=h;this.Dj=k;this.Msb=l;n.om(this,"json");this.ja=b.yb("LogblobSender");}a.prototype.send=function(a){var b;b=this;return new Promise(function(f,d){var h;try{h=a.reduce(function(a,c){a.entries.push(b.Ueb(c));return a;},new c());f(b.hkb(h));}catch(y){b.ja.error(y.message);d(y);}}).then(function(a){return b.Ila(a);});};a.prototype.Ueb=function(a){return this.ed.fH(this.ed.fH({},a.data),{esn:this.mh().oh,sev:a.severity,type:a.type,lver:this.platform.Lsb,jssid:this.qa.id,devmod:this.platform.Aca,jsoffms:a.timestamp.Mb(this.qa.GB).ba(p.ia),clienttime:a.timestamp.ba(p.ia),client_utc:a.timestamp.ba(p.Il),uiver:this.Dj.QQ});};a.prototype.hkb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(Q){for(var c={},f=0;f<a.entries.length;c={qQ:c.qQ,pe:c.pe},++f){c.pe=Object.assign({},a.entries[f]);try{this.json.stringify(c.pe);}catch(y){c.qQ=void 0;this.ed.yx(c.pe,function(a){return function(c,f){try{b.json.stringify(f);}catch(W){a.qQ=W.message;a.pe[c]=a.qQ;}};}(c));c.pe.stringifyException=c.qQ;c.pe.originalType=c.pe.type;c.pe.type="debug";c.pe.sev="error";}}return this.json.stringify(a);}};a.prototype.Ila=function(a){var b;b=this;return this.Msb.ff(this.ja,{logblobs:a}).then(function(){})["catch"](function(a){b.ja.error("PBO logblob failed",a);return Promise.reject(a);});};b=a;return b=l.__decorate([g.N(),l.__param(0,g.l(f.Ue)),l.__param(1,g.l(m.Bb)),l.__param(2,g.l(t.Wj)),l.__param(3,g.l(z.Oq)),l.__param(4,g.l(k.cw)),l.__param(5,g.l(h.tf)),l.__param(6,g.l(J.lw)),l.__param(7,g.l(r.D6))],b);}();b.Msa=d;},function(d,b,a){var l,g,n,k,p,h,f,t;function c(a){this.NE=k.sd;this.A9=[];this.NK=this.AU=!1;this.jya=0;a&&(this.NE=a.size,this.A9=a.gs,a instanceof c&&(this.jya=a.o$a+1));}Object.defineProperty(b,"__esModule",{value:!0});b.Dta=void 0;l=a(0);g=a(1);n=a(54);k=a(48);p=a(200);h=a(8);f=a(29);t=a(46);d=function(){var b;function a(a,b,c,f){this.Ytb=a;this.config=b;this.Df=c;this.json=f;n.om(this,"json");this.ja=this.Df.yb("MessageQueue");this.Jp=[];}a.prototype.Q$=function(a){var b,c;0===this.Jp.length&&this.Jp.push(this.Fea());if(a=this.fnb(a)){b=this.Ytb.measure([a]);c=this.Jp[this.Jp.length-1];0<c.size.add(b).fl(this.config.QLa)&&(c=this.Fea(),this.Jp.push(c));c.Q$(a);}};a.prototype.Hkb=function(){var a;a=this.Jp.filter(function(a){return a.dbb;});this.Jp.push(this.Fea());a.forEach(function(a){return a.ktb();});return a;};a.prototype.E8a=function(a){a.Nu||this.Jp.unshift(new c(a));};a.prototype.xAb=function(a){a=this.Jp.indexOf(a);0<=a&&this.Jp.splice(a,1);};a.prototype.fnb=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(L){var b,c;b={};c=a.data.debugMessage;c&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ja.error("JSON.stringify error: "+L.message,b);}};a.prototype.Fea=function(){return new c();};na.Object.defineProperties(a.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Jp.reduce(function(a,b){return a.add(b.size);},k.sd);}}});b=a;return b=l.__decorate([g.N(),l.__param(0,g.l(p.t5)),l.__param(1,g.l(t.GS)),l.__param(2,g.l(h.Bb)),l.__param(3,g.l(f.cw))],b);}();b.Dta=d;c.prototype.Ama=function(){this.AU=!1;this.NK=!0;};c.prototype.Cx=function(){this.AU=!1;};c.prototype.Q$=function(a){this.A9.push(a);this.NE=this.NE.add(a.size);};c.prototype.ktb=function(){this.AU=!0;};na.Object.defineProperties(c.prototype,{o$a:{configurable:!0,enumerable:!0,get:function(){return this.jya;}},size:{configurable:!0,enumerable:!0,get:function(){return this.NE;}},gs:{configurable:!0,enumerable:!0,get:function(){return this.A9;}},dbb:{configurable:!0,enumerable:!0,get:function(){return 0<this.gs.length&&!1===this.AU;}},Nu:{configurable:!0,enumerable:!0,get:function(){return this.NK;}}});},function(d,b,a){var c,l,g,n,k,p,h,f,t,z,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Csa=void 0;c=a(0);l=a(1);g=a(54);n=a(29);k=a(347);p=a(36);h=a(8);f=a(46);t=a(346);z=a(2);m=a(68);a(153);r=a(345);d=function(){var b;function a(a,b,c,f,d,h,k){this.config=a;this.json=b;this.ta=c;this.Bsb=f;this.xO=h;this.IW=k;this.HZ=this.Po=!1;this.listeners=[];g.om(this,"json");this.ja=d.yb("LogBatcher");}a.prototype.Db=function(){this.Po=!0;};a.prototype.Jc=function(a){var b;b=this;this.WDb(a)||(0<a.size.fl(this.config.ttb)?this.ja.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.Xtb(a);}),this.xO.Q$(a),this.ta.Kc(function(){b.xjb();})));};a.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.HZ?(this.ja.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ja.trace("Flushing",h.hJ);b.wi();b.ta.Kc(function(){b.Fla(a).then(function(){c();})["catch"](function(a){f(a);});});});};a.prototype.addListener=function(a){this.listeners.push(a);};a.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};a.prototype.Fla=function(a){var b,c;a=void 0===a?!1:a;b=this;if(!this.Po)return this.ja.trace("LogBatcher is not initialized"),Promise.resolve();if(this.HZ)return this.ja.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();c=this.xO.Hkb();if(0===c.length&&!a)return this.ja.trace("No logblobs to send"),Promise.resolve();this.wi();this.listeners.forEach(function(){});a=Promise.resolve();for(var f={},d=S(c),h=d.next();!h.done;f={Daa:f.Daa},h=d.next())f.Daa=h.value,a=a.then(function(a){return function(){return b.uCb(a.Daa);};}(f));return a.then(function(){return b.bB();})["catch"](function(a){c.filter(function(a){return!a.Nu;}).forEach(function(a){return a.Cx();});b.bB();throw Error("Send failure. "+a);});};a.prototype.uCb=function(a){var b;b=this;this.ja.trace("Sending batch: "+a.size,h.hJ);return Promise.resolve(this.xO.xAb(a)).then(function(){return b.Bsb.send(a.gs);}).then(function(){return a.Ama();})["catch"](function(c){b.ja.warn("Failed to send batch of logblobs.",c,h.hJ);a.Cx();b.MDb(c)&&b.xO.E8a(a);b.XDb(c)&&(b.HZ=!0);throw c;});};a.prototype.MDb=function(a){return a.ph===z.AS.sua?!1:this.config.O$;};a.prototype.XDb=function(a){return a.cd===z.I.cra||a.cd===z.I.sJ||a.cd===z.I.wJ?!0:!1;};a.prototype.xjb=function(){var a;a=this;0<this.xO.size.fl(this.config.QLa)?this.Fla()["catch"](function(b){return a.ja.warn("Failed to send log messages on size threshold. "+b);}):this.bB();};a.prototype.wi=function(){this.CB&&(this.CB.cancel(),this.CB=void 0);};a.prototype.bB=function(){this.CB||(this.CB=this.ta.uh(this.config.vCb,this.kv.bind(this)));};a.prototype.kv=function(){var a;a=this;this.HZ=!1;this.wi();this.Fla()["catch"](function(b){return a.ja.warn("Failed to send log messages on timer. "+b);});};a.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(U){}return b;};a.prototype.WDb=function(a){return 0<=this.config.QRa.indexOf(a.type)?!0:a.type===r.xe.debug?0<=this.config.PRa.indexOf(a.data.debugCategory):!1;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(f.GS)),c.__param(1,l.l(n.cw)),c.__param(2,l.l(p.Hg)),c.__param(3,l.l(k.v5)),c.__param(4,l.l(h.Bb)),c.__param(5,l.l(t.O5)),c.__param(6,l.l(m.kD))],b);}();b.Csa=d;},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Zna=void 0;c=a(0);l=a(1);g=a(14);n=a(95);k=a(46);p=a(62);h=a(8);d=function(){var b,d;function a(a,c,f,d){var k;k=this;this.Osb=a;this.hO=c;this.config=d;this.Fka=[];this.Osb.P0(b.aVa,this.pob.bind(this));f().then(function(a){var b;b=d().uu.Kjb;k.wtb=b?h.Yh[b.toUpperCase()]:h.Yh.ERROR;k.Lh=a;k.yCb();});}a.prototype.pob=function(a,b){this.Lh?this.sPa(a,b):this.Fka.push([a,b]);};a.prototype.yCb=function(){var a,b;a=this;b=this.Fka;this.Fka=[];b.forEach(function(b){a.sPa(b[0],b[1]);});};a.prototype.sPa=function(a,b){var c;if(this.Lh&&this.PDb(a)){c={debugMessage:a.message,debugCategory:a.Wl};a.zd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.hO.xn("debug",h.Yh[a.level].toLowerCase(),c,b);this.Lh.Jc(a);}};a.prototype.PDb=function(a){var b;b=this.wtb;return void 0!==b&&a.level<=b&&!a.zd.find(function(a){return a.VM(h.hJ);});};d=b=a;d.aVa="adaptorAll";return d=b=c.__decorate([l.N(),c.__param(0,l.l(n.tz)),c.__param(1,l.l(p.bo)),c.__param(2,l.l(k.o5)),c.__param(3,l.l(g.fd))],d);}();b.Zna=d;},function(d,b,a){var c,l,g,n,k,p,h,f,t,z,m,r,J,F,L,H,u,R,aa,Q,y,T;Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;d=a(1);c=a(131);l=a(700);g=a(699);n=a(698);k=a(697);p=a(696);h=a(14);f=a(695);t=a(694);z=a(693);m=a(36);r=a(72);J=a(342);F=a(346);L=a(347);H=a(62);u=a(200);R=a(46);aa=a(341);Q=a(692);y=a(338);T=a(336);b.gLa=new d.Cc(function(a){a(R.Sj).to(g.Csa).$();a(F.O5).to(n.Dta).$();a(L.v5).to(k.Msa).$();a(u.t5).to(p.Jsa).$();a(R.GS).to(f.Bsa).$();a(H.bo).to(t.Hsa).$();a(u.s5).to(z.Isa).$();a(aa.u5).to(Q.Ksa).$();a(y.S3).to(T.bqa).$();a(J.P2).to(l.Zna).$();a(R.o5).KQ(function(a){return function(){return a.kb.get(c.FD)().then(function(b){return new Promise(function(c){var d,k,l;function f(){k()&&l()&&b.IO?c(a.kb.get(R.Sj)):d.Kc(f);}d=a.kb.get(m.Hg);k=a.kb.get(h.fd);l=a.kb.get(r.Oq);d.Kc(f);});});};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xpa=void 0;b.Xpa=function(a,b,d,g){this.oh=a;this.Ax=b;this.qda=g;};},function(d,b,a){var c,l,g,n,k,p,h,f,t,z,m,r,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.Ypa=void 0;c=a(0);l=a(2);g=a(23);n=a(702);k=a(8);p=a(353);h=a(44);f=a(86);t=a(26);z=a(1);m=a(71);r=a(350);J=a(349);F=a(348);d=function(){var b;function a(a,b,c,f,d,h,k,l,p,g){this.YEa=a;this.Lj=b;this.Ga=f;this.$ba=d;this.mc=h;this.debug=k;this.ZHb=l;this.Zba=p;this.fxb=g;this.e4=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.yb("Device");}a.prototype.YFa=function(a){try{return a.match(this.e4)[2];}catch(R){}};a.prototype.$Fa=function(a){try{return a.match(this.e4)[1];}catch(R){}};a.prototype.create=function(a){var b;b=this;return new Promise(function(c,f){b.Lj.create().then(function(d){var k,p,g,t,q,z;function h(d){b.Ga.Ql(d)&&b.Ga.Ql(k)?(p=new n.Xpa(d,k,void 0,g,a.Bca||"cadmium"),c(p)):f({ga:l.I.Gpa});}k=a.Ax;if(a.Cea)g="bind_device",b.fxb.ff(b.log,{}).then(function(a){h(a.esn);})["catch"](function(a){f(a);});else if(a.VX){q=a.oh;if(b.Ga.Ql(q)){z=b.$Fa(q);z!=a.Ax&&b.log.error("esn prefix from ui is different",{ui:z,cad:a.Ax,ua:a.userAgent});}else a.Fha&&b.log.error("esn from ui is missing");d.load(a.ZEa).then(function(a){t=a.value;b.Ga.Ql(t)&&(b.Ga.Ql(q)?(a=b.YFa(q),g=a===t?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):g="storage_esn_not_in_config",h(k+t));})["catch"](function(c){var n;function p(){d.save(a.ZEa,n,!1).then(function(){h(k+n);})["catch"](function(a){f(a);});}c.ga===l.I.pw?(b.Ga.Ql(a.oh)?(n=b.YFa(a.oh),b.Ga.Ql(n)?g="config_since_not_in_storage":(g="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.oh),n=b.YEa.PGa())):(g="generated_since_not_in_config_and_storage",n=b.YEa.PGa()),p()):f(c);});}else a.Ggb&&b.$ba&&b.$ba.getKeyByName?b.$ba.getKeyByName(a.A$a).then(function(a){a=a.id;if(b.Ga.nn(a))a=String.fromCharCode.apply(void 0,b.mc.decode(a)),b.debug.assert(""!=a),k=b.$Fa(a),h(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({ga:l.I.D3,rb:b.ZHb.Fe(a)});}):a.Fgb&&b.Zba&&b.Zba.pHa?b.Zba.pHa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=k+a;b.debug.assert(b.e4.test(a));h(c);})["catch"](function(){f({ga:l.I.D3});}):h();})["catch"](function(a){f(a);});});};b=a;return b=c.__decorate([z.N(),c.__param(0,z.l(p.M3)),c.__param(1,z.l(m.Kq)),c.__param(2,z.l(k.Bb)),c.__param(3,z.l(g.Je)),c.__param(4,z.l(J.z3)),c.__param(5,z.l(h.cj)),c.__param(6,z.l(f.Nq)),c.__param(7,z.l(t.tf)),c.__param(8,z.l(r.y3)),c.__param(9,z.l(F.u6))],b);}();b.Ypa=d;},function(d,b,a){var c,l,g,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Wpa=void 0;c=a(0);l=a(40);g=a(3);n=a(134);k=a(352);p=a(54);h=a(1);d=function(){var b;function a(a,b){this.Ja=a;this.ska=b;}a.prototype.PGa=function(){for(var a="",b=this.Ja.ef.ba(g.ia),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.ska.uPa(new k.l7(0,31,p.sNa))];return a;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(l.Bi)),c.__param(1,h.l(n.SJ))],b);}();b.Wpa=d;},function(d,b,a){var c,l,g,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.mh=void 0;d=a(1);c=a(72);l=a(353);g=a(704);n=a(351);k=a(703);b.mh=new d.Cc(function(a){a(c.Oq).nf(function(){return function(){return N._cad_global.device;};});a(n.N3).to(k.Ypa).$();a(l.M3).to(g.Wpa).$();});},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jta=void 0;c=a(0);l=a(1);d=function(){var b;function a(){var a;a=this;this.ready=!1;this.Qub=new Promise(function(b){a.nBb=b;});}a.prototype.Rub=function(a){this.ready||(this.nBb(a),this.ready=!0);};a.prototype.isReady=function(){return this.ready;};b=a;return b=c.__decorate([l.N()],b);}();b.Jta=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.ky=void 0;d=a(1);c=a(354);l=a(706);g=a(131);b.ky=new d.Cc(function(a){a(c.LS).to(l.Jta).$();a(g.FD).KQ(function(a){return function(){return a.kb.get(c.LS).Qub;};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;b.kEa=function(a,b,d){return{nIa:function(){return a.ffa();},ja:b,request:d,Kh:!1};};},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.iw=b.DJ=b.jw=b.nO=b.Cwa=void 0;c=a(0);l=a(94);Object.defineProperty(b,"Mp4FragmentParser",{enumerable:!0,get:function(){return l.DJ;}});Object.defineProperty(b,"Mp4FragmentSlicer",{enumerable:!0,get:function(){return l.iw;}});Object.defineProperty(b,"makeMdatHeader",{enumerable:!0,get:function(){return l.nO;}});Object.defineProperty(b,"SidxBox",{enumerable:!0,get:function(){return l.Cwa;}});g=a(50);d=function(a){function b(c,d,f,k,l){return a.call(this,b.console,c,d,f,k,l)||this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.G||(this.G=new g.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;}(l.jw);b.jw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.am=b.RDa=void 0;b.RDa={js:["minInitVideoBitrate",-Infinity],Gia:["minHCInitVideoBitrate",-Infinity],bv:["maxInitVideoBitrate",Infinity],EO:["minInitAudioBitrate",-Infinity],DO:["minHCInitAudioBitrate",-Infinity],oO:["maxInitAudioBitrate",Infinity],AO:["minAcceptableVideoBitrate",-Infinity],zO:["minAcceptableVMAF",0],mub:["minAcceptableVMAFRebufferScalingFactor",0],nub:["minAllowedVideoBitrate",-Infinity],otb:["maxAllowedVideoBitrate",Infinity],BO:["minAllowedVmaf",-Infinity],ptb:["maxAllowedVmaf",Infinity],pQ:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],FO:["minRequiredBuffer",2E4],D_:["minRequiredAudioBuffer",0],Vg:["minPrebufSize",5800],cSb:["enableNewBufferingComplete",!0],Dub:["minimumBufferingCompleteInterval",1E4],Y0:["requireDownloadDataAtBuffering",!1],Z0:["requireSetupConnectionDuringBuffering",!1],Cka:["rebufferingFactor",1],Yo:["maxBufferingTime",2E3],vna:["useMaxPrebufSize",!0],gy:["maxPrebufSize",4E4],mia:["maxRebufSize",Infinity],Sib:["fastRebufferRecoveryThreshold",Infinity],Rib:["fastRebufferRecoverBwThrehold",3E3],nZ:["initialBitrateSelectionCurve",null],GJa:["initSelectionLowerBound",-Infinity],HJa:["initSelectionUpperBound",Infinity],b2:["throughputPercentForAudio",15],zaa:["bandwidthMargin",0],Baa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],R$a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,hu:76376,scale:18862.4,gamma:3.0569}],Aaa:["bandwidthMarginContinuous",!1],S$a:["bandwidthMarginForAudio",!0],Fma:["switchConfigBasedOnInSessionTput",!0],Eba:["conservBandwidthMargin",20],nM:["conservBandwidthMarginTputThreshold",6E3],Fba:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],KSa:["switchAlgoBasedOnHistIQR",!1],My:["switchConfigBasedOnThroughputHistory","iqr"],lia:["maxPlayerStateToSwitchConfig",-1],Nha:["lowEndMarkingCriteria","iqr"],V4:["IQRThreshold",.5],cga:["histIQRCalcToUse","simple"],Ip:["bandwidthManifold",{curves:[{min:.05,max:.82,hu:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,hu:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],ev:["maxTotalBufferLevelPerSession",0],pJa:["highWatermarkLevel",3E4],lTa:["toStableThreshold",3E4],f2:["toUnstableThreshold",0],kma:["skipBitrateInUpswitch",!1],Cna:["watermarkLevelForSkipStart",8E3],Wfa:["highStreamRetentionWindow",9E4],Oha:["lowStreamTransitionWindow",51E4],Yfa:["highStreamRetentionWindowUp",5E5],Qha:["lowStreamTransitionWindowUp",1E5],Xfa:["highStreamRetentionWindowDown",6E5],Pha:["lowStreamTransitionWindowDown",0],Vfa:["highStreamInfeasibleBitrateFactor",.5],Yu:["lowestBufForUpswitch",9E3],f_:["lockPeriodAfterDownswitch",15E3],Sha:["lowWatermarkLevel",15E3],Zu:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Tha:["lowestWaterMarkLevelBufferRelaxed",!1],zia:["mediaRate",1.5],s_:["maxTrailingBufferLen",15E3],JL:["audioBufferTargetAvailableSize",262144],cR:["videoBufferTargetAvailableSize",1048576],YLa:["maxVideoTrailingBufferSize",8388608],JLa:["maxAudioTrailingBufferSize",393216],zX:["fastUpswitchFactor",3],Tib:["fastUpswitchFactorWithoutHeaders",3],Dda:["fastDownswitchFactor",3],cv:["maxMediaBufferAllowed",27E4],$Tb:["minMediaBufferLen",1E4],ds:["maxMediaBufferAllowedInBytes",0],hma:["simulatePartialBlocks",!0],URa:["simulateBufferFull",!0],Gba:["considerConnectTime",!0],Dba:["connectTimeMultiplier",1],mLa:["lowGradeModeEnterThreshold",12E4],nLa:["lowGradeModeExitThreshold",9E4],MLa:["maxDomainFailureWaitDuration",3E4],ILa:["maxAttemptsOnFailure",18],VFa:["exhaustAllLocationsForFailure",!0],SLa:["maxNetworkErrorsDuringBuffering",20],fia:["maxBufferingTimeAllowedWithNetworkError",6E4],cGa:["fastDomainSelectionBwThreshold",2E3],XSa:["throughputProbingEnterThreshold",4E4],YSa:["throughputProbingExitThreshold",34E3],$Ka:["locationProbingTimeout",1E4],gGa:["finalLocationSelectionBwThreshold",1E4],VSa:["throughputHighConfidenceLevel",.75],WSa:["throughputLowConfidenceLevel",.4],Cha:["locationStatisticsUpdateInterval",6E4],zsb:["locationSelectorPersistFailures",!0],EFa:["enablePerfBasedLocationSwitch",!1],JTb:["maxRateMaxFragmentGroups",4500],Kja:["pipelineScheduleTimeoutMs",2],dv:["maxPartialBuffersAtBufferingStart",2],Hia:["minPendingBufferLen",3E3],fy:["maxPendingBufferLen",6E3],Thb:["enableNginxRateLimit",!1],R_:["nginxSendingRate",4E4],Xhb:["enableRequestPacingToken",!1],Stb:["mediaRequestPacingSpeed",2],zga:["initialMediaRequestToken",2E4],l_:["maxActiveRequestsSABCell100",2],p_:["maxPendingBufferLenSABCell100",500],rQa:["resetActiveRequestsAtSessionInit",!0],Ihb:["enableCpr",!1],oba:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],nia:["maxStreamingSkew",2E3],qtb:["maxBufferOccupancyForSkewCheck",Infinity],EHb:["useBufferOccupancySkipBack",!0],kia:["maxPendingBufferPercentage",10],MB:["maxRequestsInBuffer",120],YY:["headerRequestSize",4096],Oob:["headerCacheEstimateHeaderSize",!1],Via:["neverWipeHeaderCache",!1],qUa:["useSidxInfoFromManifestForHeaderRequestSize",!1],yX:["fastPlayHeaderRequestSize",0],LB:["maxRequestSize",0],cH:["minRequestSize",65536],CO:["minBufferLenForHeaderDownloading",1E4],ZRa:["smartHeaderPreDownloading",!1],xUb:["onlyAllowPtsUpdatePolling",!1],vub:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],GP:["reserveForSkipbackBufferMs",15E3],kja:["numExtraFragmentsAllowed",2],ap:["pipelineEnabled",!0],UG:["maxParallelConnections",3],MHb:["usePipelineForAudio",!1],LHb:["usePipelineDetectionForAudio",!1],$Ra:["socketReceiveBufferSize",0],VV:["audioSocketReceiveBufferSize",32768],LI:["videoSocketReceiveBufferSize",65536],oUa:["usePipelineDetectionForVideo",!1],zub:["minVideoSocketReceiveBufferSize",65536],Tfa:["headersSocketReceiveBufferSize",32768],KDb:["shareDownloadTracks",!0],Iia:["minTimeBetweenHeaderRequests",void 0],r2:["updatePtsIntervalMs",1E3],Jaa:["bufferTraceDenominator",0],DA:["bufferLevelNotifyIntervalMs",2E3],AFa:["enableAbortTesting",!1],bBa:["abortRequestFrequency",8],yma:["streamingStatusIntervalMs",2E3],vv:["prebufferTimeLimit",6E4],B_:["minBufferLevelForTrackSwitch",2E3],Vhb:["enablePenaltyForLongConnectTime",!1],Fja:["penaltyFactorForLongConnectTime",2],Lha:["longConnectTimeThreshold",200],U$:["additionalBufferingLongConnectTime",2E3],V$:["additionalBufferingPerFailure",8E3],yP:["rebufferCheckDuration",6E4],DFa:["enableLookaheadHints",!1],iLa:["lookaheadFragments",2],$A:["enableOCSideChannel",!0],ika:["probeRequestTimeoutMilliseconds",3E4],RUb:["probeRequestConnectTimeoutMilliseconds",8E3],WS:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],WTa:["updateDrmRequestOnNetworkFailure",!0],LLa:["maxDiffAudioVideoEndPtsMs",1E3],ETb:["maxAudioFragmentOverlapMs",80],kgb:["deferAseHeaderCache",!1],OEa:["deferAseScheduling",!1],JFb:["timeBeforeEndOfStreamBufferMark",6E3],hia:["maxFastPlayBufferInMs",2E4],gia:["maxFastPlayBitThreshold",2E8],rtb:["maxBufferingCompleteBufferInMs",Infinity],A_:["minAudioMediaRequestSizeBytes",0],F_:["minVideoMediaRequestSizeBytes",0],$G:["minAudioMediaRequestDuration",0],eH:["minVideoMediaRequestDuration",0],bH:["minMediaRequestDuration",0],pub:["minAudioMediaRequestDurationCache",0],yub:["minVideoMediaRequestDurationCache",0],Shb:["enableMultiFragmentRequest",!1],EI:[["useHeaderCache","usehc"],!0],u2:[["useHeaderCacheData","usehcd"],!0],NW:["defaultHeaderCacheSize",4],qca:["defaultHeaderCacheDataCount",4],rca:["defaultHeaderCacheDataPrefetchMs",0],Pfa:["headerCacheMaxPendingData",6],Qfa:["headerCachePriorityLimit",5],jJa:["headerCacheAdoptBothAV",!1],NHb:["usePipelineForBranchedAudio",!0],Ebb:["childBranchBatchedAmount",1E4],G_:["minimumTimeBeforeBranchDecision",2E3],ztb:["maxRequestsToAttachOnBranchActivation",void 0],sMa:["minimumJustInTimeBufferLevel",3E3],Ohb:["enableJustInTimeAppends",!1],CFa:["enableDelayedSeamless",!1],OQb:["branchEndPtsIntervalMs",250],ppb:["ignorePtsJustBeforeCurrentSegment",!1],OLa:["maxFragsForFittableOnBranching",300],bxb:["pausePlaylistAtEnd",!0],D8a:["adaptiveParallelTimeoutMs",1E3],RF:["enableAdaptiveParallelStreaming",!1],Iaa:["bufferThresholdToSwitchToSingleConnMs",45E3],Haa:["bufferThresholdToSwitchToParallelConnMs",35E3],Fhb:["enableAPSForBranching",!1],G2:["waitForPendingConnAdaptation",!1],Tia:["networkFailureResetWaitMs",2E3],Sia:["networkFailureAbandonMs",6E4],r_:["maxThrottledNetworkFailures",5],a2:["throttledNetworkFailureThresholdMs",200],Rha:["lowThroughputThreshold",400],uda:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],IFb:["timeAtEachBitrateRoundRobin",1E4],BBb:["roundRobinDirection","forward"],hob:["hackForHttpsErrorCodes",!1],gpb:["httpsConnectErrorAsPerm",!1],zMa:["mp4ParsingInNative",!1],Pg:["enableManagerDebugTraces",!1],zLa:["managerDebugMessageInterval",1E3],yLa:["managerDebugMessageCount",20],hNa:["notifyManifestCacheEom",!0],TM:["enableUsingHeaderCount",!1],aSa:["sourceBufferInOrderAppend",!0],zs:["requireAudioStreamToEncompassVideo",!1],ABa:["allowAudioToStreamPastVideo",!1],$Da:["countGapInBuffer",!1],BBa:["allowCallToStreamSelector",!1],ECa:["bufferThresholdForAbort",2E4],T1:["ase_stream_selector","optimized"],taa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],xga:["initBitrateSelectorAlgorithm","default"],Laa:["bufferingSelectorAlgorithm","default"],yEa:["ase_ls_failure_simulation",""],ica:["ase_dump_fragments",!1],jca:["ase_location_history",0],kca:["ase_throughput",0],AEa:["ase_simulate_verbose",!1],Ag:["stallAtFrameCount",void 0],bia:["marginPredictor","simple"],DHb:["useBackupUnderflowTimer",!0],gWb:["useManifestDrmHeader",!0],hWb:["useOnlyManifestDrmHeader",!0],Uia:["networkMeasurementGranularity","video_location"],$ub:["netIntrStoreWindow",36E3],jUb:["minNetIntrDuration",8E3],s4a:["fastHistoricBandwidthExpirationTime",10368E3],R4a:["bandwidthExpirationTime",5184E3],r4a:["failureExpirationTime",86400],Zza:["historyTimeOfDayGranularity",4],n4a:["expandDownloadTime",!0],z5a:["minimumMeasurementTime",500],y5a:["minimumMeasurementBytes",131072],M6a:["throughputMeasurementTimeout",2E3],L6a:["initThroughputMeasureDataSize",262144],k5a:["historicBandwidthUpdateInterval",2E3],x5a:["minimumBufferToStopProbing",1E4],qQb:["throughputPredictor","ewma"],tla:["secondThroughputEstimator","slidingwindow"],TQa:["secondThroughputMeasureWindowInMs",3E5],pQb:["throughputMeasureWindow",5E3],rQb:["throughputWarmupTime",5E3],oQb:["throughputIQRMeasureWindow",1E3],VPb:["IQRBucketizerWindow",15E3],PLa:["maxIQRSamples",100],nMa:["minIQRSamples",5],lQb:["connectTimeHalflife",10],eQb:["responseTimeHalflife",10],dQb:["historicThroughputHalflife",14400],cQb:["historicResponseTimeHalflife",100],bQb:["historicHttpResponseTimeHalflife",100],tra:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Jza:["minReportedNetIntrDuration",4E3],nQb:["throughputBucketMs",500],YPb:["bucketHoltWintersWindow",2E3],g4a:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],o4a:["experimentalFilter",["throughput-wssl"]],a9:["filterDefinitionOverrides",{}],W3a:["defaultFilter","throughput-ewma"],s7a:["secondaryFilter","throughput-sw"],nE:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],lX:["enableHudsonFieldTest",!1],nX:["enableWsslEstimate",!1],pia:["maxWsslRequestSize",131072],oia:["maxWsslRequestRatio",.2],QUa:["wsslAggregationMethod","max"],HN:["hudsonTitles",["81127954","70125931"]],jia:["maxPartialBuffersAtHudson",1],pH:["numberOfChunksPerSegment",4],Z1:["targetContentLatency",1E4],Jma:["targetLongContentLatency",3E4],Jia:["minimumTimeDelay",1],SM:["enableSessionHistoryReport",!0],Xca:["earlyStageEstimatePeriod",1E4],MKa:["lateStageEstimatePeriod",3E4],o_:["maxNumSessionHistoryStored",10],E_:["minSessionHistoryDuration",3E5],Qob:["highAndStableModelName","baseline"],cda:["enableHighAndStablePredictor",!1],C_:["minNumSessionHistory",5],IQb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],$Y:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Rob:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],FV:["addHeaderDataToNetworkMonitor",!0],rma:["startMonitorOnLoadStart",!1],Pka:["reportFailedRequestsToNetworkMonitor",!1],o0:["periodicHistoryPersistMs",0],i1:["saveVideoBitrateMs",0],KO:["needMinimumNetworkConfidence",!0],Faa:["biasTowardHistoricalThroughput",!1],Esb:["logMemoryUsage",!1],kJa:["headerCacheTruncateHeaderAfterParsing",!0],tq:["probeServerWhenError",!0],St:["allowSwitchback",!0],kC:["probeDetailDenominator",100],n_:["maxDelayToReportFailure",300],AL:["allowParallelStreaming",!1],Qtb:["mediaPrefetchDisabled",!1],mMa:["minBufferLevelToAllowPrefetch",5E3],xx:["editVideoFragments",!1],fX:["editAudioFragments",!0],SBb:["seamlessAudio",!1],TBb:["seamlessAudioProfiles",[]],UBb:["seamlessAudioProfilesAndTitles",{}],rla:["seamlessAudioMaximumSyncError",void 0],sla:["seamlessAudioMinimumSyncError",void 0],PN:["insertSilentFrames",0],RJa:["insertSilentFramesOnExit",void 0],QJa:["insertSilentFramesOnEntry",void 0],PJa:["insertSilentFramesForProfile",void 0],Ljb:["forceDiscontinuityAtTransition",!0],Ly:["supportAudioResetOnDiscontinuity",void 0],Ky:["supportAudioEasingOnDiscontinuity",void 0],ur:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],Bhb:["editCompleteFragments",!0],Bub:["minimumAudioFramesPerFragment",1],xA:["applyProfileTimestampOffset",!1],wo:["applyProfileStreamingOffset",!0],gPa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],GHb:["useDpiAssumedAacEncoderDelay",!0],Bia:["mediaSourceSupportsNegativePts",!1],aH:["minAudioPtsGap",void 0],r$a:["audioOverlapGuardSampleCount",2],FFa:["enableRecordJSBridgePerf",!1],d5:["JSBridgeTDigestConfig",{maxc:25,c:.5}],GFb:["throughputThresholdSelectorParam",0],BHb:["upswitchDuringBufferingFactor",2],A9a:["allowUpswitchDuringBuffering",!1],UDa:["contentOverrides",void 0],Iba:["contentProfileOverrides",void 0],bga:["hindsightDenominator",0],aga:["hindsightDebugDenominator",0],CN:["hindsightAlgorithmsEnabled",["htwbr"]],aZ:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],OBa:["appendMediaRequestOnComplete",!1],MI:["waitForDrmToAppendMedia",!1],LX:["forceAppendHeadersAfterDrm",!1],xP:["reappendRequestsOnSkip",!1],mca:["declareBufferingCompleteAtSegmentEnd",!1],as:["maxActiveRequestsPerSession",void 0],xha:["limitAudioDiscountByMaxAudioBitrate",!1],faa:["appendFirstHeaderOnComplete",!0],W1:["strictBufferCapacityCheck",!1],GL:["aseReportDenominator",0],naa:["aseReportIntervalMs",3E5],dna:["translateToVp9Draft",!1],uI:["switchableAudioProfiles",[]],s$a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],MSa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],v$a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],XLa:["maxStartingVideoVMAF",110],dH:["minStartingVideoVMAF",1],wL:["activateSelectStartingVMAF",!1],q1:["selectStartingVMAFTDigest",-1],YH:["selectStartingVMAFMethod","fallback"],aRa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],yH:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Pgb:["disablePtsStartsEvent",!0],Eka:["recordFirstFragmentOnSubBranchCreate",!0],aMa:["mediaCacheConvertToBinaryData",!1],tia:["mediaCacheSaveOneObject",!1],HLa:["markRequestActiveOnFirstByte",!1],eX:["earlyAppendSingleChildBranch",!0],FI:["useNativeDataViewMethods",!0],baa:["alwaysNotifyEOSForPlaygraph",!1],FHb:["useCorrectDrainingAmounts",!0],mX:["enableNewAse",!1],GI:["useNewApi",!1],Cca:["aseDiagnostics",[{mM:"queue-audit",enabled:!1}]],$xb:["playgraphImmediateTransitionDistance",3E3],pab:["branchDistanceThreshold",6E4],eia:["maxAllowedOutstandingRequests",3]};b.am=b.RDa;},function(d,b,a){var g,n;function c(){this.Bt=this.zK=this.uU=this.IU=this.rU=null;}function l(a){this.K=a;this.Ht=[];this.ho=new c();this.RK();}g=a(7);a(18);a(11);n=a(4);new n.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Zd=function(a){var b;b=!1;a&&g.has(a,"ens")&&g.has(a,"lns")&&g.has(a,"fns")&&g.has(a,"d")&&g.has(a,"t")&&(this.rU=a.ens,this.IU=a.lns,this.uU=a.fns,this.zK=a.d,this.Bt=a.t,b=!0);return b;};c.prototype.Yc=function(){var a;if(g.Ma(this.rU)||g.Ma(this.IU)||g.Ma(this.uU)||g.Ma(this.zK)||g.Ma(this.Bt))return null;a={d:this.zK,t:this.Bt};a.ens=this.rU;a.lns=this.IU;a.fns=this.uU;return a;};c.prototype.get=function(){var a,b;a=this.Yc();if(a){b=new Date(this.Bt);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};l.prototype.RK=function(){var a;a=n.storage.get("sth");a&&this.Zd(a);};l.prototype.Zd=function(a){var b,d;b=null;d=this.K;a.forEach(function(a){var f;f=new c();f.Zd(a)?(b=!0,this.Ht.push(f)):g.Ma(b)&&(b=!1);},this);this.Ht=this.Ht.filter(function(a){return a.zK>=d.E_;});this.Ht.sort(function(a,b){return a.Bt-b.Bt;});return g.Ma(b)?!0:b;};l.prototype.f9=function(){var a;a=[];this.Ht.forEach(function(b){a.push(b.Yc());},this);return a;};l.prototype.save=function(){var a,b,d;a=this.f9();b=this.K;d=this.ho.Yc();d&&d.d>=b.E_&&(a.push(d),this.Ht.push(this.ho));a.length>b.o_&&(a=a.slice(a.length-b.o_,a.length));this.ho=new c();a&&n.storage.set("sth",a);};l.prototype.reset=function(){this.ho=new c();};l.prototype.hlb=function(){return this.ho.get();};l.prototype.pnb=function(){return this.Ht.length+1;};l.prototype.I8a=function(a){this.ho.rU=a;this.ho.Bt=n.time.ea();};l.prototype.U8a=function(a){this.ho.IU=a;this.ho.Bt=n.time.ea();};l.prototype.N8a=function(a,b){this.ho.uU=a;this.ho.Bt=n.time.ea();this.ho.zK=b;};d.P=l;},function(d,b,a){var l,g,n,k;function c(a){var b;b=nrdp.mh.EVb.match(/android-(\d*)/);b?23<b[1]?(a.Ly=!1,a.Ky=!1,a.ur=void 0):(b=nrdp.mh.zOb.nRb.platform.JUb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.Ly=!0,a.Ky=!1,a.ur=void 0):(a.Ly=!1,a.Ky=!1,a.ur=[]):(a.Ly=!1,a.Ky=!1,a.ur=[]):(a.Ly=!1,a.Ky=!1,a.ur=[]);}l=a(6).assert;a(73);g=a(4);n=g.Tj;k=g.U_a;d.P=function(){var a,b,f;new g.Console("ASEJSMONKEY","media|asejs");if(!g.Tj.vc){a=function(a){this.s5a=a;};b=k.prototype.appendBuffer;g.MediaSource.vc||(g.MediaSource.vc={});"undefined"!==typeof nrdp&&nrdp.xQb&&(c(g.MediaSource.vc),g.MediaSource.vc.yDa=!1,g.MediaSource.vc.FMa=!1);g.Tj.vc={SH:{Ina:!0,Iz:!0,Nta:!0}};Object.defineProperty(n.prototype,"_response",{get:function(){return this.K7a||this.V3a;},set:function(a){this.V3a=a;}});f=n.prototype.open;n.prototype.open=function(b,c,d,h,k,l,p){1===d&&(this.K7a=new a(this));return f.call(this,b,c,d,h,k,l,p);};n.prototype.AP=function(){this.LE=void 0;};k.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.MV(c.s5a);l(!1);};}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Vna=void 0;c=a(63);d=function(){function a(a){this.console=a;this.dA=[];this.Ow=[];c.Ya&&this.console.trace("Received pending adoption "+this.Ay.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.dA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ay:{get:function(){return this.Ow;},enumerable:!1,configurable:!0}});a.prototype.ltb=function(a){a=this.Ow.indexOf(a);-1!==a&&(c.Ya&&this.console.trace("Marking request attached"),this.dA[a].VJa=!0,this.HTa(a));};a.prototype.mtb=function(a){a=this.Ow.indexOf(a);-1!==a&&(c.Ya&&this.console.trace("Marking request completed"),this.dA[a].Nu=!0,this.HTa(a));};a.prototype.LAb=function(a){var b,c;b=this;c=[];this.Ow.forEach(function(b,d){a(b)&&c.unshift(d);});c.forEach(function(a){b.Ow.splice(a,1);b.dA.splice(a,1);});};a.prototype.push=function(a){this.Ow.push(a);this.dA.push({VJa:!1,Nu:!1});c.Ya&&this.console.trace("Pushing pending request, "+this.length+" total");};a.prototype.sB=function(){return 0<this.length;};a.prototype.HTa=function(a){var b;b=this.dA[a];b.VJa&&b.Nu&&(b=this.Ow[a],this.Ow.splice(a,1),this.dA.splice(a,1),c.Ya&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&c.Ya&&this.console.trace("Removing last request, contentEndPts: "+b.Ub));};return a;}();b.Vna=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;d=function(){function a(a){this.wAa=a;}Object.defineProperties(a.prototype,{EG:{get:function(){return this.Y4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.wAa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vBb:{get:function(){var a;a=this;return this.wAa.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Y4a=!0;};a.prototype.oja=function(a,b){var c;c=this;this.result.then(function(d){c.EG?b&&b(d):a(d);});return this;};return a;}();b.txa=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.uwa=void 0;c=a(7);l=a(17);g=a(17);n=a(4);k=a(714);p=a(364);d=function(){var w6f;w6f=2;function a(a,b,c,d){var A6f,r6f;A6f=2;while(A6f!==9){r6f="1SI";r6f+="YbZrN";r6f+="JCp9";switch(A6f){case 2:this.Aa=a;this.G=b;this.ib=c;this.Kg=d;r6f;A6f=9;break;}}}while(w6f!==13){switch(w6f){case 2:a.prototype.Dy=function(a,b){var P6f,f,d,h,k,n,t,q,N6f,b6f,q6f,R6f,K6f,J6f,h6f,c6f,X6f,V6f,O6f,j6f,p6f,F6f;P6f=2;while(P6f!==48){N6f="s";N6f+="eekDela";N6f+="y";N6f+="ed";b6f=" play";b6f+="er";b6f+="Sta";b6f+="te: ";q6f=" ";q6f+="med";q6f+="ia.currentPts: ";R6f=" ";R6f+="cur";R6f+="rent ";R6f+="mani";R6f+="fest: ";K6f=" manifestIn";K6f+="dex";K6f+=": ";J6f="s";J6f+="e";J6f+="e";J6f+="k:";J6f+=" ";h6f="se";h6f+="e";h6f+="kFailed";c6f="seek,";c6f+=" no manifest";c6f+=" at man";c6f+="if";c6f+="estIndex:";X6f="seekDe";X6f+="la";X6f+="yed";V6f="se";V6f+="ek";V6f+="Fa";V6f+="il";V6f+="ed";O6f="after s";O6f+="ee";O6f+="king, playerState no longer";O6f+=" STARTING: ";j6f="s";j6f+="ee";j6f+="k";p6f="pts";p6f+="c";p6f+="ha";p6f+="nge";p6f+="d";F6f="s";F6f+="e";F6f+="e";F6f+="kDe";F6f+="layed";switch(P6f){case 50:this.Pw={Xa:b,Li:a},this.Aa.emit(F6f);P6f=48;break;case 40:return this.Aa.emit(p6f,d),this.Aa.emit(j6f),this.vL(b),a=k&&this.Aa.$a.pt()?100:0,this.Aa.jV(1,a),this.Aa.ii(),d;break;case 24:k=this.Aa.pa.Sb.ZM(h.na||Infinity,h.R);P6f=23;break;case 43:P6f=(k=this.Aa.Gd.R.Xa===b&&!this.a5a(b)&&a===h.T)?42:37;break;case 23:P6f=k.length?22:50;break;case 14:P6f=(h=this.Aa.Rf(b))?13:49;break;case 41:P6f=this.Aa.W.rKa()?40:39;break;case 53:q=this.Aa.pa.Sb;g.Ke.forEach(function(a){var B6f,b;B6f=2;while(B6f!==4){switch(B6f){case 2:b=q.Hc(a);f.ib(a)&&f.P6a(b,t[a]);B6f=4;break;}}});P6f=51;break;case 51:this.Aa.jL();P6f=41;break;case 25:return;break;case 10:P6f=b!=k.R.Xa?20:24;break;case 35:P6f=h.R.se.Af?34:30;break;case 22:k=this.Aa.xo?this.Aa.Lk?Math.min(k[0].T,k[1].T):k[0].T:k[1].T;P6f=21;break;case 42:g.Ke.forEach(function(a){var o6f;o6f=2;while(o6f!==1){switch(o6f){case 2:f.Aa.kr[a].tBb();o6f=1;break;}}});P6f=41;break;case 39:this.G.warn(O6f+this.Aa.W.Yc());this.Aa.emit(V6f);P6f=48;break;case 13:!h.R.se.rO&&0<b&&(d=this.Aa.qM(b,a));this.Aa.W.Zd(l.ma.Tm);P6f=11;break;case 33:this.Pw={Xa:h.R.Xa+1,Li:a};this.Aa.emit(X6f);return;break;case 49:this.G.warn(c6f,b),this.Aa.emit(h6f);P6f=48;break;case 34:P6f=!this.Aa.wV(h.R.Xa+1)?33:29;break;case 3:k=this.Aa.W.Wd();d=a;h.Pg&&this.Kg.vk(J6f+a+K6f+b+R6f+this.Aa.Gd.R.Xa+q6f+k+b6f+this.Aa.W.Yc());c.X(b)&&(b=this.Aa.Gd.R.Xa);this.Aa.pa.sQa();P6f=14;break;case 16:this.Pw={Xa:b,Li:a};this.Aa.emit(N6f);return;break;case 20:b<k.R.Xa&&h.R.se.replace&&(h.R.se.replace=!1);n=this.Aa.pa.Sb;g.Ke.forEach(function(a){var u6f;u6f=2;while(u6f!==1){switch(u6f){case 2:(a=n.Hc(a))&&f.Aa.AAa(a);u6f=1;break;}}});P6f=17;break;case 11:k=this.Aa.Gd;P6f=10;break;case 30:a=k,d=a+this.Aa.pa.de;P6f=29;break;case 29:this.Aa.W.Zd(l.ma.Gg);this.Aa.uma();this.Aa.pa.tFb(a,b);P6f=43;break;case 37:this.Aa.a$();t=this.Aa.pa.Sb.eW(a).KH;h.aja();P6f=53;break;case 26:P6f=this.ju(p.l3.mea(b),!1,!0)?25:24;break;case 17:P6f=!this.Aa.uya(b)?16:26;break;case 2:f=this;null===(d=this.rza)||void 0===d?void 0:d.cancel();h=this.Aa.K;P6f=3;break;case 21:P6f=a>k?35:29;break;}}};a.prototype.seek=function(a,b){var Y6f,f;Y6f=2;while(Y6f!==8){switch(Y6f){case 4:this.Aa.pa.sQa();this.Aa.Rf(b).R.se.rO||this.Aa.zE||(f=this.Aa.Fr(b,a));return this.Dy(f,b);break;case 2:f=a;c.X(b)&&(b=this.Aa.Gd.R.Xa);Y6f=4;break;}}};w6f=5;break;case 5:a.prototype.ju=function(a,b,c){var t6f,f,d,l6f,L6f;t6f=2;while(t6f!==8){l6f="se";l6f+="e";l6f+="k";L6f="pts";L6f+="chang";L6f+="ed";switch(t6f){case 2:d=this.Aa.pa.ju(a,b);t6f=5;break;case 5:t6f=b?4:3;break;case 3:d?(this.Aa.W.Zd(l.ma.Tm),(a=this.Aa.pa.Ck.children[a])&&this.Aa.emit(L6f,null!==(f=a.bd)&&void 0!==f?f:a.KJa),this.Aa.W.Zd(l.ma.Gg),this.Aa.emit(l6f),a&&this.vL(a.R.Xa),this.Aa.jV(1),this.Aa.ii(),this.Aa.$a.pt()):c||(f=this.Aa.pa.lnb(a),this.Dy(f));return d;break;case 4:return d;break;}}};a.prototype.a5a=function(a){var v6f;v6f=2;while(v6f!==1){switch(v6f){case 4:return~~this.Aa.Rf(a).DL;break;v6f=1;break;case 2:return!!this.Aa.Rf(a).DL;break;}}};a.prototype.vL=function(a){var U6f,b;U6f=2;while(U6f!==3){switch(U6f){case 2:b=this;a=this.Aa.Rf(a);a.DL||(a.DL=!0,g.Ke.forEach(function(a){var k6f;k6f=2;while(k6f!==1){switch(k6f){case 2:b.Aa.wf[a].resume();k6f=1;break;}}}),this.Aa.jL());U6f=3;break;}}};a.prototype.P6a=function(a,b){var a6f,c,f,d;a6f=2;while(a6f!==6){switch(a6f){case 4:a.BC(b);a.lBb();a6f=9;break;case 9:a6f=(null===(f=this.Aa.Ig)||void 0===f?0:f.sB())?8:7;break;case 2:c=this;d=a.M;a6f=4;break;case 8:this.Aa.Ig.Ay.forEach(function(a){var T6f;T6f=2;while(T6f!==1){switch(T6f){case 4:c.Aa.rA(a,-9);T6f=0;break;T6f=1;break;case 2:c.Aa.rA(a,!1);T6f=1;break;}}}),this.Aa.Ig=void 0;a6f=7;break;case 7:this.Aa.MM.pAa(d,a.Xc.R);a6f=6;break;}}};w6f=8;break;case 8:a.prototype.Y8=function(){var M6f,a,b;M6f=2;while(M6f!==9){switch(M6f){case 5:a=this.Pw.Li;b=this.Pw.Xa;this.Aa.Rf(b)&&(this.Pw=void 0,this.Dy(a,b));M6f=9;break;case 2:M6f=1;break;case 1:M6f=this.Pw?5:9;break;}}};a.prototype.Ph=function(a){var i6f,c,f,d;i6f=2;function b(f,d){var D6f,g6f;D6f=2;while(D6f!==5){g6f="skip: unexpected ";g6f+="behavio";g6f+="ur - a non-presen";g6f+="ting branch doe";g6f+="sn't have a previous branch";switch(D6f){case 2:f!==c.Aa.pa.Ck&&(f.Gf?b(f.Gf,d):c.G.error(g6f));(f=f.Hc(d))&&f.Ph(a);D6f=5;break;}}}while(i6f!==14){switch(i6f){case 2:c=this;i6f=5;break;case 5:null===(f=this.rza)||void 0===f?void 0:f.cancel();d=this.Aa.K;this.Aa.uma();this.Aa.pa.Ck.Ph(a);i6f=8;break;case 8:g.Ke.forEach(function(a){var W6f,f,I6f;W6f=2;while(W6f!==8){I6f="skip: not resumin";I6f+="g bufferManager, audio track sw";I6f+="itch in progress";switch(W6f){case 1:W6f=c.ib(a)?5:8;break;case 2:W6f=1;break;case 3:d.xP?c.Aa.wf[a].reset():f.NI?f.ab(I6f):c.Aa.wf[a].resume();b(c.Aa.pa.Sb,a);W6f=8;break;case 5:f=c.Aa.$a.Ie[a];c.Aa.Io&&(f.mma=n.time.ea());W6f=3;break;}}});this.rza=f=new k.txa(this.Aa.mI());return f.oja(function(){var y6f,C6f;y6f=2;while(y6f!==4){C6f="s";C6f+="ki";C6f+="p";switch(y6f){case 2:c.Aa.W.Zd(l.ma.Nc);c.Aa.qL();c.Aa.emit(C6f);y6f=4;break;}}}).vBb;break;}}};a.prototype.fu=function(a){var z6f,b,c,f;z6f=2;while(z6f!==6){switch(z6f){case 2:c=this.Aa.pa.Ck;f=0<Object.keys(c.ca&&c.ca.sj||{}).length&&!c.Mi?c.te-this.Aa.K.G_:c.te;z6f=4;break;case 4:z6f=a<(null!==(b=c.bd)&&void 0!==b?b:c.KJa)||a>=f?3:9;break;case 3:return!1;break;case 9:b=this.Aa.Jr(a,0,!0);a=this.Aa.Jr(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;}}};return a;break;}}}();b.uwa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hoa=void 0;c=a(17);l=a(11);d=function(){function a(a){this.hM=a;this.state=new l.JJ(c.ma.Gg);this.jm={};}a.prototype.Yc=function(){return this.state.value;};a.prototype.Zd=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value===c.ma.Nc&&this.state.set(c.ma.Ch);};a.prototype.SQ=function(){this.state.value===c.ma.Ch&&this.state.set(c.ma.Nc);};a.prototype.rKa=function(){return this.state.value===c.ma.Gg;};a.prototype.Vx=function(){return"function"===typeof this.hM.Vx?this.hM.Vx():this.state.value===c.ma.Nc;};a.prototype.vg=function(){return this.state.value===c.ma.we||this.state.value===c.ma.Eg;};a.prototype.wg=function(){return this.state.value===c.ma.Tm;};a.prototype.sKa=function(){return this.state.value===c.ma.VD;};a.prototype.Wd=function(){return this.hM.Wd();};a.prototype.Yea=function(){return this.hM.Yea();};a.prototype.aQ=function(a,b){this.jm[a]=b;};a.prototype.Pu=function(a){return!!this.jm[a.u]||a.Ki;};return a;}();b.hoa=d;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Uta=void 0;c=a(7);l=a(165);g=a(18);n=a(73);k=a(4);p=a(11);a(6);d=function(){var H6f;function a(a,b){var Q6f,R0f;Q6f=2;while(Q6f!==4){R0f="1S";R0f+="I";R0f+="Y";R0f+="bZrNJCp";R0f+="9";switch(Q6f){case 2:this.Ka=a;this.G=b;R0f;Q6f=4;break;}}}H6f=2;while(H6f!==39){switch(H6f){case 10:a.prototype.F9=function(a,b){var u0f,q0f;u0f=2;while(u0f!==5){q0f="l";q0f+="astS";q0f+="egmentPt";q0f+="s";switch(u0f){case 2:b={type:q0f,segmentId:a.id,pts:Math.floor(b)};u0f=1;break;case 1:a.sy||p.Ia(this.Ka,b.type,b);u0f=5;break;}}};a.prototype.U5a=function(a,b,c,d,h){var o0f,b0f;o0f=2;while(o0f!==5){b0f="man";b0f+="ifes";b0f+="t";b0f+="Ra";b0f+="nge";switch(o0f){case 2:a={type:b0f,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(h)};p.Ia(this.Ka,a.type,a);o0f=5;break;}}};a.prototype.Oza=function(a){var B0f,N0f;B0f=2;while(B0f!==5){N0f="max";N0f+="Bi";N0f+="trates";switch(B0f){case 2:a={type:N0f,audio:a[0],video:a[1]};p.Ia(this.Ka,a.type,a);B0f=5;break;}}};H6f=18;break;case 4:a.prototype.P5a=function(a,b){var x6f,L0f;x6f=2;while(x6f!==5){L0f="headerCach";L0f+="e";L0f+="Hi";L0f+="t";switch(x6f){case 1:p.Ia(this.Ka,a.type,a);x6f=5;break;case 2:a={type:L0f,movieId:a,streamId:b};x6f=1;break;}}};a.prototype.O5a=function(a,b,c,d,h){var m6f,f,l0f;m6f=2;while(m6f!==9){l0f="h";l0f+="ead";l0f+="erCacheData";l0f+="Hi";l0f+="t";switch(m6f){case 3:p.Ia(this.Ka,a.type,a);m6f=9;break;case 2:f=this.Ka.iza;this.Ka.iza=void 0;a={type:l0f,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:h,actualStartPts:f&&f.Rl,headerCount:f&&f.bq,stats:f&&f.Wb};m6f=3;break;}}};a.prototype.W5a=function(a,b,c){var G6f,g0f;G6f=2;while(G6f!==5){g0f="ma";g0f+="xPosit";g0f+="io";g0f+="n";switch(G6f){case 2:a={type:g0f,index:a,endPts:b,maxPts:c};p.Ia(this.Ka,a.type,a);G6f=5;break;}}};a.prototype.f6a=function(a,b,c,d,h,k){var S6f,C0f,I0f;S6f=2;while(S6f!==4){C0f="noti";C0f+="fyS";C0f+="treaming";C0f+="Error: ";I0f="e";I0f+="r";I0f+="ror";switch(S6f){case 2:a={type:I0f,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:h,manifestIndex:k};this.G.error(C0f+JSON.stringify(a));p.Ia(this.Ka,a.type,a);S6f=4;break;}}};H6f=7;break;case 18:a.prototype.V5a=function(a,b){var Y0f,c,Q0f,H0f;Y0f=2;while(Y0f!==9){Q0f="not";Q0f+="ifyManifes";Q0f+="tS";Q0f+="el";Q0f+="ected: ";H0f="m";H0f+="a";H0f+="nifestSele";H0f+="ct";H0f+="ed";switch(Y0f){case 2:c=this.Ka.K;a={type:H0f,index:a,replace:b.R.se.replace,ptsStarts:b.KH,streamingOffset:b.T+b.$r};c.Pg&&(b=Q0f+JSON.stringify(a),c.Pg&&this.vk(b));Y0f=3;break;case 3:p.Ia(this.Ka,a.type,a);Y0f=9;break;}}};a.prototype.T5a=function(a,b,c,d,h){var t0f,e0f;t0f=2;while(t0f!==4){e0f="ma";e0f+="nife";e0f+="stP";e0f+="resen";e0f+="ting";switch(t0f){case 2:a={type:e0f,index:a.Xa,pts:Math.floor(b),movieId:a.u,replace:a.se.replace,contentOffset:c};null!=d&&null!=h&&(a.previousMovieId=d,a.previousIndex=h);p.Ia(this.Ka,a.type,a);t0f=4;break;}}};a.prototype.d6a=function(a,b,c,d){var v0f,f,f0f;v0f=2;while(v0f!==9){f0f="s";f0f+="tre";f0f+="amPre";f0f+="sen";f0f+="ting";switch(v0f){case 2:f=a.M;l.Bl.Gn(f);a={type:f0f,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:f,manifestIndex:d,trackIndex:a.track.sA,streamIndex:a.Bg};p.Ia(this.Ka,a.type,a);v0f=9;break;}}};a.prototype.i6a=function(a){var U0f,E0f;U0f=2;while(U0f!==5){E0f="vi";E0f+="deo";E0f+="Looped";switch(U0f){case 2:a={type:E0f,offset:a};p.Ia(this.Ka,a.type,a);U0f=5;break;}}};a.prototype.g6a=function(a,b,c,d){var k0f,x0f;k0f=2;while(k0f!==4){x0f="u";x0f+="pdat";x0f+="eStream";x0f+="ingPts";switch(k0f){case 2:b={type:x0f,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};l.Bl.Gn(a);p.Ia(this.Ka,b.type,b);k0f=4;break;}}};H6f=26;break;case 2:a.prototype.$j=function(a){var e6f,m0f;e6f=2;while(e6f!==5){m0f="s";m0f+="ta";m0f+="rt";m0f+="Eve";m0f+="nt";switch(e6f){case 2:a={type:m0f,event:a,time:k.time.ea()};p.Ia(this.Ka,a.type,a);e6f=5;break;}}};a.prototype.X5a=function(){var f6f,a,G0f;f6f=2;while(f6f!==4){G0f="openCo";G0f+="mpl";G0f+="ete";switch(f6f){case 2:a={type:G0f};p.Ia(this.Ka,a.type,a);f6f=4;break;}}};a.prototype.Y5a=function(a,b,c,d,h){var E6f,S0f;E6f=2;while(E6f!==1){S0f="ptsSt";S0f+="a";S0f+="rts";switch(E6f){case 2:this.Ka.K.Pgb||(a={type:S0f,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:h.kSa()},p.Ia(this.Ka,a.type,a));E6f=1;break;}}};H6f=4;break;case 7:a.prototype.OU=function(a,b){var Z6f,Z0f;Z6f=2;while(Z6f!==5){Z0f="se";Z0f+="g";Z0f+="men";Z0f+="tSta";Z0f+="rting";switch(Z6f){case 1:a.sy||p.Ia(this.Ka,b.type,b);Z6f=5;break;case 2:b={type:Z0f,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.R.kq[0],video:a.R.kq[1]}};Z6f=1;break;}}};a.prototype.$5a=function(a){var n0f,b,n2f;n0f=2;while(n0f!==4){n2f="s";n2f+="e";n2f+="gmentAborte";n2f+="d";switch(n0f){case 2:b={type:n2f,segmentId:a.id};a.sy||p.Ia(this.Ka,b.type,b);n0f=4;break;}}};a.prototype.G4a=function(a,b){var d0f,f,d,h,u2f,P2f,A2f,w2f,s2f,d2f;d0f=2;while(d0f!==20){u2f="r";u2f+="e";u2f+="set";P2f="s";P2f+="k";P2f+="ip";A2f="l";A2f+="o";A2f+="n";A2f+="g";w2f="l";w2f+="o";w2f+="n";w2f+="g";s2f="se";s2f+="am";s2f+="less";d2f="s";d2f+="e";d2f+="amles";d2f+="s";switch(d0f){case 14:d=d2f===d?0:k.time.ea()-b.startTime;f.durationOfTransition=d;f.atTransition=b.xTa;f.srcsegmentduration=this.Ka.pa.knb(b.K1);d0f=10;break;case 4:h?(d=h.weight,n(h.YL,f.atRequest)):d=this.Ka.pa.qIa(b.K1,a);f.atRequest.weight=d;c.Ud(b.od,function(b,c){var s0f;s0f=2;while(s0f!==1){switch(s0f){case 2:c!=a&&(f.discard[c]={weight:b.weight},n(b.YL,f.discard[c]));s0f=1;break;}}});d0f=8;break;case 8:d=b.l1?b.PY?s2f:w2f:b.LMa?A2f:b.Ph?P2f:u2f;f.transitionType=d;b.jgb||(f.delayToTransition=b.RW);d0f=14;break;case 2:f={segment:a,srcsegment:b.K1,srcoffset:b.lI,seamlessRequested:b.l1,atRequest:{},discard:{}};h=b.od[a];d0f=4;break;case 10:return f;break;}}};a.prototype.c6a=function(a,b,c){var w0f,o2f;w0f=2;while(w0f!==4){o2f="s";o2f+="egme";o2f+="nt";o2f+="Presen";o2f+="ting";switch(w0f){case 2:c=c?this.G4a(a.id,c):void 0;a={type:o2f,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.sy,manifestIndex:a.R.Xa};p.Ia(this.Ka,a.type,a);w0f=4;break;}}};a.prototype.a6a=function(a,b){var A0f,B2f;A0f=2;while(A0f!==5){B2f="se";B2f+="gmentAp";B2f+="p";B2f+="end";B2f+="ed";switch(A0f){case 2:b={type:B2f,segmentId:a.id,metrics:b};a.sy||p.Ia(this.Ka,b.type,b);A0f=5;break;}}};a.prototype.b6a=function(a,b,c){var P0f,Y2f;P0f=2;while(P0f!==5){Y2f="s";Y2f+="egmentC";Y2f+="omp";Y2f+="l";Y2f+="ete";switch(P0f){case 2:a={type:Y2f,mediaType:a,manifestIndex:b,segmentId:c.id};p.Ia(this.Ka,a.type,a);P0f=5;break;}}};H6f=10;break;case 30:a.prototype.G5a=function(){var O0f,a,t2f;O0f=2;while(O0f!==4){t2f="aser";t2f+="ep";t2f+="o";t2f+="rtenab";t2f+="led";switch(O0f){case 2:a={type:t2f};p.Ia(this.Ka,a.type,a);O0f=4;break;}}};a.prototype.Q5a=function(a){var V0f,b,c,f,d,h,k,l,g,n,q,m,r,y,u,qa,da,W,ka,O,oa,v2f,T2f,a2f,k2f,U2f;V0f=2;while(V0f!==7){v2f="h";v2f+="indsightre";v2f+="por";v2f+="t";switch(V0f){case 5:b={type:v2f};c=this.Ka.K.CN;for(f in c){T2f="hvm";T2f+="a";T2f+="fdp";a2f="hvma";a2f+="f";a2f+="gr";k2f="h";k2f+="vm";k2f+="a";k2f+="ft";k2f+="b";U2f="h";U2f+="tw";U2f+="br";d=c[f];h=0;k=0;l=0;g=0;n=0;q=0;m=void 0;r=void 0;y=!1;u=-1;qa=-1;da=-1;W=-1;ka=-1;O=-1;for(oa in a)r=a[oa],void 0===r.nd&&(m=(m=r.sols)&&m[d])&&(y=!0,l+=m.dlvdur,h+=m.dltwbr*m.dlvdur,k+=m.dlvmaf*m.dlvdur),q+=r.pbdur,g+=r.pbtwbr*r.pbdur,n+=r.pbvmaf*r.pbdur,m=r.rr,r=r.ra;0<q&&(u=1*g/q,W=1*n/q);y&&(0<l&&(qa=1*h/l,ka=1*k/l),0<l+q&&(da=1*(h+g)/(l+q),O=1*(k+n)/(l+q)));switch(d){case U2f:b.htwbr=da;b.hptwbr=qa;b.pbtwbr=u;m&&(b.rr=m,b.ra=r);break;case k2f:b.hvmaftb=O;b.hpvmaftb=ka;b.pbvmaftb=W;m&&(b.rrvmaftb=m,b.ravmaftb=r);break;case a2f:b.hvmafgr=O;b.hpvmafgr=ka;b.pbvmafgr=W;m&&(b.rrvmafgr=m,b.ravmafgr=r);break;case T2f:b.hvmafdp=O,b.hpvmafdp=ka,b.pbvmafdp=W,m&&(b.rrvmafdp=m,b.ravmafdp=r);}}V0f=9;break;case 2:V0f=1;break;case 9:this.Ka.SF&&(b.report=a);p.Ia(this.Ka,b.type,b);V0f=7;break;case 1:V0f=a?5:7;break;}}};a.prototype.M5a=function(a){var X0f,M2f;X0f=2;while(X0f!==5){M2f="end";M2f+="OfStr";M2f+="eam";switch(X0f){case 2:a={type:M2f,mediaType:a};p.Ia(this.Ka,a.type,a);X0f=5;break;}}};a.prototype.sm=function(a){var c0f,D2f,i2f;c0f=2;while(c0f!==1){D2f="ase";D2f+="exce";D2f+="ption";i2f="a";i2f+="see";i2f+="xception";switch(c0f){case 2:this.Ka.emit(i2f,{type:D2f,msg:a});c0f=1;break;}}};a.prototype.vvb=function(a,b,c,d){var h0f,y2f,W2f;h0f=2;while(h0f!==5){y2f="maxvideobitratechan";y2f+="g";y2f+="ed";W2f="max";W2f+="videobitratec";W2f+="h";W2f+="anged";switch(h0f){case 2:a={type:W2f,time:k.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.Ka.emit(y2f,a);h0f=5;break;}}};a.prototype.kNa=function(){var J0f,a,z2f;J0f=2;while(J0f!==9){z2f="strea";z2f+="m";z2f+="eren";z2f+="d";switch(J0f){case 5:this.L7a=!0;a={type:z2f,time:k.time.ea()};p.Ia(this.Ka,a.type,a);J0f=9;break;case 1:J0f=!this.L7a&&this.Ka.K.hNa?5:9;break;case 2:J0f=1;break;}}};H6f=41;break;case 35:a.prototype.E9=function(){var z0f,a,b,c,d,h,r2f;z0f=2;while(z0f!==13){r2f="bu";r2f+="f";r2f+="f";r2f+="eringC";r2f+="omplete";switch(z0f){case 2:a=this.Ka.pa.Sb;b=a.Ge(0);c=a.Ge(1);this.Nza();d=this.Ka.Lk?this.Ka.$a.Gv[g.La.VIDEO]:this.Ka.$a.Gv[g.La.AUDIO];h=d.ZL;z0f=7;break;case 7:a={type:r2f,time:k.time.ea(),actualStartPts:h,aBufferLevelMs:a.Qi(0),vBufferLevelMs:a.Qi(1),selector:c?c.aI:b.aI,initBitrate:d.Ko,skipbackBufferSizeBytes:this.Ka.zb.FC};this.Ka.uf.$ib({initSelReason:d.Oo,initSelectionPredictedDelay:d.Lu,buffCompleteReason:d.Lp,hashindsight:this.Ka.Io,hasasereport:!!this.Ka.xs});p.Ia(this.Ka,a.type,a);z0f=13;break;}}};a.prototype.Nza=function(){var r0f,a,b,c,d,h,k,l,F2f;r0f=2;while(r0f!==19){F2f="u";F2f+="pd";F2f+="ateBufferLe";F2f+="vel";switch(r0f){case 4:b=this.Ka.pa.Sb;c=b.Qi(0);d=b.Qi(1);this.Ka.uf.G8a(c,d);h=this.Ka.zb.ub.get();h=h.Fd?h.Fa.Ca:0;r0f=14;break;case 2:a=this.Ka.K;r0f=5;break;case 5:r0f=!this.Ka.Ze()?4:19;break;case 14:k=this.Ka.pa;l=k.HA(b,0);b=k.HA(b,1);r0f=11;break;case 11:c={type:F2f,abuflbytes:l,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:d,predictedFutureRebuffers:0,currentBandwidth:h};d>a.mMa&&this.Ka.zb.Pe&&this.Ka.zb.Pe.BL(!0,this.Ka.Tk.sessionId);p.Ia(this.Ka,c.type,c);r0f=19;break;}}};a.prototype.l5a=function(a){var F0f,b,f,d,c2f,X2f,V2f,O2f,j2f,p2f;F0f=2;while(F0f!==13){c2f=", sy";c2f+="stemDel";c2f+="ta: ";X2f="me";X2f+="mor";X2f+="yU";X2f+="sage at time: ";V2f=", osAl";V2f+="l";V2f+="ocatorDelta";V2f+=": ";O2f=", js";O2f+="Heap";O2f+="De";O2f+="lta";O2f+=": ";j2f=", fastM";j2f+="allocDel";j2f+="ta: ";p2f="memory";p2f+="Usage at time:";p2f+=" ";switch(F0f){case 5:c.la(a.BQ);F0f=4;break;case 2:F0f=1;break;case 3:b=a.dGa-this.BE.dGa;f=a.nJa-this.BE.nJa;d=a.PNa-this.BE.PNa;(4194304<b||4194304<d)&&this.G.warn(p2f+k.time.ea()+j2f+b+O2f+f+V2f+d);F0f=6;break;case 1:F0f=!c.X(a)?5:13;break;case 4:F0f=!c.X(this.BE)?3:14;break;case 6:c.la(a.BQ)&&c.la(this.BE.BQ)&&(b=a.BQ-this.BE.BQ,4194304<b&&this.G.warn(X2f+k.time.ea(),c2f+b));F0f=14;break;case 14:this.BE=a;F0f=13;break;}}};a.prototype.h6a=function(){var p0f,a,h2f;p0f=2;while(p0f!==9){h2f="stre";h2f+="amin";h2f+="gsta";h2f+="t";switch(p0f){case 4:this.Ka.uf.ajb(a);p.Ia(this.Ka,a.type,a);p0f=9;break;case 2:this.Ka.K.Esb&&k.memory.Plb(this.l5a.bind(this));a={type:h2f,time:k.time.ea(),playbackTime:this.Ka.W.Wd()};p0f=4;break;}}};a.prototype.Mza=function(){var j0f,a,J2f;j0f=2;while(j0f!==3){J2f="a";J2f+="s";J2f+="ere";J2f+="p";J2f+="ort";switch(j0f){case 1:j0f=this.Ka.xs?5:3;break;case 2:j0f=1;break;case 5:a={type:J2f};this.Ka.xs.Zib(a)&&p.Ia(this.Ka,a.type,a);j0f=3;break;}}};H6f=30;break;case 41:a.prototype.vk=function(a){var K0f,R2f,K2f;K0f=2;while(K0f!==5){R2f=",";R2f+=" ";K2f="ma";K2f+="nagerdebugev";K2f+="ent";switch(K0f){case 2:a={type:K2f,message:"@"+k.time.ea()+R2f+a};p.Ia(this.Ka,a.type,a);K0f=5;break;}}};return a;break;case 26:a.prototype.N5a=function(a){var a0f,q2f;a0f=2;while(a0f!==5){q2f="firstRequ";q2f+="estAppend";q2f+="ed";switch(a0f){case 2:a={type:q2f,manifestIndex:a.Ha.Xc.R.Xa,mediatype:a.M,time:k.time.ea()};p.Ia(this.Ka,a.type,a);a0f=5;break;}}};a.prototype.R5a=function(a,b){var T0f,b2f;T0f=2;while(T0f!==5){b2f="initialAu";b2f+="dio";b2f+="Tra";b2f+="ck";switch(T0f){case 1:p.Ia(this.Ka,a.type,a);T0f=5;break;case 2:a={type:b2f,trackId:b,trackIndex:a};T0f=1;break;}}};a.prototype.I5a=function(a,b){var M0f,N2f;M0f=2;while(M0f!==3){N2f="audioTra";N2f+="ckSwitc";N2f+="hStarted";switch(M0f){case 2:a=a.JB;b=b.JB;b={type:N2f,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};p.Ia(this.Ka,b.type,b);M0f=3;break;}}};a.prototype.H5a=function(a,b){var i0f,c;i0f=2;while(i0f!==4){switch(i0f){case 2:c=this;setTimeout(function(){var D0f,f,L2f;D0f=2;while(D0f!==4){L2f="audioTrackS";L2f+="witchComple";L2f+="te";switch(D0f){case 5:p.Ia(c.Ka,f.type,f);D0f=4;break;case 2:f={type:L2f,trackId:a,trackIndex:b};D0f=5;break;}}},0);i0f=4;break;}}};a.prototype.L5a=function(a){var W0f,b,l2f;W0f=2;while(W0f!==3){l2f="buffe";l2f+="r";l2f+="i";l2f+="n";l2f+="gStarted";switch(W0f){case 2:b={type:l2f,time:k.time.ea(),percentage:a||0};p.Ia(this.Ka,b.type,b);this.Lw=a||0;W0f=3;break;}}};a.prototype.J5a=function(){var y0f,a,b,c,d,h,g2f;y0f=2;while(y0f!==14){g2f="b";g2f+="u";g2f+="fferin";g2f+="g";switch(y0f){case 4:c=this.Ka.pa.Sb;d=this.Ka.Lk?1:0;h=c.Ge(d);c=c.Qi(d);a=Math.min(Math.max(Math.round(100*(h.by?(b-this.Ka.z8)/a.vv:h.Nh?h.Nh:c/a.Vg)),this.Lw),99);y0f=6;break;case 6:a!=this.Lw&&(b={type:g2f,time:b,percentage:a},p.Ia(this.Ka,b.type,b),this.Lw=a);y0f=14;break;case 2:a=this.Ka.K;b=k.time.ea();y0f=4;break;}}};H6f=35;break;}}}();b.Uta=d;},function(d,b,a){var c,l,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.zsa=void 0;c=a(161);l=a(17);g=a(17);n=a(11);d=function(){var I2f;I2f=2;function a(a,b,c,d){var C2f,x62;C2f=2;while(C2f!==8){x62="1SIY";x62+="b";x62+="ZrNJ";x62+="Cp9";switch(C2f){case 2:this.sb=a;this.G=b;this.ib=c;this.Sw=d;C2f=3;break;case 3:this.Wza=this.p$=!1;x62;C2f=8;break;}}}while(I2f!==6){switch(I2f){case 2:a.prototype.play=function(){var H2f,a,V62,G62;H2f=2;while(H2f!==4){V62="p";V62+="l";V62+="a";V62+="y";G62="play ";G62+="called ";G62+="after pipelines already shutdown";switch(H2f){case 2:a=this;this.Ze()?this.G.warn(G62):(this.sb.W.Zd(l.ma.Nc),this.sb.B7a(),this.sb.$a.Ie.forEach(function(b){var Q2f,b62;Q2f=2;while(Q2f!==1){b62="p";b62+="la";b62+="y: not";b62+=" resuming bufferManage";b62+="r, audio track switch in progress";switch(Q2f){case 2:a.ib(b.M)&&(b.NI?b.ab(b62):(a.sb.wf[b.M].resume(),a.sb.kr[b.M].resume()));Q2f=1;break;}}}),this.sb.qL(),this.sb.emit(V62));H2f=4;break;}}};a.prototype.stop=function(){var e2f,a,b,c,d,i62;e2f=2;while(e2f!==12){i62="s";i62+="t";i62+="o";i62+="p";switch(e2f){case 2:a=this;b=this.sb.W.sKa();c=this.sb.W.wg();e2f=3;break;case 9:this.sb.aU();b||c||this.sb.pa.Ck.M1(!1,this.sb.W);d=this.sb.pa.Sb;g.Ke.forEach(function(a){var f2f;f2f=2;while(f2f!==5){switch(f2f){case 1:a.Cg=!1;f2f=5;break;case 2:f2f=(a=d.Hc(a))?1:5;break;}}});g.Ke.forEach(function(b){var E2f;E2f=2;while(E2f!==1){switch(E2f){case 2:(b=a.sb.wf[b])&&b.pause();E2f=1;break;}}});e2f=13;break;case 3:this.sb.W.Zd(l.ma.VD);e2f=9;break;case 13:this.sb.emit(i62);e2f=12;break;}}};a.prototype.suspend=function(){var x2f;x2f=2;while(x2f!==1){switch(x2f){case 4:this.p$=-6;x2f=2;break;x2f=1;break;case 2:this.p$=!0;x2f=1;break;}}};a.prototype.resume=function(){var m2f;m2f=2;while(m2f!==5){switch(m2f){case 2:this.p$=!1;this.sb.df.ii();m2f=5;break;}}};a.prototype.close=function(){var G2f,a,n62,C62,I62;G2f=2;while(G2f!==13){n62="en";n62+="dp";n62+="la";n62+="y";C62="l";C62+="o";C62+="g";C62+="da";C62+="ta";I62="c";I62+="l";I62+="o";I62+="s";I62+="e";switch(G2f){case 2:a=this.sb.K;this.Wza=!0;G2f=4;break;case 4:this.stop();this.sb.emit(I62);this.sb.SE=!1;a.FFa&&(a=c.Qs.eg().lb())&&(a={type:C62,target:n62,fields:{bridgestat:a}},n.Ia(this.sb,a.type,a));G2f=7;break;case 7:this.sb.zb.Pe&&this.sb.zb.Pe.BL(!0,this.sb.Tk.sessionId,!0);this.sb.Ua.kNa();this.sb.cQa();G2f=13;break;}}};I2f=9;break;case 9:a.prototype.flush=function(){var S2f,a,b,c,d,k,g,q,Z2f,v62,t62,T62,N62,O62,m62,a62,K62,A62,F62,R62;S2f=2;while(S2f!==25){v62="e";v62+="nd";v62+="pl";v62+="a";v62+="y";t62="lo";t62+="g";t62+="d";t62+="at";t62+="a";T62="en";T62+="d";T62+="play";N62="l";N62+="o";N62+="g";N62+="data";O62="thro";O62+="ug";O62+="hpu";O62+="t-sw";m62="throug";m62+="hpu";m62+="t-sw";a62="thro";a62+="u";a62+="ghput-sw";K62="th";K62+="r";K62+="ou";K62+="ghpu";K62+="t-sw";switch(S2f){case 3:d={};k=c.get();g={};S2f=7;break;case 27:S2f=this.Sw.Io?26:25;break;case 2:b=this.sb.K;c=this.sb.zb.ub;S2f=4;break;case 7:k&&k.avtp&&k.avtp.Ca&&(d.avtp=k.avtp.Ca,d.dltm=k.avtp.ZW,g.avtp=d.avtp);k&&k.cdnavtp&&(d.cdnavtp=k.cdnavtp,d.activecdnavtp=k.activecdnavtp);c.flush();S2f=13;break;case 13:q=c.AHa();c=c.cBa;S2f=11;break;case 15:this.sb.Ua.Mza();S2f=27;break;case 4:S2f=c?3:15;break;case 10:for(var m in q){A62="n";A62+="e";F62="n";F62+="e";R62="n";R62+="e";q.hasOwnProperty(m)&&(d[R62+m]=Number(q[m]).toFixed(6),g[F62+m]=1*d[A62+m]);}S2f=20;break;case 16:b.SM&&(k&&k[K62]&&k[a62].Ca&&this.sb.op.U8a({avtp:k[m62].Ca,variance:k[O62].yh}),this.sb.op.N8a(g,null===(a=k.avtp)||void 0===a?void 0:a.ZW),a=this.sb.op.hlb(),b=this.sb.op.pnb(),a&&(a.n=b,a={type:N62,target:T62,fields:{ibef:a}},n.Ia(this.sb,a.type,a),this.sb.op.save()));S2f=15;break;case 20:c&&c.length&&(d.activeRequests=JSON.stringify(c));this.sb.Gd.R.kX(1)&&(d.enableHudson=!0);d.aseApiVersion=this.sb.LV;Object.keys(d).length&&(d={type:t62,target:v62,fields:d},n.Ia(this.sb,d.type,d));S2f=16;break;case 26:try{Z2f=2;while(Z2f!==1){switch(Z2f){case 2:this.sb.tX(l.ma.VD);Z2f=1;break;}}}catch(F){var Q62;Q62="Hi";Q62+="ndsight: Error eva";Q62+="luat";Q62+="ing QoE at stopping: ";i4YY.g62(0);this.sb.Ua.sm(i4YY.r62(Q62,F));}S2f=25;break;case 11:S2f=q?10:20;break;}}};a.prototype.Ze=function(){var n5f;n5f=2;while(n5f!==1){switch(n5f){case 2:return this.Wza||this.sb.pa.hq;break;case 4:return this.Wza&&this.sb.pa.hq;break;n5f=1;break;}}};return a;break;}}}();b.zsa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.fqa=void 0;c=a(7);l=a(17);g=a(4);d=function(){var w62;w62=2;while(w62!==18){switch(w62){case 9:a.prototype.bya=function(a,b){var S62,c,f,d,k;S62=2;while(S62!==7){switch(S62){case 3:S62=f&&d?9:7;break;case 9:k=this.za.$a.Ie[c].ym;S62=8;break;case 8:k&&(this.za.W.vg()||this.za.uf.C8a(c,k,f.O,d.O,a.Tob.O,b));S62=7;break;case 2:c=a.M;f=this.za.$a.hs[c].EB;d=a.Cq.FB;S62=3;break;}}};a.prototype.Kya=function(a,b){var f62,c,f,d,k,l,f7o;f62=2;while(f62!==11){f7o="Still";f7o+=" in buffering st";f7o+="ate";f7o+=" while";f7o+=" pipeline's are done";switch(f62){case 3:k=!d||d.Cg;l=!f||f.Cg;c.lH||this.za.pa.bja(a,c,a.R.se.Af&&0===a.R.Xa);f62=7;break;case 6:f62=(this.za.Lk&&this.Lya(a,f,d),this.za.xo&&this.Lya(a,d,f),k=!d||d.Cg,l=!f||f.Cg,!l||!k)?14:13;break;case 13:this.za.W.vg()&&(this.G.warn(f7o),this.za.$a.pt());b||c.Gs||a.R.se.Af||!this.wbb(a)||((b=this.za.W.vg())&&this.za.K.mca&&(this.za.i$(),b=!1),a.OX||this.za.pa.Xob(a,b),a.hF(),a.xbb()&&(b=Object.keys(a.children),this.za.K.eX&&1===b.length&&!a.children[b[0]].active&&this.za.pa.uLa(a,b[0]),this.d4a(a,c)));f62=11;break;case 2:c=a.ca;f=a.Hc(1);d=a.Hc(0);f62=3;break;case 7:f62=!l||!k?6:13;break;case 14:return;break;}}};a.prototype.d4a=function(a,b){var l62,d,f,k,l,p,n,q,m,l7o;l62=2;while(l62!==22){l7o="No subbra";l7o+="nc";l7o+="h candidates";l7o+=" to drive";switch(l62){case 12:d=n.reduce(function(a,b){var y62,M32;y62=2;while(y62!==4){switch(y62){case 2:b.vl=b.Xc.vl;y62=1;break;case 1:b.lMa=Math.min(b.vl[0],b.vl[1]);i4YY.n7o(0);M32=i4YY.E7o(17,17);return[a[0]+b.weight,a[M32]+b.lMa];break;case 9:b.vl=b.Xc.vl;y62=2;break;y62=1;break;}}},[0,0]);q=d[0];l62=10;break;case 4:l=a.fE.vl;l62=3;break;case 16:d=n[0].Xc;f=n[0].weight;a.fE=d;l62=26;break;case 18:this.G.warn(l7o);return;break;case 14:0===n.length?n=p:2<n.length&&(n.sort(function(a,b){var s62;s62=2;while(s62!==1){switch(s62){case 4:return b.weight*a.weight;break;s62=1;break;case 2:return b.weight-a.weight;break;}}}),n.length=2);l62=13;break;case 19:l62=0===n.length?18:16;break;case 8:p=[];n=[];c.Ud(a.children,function(a,c){var D62;D62=2;while(D62!==5){switch(D62){case 2:c=b.sj[c].weight;0!==c&&(c={weight:c,Xc:a},a.dba(!0,!0)||n.push(c),p.push(c));D62=5;break;}}});l62=14;break;case 13:l62=1<n.length?12:19;break;case 25:d.od||(d.od={pZ:g.time.ea(),yy:0});d.od.weight=f;this.Kya(d,!0);l62=22;break;case 26:a.G8=d.vl;l62=25;break;case 20:0!==q&&0!==m?(c.Ud(n,function(a){var q62;q62=2;while(q62!==4){switch(q62){case 2:a.CIb=a.weight/q;a.xab=a.lMa/m;a.iUa=a.xab-a.CIb;q62=4;break;}}}),n.sort(function(a,b){var d62;d62=2;while(d62!==1){switch(d62){case 2:return a.iUa-b.iUa;break;case 4:return a.iUa*b.iUa;break;d62=1;break;}}})):n.sort(function(a,b){var W62;W62=2;while(W62!==4){switch(W62){case 2:a=Math.min.apply(null,a.Xc.vl);b=Math.min.apply(null,b.Xc.vl);i4YY.t7o(1);return i4YY.E7o(b,a);break;}}});l62=19;break;case 10:m=d[1];l62=20;break;case 3:Math.min(l[0]-a.G8[0],l[1]-a.G8[1])>=k.Ebb?a.fE=void 0:(d=a.fE,f=b.sj[d.ca.id].weight);l62=9;break;case 9:l62=!d?8:25;break;case 5:l62=this.za.zb.iga&&a.fE&&a.G8?4:9;break;case 2:k=this.za.K;l62=5;break;}}};a.prototype.Lya=function(a,b,d){var J62,f,h,k,l,p,n,c7o,B7o;J62=2;while(J62!==13){c7o="St";c7o+="ill i";c7o+="n buffering state while pipeline ";c7o+="does not hav";c7o+="e vacancy";B7o="drivePipeline, d";B7o+="elaying audi";B7o+="o until video actualStartPts determined";switch(J62){case 2:f=this.za.K;h=b.M;J62=4;break;case 3:k=this.za.$a.Ie[h];l=this.za.$a.Gv[h];p=this.za.$a.hs[h];J62=7;break;case 6:n=this.za.Gd;c.X(n.WB)||(f.zs&&0===h&&c.X(this.za.$a.Ie[1].Rl)?b.ab(B7o):(c.X(b.uk)&&(b.uk=b.ag?b.ag.index:b.Hda(b.Lb)),b.fg&&b.uk>b.fg.index?a.R.se.Af&&c.X(n.na)&&c.X(a.Ub)||(b.Cg||this.za.AAa(b),a=this.za.Gd.R.Xa,a<this.za.nG()-1&&this.za.wV(a+1)):this.dU(b)&&(f.Xhb&&!this.za.W.vg()&&0>=b.NB?b.ZGb(f.Stb):this.E3a(b,d)?(b.Frb=g.time.ea(),d=this.za.$a.ufa(b),d=d.Bg,c.X(d)||(d=b.track.Lc[d],this.D3a(b,d)||((f=d.nY())?(b.wrb=d.O,b.$sb(d,f,this.za.W.vg(),k.ym),this.mHb(d,p,l),a.od&&++a.od.yy):d.UC()))):this.za.W.vg()&&(b.mj(c7o),this.za.$a.pt()))));J62=13;break;case 7:J62=k.ym&&(void 0===b.cC||(b.BC(b.cC),void 0===b.cC))?6:13;break;case 4:J62=!b.Cg?3:13;break;}}};a.prototype.mHb=function(a,b,d){var z62;z62=2;while(z62!==4){switch(z62){case 2:b.XZ=a.qc;c.la(d.Ko)||(d.jHb(a.mp,a.Lu||-1,a.O,a.TP),c.X(a.TP)||this.za.uf.wRa(a.TP,a.nk,a.pk));a.url&&(b.sha=a.url);z62=4;break;}}};w62=13;break;case 13:a.prototype.D3a=function(a,b){var u62,c;u62=2;while(u62!==4){switch(u62){case 2:c=this.za.$a.hs[a.M];return this.za.$za&&b.qc&&c.XZ&&b.qc!==c.XZ&&(0<a.Ha.qv||0<a.Ha.Ns)?!0:!1;break;}}};a.prototype.E3a=function(a,b){var Z62,d,f,k,p,n,q,m,r,L,H,p7o,m7o;Z62=2;while(Z62!==42){p7o="flo";p7o+="o";p7o+="r";p7o+="ed to ";p7o+="0";m7o="negati";m7o+="ve";m7o+=" s";m7o+="cheduled";m7o+="BufferLevel:";switch(Z62){case 44:return!1;break;case 25:Z62=this.za.zb.Xga?24:23;break;case 28:Z62=(n=1,a.Kaa<f.dv&&(n=f.dv),a.Ha.qv>=n)?44:43;break;case 12:return!1;break;case 30:return!1;break;case 15:q=this.za.pa.HA(p,k);H=0;Z62=26;break;case 13:Z62=(null===(d=a.Ag)||void 0===d?0:d.Gob())?12:11;break;case 2:f=this.za.K;k=a.M;p=a.b_;n=this.za.W.Wd();q=this.za.W.Yc();m=this.za.pa.Ar(p,k);Z62=7;break;case 20:return!1;break;case 34:Z62=this.F4a(k)>=f.MB?33:32;break;case 33:return!1;break;case 31:Z62=!c.X(f.as)&&r>=f.as||a.sF+n>=Math.max(f.cv,this.za.zb.Fy+f.kja*p.R.utb[k])?30:29;break;case 26:Z62=b&&(H=this.za.pa.HA(p,b.M),L=a.Lb-L,this.ib(b.M)&&!b.Cg&&L>=f.nia&&r>f.Vg)?25:34;break;case 24:return!1;break;case 7:r=a.Lb+p.de-n;0>r&&(a.ab(m7o,r,p7o),r=0);L=b?b.Lb:0;Z62=13;break;case 17:Z62=q===l.ma.Nc&&m>f.rtb&&!d.se.Af&&!H||m&&n>Math.max(m*f.kia/100,f.Hia)?16:15;break;case 35:return!1;break;case 19:d=this.za.Gd.R;H=this.za.W.Pu(d);Z62=17;break;case 21:Z62=void 0===r||r<f.qtb?35:34;break;case 32:r=this.za.pa.fGb();Z62=31;break;case 23:r=void 0;b&&(r=b.M,L=g.lk()[r],r=f.EHb?this.za.pa.wLa(p,r).Th/L:H/L);Z62=21;break;case 10:Z62=n>=f.fy?20:19;break;case 29:Z62=(p=this.za.W.vg())?28:43;break;case 16:return!1;break;case 43:return f.lX&&a.Ha.qv>=f.jia||!p&&0<f.ds&&1===k&&q>f.ds||0<f.ev&&!p&&q+(b?H:0)>f.ev||void 0!==this.nya&&m>this.nya||1===k&&d.se.Af&&m>f.hia&&(b=this.za.zb.ub.get(),b.Fd&&b.Fa&&b.Fa.Ca*a.sF>f.gia)?!1:!0;break;case 11:n=a.Ha.k0;Z62=10;break;}}};a.prototype.F4a=function(a){var B32;B32=2;while(B32!==1){switch(B32){case 2:return this.za.pa.Qc.reduce(function(b,c){var h32;h32=2;while(h32!==1){switch(h32){case 2:return b+c.bnb(a);break;case 4:return b/c.bnb(a);break;h32=1;break;}}},0);break;}}};w62=10;break;case 10:a.prototype.wbb=function(a){var H32,b,d,f;H32=2;while(H32!==8){switch(H32){case 2:b=this;d=this.za.pa;f=!0;H32=3;break;case 3:c.Ud(a.ca.sj,function(c,h){var o32,k,i7o,j7o;o32=2;while(o32!==6){i7o="in";i7o+=" des";i7o+="ts:";j7o="i";j7o+="nval";j7o+="id segme";j7o+="nt:";switch(o32){case 7:a.ab(j7o,h,i7o,a.ca.sj);o32=6;break;case 2:o32=1;break;case 5:h=c.R;c=h.dg[0];k=h.dg[1];c&&k&&c.stream.Xd&&k.stream.Xd||(f=!1);b.za.W.Pu(h)||(f=!1);o32=6;break;case 1:o32=(c=d.Rg(h))?5:7;break;}}});return f;break;}}};a.prototype.W7a=function(){var p32,a,b,c;p32=2;while(p32!==9){switch(p32){case 3:this.za.W.vg()||b.Ar(c,1)<a.CO||c.R.Wha();p32=9;break;case 2:a=this.za.K;b=this.za.pa;c=b.Sb;p32=3;break;}}};return a;break;case 2:a.prototype.aU=function(){var j62;j62=2;while(j62!==1){switch(j62){case 2:this.Pz&&(clearTimeout(this.Pz),this.Pz=void 0);j62=1;break;}}};a.prototype.Mya=function(){var c62,a,b,c,f,J7o;c62=2;while(c62!==11){J7o="firstDr";J7o+="iveStr";J7o+="eaming";switch(c62){case 1:c62=!this.za.iq.p$&&!this.za.Ze()?5:11;break;case 5:void 0===this.za.a4a&&(this.za.a4a=!0,this.za.Ua.$j(J7o));a=this.za.pa;b=a.Sb.Hc(0);c=a.Sb.Hc(1);f=!c||c.Cg;(!b||b.Cg)&&f&&this.za.zE&&a.Zbb(c?c.Ub:b.Ub);c62=6;break;case 13:this.Kya(a.Sb);this.W7a();c62=11;break;case 2:c62=1;break;case 6:c=!c||c.ao;b&&!b.ao||!c||this.za.zE||(this.za.zb.Pe&&this.za.zb.Pe.BL(!0,this.za.Tk.sessionId),this.za.Ua.kNa());c62=13;break;}}};a.prototype.HAa=function(){var P62;P62=2;while(P62!==1){switch(P62){case 2:return this.za.Ze()||this.za.W.sKa()||this.za.W.wg()?!0:!1;break;}}};a.prototype.dU=function(a){var E62;E62=2;while(E62!==1){switch(E62){case 2:return this.HAa()||this.za.$a.Ie[a.M].NI||this.za.xw.Zw?!1:!0;break;}}};a.prototype.ii=function(){var Y62,a,b;Y62=2;while(Y62!==3){switch(Y62){case 2:a=this;b=this.za.K;!this.za.$za||this.za.dV||this.za.SE||(this.za.dV=setTimeout(function(){var L62;L62=2;while(L62!==4){switch(L62){case 2:clearTimeout(a.za.dV);a.za.dV=void 0;a.Mya();L62=4;break;}}},b.Kja),b.RF&&this.za.Lk&&(this.Pz||(this.Pz=setTimeout(function(){var X62,b;X62=2;while(X62!==9){switch(X62){case 2:clearTimeout(a.Pz);a.Pz=void 0;b=a.za.pa.Sb.Hc(1);b&&a.bya(b);X62=9;break;}}},b.D8a))));Y62=3;break;}}};w62=9;break;}}function a(a,b,c){var U62,T7o;U62=2;while(U62!==9){T7o="1S";T7o+="IY";T7o+="bZrNJCp9";switch(U62){case 2:this.za=a;this.G=b;this.ib=c;U62=4;break;case 4:T7o;this.nya=this.Pz=void 0;U62=9;break;}}}}();b.fqa=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.eqa=void 0;c=a(7);l=a(156);d=function(){var Y7o;function a(a,b,c){var I7o,q7o;I7o=2;while(I7o!==3){q7o="1S";q7o+="I";q7o+="YbZrNJC";q7o+="p9";switch(I7o){case 2:this.jl=a;this.G=b;this.Kg=c;I7o=4;break;case 4:q7o;I7o=3;break;}}}Y7o=2;while(Y7o!==7){switch(Y7o){case 2:a.prototype.N3a=function(a,b){var x7o,c,d,X7o;x7o=2;while(x7o!==6){X7o="createDlTrac";X7o+="ks";X7o+="Start";switch(x7o){case 9:a=a.map(function(a){var G7o;G7o=2;while(G7o!==1){switch(G7o){case 2:return c.yya(a,b.u,b.Mu(),c.jl.Tk,d);break;}}});l.yp.eg.ff();return a;break;case 2:c=this;d=this.jl.K;0===this.fA&&this.jl.Ua.$j(X7o);this.fA+=a.length;x7o=9;break;}}};a.prototype.$3a=function(){var s7o,a,b;s7o=2;while(s7o!==8){switch(s7o){case 2:a=this;b=[];this.jl.$a.Ie.forEach(function(a){var o7o;o7o=2;while(o7o!==5){switch(o7o){case 2:c.X(a.ym)||b.push(a.ym);a.ym=void 0;o7o=5;break;}}});s7o=3;break;case 3:this.jl.IK&&(b.push(this.jl.IK),this.jl.IK=void 0);b.forEach(function(b){var b7o;b7o=2;while(b7o!==5){switch(b7o){case 2:b.Rp||--a.fA;l.yp.eg.VW(b);b7o=5;break;}}});s7o=8;break;}}};a.prototype.U4a=function(){var N7o;N7o=2;while(N7o!==1){switch(N7o){case 4:this.fA=3;N7o=2;break;N7o=1;break;case 2:this.fA=0;N7o=1;break;}}};Y7o=4;break;case 4:a.prototype.pAa=function(a,b){var Q7o,c,d;Q7o=2;while(Q7o!==3){switch(Q7o){case 4:d&&(d=b.F$(a,d),this.Z3a(a),c.ym=this.yya(a,b.u,b.Mu(),this.jl.Tk,this.jl.K),b.dla(d));Q7o=3;break;case 2:c=this.jl.$a.Ie[a];d=c.ym;Q7o=4;break;}}};a.prototype.yya=function(a,b,c,d,f){var M7o,h,k,e7o,h7o,A7o,R7o;M7o=2;while(M7o!==14){e7o="tran";e7o+="spo";e7o+="rtreport";h7o="err";h7o+="o";h7o+="r";A7o="netwo";A7o+="rkfaili";A7o+="n";A7o+="g";R7o="c";R7o+="r";R7o+="eat";R7o+="ed";switch(M7o){case 2:h=this;k=l.yp.eg.OA(a,b,!0,c,d,f);k.sk.on(k,R7o,function(){var d7o,H7o;d7o=2;while(d7o!==5){H7o="create";H7o+="Dl";H7o+="T";H7o+="racks";H7o+="End";switch(d7o){case 2:--h.fA;0===h.fA&&h.jl.Ua.$j(H7o);d7o=5;break;}}});k.sk.on(k,A7o,function(){var g7o,a,P7o;g7o=2;while(g7o!==8){P7o="re";P7o+="portNet";P7o+="wo";P7o+="rkFailing";P7o+=": ";switch(g7o){case 4:a=h.jl.Gd.R;g7o=3;break;case 2:f.Pg&&h.Kg.vk(P7o+k);g7o=5;break;case 3:a.Hh&&a.Hh.fp(k.Cda,void 0,k.qh,k.Ui);a.rp();g7o=8;break;case 5:g7o=k.xX?4:8;break;}}});M7o=9;break;case 9:k.sk.on(k,h7o,function(){var L7o,K7o,U7o,F7o;L7o=2;while(L7o!==5){K7o="NFErr_MC_Streami";K7o+="ng";K7o+="Failure";U7o="Do";U7o+="wnl";U7o+="oadTrack fatal error";F7o="Do";F7o+="wnloadTrack fa";F7o+="tal error";switch(L7o){case 2:f.Pg&&h.Kg.vk(F7o);h.jl.Xk(U7o,void 0,K7o,k.qh,0,k.Ui);L7o=5;break;}}});k.on(e7o,function(a){var v7o,Z7o;v7o=2;while(v7o!==1){Z7o="t";Z7o+="ran";Z7o+="sportreport";switch(v7o){case 2:h.jl.emit(Z7o,a);v7o=1;break;case 4:h.jl.emit("",a);v7o=2;break;v7o=1;break;}}});k.Db();return k;break;}}};a.prototype.Z3a=function(a){var u7o,b;u7o=2;while(u7o!==8){switch(u7o){case 3:l.yp.eg.VW(b);a.ym=void 0;u7o=8;break;case 4:b.Rp||--this.fA;u7o=3;break;case 2:a=this.jl.$a.Ie[a];b=a.ym;u7o=4;break;}}};return a;break;}}}();b.eqa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xpa=void 0;c=a(367);d=function(){var k2o;k2o=2;while(k2o!==3){switch(k2o){case 4:return a;break;case 2:a.prototype.a3a=function(a,b){var D2o,d,t2o,E2o,z2o,W2o,S2o,V2o,a2o,y2o,C2o;D2o=2;while(D2o!==13){t2o="usi";t2o+="n";t2o+="g sab cell >";t2o+="= 100, pipelineE";t2o+="nabled: ";E2o="using sab cell >= 20";E2o+="0, pipel";E2o+="i";E2o+="neEnabled";E2o+=": ";z2o=", allo";z2o+="wS";z2o+="wi";z2o+="tchback";W2o=", p";W2o+="robeDe";W2o+="tail";W2o+="Denomin";W2o+="ator: ";S2o="u";S2o+="sing sa";S2o+="b cell >= 300, probeServerWhenError: ";V2o=", all";V2o+="owS";V2o+="witc";V2o+="hback";a2o=", prob";a2o+="e";a2o+="Deta";a2o+="ilDenominator:";a2o+=" ";y2o="using sab c";y2o+="e";y2o+="ll >= 400, probeServerWhenError: ";C2o="a";C2o+="pplyi";C2o+="ng";C2o+=" manifest based strea";C2o+="mingClientConfig";switch(D2o){case 2:b=c.Jba(b,a);d=a.steeringAdditionalInfo;D2o=4;break;case 3:return a=d.streamingClientConfig,this.G.trace(C2o+JSON.stringify(a)),this.Vza(b,a);break;case 4:D2o=d&&d.streamingClientConfig&&Object.keys(d.streamingClientConfig).length?3:9;break;case 9:a=a.cdnResponseData;D2o=8;break;case 7:return b;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.tq=!0,b.kC=1,b.St=!0),this.G.trace(y2o+b.tq+a2o+b.kC+V2o+b.St)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.tq=!0,b.kC=1,b.St=!1),this.G.trace(S2o+b.tq+W2o+b.kC+z2o+b.St)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.ap=!1,this.G.trace(E2o+b.ap)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.l_}),b.set({maxPendingBufferLen:b.p_})):(b.ap=!0,b.UG=1,b.as=b.l_,b.fy=b.p_),this.G.trace(t2o+b.ap)));return b;break;case 8:D2o=!a?7:6;break;}}};a.prototype.c3a=function(a,b){var r2o;r2o=2;while(r2o!==9){switch(r2o){case 1:return b;break;case 2:r2o=!b.Iba||a===this.c5a?1:5;break;case 5:this.c5a=a;for(var c in b.Iba)new RegExp(c).test(a)&&(b=this.Vza(b,b.Iba[c]));return b;break;}}};a.prototype.Vza=function(a,b){var O2o,c,d,h,n2o;O2o=2;while(O2o!==4){switch(O2o){case 5:return a;break;case 2:for(d in b)if(b.hasOwnProperty(d)){n2o="In";n2o+="valid";n2o+=" ";n2o+="key";h=b[d];a.set?0===a.set((c={},c[d]=h,c))&&this.G.trace(n2o+d):a[d]=h;}O2o=5;break;case 7:return a;break;O2o=4;break;}}};k2o=4;break;}}function a(a){var w2o,f2o;w2o=2;while(w2o!==5){f2o="1SIY";f2o+="bZ";f2o+="r";f2o+="NJ";f2o+="Cp9";switch(w2o){case 2:this.G=a;f2o;w2o=5;break;}}}}();b.xpa=d;},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.qsa=void 0;c=a(0);d=a(383);l=a(63);g=a(362);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.Ogb=function(b){a.prototype.RZ.call(this,{value:b});};b.prototype.YJa=function(){return!0;};b.prototype.pma=function(){};b.prototype.RZ=function(b){a.prototype.RZ.call(this,b);b.done&&(b=this.JE.EW,l.Ya&&this.G.trace("Requests drained",{GQb:b&&b.ca.id}),(b=b&&b.Ge(this.Me))&&b instanceof g.ES&&b.pF(this.ar.Qea()||0));};return b;}(d.X2);b.qsa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;b.KHa=function(a){var b,d,g;b=Math.floor(1E6*Math.random());d=a.aga;g=a.CN;a=0===b%a.bga&&0<g.length;return{Io:a,SF:a&&0===b%d};};},function(d,b,a){var l;function c(a){this.Jt=void 0;this.t5a=a;this.d$=[];this.oe=[];}l=a(31).AB;c.prototype.reset=function(a){this.Jt=void 0;this.d$=[];a&&(this.oe=[]);};c.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return l(b)||c===a.rd;});d=c.map(function(a){return a.O;});b=c.indexOf(b[a.rd]);this.Jt&&(this.Jt.length!==d.length||this.Jt.some(function(a,b){return a!==d[b];}))&&(c=this.kHa())&&(this.oe.push(c),this.reset(!1));void 0===this.Jt&&(this.Jt=d);this.d$.push([b,a.ITa,a.Lb,a.Aab,a.HCa,a.qyb,a.Ovb,a.ry,a.uo,a.Li,a.zFb-a.ITa]);};c.prototype.gib=function(){for(var a=this.d$,b=[],c=[],d=0;d<a.length;d++){for(var h=a[d],f=[],l=0;l<h.length;l++)f.push(h[l]-(c[l]||0));b.push(f);c=h;}return b;};c.prototype.kHa=function(){var a;a=this.gib();if(0!==a.length)return{dltype:this.t5a,bitrates:this.Jt,seltrace:a};};c.prototype.get=function(){var a,b;a=this.kHa();b=this.oe;a&&b.push(a);if(0!==b.length)return b;};d.P=c;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;c=a(18);l=a(724);d=function(){function a(){this.rV=[];this.rV[c.La.VIDEO]=new l(c.La.VIDEO);this.rV[c.La.AUDIO]=new l(c.La.AUDIO);}a.prototype.g9a=function(a,b,c){this.rV[a].add(b,c);};a.prototype.wnb=function(){var a;a=[];this.rV.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.Zib=function(a){var b;b=this.wnb();a.strmsel=b;return 0<b.length;};return a;}();b.Wva=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJ=void 0;d=function(){function a(a){this.gi={};this.y9=a;this.bf=[];this.ro=!1;this.kA=void 0;}a.prototype.HV=function(a){this.bf.length===this.y9&&this.bf.shift();Array.isArray(a)?this.bf=this.bf.concat(a):this.bf.push(a);this.ro=!0;};a.prototype.qG=function(){return this.bf.length;};a.prototype.Taa=function(){var a;a=this.bf;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.bf.length:void 0;};a.prototype.fW=function(){var a,b;a=this.bf;b=this.Taa();if(0<a.length&&"undefined"!==typeof b)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-b*b);};a.prototype.Mp=function(a){var b,c,d;if(this.ro||void 0===this.kA)this.kA=this.bf.slice(0).sort(function(a,b){return a-b;}),this.ro=!1;if(void 0===this.gi[a]){b=this.kA;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.gi[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.gi[a];};return a;}();b.PJ=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Psa=void 0;d=function(){function a(a,b,d){this.R7a=b;this.k3a=d;this.G=a;}a.prototype.aka=function(a){a=this.Rpb(a,this.R7a)+this.k3a;return this.T9=isNaN(a)?NaN:this.ema(a);};a.prototype.Nbb=function(a){return isNaN(this.T9)?0:this.T9>a?1:0;};a.prototype.Rpb=function(a,b){var c;c=0;if(a.length!==b.length)c=NaN;else for(var d=0;d<a.length;d++)c+=a[d]*b[d];return c;};a.prototype.ema=function(a){return 1/(1+Math.exp(-a));};return a;}();b.Psa=d;},function(d,b,a){var n,k;function c(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{lp:c,rd:d};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function g(a,b,c,d,l){var f,h,g,p,n,t;f=a.vh;h=c+f.T;c=a.Kk[f.NN];a=a.Gaa;g={YQ:!0,waitUntil:void 0,SN:!1};p=c.filter(function(a){return a&&a.T<=h&&a.T+a.duration>h;})[0];if(void 0===p)return{SN:!0};n=l-1-(p.index-1);d=f.$Q+d;t=0;t=p.index<f.wh?t+c.slice(f.Ev,p.index).reduce(function(a,b){return a+b.aa;},0):t+f.$Q;t=t+b.slice(f.wh,p.index).reduce(function(a,b){return a+b.lp;},0);d-=t;if(n>=a.qO||d>=a.II)for(g.YQ=!1,p=p.index;p<l&&(n>=a.qO||d>=a.II);)k.update("checkBufferVacancy loop"),g.waitUntil=c[p].T+c[p].duration-f.T,d=p<f.wh?d-c[p].aa:d-b[p].lp,--n,p+=1;return g;}n=a(6).assert;k=a(104).Iva||a(104);d.P={yN:function(a){var b,H,u,R,aa,Q,y,T,qa,da,W,ka,O,oa;k.y1("htwbr-"+(a.SP?"segvmaf":"dlvmaf")+": ");for(var f=a.vh,d=a.bm,p=d.kl,q=a.Kk,m=!0,r=[],F,L=p=Math.min(d.cs,p);L>=f.wh;L--){k.update("backward step");b=a.Kk[0][L].T-a.vh.T;L<p&&(b=Math.min(r[L+1].startTime,b));d=q[0][L].aa;F=f.ax*q[0][L].duration*1/8;a:{H=void 0;Q=d+F;F=a.Eq;y=f.cp;T=F.trace;qa=1*F.Vl;u=b+y-F.timestamp;R=Math.floor(1*u/qa);aa=0+(u-R*qa)/qa*l(T,R,qa);if(aa>=Q)H=u-1*Q/aa*(u-R*qa);else for(u=R;aa<Q;){k.update("findDownloadStartTime loop");--u;if(0>u){H=-1;break a;}R=l(T,u,qa);if(aa+R>=Q){H=1*(Q-aa)/R*qa;H=(u+1)*qa-H;break;}aa+=R;}H=H+F.timestamp-y;}if(0>H){m=!1;break;}r[L]={startTime:H,endTime:b,HW:b,lp:d,rd:0};}b={oi:m,Es:r,Qo:!1,ly:0===r.length};if(!1===b.oi||!0===b.ly)return b;a:{f=a.vh;p=a.bm;q=p.kl;m=a.Kk;d=r=0;b=b.Es;H=L=0;q=Math.min(p.cs,q);for(y=f.wh;y<=q;y++){k.update("forwardStep loop");aa=b[y];Q=aa.rd;F=m[Q][y].duration;qa=y===f.wh?0:b[y-1].endTime;Q=g(a,b,qa,r,y);if(Q.SN){b={oi:!1,Qo:!0};break a;}Q.YQ||(qa=Q.waitUntil);R=aa.HW;W=a.Eq;da=f.cp;aa=0;Q=W.trace;T=1*W.Vl;u=qa+da-W.timestamp;W=R+da-W.timestamp;if(!(qa>=R)){n(0<=u);n(0<=W);n(W>=u);ka=Math.floor(1*u/T);O=1*W/T;if(ka===Math.floor(O))u=(W-u)/T*l(Q,ka,T),n(0<=u),aa+=u;else for(O=Math.ceil(O),da=ka,R=O,ka*T<u&&(da++,u=(da*T-u)/T*l(Q,ka,T),n(0<=u),aa+=u),O*T>W&&(R--,u=(W-R*T)/T*l(Q,R,T),n(0<=u),aa+=u),u=da;u<R;u++)aa+=l(Q,u,T);}T=f.ax*F*1/8;d+=T;Q=c(Math.max(0,aa-T),y,m);if(void 0===Q){b={oi:!1,Qo:!0};break a;}aa=Q.lp;Q=Q.rd;T=aa+T;da=a.Eq;R=u=0;W=da.trace;ka=Math.max(0,qa+f.cp-da.timestamp);da=1*da.Vl;oa=O=Math.max(0,Math.floor(1*ka/da));for(oa*da<ka&&(O+=1,ka=oa*da+da-ka,oa=ka/da*l(W,oa,da),u=T-R<oa?u+(T-R)/oa*1*ka:u+ka,R+=oa);R<T;)k.update("getDownloadTime"),ka=l(W,O,da),u=T-R<ka?u+(T-R)/ka*1*da:u+da,R+=ka,O+=1;T=u;b[y].startTime=qa;b[y].endTime=qa+T;b[y].lp=aa;b[y].rd=Q;y<=p.kl&&(r+=aa,H+=F,L+=F*a.Lc[Q].O);}b={oi:!0,Qo:!1,Es:b,Wgb:0<H?1*L/H:0,Jca:H,Ica:r,Hca:d};}b.lq=k.Xea();console.log("Max heap used: "+Math.round(b.lq/1024/1024)+" MB");return b;}};},function(d,b,a){var r,D,J,F;function c(a,b,c){this.vCa=this.H3a(a,b,c);}function l(){}function g(){}function n(){}function k(a){this.Hbb=a;}function p(){}function h(){}function f(){}function t(){this.Eca={};}function m(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}r=a(6).assert;b=a(203).Ooa;D=a(360).r2a;J=a(203).qWa;new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");F=a(104).Iva||a(104);c.prototype.constructor=c;c.prototype.H3a=function(a,b,c){r(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);r(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};c.prototype.Mx=function(a){return this.H4a(a,this.vCa);};c.prototype.H4a=function(a,b){a=this.Lgb(a,b);if(0===a)throw new l();if(a===b.length)throw new g();return a;};c.prototype.Lgb=function(a,b){r(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;r(!1,"expect not coming here in digitize()");};c.prototype.HY=function(){return m(this.vCa.length-1);};l.prototype=Error();g.prototype=Error();n.prototype=Error();k.prototype.constructor=k;k.prototype.VERSION="0.5";k.prototype.pXa=-20;k.prototype.oXa=20;k.prototype.nXa=void 0;k.prototype.iXa=new b(void 0);k.prototype.kXa=0;k.prototype.jXa=1;k.prototype.rXa=!1;k.prototype.mXa=!0;k.prototype.lXa=!0;k.prototype.qXa=void 0;k.prototype.gXa=!0;k.prototype.hXa=0;k.prototype.UH=function(a){r(void 0!==a.cTa,"expect recipe.time_varying_bandwidth !== undefined");return this.o7a(this.Hbb,a.cTa,void 0!==a.qMa?a.qMa:this.pXa,void 0!==a.$La?a.$La:this.oXa,void 0!==a.ZLa?a.ZLa:this.nXa,void 0!==a.sCa?a.sCa:this.iXa,void 0!==a.JFa?a.JFa:this.kXa,void 0!==a.FCa?a.FCa:this.jXa,void 0!==a.iEb?a.iEb:this.rXa,void 0!==a.gob?a.gob:this.mXa,void 0!==a.QIa?a.QIa:this.lXa,void 0!==a.qPa?a.qPa:this.qXa,void 0!==a.DBa?a.DBa:this.gXa,void 0!==a.hCa?a.hCa:this.hXa);};k.prototype.o7a=function(a,b,d,k,q,m,z,G,u,da,W,ka,O,oa){var L,H,U,R,Q,aa,T,S,fa,ha,ba,ia,ja,ma,na,sa,pa,ra,ua,wa;function y(a){return a[aa];}F.y1("dp: ");r(d<=m.kg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");r(m.kg<=k,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");r(d<=z,"expect min_buffer_sec <= end_buffer_sec");r(z<=k,"expect end_buffer_sec <= max_buffer_sec");void 0!==q&&r(m.Nj<=q,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+m.Nj+" and "+q);L=new c(d,k,G);G=new t();H=0;U=m;G.put([0,L.Mx(m.kg)],[H,U,void 0,void 0,b,void 0,void 0,void 0]);R=U=0;b=a.bob();r(a.vG()==b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");aa=-1;for(T in b){for(var aa=aa+1,qa=!0,A=a.Ji.map(y),E=L.HY(),N=0;N<E.length;N++){S=E[N];if(G.dha([aa,S])){Q=G.get([aa,S]);for(var V=Q[0],Y=Q[1],ca=Q[4],ea=0;ea<A.length;ea++){b=A[ea];F.update("epoch-ibuf-chunk loop");m=void 0!==ka?ka(b.pP):b.pP;fa=ca.Do();try{Q=this.m4a(Y,b,fa,oa);ha=Q[0];ba=Q[1];ia=Q[2];ja=Q[3];ma=Q[4];na=Q[5];}catch($a){if($a instanceof D)continue;else if($a instanceof l){U+=1;continue;}else throw $a;}sa=H=!1;try{pa=L.Mx(ja.kg);da&&L.Mx(ha);W&&L.Mx(ba);if(void 0!==q)if(W){if(ia.Nj>q)throw new n();}else if(ja.Nj>q)throw new n();}catch($a){if($a instanceof l)pa=void 0,U+=1;else if($a instanceof g)O?H=!0:R+=1,pa=void 0;else if($a instanceof n)O?sa=H=!0:R+=1,pa=void 0;else throw $a;}try{if(H&&sa){r(void 0!==q,"expect max_buffer_kb !== undefined");ua=W?ia.Nj-q:ja.Nj-q;r(0<=ua,"pause dlnd kb cannot be -ve but is "+ua);try{ra=ja.Mxb(ua);}catch($a){if($a instanceof J)throw new l();throw $a;}fa.nOa(ra);ma+=ra;r(ja.kg<k,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=L.Mx(ja.kg);}else if(H&&!sa){ra=W?ia.kg-k+1E-8:ja.kg-k+1E-8;r(0<=ra,"pause dlnd kb cannot be -ve but is "+ra);try{ja.AOa(ra);}catch($a){if($a instanceof J)throw new l();throw $a;}fa.nOa(ra);ma+=ra;r(d<=ja.kg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");r(ja.kg<k,"cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=L.Mx(ja.kg);}else ra=0;}catch($a){if($a instanceof l)pa=void 0,U+=1,ra=void 0;else if($a instanceof D)continue;else throw $a;}H=G.dha([aa+1,pa])?G.get([aa+1,pa])[0]:-Infinity;this.g8a(ja,pa,b,m,S,aa+1,H,G,V,ea,fa,ma,na,ra)&&(qa=!1);}}}if(qa){--aa;break;}}try{wa=this.Uya(aa+1,L.Mx(z),G,u,L);}catch($a){if($a instanceof p)try{wa=this.Uya(aa+1,L.Mx(z),G,!u,L);}catch(Fe){if(Fe instanceof p){if(U>R)throw new h();throw new f();}throw Fe;}else throw $a;}S=wa;for(d=[];-1<aa;aa--)Q=G.get([aa+1,S]),H=Q[0],U=Q[1],k=Q[3],q=Q[5],z=Q[6],u=Q[7],Q=Q[2],b=a.Ji[Q][aa],da=b.Eu(),m=b.pP,d.unshift({vJa:aa,jga:Q,info:{LQb:da,pP:m,TQb:U.kg,SQb:U.Nj,$Rb:q,Fa:z,DUb:u}}),S=k;return d;};k.prototype.Uya=function(a,b,c,f,d){var h,k;h=!1;k=d.HY()[0];for(d=d.HY()[d.HY().length-1];;){if(b<k||b>d){h=!0;break;}if(c.dha([a,b]))break;else b=f?b-1:b+1;}if(h)throw new p();return b;};k.prototype.g8a=function(a,b,c,f,d,h,k,l,g,p,n,t,q,m){c=g+f*c.kp;return void 0!==b&&c>k?(l.put([h,b],[c,a,p,d,n,t,q,m]),!0):!1;};k.prototype.m4a=function(a,b,c,f){var d,h,k;f=(b.Eu()+f)*b.kp;c=c.ghb(f);f/=c;d=a.kg-c;h=a.kg+b.kp;k=a.Do();k.add(b,void 0);a=a.Do();a.add(b,void 0);try{a.AOa(c);}catch(T){if(T instanceof J)throw new l();throw T;}return[d,h,k,a,c,f];};p.prototype=Error();h.prototype=new p();f.prototype=new p();t.prototype={ina:function(a){return a.join(",");},put:function(a,b){this.Eca[this.ina(a)]=b;},get:function(a){return this.Eca[this.ina(a)];},dha:function(a){return this.ina(a)in this.Eca;}};d.P={kYa:k,cKb:c,CJb:l,DJb:g};},function(d,b,a){var J,F,L,u,U,R,aa,Q,y,T;function c(a){var b,c,f;c=a.Eq;b=a.vh;f=a.bm.na-b.T;c.timestamp>b.cp&&y.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.cp);a=[];for(var d,h=c.timestamp,k=0;k<c.trace.length;k++)h>=b.cp&&(a.push(c.trace[k]),d=c.trace[k]),h+=c.Vl,f-=c.Vl;for(;0<f;)a.push(d),f-=c.Vl;b=c.Vl;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new U(a,c,!1);}function l(a,b){return a.KB<b.KB?1:a.KB>b.KB?-1:0;}function g(a){for(var b=a.vh,c=a.bm,f=c.kl,d=a.Kk,h=!0,k,l=[],g,p=f=Math.min(c.cs,f);p>=b.wh;p--){T.update("backward step loop");k=a.Kk[0][p].T-a.vh.T;p<f&&(J(void 0!==l[p+1],"expect solution[(fragIndex + 1)] !== undefined"),k=Math.min(l[p+1].startTime,k));c=d[0][p].aa;g=b.ax*d[0][p].duration*1/8;g=r(c+g,k,a.Eq,b.cp);if(0>g){h=!1;break;}l[p]={startTime:g,endTime:k,HW:k,lp:c,rd:0};}return{oi:h,Es:l,Qo:!1,ly:0===l.length?!0:!1};}function n(a,b){var L,u,H,U,R,Q;for(var c=a.vh,f=a.bm,d=f.kl,h=a.Kk,k=0,l=0,g=b.Es,p,n,q,z=0,r=0,G,F,d=Math.min(f.cs,d),y=c.wh;y<=d;y++){T.update("forward step loop");q=g[y];b=q.rd;G=h[b][y].duration;F=y===c.wh?0:g[y-1].endTime;p=0;b=D(a,g,F,k,y);if(b.SN)return{oi:!1,Qo:!0};b.YQ||(p=b.waitUntil-F,F=b.waitUntil);J(0<=p,"expect waittime >= 0 but got "+p);u=a.Eq;H=c.cp;p=0;b=u.trace;n=1*u.Vl;L=F+H-u.timestamp;H=q.HW+H-u.timestamp;J(0<=L,"invalid downloadStartTime");J(H>=L,"invalid downloadEndTime");U=Math.max(0,Math.floor(1*L/n));R=1*H/n;if(U===Math.floor(R))L=(H-L)/n*m(b,U,n),J(0<=L,"negative delta same bucket"),p+=L;else for(R=Math.ceil(R),u=U,q=R,U*n<L&&(u++,L=(u*n-L)/n*m(b,U,n),J(0<=L,"negative delta (2)"),p+=L),R*n>H&&(q--,L=(H-q*n)/n*m(b,q,n),J(0<=L,"negative delta (3)"),p+=L),L=u;L<q;L++)p+=m(b,L,n);n=c.ax*G*1/8;l+=n;b=t(p-n,y,h);if(void 0===b)return{oi:!1,Qo:!0};p=b.lp;b=b.rd;n=p+n;H=a.Eq;q=L=0;u=H.trace;U=Math.max(0,F+c.cp-H.timestamp);H=1*H.Vl;Q=R=Math.max(0,Math.floor(1*U/H));for(Q*H<U&&(R+=1,U=Q*H+H-U,Q=U/H*m(u,Q,H),L=n-q<Q?L+(n-q)/Q*1*U:L+U,q+=Q);q<n;)T.update("getDownloadTime"),U=m(u,R,H),L=n-q<U?L+(n-q)/U*1*H:L+H,q+=U,R+=1;n=L;g[y].startTime=F;g[y].endTime=F+n;g[y].lp=p;g[y].rd=b;y<=f.kl&&(k+=p,r+=G,z=void 0!=h[b][y].uc?z+G*h[b][y].uc:z+G*a.Lc[b].uc);}return{oi:!0,Qo:!1,Es:g,cFa:0<r?1*z/r:0,Jca:r,Ica:k,Hca:l};}function k(a){a=a.vh.Z;for(var b=[],c,f=0;f<a.length;f++)T.update("get prebuffered chunks loop"),c=a[f],J(void 0!==c.uc,"expect frag.vmaf !== undefined"),c=new F(c.aa,c.duration/1E3,c.uc),b.push(c);return b;}function p(a){for(var b=a.Kk,c=a.vh,f=a.bm,d=f.kl,h=a.Lc,k=[],l,d=Math.min(f.cs,d),g=0;g<b.length;g++){for(var f=[],p=c.wh;p<=d;p++)T.update("get chunk map from play segment"),l=b[g][p],l=new F(l.aa,l.duration/1E3,a.SP&&void 0!==l.uc?l.uc:h[g].uc),f.push(l);k.push(f);}return new L(k,!1);}function h(a,b){J(a.vG()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,h,k=0;k<b.length;k++)T.update("calculate twvmaf"),J(b[k].vJa===k,"expect stream_choices[idx].i_epoch === idx"),h=a.Ji[b[k].jga][k],d=h.pP,h=h.kp,c+=d*h,f+=h;return{cFa:c/f,Jca:1E3*f};}function f(a,b,c){var f,d;J(a.vG()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.vh.ax;for(var h,k=0;k<b.length;k++)T.update("calculate Bytes"),J(b[k].vJa===k,"expect stream_choices[idx].i_epoch === idx"),h=a.Ji[b[k].jga][k],f+=h.aa,d+=c*h.kp*1E3/8;return{Ica:f,Hca:d};}function t(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{lp:c,rd:d};}function m(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function r(a,b,c,f){var d,h,k,l,g;d=c.trace;h=1*c.Vl;g=b+f-c.timestamp;l=Math.floor(1*g/h);b=0+(g-l*h)/h*m(d,l,h);if(b>=a)k=g-1*a/b*(g-l*h);else for(g=l;b<a;){T.update("find download start time");--g;if(0>g)return-1;l=m(d,g,h);if(b+l>=a){a=1*(a-b)/l*h;k=(g+1)*h-a;break;}b+=l;}return k+c.timestamp-f;}function D(a,b,c,f,d){var h,k,l,g,p,n;h=a.vh;k=c+h.T;c=a.Kk[h.NN];a=a.Gaa;l={YQ:!0,waitUntil:void 0,SN:!1};g=c.filter(function(a){return a&&a.T<=k&&a.T+a.duration>k;})[0];if(void 0===g)return{SN:!0};p=d-1-(g.index-1);f=h.$Q+f;n=0;n=g.index<h.wh?n+c.slice(h.Ev,g.index).reduce(function(a,b){return a+b.aa;},0):n+h.$Q;n=n+b.slice(h.wh,g.index).reduce(function(a,b){return a+b.lp;},0);f-=n;if(p>=a.qO||f>=a.II)for(l.YQ=!1,g=g.index;g<d&&(p>=a.qO||f>=a.II);)T.update("check buffer vacancy"),l.waitUntil=c[g].T+c[g].duration-h.T,f=g<h.wh?f-c[g].aa:f-b[g].lp,--p,g+=1;l.HCa=f;l.UQb=p;return l;}J=a(6).assert;F=a(361).WWa;L=a(361).XWa;u=a(729).kYa;U=a(360).q2a;R=a(203).Ooa;aa=a(371).S5;Q=a(58);y=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");T=a(104).Iva||a(104);d.P={Lrb:function(a){var b;b=g(a);return!1===b.oi||!0===b.ly?b:n(a,b);},yN:function(a){var b,c,f,d,h,k,p,t,q,m,z,G,F,D,L,H;y.debug("greedy DEBUG false");T.y1("greedy-"+(a.SP?"segvmaf":"dlvmaf")+": ");c=a.Kk;b=a.Kk;f=a.vh;d=a.bm;h=d.kl;k=a.Lc;h=Math.min(d.cs,h);for(G=f.wh;G<=h;G++){b[0][G].GA=b[0][G].aa;for(z=1;z<b.length;z++)b[z][G].GA=b[z][G].aa,b[z-1][G].GA===b[z][G].GA&&(b[z][G].GA=b[z-1][G].GA+1);z=0;f=b[z][G];f.KB=Infinity;f.Bg=z;for(z=1;z<b.length;z++)f=b[z][G],d=b[z-1][G],p=8*f.GA/f.duration,t=8*d.GA/d.duration,a.SP&&void 0!==f.uc?(q=f.uc,m=d.uc):(q=k[z].uc,m=k[z-1].uc),f.KB=(q-m)/(p-t),f.Bg=z,J(void 0!==d.KB&&!isNaN(d.KB),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=g(a);if(!1===b.oi||!0===b.ly)return b;h=a.Kk;f=a.vh;d=a.bm;k=d.kl;k=Math.min(d.cs,k);d=[];for(f=f.wh;f<=k;f++)d.push(h[1][f]);for(h=new aa(d,l);0<h.length;){T.update("upgrade frags");k=h.pop();f=a;d=b;p=k;t=f.Kk;q=f.vh;L=f.bm;m=L.kl;z=!0;G=JSON.parse(JSON.stringify(d.Es));void 0!==p.Bg&&J(G[p.index].rd+1===p.Bg,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");m=Math.min(L.cs,m);for(var u=p.index;u>=q.wh;u--){H=u===p.index?G[u].rd+1:G[u].rd;L=f.Kk[H][u].T-f.vh.T;if(u<m)if(J(void 0!==G[u+1],"expect solution[(fragIndex + 1)] !== undefined"),D=G[u+1].startTime,D<L)L=D;else if(u!==p.index)break;D=t[H][u].aa;F=q.ax*t[H][u].duration*1/8;F=r(D+F,L,f.Eq,q.cp);if(0>F){z=!1;break;}G[u]={startTime:F,endTime:L,HW:L,lp:D,rd:H};}f={oi:z,Es:G,ly:d.ly};!0===f.oi&&(b=f,k.Bg+1<c.length&&h.push(c[k.Bg+1][k.index]));}b=n(a,b);b.lq=T.Xea();y.debug("Max heap used: "+Math.round(b.lq/1024/1024)+" MB");return b;},dp:function(a){var b,d,l,n,t,q;T.y1("dp-"+(a.SP?"segvmaf":"dlvmaf")+": ");b=g(a);if(!1===b.oi||!0===b.ly)return b;d=p(a);l=new u(d);n=k(a);n={cTa:c(a),hCa:a.vh.ax,qMa:0,$La:240,ZLa:8*a.Gaa.II/1E3,FCa:.5,sCa:new R(n),JFa:0,OSb:void 0,QIa:void 0,qPa:void 0,DBa:!0};l=l.UH(n);n=h(d,l);d=f(d,l,a);t=[];q=a.vh.wh;l.forEach(function(a){t[q]={rd:a.jga};q++;});Q(n,b);Q(d,b);b.Es=t;b.lq=T.Xea();y.debug("Max heap used: "+Math.round(b.lq/1024/1024)+" MB");return b;}};},function(d,b,a){var g,n;function c(){}function l(a,b){return function(c){c.SP=b;return a(c);};}g=a(730);n=a(728);c.prototype.constructor=c;c.prototype.create=function(a){switch(a){case"htwbr":a=n.yN;break;case"hvmaftb":a=g.Lrb;break;case"hvmafgr":a=g.yN;break;case"hvmafdp":a=g.dp;break;case"hvmafgr-dlvmaf":a=l(g.yN,!1);break;case"hvmafgr-segvmaf":a=l(g.yN,!0);break;case"hvmafdp-dlvmaf":a=l(g.dp,!1);break;case"hvmafdp-segvmaf":a=l(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};d.P=c;},function(d,b,a){var l,g;function c(a,b,c,d){this.Za=a;this.G=b;this.Ye=this.G.error.bind(this.G);this.ab=this.G.warn.bind(this.G);this.mj=this.G.trace.bind(this.G);this.xb=this.G.log.bind(this.G);this.Y2a=new g();this.K=d;this.RU=[];this.nV=void 0;a=d.aZ;l.call(this,a.numB*a.bSizeMs,a.bSizeMs);this.i9=!0;}a(18);b=a(4);l=a(160);a(369);g=a(731);new b.Console("ASEJS_QOE_EVAL","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.add=function(a,b,c){this.nV||(this.nV=b);l.prototype.add.call(this,a,b,c);};c.prototype.Skb=function(){var a;if(0!==this.RU.length){a=[];this.RU.forEach(function(b){b&&b.cF&&a.push(b.Cu());});return a;}};c.prototype.wc=function(){this.RU=[];};c.prototype.Gnb=function(){var a,b,c;a=this.get(this.K.aZ.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var d=0;d<c;d++)a[d]=b;}a={trace:a,timestamp:this.nV,Vl:this.Oc};this.i9=!1;l.prototype.reset.call(this);this.i9=!0;this.nV=void 0;return a;};c.prototype.rda=function(a){var b,c,d,f,l,g;if(a&&!a.cF){c=a.bm.lKa;c&&(a.Bka=this.daa(a),a.N0=!1);if((b=this.Gnb())&&b.trace&&b.trace.length){d=a.vh.cp;f=b.timestamp;if(f>d){l=b.Vl;g=b.trace[0];d=Math.ceil(1*(f-d)/l);b.timestamp=f-d*l;for(f=0;f<d;f++)b.trace.splice(0,0,g);}b.trace.length&&b.trace.pop();}a.Eq=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.Nab(a),a.JNa=b,c&&b&&(a.N0=b.oi),a.cF=!0,this.RU.push(a));}};c.prototype.Nab=function(a){var l,g,n,q;function b(a){var f;for(var b,c=0;c<a.length;c++){f=a[c].reduce(function(a,b){return b.uc?a+1:a;},0);if(void 0===b)b=f;else if(f!==b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))="+Math.ceil(Math.log(f>b?f-b:b-f)*Math.LOG2E)+"]");}}for(var c=this.K.CN,d={oi:!1,Qo:!1,hX:0},f=0;f<c.length;f++){l=c[f];g=this.Y2a.create(l);if(g){n=Date.now();q={};try{b(a.Kk);q=g(a);}catch(J){q.uX=J;}q.v9a=Date.now()-n;d[l]=q;d.oi=d.oi||q.oi;d.Qo=d.Qo||q.Qo;d.uX=d.uX||q.uX;}}return d;};c.prototype.daa=function(a){var b;a=a.bm;b="";1E3>a.aR&&(b+=a.FUa);1E3>a.G$&&(b=b+(""!==b?",":"")+a.SBa);1E3<=a.aR&&1E3<=a.G$&&(b="media");return b;};d.P=c;},function(d,b,a){var c,l,g,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Xna=void 0;c=a(207);l=a(732);g=a(359);n=a(7);k=a(18);p=a(4);d=function(){var l2o;function a(a,b,d,h,n,q,m,r,u){var B2o,f,t,z,c2o,m2o,i1w,A1w,T1w,a1w,P2o;B2o=2;while(B2o!==32){i1w="1SIYbZrN";i1w+="JC";i1w+="p9";A1w="de";A1w+="fa";A1w+="ult";T1w="L";T1w+="R";a1w="ba";a1w+="sel";a1w+="i";a1w+="ne";switch(B2o){case 34:this.rE=new g.zS(m,n,this.G);B2o=23;break;case 2:this.G=b;this.Yb=h;this.ib=r;B2o=3;break;case 19:void 0!==b&&void 0!==b.xk&&void 0!==b.Wi&&void 0!==b.yk&&(f=(b.yk-b.xk)/b.Wi);h=n.KO?k.Le.kz:k.Le.lz;d&&d.Fd>=h&&d.Fa&&f&&this.V4a(d,b,f);B2o=16;break;case 16:B2o=this.Sw.Io?15:27;break;case 35:B2o=34;break;case 23:this.k9=this.rE.GZ();B2o=33;break;case 25:c2o=n.Qob;B2o=c2o===a1w?24:22;break;case 22:B2o=c2o===T1w?21:35;break;case 26:B2o=m&&1<m.length&&n.cda?25:33;break;case 27:this.k9=!1;B2o=26;break;case 15:try{m2o=2;while(m2o!==3){switch(m2o){case 2:t=p.lk();z=new l(a,this.G,{bufferSize:t},n);this.Yb.M8a(z);this.lAa=z;m2o=3;break;}}}catch(Q){var l1w;l1w="Hinds";l1w+="ight: Err";l1w+="or when cre";l1w+="ating QoEEvaluator: ";i4YY.o1w(0);a.Ua.sm(i4YY.V1w(l1w,Q));}B2o=27;break;case 24:this.rE=new g.zS(m,n,this.G);B2o=23;break;case 21:this.rE=new g.sra(m,n,this.G);B2o=23;break;case 12:this.cq=this.bZ=this.qJa=this.qW=this.So=void 0;this.Hma=this.VRa=this.WRa=this.Gma=this.XNa=this.YNa=0;this.VU=c[A1w](n,q);b=this.cza(d);B2o=19;break;case 3:this.Sw=u;i1w;this.Za=a;this.ab=this.G.warn.bind(this.G);this.mj=this.G.trace.bind(this.G);this.K=n;i4YY.R1w(1);P2o=i4YY.V1w(666663,333333,4);this.uza=0===Math.floor(P2o*Math.random())%n.Jaa;B2o=12;break;case 33:n.G2&&(this.gV=this.fV=!1);B2o=32;break;}}}l2o=2;while(l2o!==27){switch(l2o){case 7:a.prototype.C8a=function(a,b,c,d,h,k){var x2o,f;x2o=2;while(x2o!==4){switch(x2o){case 2:f=this.K;f.G2&&this.H6a(b)||!c||!d||!(c=k?Math.min(c,d,k):Math.min(c,d))||(this.Yb.get(),d=this.Za.pa,a=d.Ar(d.Sb,a),b.track.Ln()&&a>f.Iaa&&c===h?(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:2}),f.set({maxPendingBufferLen:500})):(f.ap=!0,f.UG=1,f.as=2,f.fy=500),b.track.O0({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:f.LI,minRequestSize:f.cH}),this.Gma++,f.G2&&(this.fV=!0)):f.ap&&!b.Ln()&&(a<f.Haa||c!==h)&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:3}),f.set({maxActiveRequestsPerSession:3}),f.set({maxPendingBufferLen:12E3})):(f.ap=!0,f.UG=3,f.as=3,f.fy=12E3),b.track.O0({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:f.LI,minRequestSize:f.cH}),this.Hma++,f.G2&&(this.gV=!0)));x2o=4;break;}}};l2o=6;break;case 11:a.prototype.Abb=function(a){var Q2o,b,c,f,d,h,u1w,t1w;Q2o=2;while(Q2o!==7){u1w="n";u1w+="o";u1w+="n";u1w+="e";t1w="i";t1w+="q";t1w+="r";switch(Q2o){case 4:c=this.Yb.get();t1w===b.My&&(f=this.cza(c),void 0!==f&&void 0!==f.xk&&void 0!==f.Wi&&void 0!==f.yk&&(d=(f.yk-f.xk)/f.Wi));h=b.KO?k.Le.kz:k.Le.lz;Q2o=8;break;case 2:b=this.K;Q2o=5;break;case 8:c&&c.Fd>=h&&this.l9(b.My,c,f,d)&&(this.So=!0,this.qW=a.state);Q2o=7;break;case 5:Q2o=u1w!==b.My&&!0!==this.So&&a.state<=b.lia?4:7;break;}}};a.prototype.c9a=function(a){var M2o;M2o=2;while(M2o!==1){switch(M2o){case 4:a.So=this.So;M2o=2;break;M2o=1;break;case 2:a.So=this.So;M2o=1;break;}}};a.prototype.$ib=function(a){var d2o,b,c,f,d,h,l,g,q,K1w,F1w;d2o=2;while(d2o!==21){K1w="sta";K1w+="rt";K1w+="pla";K1w+="y";F1w="l";F1w+="o";F1w+="gd";F1w+="ata";switch(d2o){case 2:b={};d2o=5;break;case 5:c=this.K;f=this.Za;d={type:F1w,target:K1w,fields:{}};d.fields=b;Object.keys(a).forEach(function(c){var g2o;g2o=2;while(g2o!==1){switch(g2o){case 2:b[c]=a[c];g2o=1;break;case 4:b[c]=a[c];g2o=5;break;g2o=1;break;}}});h=this.Yb.get();h&&h.Fa&&(h=h.Fa.Ca);d2o=14;break;case 10:b.histdiscbw=this.cq;l=this.bZ;d2o=19;break;case 19:d2o=l?18:25;break;case 26:b.histtd=h;d2o=25;break;case 16:q=[];l=n.isArray(l.kh)&&l.kh.reduce(function(a,b){var v2o,c;v2o=2;while(v2o!==9){switch(v2o){case 2:c=g(b.jf||void 0);b=g(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},q);b.histtdc=l;d2o=26;break;case 25:b.histage=this.qJa;c.cda&&this.rE&&(b.ishighstable=this.k9,b.avg_avtp=this.rE.nCa,b.avg_ne=Number(this.rE.oCa).toFixed(4));f.zb&&(c=p.lk(),b.maxAudioBufferAllowedBytes=c[k.La.AUDIO],b.maxVideoBufferAllowedBytes=c[k.La.VIDEO]);f.emit(d.type,d);d2o=21;break;case 18:g=function(a){var L2o;L2o=2;while(L2o!==1){switch(L2o){case 2:return n.la(a)?Number(a).toFixed(2):-1;break;}}};h=[g(l.min||void 0),g(l.xja||void 0),g(l.xk||void 0),g(l.Wi||void 0),g(l.yk||void 0),g(l.yja||void 0),g(l.max||void 0)];d2o=16;break;case 14:b.actualbw=h;b.isConserv=this.So;b.ccs=this.qW;b.isLowEnd=this.wqb;d2o=10;break;}}};a.prototype.ajb=function(a){var u2o,b,c,f,d,h,l,g,d1w;u2o=2;while(u2o!==20){d1w="n";d1w+="o";d1w+="ne";switch(u2o){case 8:a.stat=d;h=0;l=0;g=0;u2o=13;break;case 3:d=[];[k.La.VIDEO,k.La.AUDIO].forEach(function(a){var q2o,h;q2o=2;while(q2o!==3){switch(q2o){case 5:h=b.Za.xIa(a);void 0!==h&&(a===k.La.VIDEO&&(c.RF&&(h.parallelDownloadMs=b.YNa,h.parallelDownloadBytes=b.XNa,h.singleDownloadMs=b.WRa,h.singleDownloadBytes=b.VRa,h.switchFromParallelToSingle=b.Gma,h.switchFromSingleToParallel=b.Hma),f&&f.Fd&&f.Fa&&(h.asetput=f.Fa,h.aseiqr=f.gq,h.tdigest=f.xi&&f.xi.Cu()||void 0),f&&f.avtp&&(h.avtp=f.avtp.Ca)),d.push(h));q2o=3;break;case 2:q2o=1;break;case 1:q2o=b.ib(a)?5:3;break;}}});u2o=8;break;case 13:f.Fd&&(h=f.Fa?f.Fa.Ca:0,l=f.th?f.th.Ca:0,g=f.fq?f.fq.Ca:0);a.location={responseTime:l,httpResponseTime:g,bandwidth:h,confidence:f.Fd,name:this.lIb};this.uza&&(a.bt={startTime:this.Rk.startTime,audioMs:this.Rk.Wt,videoMs:this.Rk.Ov},this.Rk.Wt=[],this.Rk.Ov=[],this.Rk.qha=this.Rk.jha);d1w!==c.My&&(a.isConserv=this.So,a.ccs=this.qW);u2o=20;break;case 2:b=this;c=this.K;f=this.Yb.get();u2o=3;break;}}};l2o=18;break;case 6:a.prototype.G8a=function(a,b){var G2o,c,f,d;G2o=2;while(G2o!==13){switch(G2o){case 5:G2o=this.uza?4:13;break;case 2:c=this.K;G2o=5;break;case 4:void 0===this.Rk&&(this.Rk={startTime:p.time.ea(),Wt:[],Ov:[],qha:void 0,jha:void 0});c=Math.floor((p.time.ea()-this.Rk.startTime)/c.DA);f=this.Rk.jha;d=this.Rk.qha?c-this.Rk.qha-1:c;G2o=7;break;case 7:G2o=void 0===f||c>f?6:14;break;case 14:this.Rk.jha=c;G2o=13;break;case 6:this.Rk.Wt[d]=a,this.Rk.Ov[d]=b;G2o=14;break;}}};a.prototype.awb=function(){var s2o,a,o2o;s2o=2;while(s2o!==3){switch(s2o){case 2:a=this.Za;s2o=5;break;case 4:try{o2o=2;while(o2o!==5){switch(o2o){case 2:this.Yb.zAb();this.lAa.wc();o2o=5;break;}}}catch(t){var x1w;x1w="Hindsight: E";x1w+="rr";x1w+="or during clean up: ";i4YY.o1w(0);a.Ua.sm(i4YY.Z8w(x1w,t));}s2o=3;break;case 5:s2o=this.Sw.Io?4:3;break;case 8:a=this.Za;s2o=3;break;s2o=5;break;}}};a.prototype.iwb=function(a){var b2o;b2o=2;while(b2o!==1){switch(b2o){case 2:this.K.RF&&a===k.La.VIDEO&&(this.Hma=this.Gma=this.VRa=this.WRa=this.XNa=this.YNa=0);b2o=1;break;}}};a.prototype.hwb=function(a,b){var N2o;N2o=2;while(N2o!==1){switch(N2o){case 2:a===k.La.VIDEO&&(this.lIb=b);N2o=1;break;}}};l2o=11;break;case 15:return a;break;case 2:Object.defineProperties(a.prototype,{GZ:{get:function(){var p2o;p2o=2;while(p2o!==1){switch(p2o){case 4:return this.k9;break;p2o=1;break;case 2:return this.k9;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rka:{get:function(){var j2o;j2o=2;while(j2o!==1){switch(j2o){case 2:return this.lAa;break;case 4:return this.lAa;break;j2o=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.wRa=function(a,b,c){var i2o;i2o=2;while(i2o!==4){switch(i2o){case 2:this.cq=a;n.X(b)||(this.qJa=b);n.X(c)||(this.bZ=c);i2o=4;break;}}};a.prototype.ona=function(a){var J2o;J2o=2;while(J2o!==5){switch(J2o){case 2:this.K=a;this.VU.ona(a);J2o=5;break;}}};a.prototype.l9=function(a,b,c,d){var T2o,f,q1w,B1w;T2o=2;while(T2o!==6){q1w="a";q1w+="v";q1w+="g";B1w="i";B1w+="q";B1w+="r";switch(T2o){case 5:T2o=a===B1w?4:8;break;case 2:f=this.K;T2o=5;break;case 4:T2o=void 0!==d?3:9;break;case 3:return b.Fa&&c&&n.la(d)&&b.Fa.Ca<f.nM&&d>f.V4;break;case 8:T2o=a===q1w?7:9;break;case 9:return!1;break;case 7:return b.Fa?b.Fa.Ca<f.nM:!0;break;}}};a.prototype.Qmb=function(a){var Y2o;Y2o=2;while(Y2o!==1){switch(Y2o){case 2:return 1===a?this.VU.y0:this.VU.uy;break;}}};a.prototype.fI=function(a){var I2o;I2o=2;while(I2o!==1){switch(I2o){case 4:this.VU.fI(a);I2o=2;break;I2o=1;break;case 2:this.VU.fI(a);I2o=1;break;}}};l2o=7;break;case 18:a.prototype.H6a=function(a){var X2o,b;X2o=2;while(X2o!==14){switch(X2o){case 2:b=this.K;X2o=5;break;case 4:return!0;break;case 9:X2o=this.gV&&b.ap&&!a.Ln()?8:7;break;case 3:this.fV&&(this.fV=!1);X2o=9;break;case 5:X2o=this.fV&&a.Ln()?4:3;break;case 8:return!0;break;case 7:this.gV&&(this.gV=!1);return!1;break;}}};a.prototype.cza=function(a){var R2o,H2o,X1w;R2o=2;while(R2o!==4){X1w="tdi";X1w+="ge";X1w+="s";X1w+="t";switch(R2o){case 2:H2o=this.K.cga;R2o=H2o===X1w?1:3;break;case 1:a=a.xi;R2o=5;break;case 3:R2o=9;break;case 5:return a;break;case 9:a=a.gq&&a.gq.m0;R2o=5;break;}}};a.prototype.V4a=function(a,b,c){var A2o,f;A2o=2;while(A2o!==9){switch(A2o){case 4:this.qW=0;this.l9(f.Nha,a,b,c)&&(this.wqb=!0);A2o=9;break;case 2:f=this.K;this.l9(f.My,a,b,c)?this.So=!0:this.So=!1;A2o=4;break;}}};l2o=15;break;}}}();b.Xna=d;},function(d,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.z5=void 0;c=a(11);l=a(230);d=function(){function a(a,b,c,d,f,l,g,q,m,r,F){void 0===c&&(c=0);this.Vc=a;this.hV=b;this.T=c;this.na=d;this.bY=f;this.Rf=l;this.nG=g;this.config=q;this.G=m;this.Ua=r;this.Pib=F;this.$r=0;}a.create=function(b){var h,f,n,q,m,r,J,F,L,u,U,R,aa,Q,y,T;function d(a){return L.$a.hs[a];}function g(a){c.Ia(L,a.type,a);}h=b.Xa;f=b.ya;n=b.bRa;q=b.T;m=b.na;r=b.Tr;J=b.zm;F=b.Ua;L=b.sb;u=b.config;U=b.G;R=b.df;aa=b.wl;Q=b.Pe;y=b.Rx;T=new l.sR({oa:Number(f.movieId),Xa:h,ya:f,Bk:b.Bk,ib:b.ib,qia:{DZ:b.Af,Rga:!!b.cKa},Ki:b.Ki,Kp:b.Kp,config:u,hQ:u.$A?{aC:L.Tk.aC,ha:L.Tk.ha,ux:L.Tk.ux,sm:F.sm.bind(F),Zp:d}:void 0,Sfa:{Kc:R.ii.bind(R),Pe:Q,Rx:y,ql:g,AZ:function(a){return a===L.pa.Sb.R;},wY:function(a,b,c,f,d){a=L.$a.Ie[a];return!b||c||f||d?L.IK:a.ym;},Zp:d,Rf:L.Rf.bind(L)},nH:function(a){L.emit("requestComplete",{timestamp:a.$c,mediaRequest:a});},gN:function(){return L.uf;},ub:L.zb.ub,Cf:L.zb.Cf,pda:{Tr:r,zg:function(a,b,c,f,d){L.Xk(a,h,b,c,f,d);},Ro:function(){return L.SE;},HG:L.W.vg.bind(L.W),zm:J,ql:g},tC:void 0});T.Qx.on("onHeaderFragments",function(a){var b,c,f,d,k;b=a.M;c=a.sa;f=a.stream.Z;d=L.Rf(h);if(d){if(T.dg[b]&&a!==T.dg[b])a.Kr&&(d=T.dg[b],a=a.stream,k=d&&d.stream,U.warn("first header received for non-current track (trackId "+a.cb+"streamId "+a.sa+"), expected track "+(k&&k.cb)+", stream "+(k&&k.sa)+", "+d));else{T.dg[b]=a;a=L.pa.Sb;if(0===h){k=T.ib(1)?a.Ge(1).Lb:a.Ge(0).Lb;a.eW(k,T);}d.rP=!1;d.cW();L.xV();}aa.Y8();F.Y5a(h,b,c,T.u,f);R.ii();}else U.warn("addFragments for stale manifestIndex:",h);});T.Qx.on("onHeaderRequestComplete",function(a){var b,c;a.uj?L.xV():a.wx&&(U.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),L.dX(a.u));b=a.M;c=Object.getOwnPropertyNames(y.gr[b]);L.wf[b].eNa(a.stream,1===c.length&&c[0]===a.sa);R.Mya();L.aBb();});T.Qx.on("onHeaderFromCache",function(a){var b;b=a.Lo;a=a.Cjb;b.uj&&L.xV();a&&F.P5a(b.u,b.sa);});return new a(T,n,q,m,function(){return L.pa;},L.Rf.bind(L),L.nG.bind(L),u,U,F,!1);};Object.defineProperties(a.prototype,{R:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xa:{get:function(){return this.R.Xa;},enumerable:!1,configurable:!0}});a.prototype.fm=function(a){return this.Vc.KIa(a,this.hY(a));};a.prototype.hY=function(a){return this.hV[a];};a.prototype.wc=function(){this.Vc.wc();delete this.Vc;};a.prototype.clone=function(){return new a(this.R,this.hV,this.T,this.na,this.bY,this.Rf,this.nG,this.config,this.G,this.Ua,!0);};a.prototype.nna=function(a){this.G.trace("updateAudioTrack:",this.hV[0],"->",a);this.hV[0]=a;};a.prototype.PHa=function(){return void 0!==this.WB?this.WB:this.na?this.na:this.Vc.ya.duration;};a.prototype.$ab=function(a,b){var c,d,f,k;c=this.Vc.dg[1];if(c&&c.stream.Xd){if(this.zu&&this.zu[1]&&this.zu[1].T<=a&&this.zu[1].na>a)return this.zu[1].bd;d=c.stream.Z;f=d.cm(a,void 0,!0);k=void 0;b&&(a=c.stream.mi(f).EX(a))&&(k=a.Rc);void 0===k&&(k=d.Qh(f));return k;}};a.prototype.cW=function(){var a,b;if(!this.rP&&this.bJa()){this.aja();b=[0,0];0===this.Xa||this.Vc.se.rO||this.Vc.se.replace||(a=this.Rf(this.Xa-1),a=this.Vc.u===a.Vc.u,b=this.bY().Sb,a=b.eW(this.T,this.R,b,a),b=a.KH);this.T=b[1];this.KH=b;this.zu=a&&a.zu;this.SCa();a=this.Vc.ib(1)?this.Vc.dg[1].stream.Z.na:this.Vc.dg[0].stream.Z.na;this.Ua.U5a(this.Xa,this.$r,this.T,this.WB,a);this.rP=!0;for(a=this.Xa+1;a<this.nG();++a)b=this.Rf(a),b.rP=!1,b.cW();}};a.prototype.SCa=function(){var a;if(0===this.Xa||this.Vc.se.replace)this.$r=0;else{a=this.Rf(this.Xa-1);this.$r=a.$r+a.PHa()-this.T;}};a.prototype.aja=function(){var a,b,c,d;if(this.bJa()){a=this.bY().Sb;b=this.na||Infinity;c=this.Vc.ib(1);d=a.ZM(b,this.R);this.WB=c?d[1].na:d[0].na;this.Ua.W5a(this.Xa,this.WB,c?this.Vc.dg[1].stream.Z.na:this.Vc.dg[0].stream.Z.na);a=this.bY().Gda(this.Xa);0<a.length&&a.forEach(function(a){a.XGb(d,b);});}};a.prototype.bJa=function(){var a,b,c,d;a=this.Vc.ib(0);b=this.Vc.ib(1);c=this.Vc.dg[0];d=this.Vc.dg[1];c=c&&c.stream.Xd;d=d&&d.stream.Xd;return(!a||c)&&(!b||d);};return a;}();b.z5=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vwa=void 0;d=function(){function a(a,b,d,g,k,p,h,f,t,m){var c;c=this;this.id=a;this.R=b;this.T=d;this.CM=k;this.sj=p;this.Gs=h;this.i2=f;this.Bk=t;this.ke=m;this.CY=function(a){var b,f;return(null===(f=null===(b=c.sj)||void 0===b?void 0:b[a])||void 0===f?void 0:f.qGb)||c.ke;};this.na=g||Infinity;}Object.defineProperties(a.prototype,{oa:{get:function(){return this.R.oa;},enumerable:!1,configurable:!0}});a.prototype.nHa=function(){var a,b,d;a=this;d=Object.keys(this.sj||{}).filter(function(b){var c,d;return!(null===(d=null===(c=a.sj)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});return d.length?null!==(b=d.map(this.CY).reduce(function(a,b){return a===b?b:void 0;}))&&void 0!==b?b:this.ke:this.ke;};a.prototype.toString=function(){return"segmentId: "+this.id+" playlistSegmentId: "+this.Bk+" viewableId: "+this.R.oa+" pts: "+this.T+"-"+this.na+" defaultKey: "+this.CM+" dests: "+JSON.stringify(this.sj)+" terminal: "+!!this.Gs;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.R.oa,"startPts:":this.T,endPts:this.na,defaultKey:this.CM,"dests:":this.sj,terminal:!!this.Gs,playlistSegmentId:this.Bk};};return a;}();b.vwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ssa=void 0;d=function(){function a(a,b,d,g,k,p,h,f){this.Xc=a;this.DCa=b;this.config=d;this.console=g;this.M=k;this.Ua=p;this.Ha=h;this.sb=f;this.ao=this.Cg=!1;}a.prototype.pF=function(a,b){!this.Xc.ca.Gs||this.sb.zE||this.sb.UU&&!this.config.baa||(a-=this.Xc.de,this.Cg&&!this.ao&&a+this.config.JFb>=b&&0===this.Ha.qv&&0===this.Ha.Ns&&0===this.Ha.rzb&&(b=this.sb.Gd.R.Xa,a=this.sb.nG(),b+1<a||(this.DCa[this.M].ESa||this.Ua.M5a(this.M),this.ao=!0,this.DCa[this.M].U_())));};return a;}();b.ssa=d;},function(d,b,a){var c,l,g,n,k,p,h,f,t,m,r,D,J,F,L,u,U,R,aa,Q,y,T,A,da,W,ka,O,E,ta,N,P,S,ga,Fa,Ga;Object.defineProperty(b,"__esModule",{value:!0});b.zwa=void 0;c=a(21);l=a(7);g=a(364);n=a(165);k=a(734);p=a(216);h=a(17);f=a(410);t=a(231);m=a(217);r=a(733);D=a(370);J=a(212);F=a(725);L=a(723);u=a(4);U=u.Promise;R=u.MediaSource;aa=a(11);Q=a(6);y=a(363);T=a(722);A=a(161);da=a(721);W=a(720);ka=a(719);O=a(718);E=a(73);ta=a(717);N=a(716);P=a(384);S=a(715);d=a(39);ga=a(382);Fa=a(713);Ga=a(377);a=function(){var k1w;function a(a,b,f,d,h,l,p,n,q,t,z){var Q1w,G,J,y,H,Q,Q3U,G3U,M3U,z3U,L3U,w3U;Q1w=2;while(Q1w!==74){Q3U="med";Q3U+="ia";Q3U+="|a";Q3U+="se";Q3U+="js";G3U="A";G3U+="S";G3U+="E";G3U+="J";G3U+="S";M3U="1SI";M3U+="Y";M3U+="bZrN";M3U+="J";M3U+="Cp9";z3U="bra";z3U+="nch";z3U+="in";z3U+="g";L3U="man";L3U+="ager";L3U+="de";L3U+="b";L3U+="ugevent";w3U="me";w3U+="d";w3U+="ia";w3U+="ca";w3U+="che";switch(Q1w){case 2:G=this;this.xw=new P.n7();this.rK=[];Q1w=3;break;case 58:U=b.R;this.pa=new g.l3(this,this.Ua,this.G,this.i$.bind(this),U,this.kV,this.K,this.df,this.W,this.iN.bind(this));U={jO:this.jO,xs:this.xs,Lk:this.Lk,hC:this.hC};this.$a=new D.Mwa(this.G,this.uf,this.K,this.ib.bind(this),this.W,U,this.zb.ub,this.Ua,this.df,this.pa,H);Q1w=77;break;case 62:Q1w=t.cda&&this.uf.GZ?61:58;break;case 47:t.SM&&(h=this.zb.op.Ht);A.Qs.eg().reset();b=k.z5.create({Xa:0,ya:b,Bk:f,bRa:d,Af:!!l.Af,cKa:!1,Ki:!!l.Ki,Kp:z||this.rK,T:0,na:l.na,Ua:this.Ua,Tr:this.eza.bind(this),zm:this.DRa.bind(this,!1),ib:this.ib.bind(this),sb:this,config:this.K,G:this.G,df:this.df,wl:this.wl,Pe:this.WAa?this.zb.Pe:void 0,Rx:this.Rx});Q1w=65;break;case 59:this.uf.ona(this.K);Q1w=58;break;case 36:this.Nf.on(this.zb.Pe,w3U,function(a){var O1w,u3U;O1w=2;while(O1w!==1){u3U="m";u3U+="e";u3U+="diac";u3U+="ache";switch(O1w){case 2:aa.Ia(G,u3U,a);O1w=1;break;case 4:aa.Ia(G,"",a);O1w=6;break;O1w=1;break;}}});Q1w=54;break;case 44:this.W9=0;this.Nf=new c.Fl();this.wl=new S.uwa(this,this.G,this.ib.bind(this),J);this.df=new ka.fqa(this,this.G,this.ib.bind(this));Q1w=40;break;case 40:this.MM=new W.eqa(this,this.G,J);Q1w=39;break;case 38:this.Nf.on(this.zb.Pe,L3U,function(a){var J1w;J1w=2;while(J1w!==1){switch(J1w){case 4:aa.Ia(G,a.type,a);J1w=8;break;J1w=1;break;case 2:aa.Ia(G,a.type,a);J1w=1;break;}}});Q1w=37;break;case 39:Q1w=t.Pg&&this.zb.Pe?38:37;break;case 77:Q1w=this.Io?76:74;break;case 61:t=t.Rob;Q1w=60;break;case 27:this.zb=a;this.Tk=p;Q1w=25;break;case 65:b.DL=!0;this.kc=[b];this.uf=new r.Xna(this,this.G,a,this.zb.ub,t,this.TG(),h,this.ib.bind(this),H);Q1w=62;break;case 14:this.mj=this.G.trace.bind(this.G);J=new ta.Uta(this,this.G);this.Ua=J;this.VDa=new da.xpa(this.G);y=!(!b||!b.choiceMap||z3U!==b.choiceMap.type);H=y?{SF:!1,Io:!1}:L.KHa(t);this.SF=H.SF;Q1w=18;break;case 25:this.K=t=this.VDa.a3a(b,t);this.UU=l.hC;this.WAa=!!l.EI;this.h8a=!!l.u2;Q1w=21;break;case 76:Q=this;this.W.addListener(function(a){var N1w,n1w;N1w=2;while(N1w!==1){switch(N1w){case 2:try{n1w=2;while(n1w!==1){switch(n1w){case 2:Q.$a.cHb.bind(Q.$a)(a);n1w=1;break;}}}catch(gb){var y3U;y3U="Hindsi";y3U+="gh";y3U+="t: Erro";y3U+="r ";y3U+="when adding updatePlaySegment Listener: ";i4YY.H3U(0);Q.Ua.sm(i4YY.d3U(y3U,gb));}N1w=1;break;}}});Q1w=74;break;case 21:this.zE=l.jO;this.dV=void 0;this.W=new N.hoa(q);Q1w=33;break;case 33:this.kV=h||0;this.AE=0;this.r8=n;this.SE=!1;Q1w=29;break;case 54:y&&t.RF&&!t.Fhb&&(t.set?t.set({enableAdaptiveParallelStreaming:!1}):t.RF=!1);0===Math.floor(1E6*Math.random())%t.GL&&(this.i7a=new F.Wva());this.kr=[];this.wf=[];this.oRa=new m.FS(b,this.zb.ub,this.zb.Cf,this.K,void 0);a=this.oRa.unb();h=null;Q1w=47;break;case 18:this.Io=H.Io;this.iq=new O.zsa(this,this.G,this.ib.bind(this),H);this.M7a=[!l.mIb,!l.BQb];this.ib(0)&&this.ib(1);Q1w=27;break;case 60:for(var U in t){f=t[U];t.hasOwnProperty(U)&&f&&(this.K[U]=f);}Q1w=59;break;case 37:Q1w=(t.wna||t.Ry)&&this.zb.Pe?36:54;break;case 3:this.Rx={gr:[Object.create(null),Object.create(null)]};M3U;this.G=new u.Console(G3U,Q3U,"("+p.sessionId+")");this.Ye=this.G.error.bind(this.G);this.ab=this.G.warn.bind(this.G);Q1w=14;break;case 29:this.IK=void 0;this.FU=-1;Q1w=44;break;}}}k1w=2;while(k1w!==116){switch(k1w){case 29:a.prototype.close=function(){var q6w;q6w=2;while(q6w!==4){switch(q6w){case 2:this.oRa.close();this.kc.forEach(function(a){var X6w;X6w=2;while(X6w!==1){switch(X6w){case 4:a.R.close();X6w=9;break;X6w=1;break;case 2:a.R.close();X6w=1;break;}}});this.iq.close();q6w=4;break;}}};a.prototype.cQa=function(){var k6w;k6w=2;while(k6w!==1){switch(k6w){case 2:this.zb.$6a(this);k6w=1;break;case 4:this.zb.$6a(this);k6w=7;break;k6w=1;break;}}};a.prototype.wc=function(){var Q6w,a,R3U;Q6w=2;while(Q6w!==10){R3U="Error on";R3U+=" Medi";R3U+="aSource";R3U+=" destroy: ";switch(Q6w){case 2:this.uf.awb();this.aU();Q6w=4;break;case 4:this.pa.Bn();this.MM.$3a();null===(a=this.mt)||void 0===a?void 0:a.reset();this.kr.forEach(function(a){var J6w;J6w=2;while(J6w!==1){switch(J6w){case 4:a.reset();J6w=8;break;J6w=1;break;case 2:a.reset();J6w=1;break;}}});Q6w=7;break;case 7:this.W.Zd(h.ma.Tm);this.F3a();this.Nf.clear();a=this.af;Q6w=12;break;case 12:this.af=void 0;l.X(a)||a.An()||this.ab(R3U,a.error);Q6w=10;break;}}};a.prototype.suspend=function(){var O6w;O6w=2;while(O6w!==1){switch(O6w){case 2:this.iq.suspend();O6w=1;break;case 4:this.iq.suspend();O6w=0;break;O6w=1;break;}}};a.prototype.resume=function(){var N6w;N6w=2;while(N6w!==1){switch(N6w){case 4:this.iq.resume();N6w=6;break;N6w=1;break;case 2:this.iq.resume();N6w=1;break;}}};a.prototype.Ze=function(){var n6w;n6w=2;while(n6w!==1){switch(n6w){case 2:return this.iq.Ze();break;case 4:return this.iq.Ze();break;n6w=1;break;}}};a.prototype.B7a=function(){var U6w,a;U6w=2;while(U6w!==7){switch(U6w){case 2:a=this.K;this.Ww&&clearTimeout(this.Ww);this.Ww=setTimeout(this.qL.bind(this),a.r2);this.Aw||(this.Aw=setInterval(this.Ua.Nza.bind(this.Ua),a.DA));this.qV||(this.qV=setInterval(this.Ua.h6a.bind(this.Ua),a.yma));U6w=8;break;case 8:this.xs&&!this.ST&&(this.ST=setInterval(this.Ua.Mza.bind(this.Ua),a.naa));U6w=7;break;}}};a.prototype.aU=function(){var I6w;I6w=2;while(I6w!==7){switch(I6w){case 2:this.Ww&&(clearTimeout(this.Ww),this.Ww=void 0);this.Aw&&(clearInterval(this.Aw),this.Aw=void 0);this.qV&&(clearInterval(this.qV),this.qV=void 0);this.ST&&(clearInterval(this.ST),this.ST=void 0);I6w=3;break;case 3:this.dE&&(clearTimeout(this.dE),this.dE=void 0);I6w=9;break;case 9:this.S8&&(clearTimeout(this.S8),this.S8=void 0);this.df.aU();I6w=7;break;}}};a.prototype.play=function(){var g6w;g6w=2;while(g6w!==1){switch(g6w){case 4:this.iq.play();g6w=6;break;g6w=1;break;case 2:this.iq.play();g6w=1;break;}}};a.prototype.stop=function(){var f6w;f6w=2;while(f6w!==1){switch(f6w){case 2:this.iq.stop();f6w=1;break;case 4:this.iq.stop();f6w=4;break;f6w=1;break;}}};a.prototype.Dy=function(a,b,c){var W6w;W6w=2;while(W6w!==5){switch(W6w){case 2:c&&(Q.assert(void 0===b),b=this.qY(c));return this.wl.Dy(a,b);break;}}};k1w=54;break;case 25:a.prototype.tY=function(){var j1w;j1w=2;while(j1w!==1){switch(j1w){case 4:return this.pa.Ck.ca.id;break;j1w=1;break;case 2:return this.pa.Ck.ca.id;break;}}};a.prototype.dY=function(a){var y1w;y1w=2;while(y1w!==5){switch(y1w){case 1:return{de:a.de,bd:a.Rja,te:a.te,xc:a.o1,Ub:a.Ub};break;case 2:y1w=(a=this.pa.Ck.children[a])?1:5;break;}}};a.prototype.sY=function(){var Z1w,a;Z1w=2;while(Z1w!==4){switch(Z1w){case 5:return{id:a.ca.id,de:a.de,bd:a.Rja,te:a.te,xc:a.o1,Ub:a.Ub};break;case 2:a=this.pa.Ck;Z1w=5;break;}}};a.prototype.n2=function(a,b){var V6w;V6w=2;while(V6w!==1){switch(V6w){case 4:return this.pa.n2(a,b);break;V6w=1;break;case 2:return this.pa.n2(a,b);break;}}};a.prototype.F3a=function(){var o6w,a,b;o6w=2;while(o6w!==9){switch(o6w){case 5:a=this.kc[b],a.wc();o6w=4;break;case 4:++b;o6w=1;break;case 2:b=0;o6w=1;break;case 1:o6w=b<this.kc.length?5:3;break;case 3:this.kc.length=0;o6w=9;break;}}};a.prototype.open=function(){var R6w,a,b,c,f,d,h,k,g,p,n,m2U,e2U,x2U,n2U,X2U,A3U,N3U,E3U,o3U,C3U,O3U;R6w=2;while(R6w!==28){m2U="create";m2U+="Me";m2U+="diaSourceEnd";e2U="E";e2U+="rror";e2U+=":";x2U="sta";x2U+="rt";x2U+="pla";x2U+="y";n2U="lo";n2U+="gda";n2U+="ta";X2U="he";X2U+="ad";X2U+="er";X2U+="s";A3U="NFErr_MC_S";A3U+="tre";A3U+="amingInitFail";A3U+="ure";N3U="startPts must be a pos";N3U+="i";N3U+="tiv";N3U+="e";N3U+=" number, not ";E3U="createMedi";E3U+="aSo";E3U+="urceStart";o3U="NFErr_MC_Streamin";o3U+="gInitFa";o3U+="ilure";C3U="ex";C3U+="ception in ";C3U+="init";O3U="Err";O3U+="o";O3U+="r";O3U+=":";switch(R6w){case 29:this.mj(O3U,p.error),this.Xk(C3U,void 0,o3U);R6w=28;break;case 19:h.forEach(function(b,c){var a6w,J3U;a6w=2;while(a6w!==1){J3U="he";J3U+="ade";J3U+="rs";switch(a6w){case 2:J3U===b?a.IK=g[c]:a.$a.Ie[b].ym=g[c];a6w=1;break;}}});this.Ua.$j(E3U);p=new R(this.W.hM);R6w=16;break;case 4:this.Xk(N3U+this.kV,void 0,A3U);R6w=28;break;case 23:p.sourceBuffers.forEach(function(c){var T6w,f,d,I2U,i2U,r2U,t2U,Z3U;T6w=2;while(T6w!==11){I2U="manag";I2U+="erdebugeven";I2U+="t";i2U="logd";i2U+="at";i2U+="a";r2U="er";r2U+="ro";r2U+="r";t2U="re";t2U+="q";t2U+="uestAp";t2U+="pende";t2U+="d";Z3U="heade";Z3U+="r";Z3U+="Append";Z3U+="ed";switch(T6w){case 4:c=new J.n3(d.G,f,p,c,b,a.W,a.Rf.bind(a));d=new T.qsa(c,f,a.pa,a.K,d.G);c.addListener(Z3U,a.J4a.bind(a));c.addListener(t2U,a.M4a.bind(a));c.addListener(r2U,function(b){var l6w,c2U;l6w=2;while(l6w!==1){c2U="NFErr_";c2U+="MC_";c2U+="St";c2U+="reaming";c2U+="Failure";switch(l6w){case 2:a.Xk(b.errorstr,void 0,c2U);l6w=1;break;}}});T6w=6;break;case 2:f=c.M;d=a.$a.Ie[f];T6w=4;break;case 6:c.addListener(i2U,function(b){var A6w;A6w=2;while(A6w!==1){switch(A6w){case 2:aa.Ia(a,b.type,b);A6w=1;break;case 4:aa.Ia(a,b.type,b);A6w=2;break;A6w=1;break;}}});b.Pg&&c.addListener(I2U,function(b){var i6w;i6w=2;while(i6w!==1){switch(i6w){case 2:aa.Ia(a,b.type,b);i6w=1;break;case 4:aa.Ia(a,b.type,b);i6w=6;break;i6w=1;break;}}});a.wf[f]=c;a.kr[f]=d;T6w=11;break;}}});this.mt=new ga.mT(this.kr,this.ME.bind(this),this.W.Wd.bind(this.W));this.xs&&this.Ua.G5a();R6w=35;break;case 14:this.Lk&&(d.push(1),h.push(1));R6w=13;break;case 3:b=this.K;c=this.Gd.R;f=c.u;d=[];h=[X2U];R6w=14;break;case 25:R6w=!p.IV(d)?24:23;break;case 5:R6w=!l.la(this.kV)||0>this.kV?4:3;break;case 35:c=this.ZHa();this.Ua.Oza(c);n=function(){var t6w,p2U;t6w=2;while(t6w!==5){p2U="shutdown detected before startRequ";p2U+="es";p2U+="ts";switch(t6w){case 2:a.Ua.X5a();a.Ze()?a.ab(p2U):a.G7a();t6w=5;break;}}};b.kgb?setTimeout(function(){var u6w;u6w=2;while(u6w!==1){switch(u6w){case 2:a.tya(f).then(n);u6w=1;break;case 4:a.tya(f).then(n);u6w=4;break;u6w=1;break;}}},0):this.tya(f).then(function(){var F6w;F6w=2;while(F6w!==1){switch(F6w){case 2:setTimeout(n,0);F6w=1;break;case 4:setTimeout(n,9);F6w=2;break;F6w=1;break;}}});R6w=31;break;case 16:R6w=1===p.readyState?15:29;break;case 31:c={type:n2U,target:x2U,fields:{audiogapconfig:b.aH,audiogapdpi:this.af.vc&&this.af.vc.aH,aseApiVersion:this.LV}};this.emit(c.type,c);R6w=28;break;case 24:throw this.mj(e2U,p.error),p.error;R6w=23;break;case 15:this.Ua.$j(m2U);p.vc||(p.vc=R.vc);this.af=p;R6w=25;break;case 13:this.xo&&(d.push(0),h.push(0));this.MM.U4a();k=b.AL;this.zb.Pe&&this.zb.Pe.BL(k,this.Tk.sessionId);g=this.MM.N3a(h,c);R6w=19;break;case 2:a=this;R6w=5;break;}}};Object.defineProperties(a.prototype,{LV:{get:function(){var K6w,j2U;K6w=2;while(K6w!==1){j2U="1";j2U+=".";j2U+="0";switch(K6w){case 2:return j2U;break;case 4:return"";break;K6w=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.kfa=function(){};a.prototype.flush=function(){var d6w;d6w=2;while(d6w!==1){switch(d6w){case 4:this.iq.flush();d6w=2;break;d6w=1;break;case 2:this.iq.flush();d6w=1;break;}}};a.prototype.paused=function(){var x6w;x6w=2;while(x6w!==1){switch(x6w){case 4:this.W.paused();x6w=2;break;x6w=1;break;case 2:this.W.paused();x6w=1;break;}}};a.prototype.SQ=function(){var B6w;B6w=2;while(B6w!==1){switch(B6w){case 2:this.W.SQ();B6w=1;break;case 4:this.W.SQ();B6w=0;break;B6w=1;break;}}};k1w=29;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var U1w;U1w=2;while(U1w!==1){switch(U1w){case 4:return this.addListener.bind(this);break;U1w=1;break;case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var I1w;I1w=2;while(I1w!==1){switch(I1w){case 4:return this.removeListener.bind(this);break;I1w=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ttb:{get:function(){var g1w;g1w=2;while(g1w!==1){switch(g1w){case 4:return this.af.vc;break;g1w=1;break;case 2:return this.af.vc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xo:{get:function(){var f1w;f1w=2;while(f1w!==1){switch(f1w){case 2:return this.ib(0);break;case 4:return this.ib(1);break;f1w=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lk:{get:function(){var W1w;W1w=2;while(W1w!==1){switch(W1w){case 2:return this.ib(1);break;case 4:return this.ib(8);break;W1w=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var z1w;z1w=2;while(z1w!==1){switch(z1w){case 4:return this.r8;break;z1w=1;break;case 2:return this.r8;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sk:{get:function(){var H1w;H1w=2;while(H1w!==1){switch(H1w){case 4:return this.Nf;break;H1w=1;break;case 2:return this.Nf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kP:{get:function(){var r1w;r1w=2;while(r1w!==1){switch(r1w){case 4:return 3>this.FU?this.FU:6;break;r1w=1;break;case 2:return 0<=this.FU?this.FU:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gd:{get:function(){var E1w;E1w=2;while(E1w!==1){switch(E1w){case 4:return this.kc[this.AE];break;E1w=1;break;case 2:return this.kc[this.AE];break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{op:{get:function(){var Y1w;Y1w=2;while(Y1w!==1){switch(Y1w){case 4:return this.zb.op;break;Y1w=1;break;case 2:return this.zb.op;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xs:{get:function(){var s1w;s1w=2;while(s1w!==1){switch(s1w){case 4:return this.i7a;break;s1w=1;break;case 2:return this.i7a;break;}}},enumerable:!1,configurable:!0}});k1w=12;break;case 12:Object.defineProperties(a.prototype,{jO:{get:function(){var C1w;C1w=2;while(C1w!==1){switch(C1w){case 2:return this.zE;break;case 4:return this.zE;break;C1w=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hC:{get:function(){var h1w;h1w=2;while(h1w!==1){switch(h1w){case 2:return this.UU;break;case 4:return this.UU;break;h1w=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.ib=function(a){var S1w;S1w=2;while(S1w!==1){switch(S1w){case 4:return this.M7a[a];break;S1w=1;break;case 2:return this.M7a[a];break;}}};a.prototype.iN=function(){var L1w;L1w=2;while(L1w!==1){switch(L1w){case 2:return u.time.ea()-this.z8;break;case 4:return u.time.ea()+this.z8;break;L1w=1;break;}}};a.prototype.DRa=function(a){var G1w;G1w=2;while(G1w!==1){switch(G1w){case 2:this.SE=a;G1w=1;break;case 4:this.SE=a;G1w=2;break;G1w=1;break;}}};a.prototype.ZHa=function(){var e1w;e1w=2;while(e1w!==1){switch(e1w){case 2:return(this.kc||[]).reduce(function(a,b){var P1w,c;P1w=2;while(P1w!==3){switch(P1w){case 2:c=b.R;t.Ke.forEach(function(b){var v1w;v1w=2;while(v1w!==1){switch(v1w){case 2:c.kq[b]>a[b]&&(a[b]=c.kq[b]);v1w=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.TG=function(){var c1w,a;c1w=2;while(c1w!==3){switch(c1w){case 2:a=0;l.forEach(this.Gd.R.ya.audio_tracks,function(b){var D1w;D1w=2;while(D1w!==1){switch(D1w){case 2:l.forEach(b.streams,function(b){var p1w;p1w=2;while(p1w!==1){switch(p1w){case 2:a=Math.max(a,b.bitrate);p1w=1;break;}}});D1w=1;break;}}});return a;break;}}};a.prototype.Rf=function(a){var M1w;M1w=2;while(M1w!==1){switch(M1w){case 4:return this.kc[a];break;M1w=1;break;case 2:return this.kc[a];break;}}};a.prototype.Ulb=function(){var w1w,a;w1w=2;while(w1w!==4){switch(w1w){case 9:w1w=6;break;w1w=1;break;case 2:w1w=1;break;case 1:a=this.kc[0];return a.R.se.Af?this.kc[1]:a;break;}}};a.prototype.nG=function(){var m1w;m1w=2;while(m1w!==1){switch(m1w){case 2:return this.kc.length;break;case 4:return this.kc.length;break;m1w=1;break;}}};a.prototype.Iga=function(a,b){var b1w;b1w=2;while(b1w!==9){switch(b1w){case 2:b1w=a===b?1:5;break;case 1:return!0;break;case 5:a=this.kc[a];b=this.kc[b];return a.R.se.Af&&b.R.se.rO||b.R.se.Af&&a.R.se.rO;break;}}};k1w=25;break;case 54:a.prototype.seek=function(a,b){var z6w;z6w=2;while(z6w!==1){switch(z6w){case 4:return this.wl.seek(a,b);break;z6w=1;break;case 2:return this.wl.seek(a,b);break;}}};a.prototype.NTa=function(a){var H6w,Y6w,b,c,f,d,k,q2U,v2U,P2U,k2U,W2U;H6w=2;while(H6w!==26){q2U="u";q2U+="nd";q2U+="erflow";v2U="br";v2U+="a";v2U+="nchO";v2U+="f";v2U+="fset:";P2U="entr";P2U+="y.m";P2U+="anifes";P2U+="tO";P2U+="ffset:";k2U="co";k2U+="ntentPt";k2U+="s";k2U+=":";W2U="underfl";W2U+="ow: going to B";W2U+="U";W2U+="FFERING at play";W2U+="er pts:";switch(H6w){case 17:try{Y6w=2;while(Y6w!==1){switch(Y6w){case 4:this.tX(h.ma.we);Y6w=2;break;Y6w=1;break;case 2:this.tX(h.ma.we);Y6w=1;break;}}}catch(fb){var h2U;h2U="Hindsight: Erro";h2U+="r ";h2U+="when e";h2U+="valuating QoE at Bufferi";h2U+="ng: ";i4YY.l3U(0);this.Ua.sm(i4YY.g3U(h2U,fb));}H6w=16;break;case 2:b=this;c=this.K;f=this.Fr(this.kP,a);this.ab(W2U,a,k2U,f,P2U,this.Gd.$r,v2U,this.pa.de);H6w=9;break;case 9:Ga.D7.WAb();d=c.cv;this.wf.forEach(function(b){var r6w;r6w=2;while(r6w!==1){switch(r6w){case 2:d=Math.max(0,Math.min(d,b.Qea-a));r6w=1;break;}}});this.W9+=1;this.pa.Sb.qna(f,this.K.Jma);k=this.pa.Sb;H6w=12;break;case 18:H6w=this.Io?17:16;break;case 12:t.Ke.forEach(function(f){var E6w,d,h,l,S2U,f2U,b2U,B2U,Y2U,T2U,U2U,s2U,V2U;E6w=2;while(E6w!==14){S2U=", toA";S2U+="ppen";S2U+="d: ";f2U=", fragme";f2U+="nt";f2U+="s:";f2U+=" ";b2U=", comple";b2U+="teStr";b2U+="eamin";b2U+="gPts: ";B2U=", streaming";B2U+="Pts";B2U+=": ";Y2U=", part";Y2U+="i";Y2U+="als:";Y2U+=" ";T2U=", complet";T2U+="edBytes";T2U+=": ";U2U=", co";U2U+="mpl";U2U+="etedMs: ";s2U=", ";s2U+="mediaTy";s2U+="pe";s2U+=":";s2U+=" ";V2U="unde";V2U+="r";V2U+="flow";V2U+=":";V2U+=" ";switch(E6w){case 4:E6w=c.Pg?3:7;break;case 2:d=k.Hc(f);E6w=5;break;case 5:E6w=d?4:14;break;case 9:l=b.pa.HA(k,f);E6w=8;break;case 3:h=b.wf[f];E6w=9;break;case 8:h=V2U+a+s2U+f+U2U+d.sF+T2U+l+Y2U+d.Ha.qv+B2U+d.Lb+b2U+d.Cr+f2U+JSON.stringify(d.Ha.Z)+S2U+(h&&h.u1());E6w=7;break;case 7:c.Pg&&b.Ua.vk(h);d.lW();E6w=14;break;}}});this.Gd.R.wk();this.emit(q2U);this.jV(2);this.df.ii();H6w=18;break;case 16:f=this.zb.ub.get();H6w=15;break;case 15:f=f.Fd?f.Fa.Ca:0;H6w=27;break;case 27:d>c.Sib&&f>c.Rib&&this.i$();H6w=26;break;}}};a.prototype.Ph=function(a){var s6w;s6w=2;while(s6w!==1){switch(s6w){case 2:return this.wl.Ph(a);break;case 4:return this.wl.Ph(a);break;s6w=1;break;}}};a.prototype.ju=function(a,b,c){var C6w;C6w=2;while(C6w!==1){switch(C6w){case 4:return this.wl.ju(a,b,c);break;C6w=1;break;case 2:return this.wl.ju(a,b,c);break;}}};a.prototype.wza=function(a){var h6w,b;h6w=2;while(h6w!==9){switch(h6w){case 2:this.AE=a;h6w=5;break;case 5:b=this.kc[a];this.Ua.V5a(a,b);this.Ua.Oza(b.R.kq);h6w=9;break;}}};a.prototype.jBa=function(a,b,c){var S6w,f,d,h,g,p,n,q,z2U,L2U,u2U,w2U,l2U,H2U,g2U,d2U,a2U,D2U,K2U,F2U;S6w=2;while(S6w!==28){z2U="addManife";z2U+="st in fastplay but not drm man";z2U+="ifest,";z2U+=" leaving space";z2U+=" for it";L2U="a";L2U+="ddManif";L2U+="est: pipelines alre";L2U+="ady shutdown";u2U="b";u2U+="oo";u2U+="l";u2U+="e";u2U+="an";w2U="v";w2U+="ideo";w2U+="_trac";w2U+="ks";l2U="au";l2U+="dio_tra";l2U+="cks";H2U="addManifest ignored, ";H2U+="pipelines already ";H2U+="set EOS:";g2U=",";g2U+=" ";d2U=") l";d2U+="astStream";d2U+="Append";d2U+="ed";d2U+=": (";a2U=",";a2U+=" ";D2U=" s";D2U+="trea";D2U+="mCount: (";K2U=" playerSt";K2U+="ate";K2U+=": ";F2U="addMani";F2U+="fe";F2U+="st, curre";F2U+="ntPts:";F2U+=" ";switch(S6w){case 4:S6w=this.Ze()?3:9;break;case 31:a.R.QH([a.fm(0),a.fm(1)]);this.xV();return!0;break;case 22:b.replace||this.pa.e9a(n,g,p);b=this.$a.hs[0].EB;c=this.$a.hs[1].EB;d.Pg&&this.Ua.vk(F2U+this.W.Wd()+K2U+this.W.Yc()+D2U+a.fm(0).Lc.length+a2U+a.fm(1).Lc.length+d2U+b+g2U+c+")");S6w=33;break;case 6:S6w=!b.npb&&(this.xo&&h.ao||this.Lk&&g.ao)?14:13;break;case 2:f=this;d=this.K;S6w=4;break;case 14:this.ab(H2U,h.ao,g.ao);S6w=28;break;case 13:b.hC&&(this.UU=!0);h=this.kc.length;S6w=11;break;case 9:b||(b={});h=this.pa.Sb.Hc(0);g=this.pa.Sb.Hc(1);S6w=6;break;case 33:S6w=this.xo&&l.X(b)||this.Lk&&l.X(c)?32:31;break;case 19:a=k.z5.create({Xa:h,ya:a,Bk:c,bRa:b.iGb||[this.Gd.hY(0),this.Gd.hY(1)],Af:!1,cKa:!!b.replace,Ki:!!b.Ki,Kp:b.Kp||this.rK,T:g,na:p,Ua:this.Ua,Tr:this.eza.bind(this),zm:this.DRa.bind(this,!1),ib:this.ib.bind(this),sb:this,config:this.K,G:this.G,df:this.df,wl:this.wl,Pe:this.WAa?this.zb.Pe:void 0,Rx:this.Rx});n=a.R;c=[l2U,w2U];q=this.ZHa();b.replace&&c.forEach(function(a,b){var L6w,c,d;L6w=2;while(L6w!==9){switch(L6w){case 2:c=n.sG(b);L6w=5;break;case 4:d=f.kc[0].R;Object.keys(c).forEach(function(a){var G6w,f;G6w=2;while(G6w!==4){switch(G6w){case 2:f=d.Rr(b,a);f&&f.Xd&&(c[a].vW(f),a=n.kq,a[b]>q[b]&&(q[b]=a[b]));G6w=4;break;}}});L6w=9;break;case 5:L6w=c?4:9;break;}}});c.forEach(function(a,b){var e6w,c;e6w=2;while(e6w!==4){switch(e6w){case 2:c=n.sG(b);c&&Object.keys(c).forEach(function(a){var P6w,f;P6w=2;while(P6w!==3){switch(P6w){case 4:c[a].UTa(f,n.Mu()?d.OLa:0);P6w=3;break;case 2:f=u.lk()[b];1===b&&0<d.ds&&(f=Math.min(f,d.ds));P6w=4;break;}}});e6w=4;break;}}});a.DL=u2U===typeof b.mCa?b.mCa:!0;S6w=25;break;case 25:this.kc[h]&&this.kc[h].wc();this.kc[h]=a;a.SCa();S6w=22;break;case 32:return!0;break;case 3:this.ab(L2U);S6w=28;break;case 11:b.replace&&1!==h?h=1:this.Gd.R.se.Af&&!b.replace&&1===h&&(this.ab(z2U),h=this.kc[0].clone(),this.kc.push(h),h=this.kc.length);g=b.T||0;p=b.na;S6w=19;break;}}};a.prototype.vL=function(a){var v6w;v6w=2;while(v6w!==1){switch(v6w){case 4:return this.wl.vL(a);break;v6w=1;break;case 2:return this.wl.vL(a);break;}}};a.prototype.dX=function(a,b){var c6w,c,f,d,Q2U,G2U,M2U,y2U;c6w=2;while(c6w!==14){Q2U=" rea";Q2U+="dyS";Q2U+="t";Q2U+="ate:";Q2U+=" ";G2U=" ";G2U+="fo";G2U+="r movie";G2U+="Id: ";M2U=",";M2U+=" ";y2U="drmR";y2U+="eady at streamin";y2U+="g pts: ";switch(c6w){case 2:c=this.K;c6w=5;break;case 5:c6w=!this.Ze()?4:14;break;case 7:i4YY.H3U(0);this.W.aQ(i4YY.d3U(a,""),b);b&&(this.wf.forEach(function(a){var D6w;D6w=2;while(D6w!==5){switch(D6w){case 2:c.LX&&a.yGa();c.MI&&a.resume();D6w=5;break;}}}),c.MI&&this.jL(),this.Gd.R.se.Af&&this.wV(this.wl.Pw?this.wl.Pw.Xa:this.AE+1),this.wl.Y8());c6w=14;break;case 4:l.X(b)&&(b=!0);f=this.pa.Sb.Hc(0);d=this.pa.Sb.Hc(1);c.Pg&&this.Ua.vk(y2U+(f?f.Lb:null)+M2U+(d?d.Lb:null)+G2U+a+Q2U+b);c6w=7;break;}}};a.prototype.Nfa=function(){var p6w;p6w=2;while(p6w!==1){switch(p6w){case 4:return this.W.Pu(this.Gd.R);break;p6w=1;break;case 2:return this.W.Pu(this.Gd.R);break;}}};a.prototype.uya=function(a){var M6w,b,c,f;M6w=2;while(M6w!==20){switch(M6w){case 2:M6w=1;break;case 1:M6w=a>=this.kc.length?5:4;break;case 6:M6w=!(a===this.AE+1&&c.se.replace||b&&f)||!this.W.Pu(c)?14:13;break;case 13:a=c.dg[0];b=c.dg[1];b=!this.Lk||b&&b.stream.Xd;return(!this.xo||a&&a.stream.Xd)&&b?!0:!1;break;case 5:return!1;break;case 4:b=this.pa.Sb.Hc(0);c=this.pa.Sb.Hc(1);b=!b||b.Cg;f=!c||c.Cg;c=this.kc[a].R;M6w=6;break;case 14:return!1;break;}}};a.prototype.xV=function(){var w6w;w6w=2;while(w6w!==1){switch(w6w){case 4:this.wV(this.AE%4);w6w=7;break;w6w=1;break;case 2:this.wV(this.AE+1);w6w=1;break;}}};k1w=64;break;case 76:a.prototype.ME=function(){var u0w,a;u0w=2;while(u0w!==3){switch(u0w){case 2:a=this.W.vg();u0w=5;break;case 4:a&&this.Ua.E9(),this.qL(),this.W.Zd(h.ma.Nc),this.df.ii();u0w=3;break;case 5:u0w=a||this.$a.Xt?4:3;break;case 6:u0w=a&&this.$a.Xt?9:4;break;u0w=a||this.$a.Xt?4:3;break;}}};a.prototype.i$=function(){var F0w,a,b;F0w=2;while(F0w!==8){switch(F0w){case 2:a=this;b=this.W.vg();this.pa.Sb.zC(b,function(b){var K0w;K0w=2;while(K0w!==1){switch(K0w){case 2:return a.wf[b]?a.wf[b].u1():"";break;}}});F0w=3;break;case 3:this.dE&&(clearTimeout(this.dE),this.dE=void 0);this.mt.av();F0w=8;break;}}};a.prototype.AAa=function(a){var d0w,b,x0w;d0w=2;while(d0w!==6){switch(d0w){case 8:d0w=this.Io&&1===a.M?7:6;break;case 2:a.Cg=!0;a.ao=!1;b=this.W.Wd()||0;a.pF(b);this.$a.pt();d0w=8;break;case 7:try{x0w=2;while(x0w!==1){switch(x0w){case 2:this.tX(h.ma.VD,{na:a.Ub});x0w=1;break;}}}catch(Oa){var R2U;R2U="Hi";R2U+="ndsight: Error evaluating Qo";R2U+="E at endOf";R2U+="S";R2U+="tream: ";i4YY.H3U(0);this.Ua.sm(i4YY.g3U(R2U,Oa));}d0w=6;break;}}};a.prototype.d7a=function(){var B0w,a;B0w=2;while(B0w!==4){switch(B0w){case 2:a=this.zb.ub;a&&(a=a.get())&&a.avtp&&this.op.I8a({avtp:a.avtp.Ca});B0w=4;break;}}};a.prototype.G7a=function(){var q0w,a,b,c,o2U,C2U,O2U;q0w=2;while(q0w!==8){o2U="startup, playerSt";o2U+="ate no long";o2U+="er STARTING:";C2U="failed to s";C2U+="tart au";C2U+="dio pipeline";O2U="fa";O2U+="iled to sta";O2U+="rt video pipeline";switch(q0w){case 2:this.W.Zd(h.ma.Gg);a=this.pa.Sb;b=a.Hc(0);q0w=3;break;case 3:c=a.Hc(1);this.Lk&&!this.FAa(c)?this.ab(O2U):this.xo&&!this.FAa(b)?this.ab(C2U):(this.$za=!0,this.kc[0].R.ZY=!0,b=this.$a.Ie[1],c=this.$a.Ie[0],(b&&0<b.sq||c&&0<c.sq)&&this.Ua.O5a(String(a.R.u),c?c.sq:0,b?b.sq:0,c?c.iP:0,b?b.iP:0),this.W.rKa()?(this.jV(0),this.xo&&(a=this.Gd.hY(0),b=this.Gd.fm(0).cb,this.Ua.R5a(a,b))):this.ab(o2U,this.W.Yc()));q0w=8;break;}}};a.prototype.FAa=function(a){var X0w,b,c,E2U,J2U;X0w=2;while(X0w!==12){E2U="NFE";E2U+="rr_MC_StreamingInitFail";E2U+="ure";J2U="st";J2U+="artPi";J2U+="pelin";J2U+="e failed";switch(X0w){case 5:c=this.$a.nnb(a);X0w=4;break;case 2:b=a.M;X0w=5;break;case 4:X0w=l.X(c)?3:9;break;case 9:a=a.track.Lc[c];X0w=8;break;case 3:return this.Ze()||this.Xk(J2U,a.Xc.R.Xa,E2U),!1;break;case 7:return!0;break;case 6:c=this.Gd.R;a.R.eEa(a,{offset:0,wx:!c.se.Af&&!c.Ki&&1===b,Kr:!this.$a.Ie[b].Bjb});return!0;break;case 8:X0w=a.Ri()?7:6;break;}}};a.prototype.jV=function(a,b){var k0w,c,f,d,k,l,N2U;k0w=2;while(k0w!==27){N2U="start";N2U+="Buf";N2U+="fe";N2U+="ri";N2U+="ng";switch(k0w){case 10:t.Ke.forEach(function(b){var Q0w;Q0w=2;while(Q0w!==5){switch(Q0w){case 1:b.Kaa=0,b.seeking=0===a||1===a,b.lW();Q0w=5;break;case 2:Q0w=(b=c.pa.Sb.Hc(b))?1:5;break;}}});this.z8=u.time.ea();d.wn=k.wn=this.z8;k0w=18;break;case 4:d=this.$a.Ie[0]||{};k=this.$a.Ie[1]||{};l=this.$a.Gv[1]||{};k0w=8;break;case 18:0===a&&(!this.Lk||0<k.sq)&&(!this.xo||0<d.sq)&&this.$a.pt();f.SM&&(this.S8=setTimeout(function(){var J0w;J0w=2;while(J0w!==1){switch(J0w){case 4:c.d7a();J0w=2;break;J0w=1;break;case 2:c.d7a();J0w=1;break;}}},f.Xca));this.W.vg()&&(this.dE=setTimeout(function(){var O0w;O0w=2;while(O0w!==1){switch(O0w){case 4:c.$a.pt();O0w=3;break;O0w=1;break;case 2:c.$a.pt();O0w=1;break;}}},f.vv));this.df.ii();k0w=27;break;case 2:c=this;f=this.K;k0w=4;break;case 8:(this.$a.Gv[0]||{}).ZL=void 0;l.ZL=void 0;this.W.Zd(2===a?h.ma.Eg:h.ma.we);this.Ua.L5a(b);this.mt.reset();this.Gd.R.QO();this.emit(N2U);k0w=10;break;}}};a.prototype.yV=function(a){var N0w,b,Z2U,A2U;N0w=2;while(N0w!==9){Z2U="AdoptingData";Z2U+=" still has ";Z2U+="l";Z2U+="ock:";A2U="wipeHe";A2U+="ad";A2U+="e";A2U+="rCa";A2U+="che:";switch(N0w){case 4:b=this.K;b.Via||(b.Pg&&this.Ua.vk(a),this.zb.aW(),this.Ig&&(this.Ig=void 0));N0w=9;break;case 2:i4YY.l3U(0);a=i4YY.d3U(A2U,a);this.xw.Zw&&this.Ye(Z2U+a);N0w=4;break;}}};a.prototype.tya=function(a){var n0w,c,f,d,h,e6U,n6U,r6U;function b(a,b){var U0w,f,d,h,k,g,p,n,t6U;U0w=2;while(U0w!==15){t6U="adop";t6U+="tPip";t6U+="e";t6U+="line no ";t6U+="header for streamId:";switch(U0w){case 10:return h;break;case 3:U0w=d?9:16;break;case 4:h=U.resolve(void 0);U0w=3;break;case 17:b.GV(d.Lo,!b.se.Af&&!b.Ki&&1===f,!0)&&(void 0!==a.cC&&a.BC(a.cC),h=b.Ri(f,k).stream.Z.cm(a.Lb,void 0,!0),b=g.mi(h),g=b.T,a.Zla()&&(b=b.EX(a.Lb))&&0<b.Rc&&(g=b.Rc),a.Lb!==g&&(a.Tla(g,h),c.f$(f,g)),h=c.W2a(a,d.data).then(function(){var I0w;I0w=2;while(I0w!==1){switch(I0w){case 4:return k;break;I0w=1;break;case 2:return k;break;}}}),p.Bjb=!0,0===f&&c.uf.fI(d.Lo.O));U0w=16;break;case 11:U0w=!a.fIb(k)?10:20;break;case 2:f=a.M;d=b[f];U0w=4;break;case 13:n.Oo=b.Oo;n.Ko=b.Ko;U0w=11;break;case 19:return a.Ye(t6U,k),h;break;case 9:k=d.sa;g=d.Lo.stream;p=c.$a.Ie[f];n=c.$a.Gv[f];l.X(b.cq)||c.uf.wRa(b.cq,b.nk,b.pk);U0w=13;break;case 18:b=c.Gd.R;U0w=17;break;case 20:U0w=!d.Lo?19:18;break;case 16:return h;break;}}}n0w=2;while(n0w!==13){e6U="Previously adopted ";e6U+="request list still retaine";e6U+="d";e6U+=" was un";e6U+="expected";n6U="c";n6U+="a";n6U+="t";n6U+="c";n6U+="h";r6U="chec";r6U+="k";r6U+="ForHcdSta";r6U+="rt";switch(n0w){case 7:this.Ua.$j(r6U);this.kc.forEach(function(b){var g0w;g0w=2;while(g0w!==1){switch(g0w){case 2:b.R.u===a&&(h=b);g0w=1;break;}}});return this.zb.Pe.Psb(a,h?h.R:void 0).then(function(a){var f0w,f,h,I6U,i6U,c6U;f0w=2;while(f0w!==6){I6U="adoptHcd";I6U+="S";I6U+="ta";I6U+="rt";i6U="headerCac";i6U+="heDat";i6U+="aNotFound";c6U="che";c6U+="ckFor";c6U+="H";c6U+="cdEnd";switch(f0w){case 2:c.Ua.$j(c6U);f0w=5;break;case 5:f0w=l.X(a)?4:3;break;case 4:return d.AL||c.xw.Zw||c.yV(i6U),U.resolve();break;case 3:f=c.pa.Sb.Hc(0);h=c.pa.Sb.Hc(1);c.Ua.$j(I6U);return c.xw.LUa(function(){var W0w,k,l,X6U;W0w=2;while(W0w!==6){X6U="ado";X6U+="p";X6U+="tHc";X6U+="dE";X6U+="nd";switch(W0w){case 2:k=U.resolve();c.Lk&&(k=b(h,a));l=U.resolve();!c.xo||d.jJa&&!k||(l=d.jJa?k.then(function(c){var z0w;z0w=2;while(z0w!==1){switch(z0w){case 2:return c?b(f,a):U.resolve();break;case 4:return c?b(f,a):U.resolve();break;z0w=1;break;}}}):b(f,a));c.iza=a;c.Ua.$j(X6U);W0w=7;break;case 7:return U.all([k,l]);break;}}});break;}}}).then(function(){var H0w,a,p6U;H0w=2;while(H0w!==5){p6U="ad";p6U+="opt";p6U+="edCompletedRequests";switch(H0w){case 2:d.AL||(null===(a=c.Ig)||void 0===a?0:a.sB())||c.xw.Zw||c.yV(p6U);H0w=5;break;}}})[n6U](function(a){var r0w,x6U;r0w=2;while(r0w!==1){x6U="he";x6U+="aderCache:lookup";x6U+="D";x6U+="ataPromise caug";x6U+="ht error:";switch(r0w){case 4:c.ab("",a);r0w=5;break;r0w=1;break;case 2:c.ab(x6U,a);r0w=1;break;}}});break;case 3:d=this.K;n0w=9;break;case 9:n0w=!this.h8a||!this.zb.Pe?8:7;break;case 2:c=this;(null===(f=this.Ig)||void 0===f?0:f.sB())&&this.Ye(e6U);this.Ig=void 0;n0w=3;break;case 8:return this.zb.Qaa(),U.resolve();break;}}};a.prototype.W2a=function(a,b){var E0w,c,f,d,h,k,g,p;E0w=2;while(E0w!==13){switch(E0w){case 4:return U.resolve();break;case 7:k=a.M;g=this.$a.Ie[k];return this.xw.LUa(function(){var Y0w,n;Y0w=2;while(Y0w!==3){switch(Y0w){case 1:Y0w=0<b.length?5:4;break;case 5:f();Y0w=1;break;case 2:n=[];Y0w=1;break;case 4:return U.all(n);break;case 14:return U.all(n);break;Y0w=3;break;}}function f(){var s0w,f,j6U,m6U;s0w=2;while(s0w!==4){j6U="adoptData, not adopting fail";j6U+="ed med";j6U+="i";j6U+="aR";j6U+="equest:";m6U="adoptData, ";m6U+="not adopting aborted med";m6U+="iaRequest:";switch(s0w){case 2:f=b.shift();7===f.readyState?a.ab(m6U,f.toString()):6===f.readyState?(a.ab(j6U,f.toString()),c.rA(f,!1)):a.Lb>=f.xc&&a.Lb<f.Ub&&(a.Lb<h||!l.la(h))?(n.push(c.X2a(a,f).then(function(){var C0w;C0w=2;while(C0w!==1){switch(C0w){case 4:f.complete||c.RIa(f);C0w=6;break;C0w=1;break;case 2:f.complete&&c.RIa(f);C0w=1;break;}}})),a.mDb(f.Ub),l.la(h)&&a.Lb>=h&&c.Ua.F9(d,f.Ub),0===k&&c.uf.fI(f.O),f.complete?(g.sq+=f.duration,f.tsb&&(g.iP+=f.duration),p=f):(c.Ig||(c.Ig=new Fa.Vna(c.G)),c.Ig.push(f))):c.rA(f,!1);s0w=4;break;}}}}).then(function(){var h0w,b,d;h0w=2;while(h0w!==8){switch(h0w){case 2:p&&a.SIa(p);h0w=5;break;case 4:b=c.kc[f.R.Xa];d=a.Hda(a.Lb);h0w=9;break;case 5:h0w=p||(null===(b=c.Ig)||void 0===b?0:b.sB())?4:8;break;case 9:void 0!==d?(a.uk=d,a.ag=b.R.dg[k].stream.mi(a.uk)):a.uk=a.fg?a.fg.index+1:a.uk+1;h0w=8;break;}}});break;case 5:E0w=0===b.length?4:3;break;case 2:c=this;E0w=5;break;case 3:f=a.b_;d=f.ca;h=Math.min(this.kc[0].na||Infinity,f.Ub||Infinity);E0w=7;break;}}};a.prototype.X2a=function(a,b){var S0w,c,f,P6U,k6U,W6U,h6U;S0w=2;while(S0w!==8){P6U="c";P6U+="at";P6U+="c";P6U+="h";k6U=",";k6U+=" pts:";k6U+=" ";W6U=",";W6U+=" s";W6U+="ta";W6U+="t";W6U+="e: ";h6U="a";h6U+="dop";h6U+="tMediaRequest: type: ";switch(S0w){case 2:c=this;S0w=5;break;case 5:f=a.M;this.K.Pg&&this.Ua.vk(h6U+f+W6U+b.readyState+k6U+b.xc);this.f$(f,b.xc);return a.Ha.u9a(b)[P6U](function(a){var L0w,v6U;L0w=2;while(L0w!==1){v6U="Err";v6U+="or ado";v6U+="ptin";v6U+="g reque";v6U+="sts";switch(L0w){case 2:c.Ye(v6U,a);L0w=1;break;case 4:c.Ye("",a);L0w=9;break;L0w=1;break;}}});break;}}};k1w=90;break;case 64:a.prototype.wV=function(a){var m6w,b;m6w=2;while(m6w!==14){switch(m6w){case 2:m6w=1;break;case 3:m6w=b.Pib||!b.R.se.replace?9:8;break;case 1:m6w=!this.uya(a)?5:4;break;case 5:return!1;break;case 4:b=this.kc[a];m6w=3;break;case 8:this.N7a(a);this.df.ii();return!0;break;case 9:return!1;break;}}};a.prototype.N7a=function(a){var b6w,b,c,f,d,h,U6U,s6U,V6U;b6w=2;while(b6w!==17){U6U=",";U6U+=" ";s6U=", streami";s6U+="ng";s6U+="Pts:";s6U+=" ";V6U="s";V6U+="wi";V6U+="tchManifest manifestInd";V6U+="ex: ";switch(b6w){case 6:f=this.Gd;b6w=14;break;case 2:b=this.kc[a];c=this.pa.Sb;f=c.Ge(0);f=f?f.Lb:void 0;b6w=9;break;case 11:d?this.pa.QAb(f.R,b.R,h):c.KRa(b.R,h);this.wza(a);b.aja();b6w=19;break;case 9:d=c.Ge(1);d=d?d.Lb:void 0;this.K.Pg&&this.Ua.vk(V6U+a+s6U+f+U6U+d);b6w=6;break;case 14:d=f.R.se.Af;h=[];[1,0].forEach(function(a){var j6w;j6w=2;while(j6w!==1){switch(j6w){case 2:b.R.ib(a)&&(h[a]=b.fm(a));j6w=1;break;}}});b6w=11;break;case 19:this.wl.Y8();this.df.ii();b6w=17;break;}}};a.prototype.wNa=function(){var y6w,a,b,c,f,Y6U,T6U;y6w=2;while(y6w!==12){Y6U="o";Y6U+="nAudioTrackSwitchStarted igno";Y6U+="red, n";Y6U+="o audio pipeline";T6U="onAudioTrackSwitchStarted but current playing request no";T6U+="t fou";T6U+="nd";switch(y6w){case 2:a=this.pa.Sb;b=a.Ge(0);y6w=4;break;case 4:y6w=b?3:13;break;case 3:c=this.W.Wd();f=this.$a.Ie[b.M];(a=this.pa.Jr(c,a,0))?b=a.Ha:(this.ab(T6U),b=b.Ha);y6w=7;break;case 7:this.N6a(b);f.NI=!1;y6w=14;break;case 14:this.df.ii();y6w=12;break;case 13:this.ab(Y6U);y6w=12;break;}}};a.prototype.LSa=function(a){var Z6w,b,c,f,d,h,D6U,K6U,F6U,q6U,S6U,f6U,b6U,B6U;Z6w=2;while(Z6w!==21){D6U="switchTracks rejected, pre";D6U+="vious switch sti";D6U+="ll i";D6U+="n progress: ";K6U="switchTracks rejected, previous switch st";K6U+="ill";K6U+=" waiting to start";F6U="switchTracks rejec";F6U+="ted, audio disab";F6U+="led";q6U="switchTracks rejec";q6U+="t";q6U+="ed, bufferi";q6U+="ng";S6U=" ";S6U+="t";S6U+="o";S6U+=": ";f6U="switchTra";f6U+="cks c";f6U+="urrent:";f6U+=" ";b6U="switchTracks ";b6U+="rejected, buffe";b6U+="rL";b6U+="evelMs";B6U="switch";B6U+="Tracks ";B6U+="can't fi";B6U+="nd ";B6U+="trackId:";switch(Z6w){case 2:b=this.K;Z6w=5;break;case 26:return!1;break;case 15:h=this.Gd.fm(0).cb;Z6w=27;break;case 3:Z6w=this.$a.Xt?9:8;break;case 16:return this.ab(B6U,a),!1;break;case 17:Z6w=!d?16:15;break;case 20:return this.ab(b6U,d,"<",b.B_),!1;break;case 10:Z6w=d<b.B_?20:19;break;case 25:b.Pg&&this.Ua.vk(f6U+h+S6U+d.cb);c.O_={cb:a};this.F7a(f.Ge(0));return!0;break;case 6:c=this.$a.Ie[0];Z6w=14;break;case 7:return this.ab(q6U),!1;break;case 14:Z6w=c.NI?13:12;break;case 18:d=this.Gd.R.getTrackById(a);Z6w=17;break;case 19:a=a.zA;Z6w=18;break;case 4:return this.ab(F6U),!1;break;case 8:Z6w=this.W.vg()?7:6;break;case 27:Z6w=h===d.cb?26:25;break;case 5:Z6w=!this.xo?4:3;break;case 12:f=this.pa.Sb;d=this.pa.Ar(f,1);Z6w=10;break;case 13:return this.ab(K6U),!1;break;case 9:return this.ab(D6U+JSON.stringify(this.$a.Xt)),!1;break;}}};a.prototype.CC=function(a,b){var V0w,c,d;V0w=2;while(V0w!==9){switch(V0w){case 2:c=this;this.rK=a;void 0!==b&&(d=this.gmb(b));void 0!==d?this.Rf(d).fm(1).Lc.forEach(function(a){var o0w,b;o0w=2;while(o0w!==4){switch(o0w){case 2:b=f.EL(a.Qf,a.O,c.rK,c.G);E(b,a);o0w=4;break;}}}):this.pa.CC(this.rK);V0w=9;break;}}};a.prototype.Jr=function(a,b,c){var R0w;R0w=2;while(R0w!==1){switch(R0w){case 2:return this.pa.Jr(a,this.pa.Ck,b,c);break;}}};a.prototype.fu=function(a){var a0w;a0w=2;while(a0w!==1){switch(a0w){case 4:return this.wl.fu(a);break;a0w=1;break;case 2:return this.wl.fu(a);break;}}};a.prototype.tX=function(a,b){var T0w,c,f,l0w;T0w=2;while(T0w!==14){switch(T0w){case 9:T0w=b?8:7;break;case 2:c=this.$a;a=c.Fda(a,b);f=this.uf.rka;T0w=3;break;case 3:a&&!a.cF&&f.rda(a);T0w=9;break;case 7:b=f.Skb();try{l0w=2;while(l0w!==1){switch(l0w){case 2:this.Ua.Q5a(b);l0w=1;break;case 4:this.Ua.Q5a(b);l0w=9;break;l0w=1;break;}}}catch(Ia){var d6U,a6U;d6U="]";d6U+=" ";d6U+="[";a6U="exce";a6U+="pti";a6U+="on: ";a6U+="[";this.G.error(a6U+Ia.message+d6U+Ia.FVb+"]");}T0w=14;break;case 8:c.Zka();T0w=14;break;}}};a.prototype.TCa=function(a,b,c,f){var A0w;A0w=2;while(A0w!==4){switch(A0w){case 2:f&&(Q.assert(void 0===b),b=this.qY(f));i4YY.l3U(1);Q.assert(i4YY.d3U(0,b));return this.kc[b].$ab(a,c||!1);break;}}};a.prototype.Fr=function(a,b,c){var i0w,f;i0w=2;while(i0w!==8){switch(i0w){case 2:c&&(Q.assert(void 0===a),a=this.qY(c),Q.assert(void 0!==a));void 0===a&&(a=this.kP);(c=this.pa.hjb(b,a))?f=c.de:(c=this.pa.Gda(a),0<c.length&&(c=c[0],f=c.de));l.la(f)||(f=this.kc[a].$r);i4YY.H3U(2);return i4YY.d3U(f,b);break;}}};a.prototype.qM=function(a,b,c){var t0w,f;t0w=2;while(t0w!==8){switch(t0w){case 4:(c=this.pa.gjb(b,a))?f=c.de:(c=this.pa.Gda(a),0<c.length&&(c=c[0],f=c.de));l.la(f)||(f=this.kc[a].$r);i4YY.H3U(0);return i4YY.d3U(b,f);break;case 2:c&&(Q.assert(void 0===a),a=this.qY(c),Q.assert(void 0!==a));void 0===a&&(a=this.kP);t0w=4;break;}}};k1w=76;break;case 90:a.prototype.a$=function(a,b,c){var G0w,f;G0w=2;while(G0w!==8){switch(G0w){case 2:f=this;void 0===b&&(b=y.TJ.yaa);(c||this.pa.Sb).ala(a,b);this.mt.reset();(void 0===a?t.Ke:[a]).forEach(function(a){var e0w;e0w=2;while(e0w!==1){switch(e0w){case 2:f.ib(a)&&(f.kr[a].reset(),f.n7a(a),f.uf.iwb(a));e0w=1;break;}}});G0w=8;break;}}};a.prototype.uma=function(a){var P0w,b;P0w=2;while(P0w!==4){switch(P0w){case 2:b=this;(void 0===a?t.Ke:[a]).forEach(function(a){var v0w,c;v0w=2;while(v0w!==5){switch(v0w){case 2:null===(c=b.kr[a])||void 0===c?void 0:c.stop();v0w=5;break;}}});P0w=4;break;}}};a.prototype.mI=function(a){var c0w,b;c0w=2;while(c0w!==3){switch(c0w){case 4:return U.resolve();break;case 2:b=this;(void 0===a?t.Ke:[a]).forEach(function(a){var D0w,c;D0w=2;while(D0w!==5){switch(D0w){case 2:null===(c=b.kr[a])||void 0===c?void 0:c.resume();D0w=5;break;}}});c0w=4;break;case 14:return U.resolve();break;c0w=3;break;}}};a.prototype.jL=function(a){var p0w,b,c;p0w=2;while(p0w!==9){switch(p0w){case 3:a.forEach(function(a){var M0w,c;M0w=2;while(M0w!==5){switch(M0w){case 2:null===(c=b.kr[a])||void 0===c?void 0:c.resume();M0w=5;break;}}});p0w=9;break;case 2:b=this;a=void 0===a?t.Ke:[a];null===(c=this.mt)||void 0===c?void 0:c.reset();p0w=3;break;}}};a.prototype.n7a=function(a){var w0w,b;w0w=2;while(w0w!==9){switch(w0w){case 2:b=this.$a.Ie[a];this.$a.hs[a].pha=void 0;w0w=4;break;case 4:b.sq=0;b.iP=0;w0w=9;break;}}};a.prototype.f$=function(a,b){var m0w,c,f,d,g6U;m0w=2;while(m0w!==7){g6U="ptsc";g6U+="ha";g6U+="nged";switch(m0w){case 4:f=this.$a.Ie[a];d=this.$a.Gv[a];l.X(f.Rl)&&(f.Rl=b,1===a&&this.xo&&(a=this.$a.Ie[0],l.X(a.Rl)&&(c=c.Ge(0),c.BC(b)),this.emit(g6U,b)));m0w=8;break;case 2:c=this.pa.Sb;m0w=5;break;case 8:l.X(d.ZL)&&(d.ZL=b);m0w=7;break;case 5:m0w=c.Ge(a)?4:7;break;}}};a.prototype.RIa=function(a){var b0w;b0w=2;while(b0w!==1){switch(b0w){case 2:this.Ig&&(this.Ig.mtb(a),this.fDa());b0w=1;break;}}};a.prototype.MY=function(a){var j0w;j0w=2;while(j0w!==1){switch(j0w){case 2:this.Ig&&(this.Ig.ltb(a),this.fDa());j0w=1;break;}}};a.prototype.fDa=function(){var y0w,a,H6U;y0w=2;while(y0w!==3){H6U="allCompl";H6U+="e";H6U+="t";H6U+="e";H6U+="d";switch(y0w){case 1:y0w=this.Ig?5:3;break;case 2:y0w=1;break;case 5:a=this.K;this.Ig.sB()||(this.Ig=void 0,a.AL||this.xw.Zw||this.yV(H6U));y0w=3;break;}}};a.prototype.qL=function(){var Z0w,a,b,c,f,d,k,g,p;Z0w=2;while(Z0w!==19){switch(Z0w){case 20:this.Ww=setTimeout(this.qL.bind(this),p);Z0w=19;break;case 13:this.W.Yc()===h.ma.Nc&&([1,0].forEach(function(b){var V9N,c,f,h,n,q,t,m,l6U;V9N=2;while(V9N!==33){l6U="Unable";l6U+=" to find request presenting a";l6U+="t playerPts:";switch(V9N){case 34:c.ab(l6U,k);V9N=21;break;case 4:V9N=c?3:33;break;case 27:a.zE&&t.xm!=n.Erb&&a.Ua.i6a(t.xm);V9N=26;break;case 23:t=t.O;V9N=22;break;case 20:V9N=!a.Lk||1===b?19:26;break;case 26:n.Erb=t.xm;f=t.sa;f!=n.pha&&(n.pha=f,b=a.kc[h].R.Rr(b,f),h=a.Fr(h,t.bd),a.Ua.d6a(b,t.bd,h,b.R.Xa));V9N=23;break;case 19:V9N=(a.pa.Avb(t,t.xm),h>a.FU)?18:27;break;case 7:V9N=t?6:34;break;case 6:q=t.te-k;q<p&&(p=q);n=a.$a.hs[b];f=t.R;V9N=11;break;case 2:V9N=1;break;case 5:c=d.Ge(b);V9N=4;break;case 3:q=c.Ha;c.pF(k);(t=a.pa.Jr(k,d,b))&&!t.Hi&&(t=a.wf[b].trb);V9N=7;break;case 18:a.FU=h;m=0<h?h-1:null;a.Ua.T5a(f,k,t.xm,null!==m?a.kc[m].R.u:null,m);V9N=15;break;case 15:g=a.Fr(h,k);V9N=26;break;case 1:V9N=a.ib(b)?5:33;break;case 22:l.X(t)||t==c.COa||(c.COa=t);V9N=21;break;case 21:a.R6a(q,k);a.pa.izb();V9N=33;break;case 11:h=f.Xa;q=t.Ha;V9N=20;break;}}}),this.pa.Gq(k,g));this.df.ii();p=Math.max(p,1);this.Ww&&clearTimeout(this.Ww);Z0w=20;break;case 2:a=this;b=this.K;Z0w=4;break;case 4:c=this.kP;f=this.kc[c];d=this.pa.Sb;Z0w=8;break;case 8:k=this.W.Wd()||0;g=this.Fr(c,k);p=b.r2;this.zb.Pe&&void 0!==f.WB&&f.WB-k<=b.mMa&&this.zb.Pe.BL(!0,this.Tk.sessionId);Z0w=13;break;}}};a.prototype.dU=function(a){var o9N;o9N=2;while(o9N!==1){switch(o9N){case 2:return this.df.dU(a);break;case 4:return this.df.dU(a);break;o9N=1;break;}}};k1w=79;break;case 79:a.prototype.ii=function(){var R9N;R9N=2;while(R9N!==1){switch(R9N){case 4:return this.df.ii();break;R9N=1;break;case 2:return this.df.ii();break;}}};a.prototype.rA=function(a,b){var a9N,c,f,d,w6U;a9N=2;while(a9N!==11){w6U="a";w6U+="bo";w6U+="rtRequest wit";w6U+="h ";w6U+="no requestManagaer:";switch(a9N){case 2:c=a.Ha;a9N=5;break;case 5:a9N=!c?4:3;break;case 4:return this.ab(w6U,a),!1;break;case 7:a.Nf&&a.Nf.clear();c.W0(a);this.wf[f].W0(a);!0===b&&this.df.ii();a9N=12;break;case 3:f=a.M;d=a.abort();a.wc();a9N=7;break;case 12:return d;break;}}};a.prototype.F7a=function(a){var T9N,b,c,u6U;T9N=2;while(T9N!==3){u6U="no";u6U+=" newAudioTrack ";u6U+="set";switch(T9N){case 2:T9N=1;break;case 1:b=a.M;c=this.$a.Ie[b];T9N=4;break;case 8:T9N=7;break;T9N=1;break;case 4:l.X(c.O_)?a.ab(u6U):(this.wf[b].pause(),c.NI=!0,a=this.Gd.fm(0),c=this.Gd.R.getTrackById(c.O_.cb),this.Ua.I5a(a,c));T9N=3;break;}}};a.prototype.N6a=function(a){var l9N,b,c,f,d,h,k,l,g,L6U;l9N=2;while(l9N!==22){L6U="audioS";L6U+="wi";L6U+="tc";L6U+="h";switch(l9N){case 2:b=this;f=this.K;a=a.Xc;l9N=3;break;case 25:++c;l9N=27;break;case 27:l9N=c<this.kc.length?26:24;break;case 24:a.SPa(k,g);this.mI(0);l9N=22;break;case 20:this.MM.pAa(0,a.R);d.O_=void 0;this.uf.fI(null);this.a$(0,y.TJ.FGa,a);this.pa.sRa(a,!0);l9N=15;break;case 12:this.Ig.LAb(function(a){var A9N;A9N=2;while(A9N!==5){switch(A9N){case 1:return b.rA(a,!1),!0;break;case 2:A9N=0===a.M?1:5;break;}}}),this.Ig.sB()||(this.Ig=void 0,f.AL||this.xw.Zw||this.yV(L6U));l9N=11;break;case 13:l9N=(null===(c=this.Ig)||void 0===c?0:c.sB())?12:11;break;case 3:d=this.$a.Ie[0];this.$a.Xt=d.O_;l9N=8;break;case 15:c=this.AE;l9N=27;break;case 14:g=this.W.Wd()-a.de;l9N=13;break;case 26:this.Uyb(c,l,g);l9N=25;break;case 8:h=this.Gd;k=h.R.getTrackById(this.$a.Xt.cb);l=k.g2;l9N=14;break;case 11:c=this.zb.aY(h.R.ya,[l],0);this.r8[0]=c[0];l9N=20;break;}}};a.prototype.Uyb=function(a,b,c){var i9N,f;i9N=2;while(i9N!==6){switch(i9N){case 3:i9N=a.R.ZY?9:7;break;case 9:a.fm(0).Lc.some(function(a){var t9N;t9N=2;while(t9N!==4){switch(t9N){case 9:f=a.Ri();t9N=0;break;t9N=1;break;case 5:return!!f;break;case 2:f=a.Ri();t9N=1;break;case 7:return-+f;break;t9N=4;break;case 1:t9N=!(f&&f.stream&&f.stream.Z&&c<f.stream.Z.Qh(0))?5:4;break;}}});i9N=8;break;case 2:n.Bl.Gn(0);a=this.kc[a];a.nna(b);i9N=3;break;case 8:f?(a.R.dg[0]=f,a.rP=!1,f.stream.Xd&&a.cW()):(a.R.dg[0]=void 0,a.rP=!1,a.R.QH([a.fm(0)],!0,0));i9N=7;break;case 7:this.jL(0);i9N=6;break;}}};a.prototype.R6a=function(a,b){var u9N,c;u9N=2;while(u9N!==3){switch(u9N){case 2:c=this.wf[a.M];u9N=5;break;case 5:a=this.pa.nP(a.Xc,a.M,b,this.zb.Fy||0,function(a){var F9N;F9N=2;while(F9N!==1){switch(F9N){case 2:c.W0(a);F9N=1;break;case 4:c.W0(a);F9N=2;break;F9N=1;break;}}});l.X(a)||this.df.ii();u9N=3;break;}}};a.prototype.J4a=function(a){var K9N,b;K9N=2;while(K9N!==8){switch(K9N){case 2:b=a.mediaType;a=this.kc[a.manifestIndex].R.Rr(b,a.streamId);K9N=4;break;case 4:this.y7a(this.pa.Sb.Ge(b),a);this.K=this.VDa.c3a(a.Qf,this.K);this.kc.forEach(function(a,b){var d9N,c;d9N=2;while(d9N!==4){switch(d9N){case 2:c=a.R;c.ZY||0===b||c.QH([a.fm(0),a.fm(1)]);d9N=4;break;}}});K9N=8;break;}}};a.prototype.M4a=function(a){var x9N,b,c;x9N=2;while(x9N!==7){switch(x9N){case 9:b.Uda&&this.Ua.N5a(b);b.Tu&&this.Ua.b6a(a,b.R.Xa,c.ca);x9N=7;break;case 2:b=a.request;a=a.mediaType;c=b.Ha.Xc;c.jtb(a);x9N=9;break;}}};a.prototype.y7a=function(a,b){var B9N;B9N=2;while(B9N!==1){switch(B9N){case 2:this.$a.hs[a.M].EB={id:b.sa,index:b.Bg,O:b.O,Fa:b.lb&&b.lb.Fd&&b.lb.Fa?b.lb.Fa.Ca:0,location:b.location};B9N=1;break;}}};a.prototype.xZ=function(a){var q9N,b,c,f,d,h,k,l,g,p,n;q9N=2;while(q9N!==17){switch(q9N){case 2:h={};k=this.wf;l=this.pa;q9N=3;break;case 3:q9N=!l.Sb.Np?9:18;break;case 9:g=l.Sb;p=g.Hc(0);n=g.Hc(1);h.vspts=null!==(b=null===n||void 0===n?void 0:n.Lb)&&void 0!==b?b:0;h.aspts=null!==(c=null===p||void 0===p?void 0:p.Lb)&&void 0!==c?c:0;h.vbuflbytes=null!==(f=null===n||void 0===n?void 0:n.Co.aa)&&void 0!==f?f:0;q9N=12;break;case 12:h.abuflbytes=null!==(d=null===p||void 0===p?void 0:p.Co.aa)&&void 0!==d?d:0;h.vbuflmsec=l.Ar(g,1);h.abuflmsec=l.Ar(g,0);a&&(h.a=null===p||void 0===p?void 0:p.Ha.Z.toJSON(),h.v=null===n||void 0===n?void 0:n.Ha.Z.toJSON());q9N=19;break;case 18:return h;break;case 19:a&&k&&(a=k[1],k=k[0],h.atoappend=null===a||void 0===a?void 0:a.u1(),h.vtoappend=null===k||void 0===k?void 0:k.u1());q9N=18;break;}}};a.prototype.xIa=function(a){var X9N,b,c,f,d,h,k,l;X9N=2;while(X9N!==12){switch(X9N){case 4:X9N=c?3:12;break;case 2:b=this.pa.Sb;c=b.Ge(a);X9N=4;break;case 3:f=this.$a.hs[a];d=this.pa.HA(b,a);f=f.EB?f.EB.O:0;h=c.Ha.k0;X9N=6;break;case 6:k=this.pa.de;l=u.lk()[a];return{type:a,availableMediaBuffer:l-d,completeBuffer:b.Qi(a),incompleteBuffer:h,playbackBitrate:c.COa,streamingBitrate:f,streamingTime:c.Lb+k,usedMediaBuffer:d,toappend:c.xIb};break;}}};k1w=95;break;case 95:a.prototype.aBb=function(){var k9N,a,z6U;k9N=2;while(k9N!==4){z6U="re";z6U+="questGarbageC";z6U+="ollection";switch(k9N){case 2:a={type:z6U,time:u.time.ea()};aa.Ia(this,a.type,a);k9N=4;break;}}};a.prototype.Xk=function(a,b,c,f,d,h){var Q9N,y6U;Q9N=2;while(Q9N!==1){y6U="NFErr_MC";y6U+="_Stream";y6U+="ingFailure";switch(Q9N){case 2:this.SE||(l.X(c)&&(c=y6U),this.SE=!0,this.Ua.f6a(c,a,f,d,h,void 0!==b?b:this.kP));Q9N=1;break;}}};a.prototype.eza=function(){var J9N,M6U;J9N=2;while(J9N!==5){M6U="Network ";M6U+="fail";M6U+="u";M6U+="res rese";M6U+="t!";switch(J9N){case 2:this.ab(M6U);this.df.ii();J9N=5;break;}}};a.prototype.N4a=function(a,b){var O9N;O9N=2;while(O9N!==5){switch(O9N){case 2:b=p.aIa(b);this.r8[a.M]=b;O9N=5;break;}}};Object.defineProperties(a.prototype,{Xt:{set:function(a){var N9N;N9N=2;while(N9N!==1){switch(N9N){case 4:this.$a.Xt=a;N9N=4;break;N9N=1;break;case 2:this.$a.Xt=a;N9N=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.qY=function(a){var n9N,b;n9N=2;while(n9N!==4){switch(n9N){case 2:this.kc.some(function(c){var U9N;U9N=2;while(U9N!==1){switch(U9N){case 2:return c.R.Bk===a?(b=c.R.Xa,!0):!1;break;}}});return b;break;}}};a.prototype.gmb=function(a){var I9N,b;I9N=2;while(I9N!==4){switch(I9N){case 2:this.kc.some(function(c){var g9N;g9N=2;while(g9N!==1){switch(g9N){case 2:return c.R.oa===a?(b=c.R.Xa,!0):!1;break;}}});return b;break;}}};return a;break;}}}();b.zwa=a;d.pf(c.EventEmitter,a);},function(d,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.eoa=void 0;c=a(0);l=a(11);d=a(39);g=a(74);a=function(a){function b(b,c,f,d,k,l){d=a.call(this,b,c,d,k,l)||this;c.aa=f.byteLength;g.zh.call(d,b,c);d.LE=f;d.q3a=c.aa;return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ln:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$c:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ui:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.LE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tsb:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ce:{get:function(){return this.q3a;},enumerable:!1,configurable:!0}});b.prototype.xB=function(){return!0;};b.prototype.dF=function(a){this.Hi=a.appendBuffer(this.response,l.mm(this));return{da:this.Hi};};b.prototype.xj=function(){return-1;};b.prototype.abort=function(){return!0;};b.prototype.wc=function(){};b.prototype.zQ=function(){return!1;};return b;}(a(159).Zy);b.eoa=a;d.pf(g.zh,a);},function(d,b,a){var l,g,n,k,p;function c(a){return{mediaType:a.M,streamId:a.sa,movieId:a.u,bitrate:a.O,location:a.location,serverId:a.Kb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.S,frameDuration:a.stream.Ta&&a.stream.Ta.Ab,encrypted:a.uj,initSegments:1<a.ni.length?a.ni.map(function(a){return{fi:a.lB,s:a.data.byteLength,e:!!a.uj};}):void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.Kga=b.Lga=b.$Ja=b.bfa=b.GHa=b.IHa=b.Zea=b.cfa=b.afa=b.pea=b.qea=b.Usa=void 0;l=a(7);g=a(738);n=a(387);k=a(11);p=a(34);b.Usa={IS:"movieEntry",ZYa:"header",x5:"metadata",zZa:"headerData",YLb:"headerMetadata",KYa:"sizes",JYa:"durations",Uqa:"fragments",G_a:"response",Rj:"billboard",fw:{lifespan:259200}};b.qea=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Kj:c.startTicks,offset:c.offset,S:c.timescale,sizes:new Uint32Array(b.sizes),Hd:new Uint32Array(b.durations)});return{bc:!0,M:a.mediaType,u:a.movieId,sa:a.streamId,O:a.bitrate,location:a.location,Kb:a.serverId,aa:a.bytes,offset:a.offset,Rfa:f,mZ:a.initSegments,uj:a.encrypted,S:a.timescale,Ta:a.frameDuration,ve:a.saveToDisk,Z:d};};b.pea=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{bc:!1,M:a.mediaType,u:a.movieId,sa:a.streamId,O:a.bitrate,location:a.location,Kb:a.serverId,aa:a.bytes,offset:a.offset,response:b,S:a.timescale,Ra:a.startTicks,Ho:f,ve:a.saveToDisk,gb:d};};b.afa=function(a){return{ie:a.priority,u:a.movieId,headers:{},bq:0,CF:0,XY:0,ve:a.saveToDisk,Wb:a.stats,Ko:a.firstSelectedStreamBitrate,Oo:a.initSelectionReason,cq:a.histDiscountedThroughputValue,pk:a.histTdigest,nk:a.histAge,Rl:void 0};};b.cfa=function(a,b,c,d,k){var f,h;f={headers:{},data:{}};d.forEach(function(d){var h,l,m;h=d.M;h=k&&k.Rr(h,d.sa);l=[];if(d.bc)if(!Array.isArray(d.mZ)||2>d.mZ.length)l.push({lB:0,data:d.Rfa});else for(var q=0,t=0;t<d.mZ.length;++t){m=d.mZ[t];l.push({lB:m.fi,data:d.Rfa.slice(q,q+m.s),uj:m.e});q+=m.s;}h?(d.Z&&h.Y_(l,d.S,d.Ta?new p.ka(d.Ta,d.S):void 0,d.Z),d.bc&&h&&h.Xd?(void 0===f.headers&&(f.headers={}),f.headers[d.sa]=new n.rR(h,{aa:d.aa,offset:d.offset,ni:l,uj:d.uj},b)):d.response instanceof ArrayBuffer&&void 0!==h.Z&&void 0!==d.Ra&&void 0!==d.S&&void 0!==d.gb&&(l=h.Z.DX(new p.ka(d.Ra,d.S).va),void 0!==l&&(h=new g.eoa(h,{S:d.S,Ra:d.Ra,gb:d.gb,index:l.index,offset:d.offset,aa:d.aa},d.response,c,a,b),void 0===f.data&&(f.data={}),f.data[d.sa]||(f.data[d.sa]=[]),f.data[d.sa].push(h)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+d.sa+" movieId: "+d.u);});if(!l.X(f.data)){h=f.data;Object.keys(h).forEach(function(a){h[a].sort(function(a,b){return a.Ra-b.Ra;});});}return f;};b.Zea=function(a){return{mediaType:a.M,streamId:a.sa,movieId:a.u,bitrate:a.O,location:a.location,serverId:a.Kb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.S,startTicks:a.Ra,durationTicks:a.Ho};};b.IHa=c;b.GHa=function(a){var b,d,h,l;b=c(a);a.stream.Xd&&a.stream&&a.stream.Z&&(d={timescale:a.stream.Z.S,startTicks:a.stream.Z.Kj,offset:a.stream.Z.Wg(0)},l=a.stream.Z.hI,h=l.sizes.buffer,l=l.Hd.buffer);return{mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:k.Dr(a.ni.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.uj,fragments:d,sizes:h,durations:l};};b.bfa=function(a){return{priority:a.ie,movieId:a.u,saveToDisk:a.ve,firstSelectedStreamBitrate:a.Ko,initSelectionReason:a.Oo,histDiscountedThroughputValue:a.cq,histTdigest:a.pk,histAge:a.nk};};b.$Ja=function(a){return!l.has(a,"startTicks");};b.Lga=function(a){return!a.Rfa||!a.S||!a.Z||void 0===a.Z.Kj||void 0===a.Z.offset||void 0===a.Z.Hd||!a.Z.Hd.length||void 0===a.Z.sizes||!a.Z.sizes.length;};b.Kga=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.S||void 0===a.Ra||void 0===a.Ho;};},function(d,b,a){var n,k;function c(a,b,f){Object.keys(a).forEach(function(d){var h,k;if(n.Se(a[d]))if(a[d].zZ){h=a[d];k=f+h.offset;a[d]=b.slice(k,k+h.byteLength);}else a[d]=c(a[d],b,f);});return a;}function l(a,b,c){Object.keys(a).forEach(function(f){var d;if(n.zZ(a[f])){d=a[f];b.push(d);a[f]={zZ:!0,offset:c.bca,byteLength:d.byteLength};c.bca+=d.byteLength;}else n.Se(a[f])&&l(a[f],b,c);});return a;}function g(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}n=a(106);k=a(58);d.P={Mcb:function(a){var b,c,d;b=k(a,{});a=[];b=l(b,a,{bca:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);d=new DataView(c);d.setUint32(0,b.length);for(var p=4,n=0,q=b.length;n<q;n++)d.setUint8(p,b.charCodeAt(n)),p++;a=[c].concat(a);return g.apply(null,a);},Lcb:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,b),d="",k=0;k<f.byteLength;k++)d+=String.fromCharCode(f[k]);b=4+b;d=JSON.parse(d);return c(d,a,b);}};},function(d,b,a){var g;function c(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function l(a,b){var c,d,f;c=[];if(g.Se(b)){d={};f={};f[a]=d;c.push(f);c=Object.keys(b).reduce(function(c,f){var h,k,p;h=b[f];p={};g.zZ(h)?(k=a+".__embed__."+f,p[k]=h,c.push(p)):g.Se(h)?(k=a+".__sub__."+f,h=l(k,h),d[f]=h[0][k],c=c.concat(h.slice(1))):d[f]=h;return c;},c);}else f={},f[a]=b,c.push(f);return c;}g=a(106);d.P={Sgb:l,Tpb:function(a){var b,m;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var d=b[0],h=d.length,d=a[d.join(".")],f=1;f<b.length;f++)for(var l=!1,g=!1,n=d,q=h;q<b[f].length;q++){m=b[f][q];switch(m){case"__metadata__":break;case"__sub__":g=!0;break;case"__embed__":l=!0;break;default:g?(n=n[m],g=!1):l&&(n[m]=a[b[f].join(".")],l=!1);}}return d;},uqb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(d,b,a){function c(a){return a;}function l(){return c;}a(7);d.P={nN:l,qfa:l};},function(d,b,a){var c,l,g,n;c=a(7);l=a(106);g={};g[l.co.fz]=function(a){return a;};g[l.co.BT]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};g[l.co.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};n={};n[l.co.fz]=function(a){return a;};n[l.co.BT]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};n[l.co.OBJECT]=function(a){return c.X(a)||c.Ma(a)?a:n[l.co.BT](JSON.stringify(a));};d.P={nN:function(a){return g[a]||g[l.co.fz];},qfa:function(a){return n[a]||n[l.co.fz];}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,n){g=n?g.bind(n):g;n=!1;if(a){this.console&&(g=b.bind(null,this.console,g,d));if("function"===typeof a.addEventListener)n=a.addEventListener(d,g);else if("function"===typeof a.addListener)n=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return n;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.P=a;},function(d){function b(a,b){var c;if(void 0===b||"function"!==typeof b||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.hn)return this.hn={},this.hn[a]=[b],!0;c=this.hn[a];return void 0===c?(this.hn[a]=[b],!0):0>c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.hn?this.hn[a]:void 0;if(!a)return!1;a.forEach(function(a){a(b);});return!0;}d.P={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0===b||"function"!==typeof b||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.hn)return!1;c=this.hn[a];if(void 0===c)return!1;b=c.indexOf(b);if(0>b)return!1;if(1===c.length)return delete this.hn[a],!0;c.splice(b,1);return!0;},Ia:a,emit:a,removeAllListeners:function(a){this.hn&&(void 0===a?delete this.hn:delete this.hn[a]);return this;}};},function(d){function b(a){if(!(this instanceof b))return new b(a);if("undefined"===typeof a)this.Sk=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Sk=a;}this.ko=[];}function a(b,d){var g,k,l,h,f,q,m;g=b.ko;k=b.Sk;l=2*d+1;h=2*d+2;f=g[d];q=g[l];m=g[h];q&&k(q.ie,f.ie)&&(!m||k(q.ie,m.ie))?(c(g,d,l),a(b,l)):m&&k(m.ie,f.ie)&&(c(g,d,h),a(b,h));}function c(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}b.prototype.clear=function(){this.ko=[];};b.prototype.In=function(a,b){this.ko.push({ie:a,value:b});a=this.ko;b=this.Sk;for(var d=a.length-1,k=0===d?null:Math.floor((d-1)/2);null!==k&&b(a[d].ie,a[k].ie);)c(a,d,k),d=k,k=0===d?null:Math.floor((d-1)/2);};b.prototype.remove=function(){var b;if(0!==this.ko.length){b=this.ko[0];c(this.ko,0,this.ko.length-1);this.ko.pop();a(this,0);return b.value;}};b.prototype.xH=function(){if(0!==this.ko.length)return this.ko[0].value;};b.prototype.enqueue=b.prototype.In;b.prototype.xca=b.prototype.remove;b.prototype.Js=function(){return this.ko.map(function(a){return a.value;});};d.P=b;},function(d,b,a){var g,q,n,k,p,h,f,t;function c(a,b,d){var u,Q;function l(a,b,c,f){a.info.call(a,function(a,d){var h;if(a)f(a);else{try{h=d.values[this.context].entries[b][c].size;}catch(oa){h=-1;}-1<h?f(null,h):this.Iq(function(a,b){a?f(a):(b[c]&&(h=b[c].size),f(null,h));});}}.bind(a));}function m(a,b,d,h,k,g,n){var t;g?g.pn||(g.pn={}):g={pn:{}};u(h);t=q.time.now();h=new f(function(c,f){a.create(q.storage.KD,b,d,function(a,b){a?f(a):c(b);});}).then(function(f){f.da?l(a,q.storage.KD,b,function(a,d){a?n(a):(Q(d),u(d),g.pn[c.mR.c5]={da:!0,time:k,Ii:d,Wx:b,wPa:f,duration:q.time.now()-t},g.wj=f.wj,n(null,g));}):(g.pn[c.mR.c5]={da:!1,Wx:b,error:f.error},n(null,g));},function(a){n(a);});p.ss(h);}function z(a,b,c,f,d,h){f.In(c.time,c);for(var k=c.time-864E5,g=f.xH();g&&!isNaN(g.time)&&g.time<k;)g=f.xca(),u(0-(g.aa||0)),g=f.xH();f=f.Js().map(function(a){return a.time+";"+a.aa;});m(a,b,Array.prototype.join.call(f,"|"),c.aa,c.time,d,h);}function r(a,b,f,d,k,g,p,t,m){var r;r=q.time.now();a.create(f,d,k,function(k,G){var F;if(k)h.error("Failed to replace item",d,k);else if(G.da){F=G.wj;l(a,f,d,function(f,h){var k,l;if(f)m(f);else{f={time:t,aa:h||0};k={wj:F,pn:{}};l=q.time.now()-r;k.pn[c.mR.REPLACE]={da:!0,time:t,Ii:h,Wx:d,wPa:G,duration:l};g?z(a,b,f,p,k,m):(u(h),m(null,k));}});}else m(n.NT.Yn(G.error||"Failed to create item"));});}function G(a,b,f,d,k,g,p,t,m){var r;r=q.time.now();a.append(f,d,k,function(k,G){var F;if(k)h.error("Failed to save item "+d,k),m(k);else if(G.da){F=G.wj;l(a,f,d,function(f,h){var k,l;if(f)m(f);else{f={time:t,aa:h||0};k={wj:F,pn:{}};l=q.time.now()-r;k.pn[c.mR.E1a]={da:!0,time:t,Ii:h,Wx:d,wPa:G,duration:l};g?z(a,b,f,p,k,m):(u(h),m(null,k));}});}else m(n.NT.Yn(G.error||"Failed to save item"));});}function D(a,b){a&&g.Tb(a.remove)&&a.hj.valid&&a.remove(q.storage.KD,b.vE,function(c,f){if(c)h.error("Failed to delete old journal key",c);else try{f&&(g.X(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.eSb;}))&&z(a,b.vE,{time:0,aa:0},b.gL,0,function(){});}catch(W){}});}if(!a.hj.valid)return t;this.Eya=g.X(b)||g.Ma(b)?0:b;this.Q8=a;this.n9=this.sK=0;this.gL=new k();this.F6a=d||"default";this.vE=this.F6a+".NRDCACHEJOURNALKEY";u=function(a){isNaN(a)||(this.sK+=a);return this.sK;}.bind(this);Q=function(a){isNaN(a)||(this.n9+=a);return this.n9;}.bind(this);this.Pea=function(){return this.vE;};this.save=function(a,b,c,f){var d;d=q.time.now();G(this.Q8,this.vE,a,b,c,0<=this.Eya,this.gL,d,f);};this.replace=function(a,b,c,f){var d;d=q.time.now();r(this.Q8,this.vE,a,b,c,0<=this.Eya,this.gL,d,f);};this.$Ga=function(a){var b,d;b=this.sK;a-=864E5;for(var c=this.gL.Js(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.aa)&&(b-=d.aa);}return b;};(function(a){var b;b=a.Q8;a.sK=0;b.read(q.storage.KD,a.vE,0,-1,function(c,f){var d,k,g,p;d=[];k=0;g=!0;if(c)h.error("Failed to compile records",c);else if(f.da){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);u(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.aa;},0)))for(var g=!1,l=q.time.now()-864E5;k<d.length;k++){p=d[k];p.time<l||(a.gL.In(p.time,p),u(p.aa));}}catch(za){}}g&&D(b,a);});}(this));}g=a(7);q=a(107);n=a(205);k=a(746);b=a(58);p=a(204);h=new q.Console("DISKWRITEMANAGER","media|asejs");f=q.Promise;b({mR:{E1a:"saveitem",REPLACE:"replaceitem",c5:"journalupdate"}},c);t={save:function(a,b,c,f){f(n.Vsa);},replace:function(a,b,c,f){f(n.Vsa);},Pea:function(){return"";},$Ga:function(){return 0;}};c.prototype.constructor=c;d.P={create:function(a,b,f){return new c(a,b,f);},nNb:t};},function(d,b,a){var p,h,f,t,m,r,D,J,F;function c(){}function g(b,f,d,k,l){var t;t=p.Tb(k)?k:c;this.Nw=b;this.ot=d.Op;this.Nt=0;this.l4a=d.Aib||"NONE";this.st=p.X(l)||p.Ma(l)?0:l;this.Dd={};this.Dp=d.RTb||h.storage.KD;this.dr=f;this.ZE=m.create(this.dr,d.zfb*this.st,this.Nw);this.on=this.addEventListener=F.addEventListener;this.removeEventListener=F.removeEventListener;this.emit=this.Ia=F.Ia;this.fza=n(this,g.Nd.REPLACE);this.O4a=n(this,g.Nd.Vxa);this.hA;this.hA=d.mUa?a(743):a(742);this.dr.query(this.Dp,this.Qn(""),function(a,b){var c;if(a)t(a);else{c=this.ZE.Pea();a=Object.keys(b).filter(function(a){return a!==c&&r.FG(a);}).map(this.hna.bind(this));this.L0(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.Dd[r.wX(a)]=f;if(f.bla&&1<Object.keys(f.bla).length){d=0;Object.keys(f.bla).forEach(function(a){b[this.Qn(a)]&&p.la(b[this.Qn(a)].size)&&(d+=b[this.Qn(a)].size);}.bind(this));a=r.wX(a);this.Dd[a].size=d;}else a=r.wX(a),b[this.Qn(a)]&&(this.Dd[a].size=b[this.Qn(a)].size);}.bind(this));q(this.dr,this.Dp,this.Nw,function(a,b){this.Nt=b;a?t(a):t(null,this);}.bind(this));}.bind(this));}}.bind(this));}function q(a,b,f,d){var h;h=p.Tb(d)?d:c;a.query(b,f,function(a,b){a?h(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),h(null,a));});}function n(a,b){return function(c,f,d,k,l){return function(n,t){var m;if(n)f||a.Ia(g.Nd.ERROR,{itemKey:c,error:n}),d(n);else{m={Ii:0,duration:0,items:[],time:h.time.now()};Object.keys(t.pn).map(function(b){var c;c=t.pn[b];b={key:a.hna(c.Wx),Ef:b};c.da?(m.Ii+=c.Ii,b.QZ=c.Ii,p.la(c.duration)&&(m.duration+=c.duration)):b.error=c.error;m.items.push(b);});n=p.Tb(k)?k():0;0<l&&(m.BF=l-n);q(a.dr,a.Dp,a.Nw,function(c,h){c?d(c):(a.Nt=h,m.wj=a.ot-h,f||a.Ia(b,J.gHa(m)),d(null,m));});}};};}function k(a,b){return 0<b&&a>=b?!0:!1;}p=a(7);h=a(107);f=a(205);b=a(58);t=new h.Console("MEDIACACHE","media|asejs");m=a(747);r=a(365);D=a(106);J=a(204);F=a(105).EventEmitter;b({Nd:{Vxa:"writeitem",REPLACE:"replaceitem",c5:"journalupdate",ERROR:"mediacache-error"}},g);g.prototype.getName=function(){return this.Nw;};g.prototype.hna=function(a){return a.slice(this.Nw.length+1);};g.prototype.Hea=function(){return Object.keys(this.Dd).filter(function(a){a=r.hea(this.Dd[a]);return void 0===a||0>=a.MDa();}.bind(this));};g.prototype.Dmb=function(){return Object.keys(this.Dd).reduce(function(a,b){var c;c=this.Dd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:h.time.now()}).$Ub;};g.prototype.Dlb=function(){var a;switch(this.l4a){case"FIFO":a=this.Dmb();}return a;};g.prototype.ngb=function(a){var b;b=p.Tb(a)?a:c;this.OHa(function(c){var f,d,k;f=this.Dd;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return!r.FG(a)&&0>d.indexOf(a);}))&&0<c.length){k=this;c=h.Promise.all(c.map(function(a){return new h.Promise(function(b,c){k["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{Gka:!0});},function(a){b(a,{Gka:!1});});J.ss(c);}else a(void 0,{Gka:!1});}.bind(this));};g.prototype.Hzb=function(a,b,d){var k,g;k=p.Tb(b)?b:c;b=this.Qn(a);g=h.time.now();this.dr.read(this.Dp,b,0,-1,function(b,c){var l;if(b)k(b);else if(c&&c.da&&c.value){p.Tb(d)||(d=this.hA.nN(D.co.fz),r.FG(a)?d=this.hA.nN(D.co.OBJECT):(b=this.Dd[a],!p.X(b)&&p.la(b.resourceIndex[a])?(b=b.resourceIndex[a],p.X(b)&&(b=D.co.fz),d=this.hA.nN(b)):t.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{l=d(c.value);}catch(qa){return k(f.UD.Yn(qa.message));}c={duration:h.time.now()-g};this.Dd[a]&&p.la(this.Dd[a].size)&&(c.cu=p.la(this.Dd[a].size)?this.Dd[a].size:0);k(null,l,c);}else k(f.UD.Yn(c.error));}.bind(this));};g.prototype.read=function(a,b,c){this.Hzb(a,b,c);};g.prototype.L0=function(a,b,d){var k,g,l;k=p.Tb(b)?b:c;if("[object Array]"!==Object.prototype.toString.call(a))k(f.UD.Yn("item keys must be an array"));else{g={};l=[];a=h.Promise.all(a.map(function(a){return new h.Promise(function(b,c){var f;d&&!p.X(d[a])&&(f=this.hA.nN(d[a]));this.read(a,function(f,d,h){f?(d={},d[a]=f,c(d)):(g[a]=d,l.push({duration:h.duration,cu:h.cu}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<l.length&&(a=l.reduce(function(a,b){p.la(b.duration)&&(a.duration+=b.duration);p.la(b.cu)&&(a.cu+=b.cu);return a;},{duration:0,cu:0}));k(null,g,a);},function(a){k(a);});J.ss(a);}};g.prototype.write=function(a,b,d,h,g){var l,n,q;d=p.Tb(d)?d:c;l=this.Qn(a);n="function"===typeof g?g():0;q=D.Dfa(b);q=this.hA.qfa(q)(b);q.byteLength+this.Nt>=this.ot?d(f.fD):k(q.byteLength+n,this.st)?d(f.OT):this.ZE.save(this.Dp,l,b,this.O4a(a,h,d,g,this.st),q.byteLength);};g.prototype.replace=function(a,b,d,h,g){var l,n,q,m;l=p.Tb(d)?d:c;n=this.Qn(a);q=0;"function"===typeof g&&(q=g());d=D.Dfa(b);m=this.hA.qfa(d)(b);d=(this.Dd[a]||{}).size||0;0>=d&&this.Dd[a]?this.hIa([a],function(c){t.trace("Replacing key",a,"which exists:",!!this.Dd[a],this.Dd[a]?this.Dd[a]:void 0,"and has size",c,"with",b,"with size",m.byteLength,"plus _used",this.Nt,"vs capacity",this.ot);m.byteLength-c+this.Nt>=this.ot?l(f.fD):k(m.byteLength-c+q,this.st)?l(f.OT):this.ZE.replace(this.Dp,n,b,this.fza(a,h,l,g,this.st),m.byteLength);}.bind(this)):(t.trace("Replacing key",a,"which exists:",!!this.Dd[a],this.Dd[a]?this.Dd[a]:void 0,"and has size",d,"with",b,"with size",m.byteLength,"plus _used",this.Nt,"vs capacity",this.ot),m.byteLength-d+this.Nt>=this.ot?l(f.fD):k(m.byteLength-d+q,this.st)?l(f.OT):this.ZE.replace(this.Dp,n,b,this.fza(a,h,l,g,this.st),m.byteLength));};g.prototype.RAb=function(a,b,d,k){var l;l=p.Tb(b)?b:c;"[object Object]"!==Object.prototype.toString.call(a)?l(f.NT.Yn("items must be a map of keys to objects")):(b=h.Promise.all(Object.keys(a).map(function(b){return new h.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,Tn:b}):c(f);},!0,k);}.bind(this));}.bind(this))).then(function(a){var b,c,f,n;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Ii+=c.Ii,p.la(c.duration)&&(a.duration+=c.duration),!p.X(c.wj)&&c.wj<b&&(b=c.wj),c.items.map(function(b){a.items.push({key:b.key,Ef:b.Ef,QZ:b.QZ,Jsb:b.Jsb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.wj=b));return a;},{Ii:0,items:[],time:h.time.now(),duration:0});0<this.st&&(c.BF=this.st-k());f=a.filter(function(a){return!p.X(a.error);});n=J.PIa(f);d||(n?n.forEach(function(a){this.Ia(g.Nd.ERROR,a);}.bind(this)):this.Ia(g.Nd.REPLACE,J.gHa(c)));l(n,c);}catch(W){l(W);}}.bind(this),function(a){d||this.Ia(g.Nd.ERROR,a);l(a);}.bind(this)),J.ss(b));};g.prototype["delete"]=function(a,b){var d;d=p.Tb(b)?b:c;this.dr.remove(this.Dp,this.Qn(a),function(a,b){a?d(a):b&&b.da?q(this.dr,this.Dp,this.Qn(""),function(a,b){a?d(a):(this.Nt=b,d());}.bind(this)):d(f.sXa.Yn(b.error));}.bind(this));};g.prototype.OHa=function(a){this.query("",function(b,c){b?(t.error("Failed to get keys",b),a([])):a(c);});};g.prototype.query=function(a,b){var f,d;f=p.Tb(b)?b:c;d=this.ZE.Pea();this.dr.query(this.Dp,this.Qn(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.hna.bind(this)));}.bind(this));};g.prototype.Qn=function(a){return this.Nw+"."+a;};g.prototype.clear=function(a){var b;b=p.Tb(a)?a:c;this.OHa(function(a){var c;c=h.Promise.all(a.map(function(a){return new h.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){b(a);},function(a){this.Ia(g.Nd.ERROR,a);b([],a);}.bind(this));J.ss(c);}.bind(this));};g.prototype.hIa=function(a,b){var f,d;f=p.Tb(b)?b:c;d=(a||[]).map(function(a){return this.Qn(a);}.bind(this));this.dr.query(this.Dp,this.Nw,function(b,c){b?(t.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};g.prototype.Qkb=function(a){return this.ZE.$Ga(a);};g.prototype.constructor=g;d.P=g;},function(d,b,a){var g,q,n,k,p;function c(a){this.hj=a;this.context=a.context;this.cNa="NULLCONTEXT"===a.context?!0:!1;}g=a(7);q=a(107);n=new q.Console("DISKCACHE","media|asejs");k={context:"NULLCONTEXT",read:function(a,b,c,d,k){k("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.pA=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.cNa)throw Error("Media Cache not supported");b.apply(this.hj,a);}catch(z){c(z);}};c.prototype.query=function(a,b,c,d){try{if(this.cNa)throw Error("Media Cache not supported");this.hj.query(a,b,function(a){c(null,a);},d);}catch(G){c(G);}};c.prototype.read=function(a,b,c,d,k){this.pA(this.hj.read,a,b,c,d,k);};c.prototype.remove=function(a,b,c){this.pA(this.hj.remove,a,b,c);};c.prototype.create=function(a,b,c,d){this.pA(this.hj.create,a,b,c,d);};c.prototype.append=function(a,b,c,d){this.pA(this.hj.append,a,b,c,d);};c.prototype.info=function(a){this.pA(this.hj.info,a);};c.prototype.Iq=function(a){this.pA(this.hj.Iq,a);};c.prototype.flush=function(a){this.pA(this.hj.flush,a);};c.prototype.clear=function(){this.hj.clear();};d.P={Heb:function(a){var b,d,h,l,m;b=a.RRb||"NRDMEDIADISKCACHE";p=a.tx||0;0!==p||g.X(q.options)||g.X(q.options.XG)||(p=q.options.XG);a=p;try{l=q.storage.MF;if(!l||!g.Se(l))throw n.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(h=l[b])n.warn("Disk store exists, returning"),d=new c(h);else{if(g.X(q.storage)||!g.Tb(q.storage.xW)||q.options&&0===q.options.XG)throw n.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";n.warn("Disk store context doesn't exist, creating with size "+a);m=q.storage.xW({context:b,size:a,encrypted:!0,signed:!0});if(!m||!m.valid)throw"Failed to create disk store context";d=new c(m);}}catch(J){n.warn("Exception creating disk store context - returning NullContext (noops)",J);d=new c(k);}return d;},qlb:function(){return p;},PKb:c};},function(d,b,a){var c,g,q,n,k;c=a(7);q=[];k=!1;d.P={uZ:function(b,d,f){var h;if(k)c.Tb(f)&&(g.Po||g.vB?setTimeout(function(){f(g);},0):q.push(f));else{k=!0;h=a(107);h.LN(b);n=new h.Console("MEDIACACHE","media|asejs");g=new(a(366))(d,function(a){a&&n.warn("Failed to initialize MediaCache",a);c.Tb(f)&&setTimeout(function(){f(g);},0);q.map(function(a){setTimeout(function(){a(g);},0);});});}return g;},rSb:function(b,d){g=new(a(366))(b,function(a,b){a&&n.warn("Failed to initialize MediaCache",a);c.Tb(d)&&setTimeout(function(){d(b);},0);});}};},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.qta=void 0;c=a(0);g=a(21);a(6);q=a(750);n=a(7);k=a(210);p=a(11);d=a(39);h=a(739);f=h.Usa;a=function(){var G6U;function a(a,b,c){var Q6U,M7U,y7U,z7U,L7U;Q6U=2;while(Q6U!==13){M7U="1SIYb";M7U+="Z";M7U+="rN";M7U+="JC";M7U+="p9";y7U="Media cache";y7U+=" has not";y7U+=" been initiaized";z7U="m";z7U+="e";z7U+="dia|as";z7U+="ejs";L7U="ME";L7U+="DI";L7U+="ACA";L7U+="CHE";switch(Q6U){case 2:this.G=new b.Console(L7U,z7U);this.y$=(a.Ry||a.wna)&&0<(a.tx||(b.options||{}).XG||0);this.i4a=a.Rhb?a.Rhb:!1;this.lo=a.tia?a.tia:!1;this.q5a=a.aMa?a.aMa:!1;this.K=a;Q6U=8;break;case 8:this.Nl=b;this.Be=c;this.hr=Promise.reject(y7U);M7U;Q6U=13;break;}}}G6U=2;while(G6U!==27){switch(G6U){case 3:a.prototype.MBb=function(a,b){var j1U,c;j1U=2;while(j1U!==4){switch(j1U){case 2:c=h.bfa(a);this.ci.save(f.Rj,[f.IS,a.u].join("."),c,f.fw,function(){var h1U;h1U=2;while(h1U!==1){switch(h1U){case 2:b();h1U=1;break;case 4:b();h1U=6;break;h1U=1;break;}}});j1U=4;break;}}};a.prototype.LBb=function(a,b){var W1U,c,d,k,g,l,q;W1U=2;while(W1U!==19){switch(W1U){case 1:c=this;W1U=5;break;case 2:W1U=1;break;case 6:W1U=a.stream.Xd&&!n.X(a.stream.Z)?14:20;break;case 14:g={timescale:a.stream.Z.S,startTicks:a.stream.Z.Kj,offset:a.stream.Z.Wg(0)};q=a.stream.Z.hI;l[d+"."+f.Uqa]={Tn:g,Ad:f.fw};l[d+"."+f.KYa]={Tn:q.sizes.buffer,Ad:f.fw};W1U=10;break;case 20:this.ci.NQa(f.Rj,l,function(f){var P1U;P1U=2;while(P1U!==5){switch(P1U){case 2:f||(f=c.Nl.time.ea()-k,a.Cj&&(n.X(a.Cj.Wb.Xn)&&(a.Cj.Wb.Xn=0),a.Cj.Wb.Xn+=f));b();P1U=5;break;}}});W1U=19;break;case 5:d=[a.u,a.sa,f.ZYa].join(".");k=this.Nl.time.ea();g=h.IHa(a);l={};l[d+"."+f.x5]={Tn:g,Ad:f.fw};l[d+"."+f.zZa]={Tn:p.Dr(a.ni.map(function(a){var k1U;k1U=2;while(k1U!==1){switch(k1U){case 4:return a.data;break;k1U=1;break;case 2:return a.data;break;}}})),Ad:f.fw};W1U=6;break;case 10:l[d+"."+f.JYa]={Tn:q.Hd.buffer,Ad:f.fw};W1U=20;break;}}};a.prototype.KBb=function(a,b,c){var v1U,d,k,g,l,p,Q7U;v1U=2;while(v1U!==11){Q7U="Unable to save fragment ";Q7U+="because response is no";Q7U+="t ";Q7U+="an Array";Q7U+="Buffer";switch(v1U){case 3:g=this.Nl.time.ea();l=[a.u,a.sa,a.xc].join(".");a=h.Zea(a);p={};p[l+"."+f.x5]={Tn:a,Ad:f.fw};v1U=14;break;case 14:n.X(k)||(p[l+"."+f.G_a]={Tn:k,Ad:f.fw});this.ci.NQa(f.Rj,p,function(a){var V1U,G7U;V1U=2;while(V1U!==5){G7U="Failed ";G7U+="t";G7U+="o save f";G7U+="ragmen";G7U+="t";switch(V1U){case 2:a?d.G.warn(G7U,a):(a=d.Nl.time.ea()-g,n.X(b.Wb.Xn)&&(b.Wb.Xn=0),b.Wb.Xn+=a);c();V1U=5;break;}}});v1U=11;break;case 2:d=this;k=a.response;v1U=4;break;case 4:v1U=k instanceof ArrayBuffer?3:12;break;case 12:c(Error(Q7U));v1U=11;break;}}};a.prototype.NBb=function(a){var s1U,b,d,g,l,p,q,t,m,z,r,u,da,W,E,N,T1U,T,A,Y1U,ka,O,B1U,b1U,f1U,S1U,q1U,F1U,R7U,O7U;s1U=2;while(s1U!==15){switch(s1U){case 3:m=h.bfa(a);t.movieEntry=m;s1U=8;break;case 2:p=this;q=this.Nl.time.ea();t={};s1U=3;break;case 8:s1U=a.headers?7:13;break;case 13:s1U=a&&a.data?12:18;break;case 7:z={};Object.keys(a.headers).forEach(function(b){var U1U,c;U1U=2;while(U1U!==4){switch(U1U){case 2:c=h.GHa(a.headers[b]);z[b]=c;U1U=4;break;}}});s1U=14;break;case 14:t.headers=z;s1U=13;break;case 12:m={};r=a.data;u=Object.keys(a.data);try{T1U=2;while(T1U!==14){switch(T1U){case 1:T1U=!A.done?5:14;break;case 2:T=c.__values(u),A=T.next();T1U=1;break;case 5:da=A.value;W=r[da];u={};T1U=9;break;case 7:m[da]=u;T1U=6;break;case 9:T1U=W?8:6;break;case 8:try{Y1U=2;while(Y1U!==7){switch(Y1U){case 1:Y1U=!O.done?5:7;break;case 5:E=O.value;Y1U=4;break;case 2:ka=(g=void 0,c.__values(W)),O=ka.next();Y1U=1;break;case 3:N=h.Zea(E);Y1U=9;break;case 9:u[E.xc]={mediaType:N.mediaType,streamId:N.streamId,movieId:N.movieId,bitrate:N.bitrate,location:N.location,serverId:N.serverId,saveToDisk:N.saveToDisk,offset:N.offset,bytes:N.bytes,timescale:N.timescale,startTicks:N.startTicks,durationTicks:N.durationTicks,response:E.response};Y1U=8;break;case 8:O=ka.next();Y1U=1;break;case 4:Y1U=E instanceof k.qR&&E.response instanceof ArrayBuffer&&!n.X(E.xc)?3:8;break;}}}catch(za){g={error:za};}finally{B1U=2;while(B1U!==1){switch(B1U){case 2:try{b1U=2;while(b1U!==1){R7U="r";R7U+="et";R7U+="u";R7U+="rn";switch(b1U){case 2:O&&!O.done&&(l=ka[R7U])&&l.call(ka);b1U=1;break;}}}finally{f1U=2;while(f1U!==5){switch(f1U){case 9:throw g.error;f1U=2;break;f1U=5;break;case 1:throw g.error;f1U=5;break;case 2:f1U=g?1:5;break;}}}B1U=1;break;}}}T1U=7;break;case 6:A=T.next();T1U=1;break;}}}catch(za){b={error:za};}finally{S1U=2;while(S1U!==1){switch(S1U){case 2:try{q1U=2;while(q1U!==1){O7U="r";O7U+="e";O7U+="tu";O7U+="rn";switch(q1U){case 2:A&&!A.done&&(d=T[O7U])&&d.call(T);q1U=1;break;}}}finally{F1U=2;while(F1U!==5){switch(F1U){case 3:F1U=b?6:6;break;F1U=b?1:5;break;case 2:F1U=b?1:5;break;case 9:throw b.error;F1U=7;break;F1U=5;break;case 1:throw b.error;F1U=5;break;}}}S1U=1;break;}}}s1U=19;break;case 19:t.data=m;s1U=18;break;case 18:b={lifespan:259200};this.q5a&&(b.convertToBinaryData=!0);this.ci.save(f.Rj,a.u,t,b,function(a){var K1U,C7U;K1U=2;while(K1U!==1){C7U="save";C7U+="t";C7U+="o";C7U+="disk";switch(K1U){case 2:a||p.bI(C7U,{OQa:p.Nl.time.ea()-q});K1U=1;break;}}});s1U=15;break;}}};a.prototype.dKa=function(a){var D1U;D1U=2;while(D1U!==1){switch(D1U){case 2:return!(n.X(a)||n.Ma(a)||n.X(a.Wb)||n.Ma(a.Wb)||n.X(a.u)||n.Ma(a.u)||n.X(a.ie)||n.Ma(a.ie));break;}}};a.prototype.Qsb=function(a){var a1U,b,c;a1U=2;while(a1U!==3){switch(a1U){case 4:return new Promise(function(a){var d1U,g1U;d1U=2;while(d1U!==4){switch(d1U){case 2:d1U=n.X(b.ci)?1:5;break;case 1:a();d1U=4;break;case 5:try{g1U=2;while(g1U!==1){switch(g1U){case 2:b.ci.mC(f.Rj,"",function(b){var H1U;H1U=2;while(H1U!==5){switch(H1U){case 2:b=b.filter(function(a){var l1U,o7U;l1U=2;while(l1U!==5){o7U="m";o7U+="ov";o7U+="ieEn";o7U+="try";switch(l1U){case 2:a=a.split(".");return c&&(c===a[0]||o7U===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var w1U,c,J7U;w1U=2;while(w1U!==3){J7U="mo";J7U+="vieEn";J7U+="try";switch(w1U){case 2:c=b.split(".");J7U!==c[0]&&(b=c[1],c=c[2],n.X(a[b])&&(a[b]={}),n.X(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);H1U=5;break;}}});g1U=1;break;}}}catch(F){a();}d1U=4;break;}}});break;case 2:b=this;c=n.X(a)?"":a.toString();a1U=4;break;}}};G6U=13;break;case 13:a.prototype.osb=function(a,b){var u1U,c;u1U=2;while(u1U!==4){switch(u1U){case 2:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var L1U,c,f;L1U=2;while(L1U!==7){switch(L1U){case 2:c={};L1U=5;break;case 5:b.headers&&Object.keys(b.headers).forEach(function(a){var z1U;z1U=2;while(z1U!==5){switch(z1U){case 2:c[a]||(c[a]={});c[a].header=!0;z1U=5;break;}}});L1U=4;break;case 3:f=b.data;L1U=9;break;case 8:return a(c);break;case 4:L1U=b.data?3:8;break;case 9:Object.keys(f).forEach(function(a){var y1U;y1U=2;while(y1U!==5){switch(y1U){case 2:c[a]||(c[a]={});f[a].forEach(function(b){var M1U;M1U=2;while(M1U!==1){switch(M1U){case 2:n.X(b.xc)||(c[a][b.xc]=!0);M1U=1;break;}}});y1U=5;break;}}});L1U=8;break;}}}):this.nza(a).then(function(b){var G1U;G1U=2;while(G1U!==5){switch(G1U){case 1:return new Promise(function(b){var Q1U;Q1U=2;while(Q1U!==1){switch(Q1U){case 2:c.ci.read(f.Rj,a,function(c,f){var R1U,d,h;R1U=2;while(R1U!==4){switch(R1U){case 5:b();R1U=4;break;case 2:R1U=1;break;case 3:R1U=n.X(f)?9:8;break;case 1:R1U=c?5:3;break;case 9:b(void 0);R1U=4;break;case 8:d=f[a];h={};d.headers&&Object.keys(d.headers).forEach(function(a){var O1U;O1U=2;while(O1U!==5){switch(O1U){case 2:h[a]||(h[a]={});h[a].header=!0;O1U=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var C1U;C1U=2;while(C1U!==5){switch(C1U){case 2:h[a]||(h[a]={});Object.keys(d.data[a]).forEach(function(b){var o1U;o1U=2;while(o1U!==1){switch(o1U){case 2:h[a][b]=!0;o1U=1;break;case 4:h[a][b]=-3;o1U=2;break;o1U=1;break;}}});C1U=5;break;}}});R1U=13;break;case 13:b(h);R1U=4;break;}}});Q1U=1;break;}}});break;case 2:G1U=b?1:5;break;}}});break;}}};a.prototype.smb=function(){var J1U,a,E7U;J1U=2;while(J1U!==4){E7U="Media cac";E7U+="h";E7U+="e ";E7U+="is not";E7U+=" enabled";switch(J1U){case 2:a=this;return this.hr?this.hr.then(function(){var E1U;E1U=2;while(E1U!==1){switch(E1U){case 2:return new Promise(function(b){var N1U;N1U=2;while(N1U!==1){switch(N1U){case 2:a.ci.mC(f.Rj,f.IS,function(a){var A1U,c;A1U=2;while(A1U!==8){switch(A1U){case 2:A1U=1;break;case 1:A1U=!a||0>=a.length?5:4;break;case 5:b([]);A1U=8;break;case 4:c=[];a.forEach(function(a){var Z1U;Z1U=2;while(Z1U!==1){switch(Z1U){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);Z1U=1;break;}}});b(c);A1U=8;break;}}});N1U=1;break;}}});break;}}}):Promise.reject(E7U);break;}}};a.prototype.bI=function(a,b){var t7U,c,t8U,Z7U,A7U,N7U;t7U=2;while(t7U!==8){t8U="saveto";t8U+="di";t8U+="s";t8U+="k";Z7U="mediaca";Z7U+="chesta";Z7U+="ts";A7U="me";A7U+="d";A7U+="i";A7U+="aca";A7U+="che";N7U="me";N7U+="dia";N7U+="cac";N7U+="helookup";switch(t7U){case 4:N7U===a&&(c.lookupTime=b.j_,c.dataFound=b.GW);c.oneObject=this.lo;this.i4a&&this.emit(A7U,c);t7U=8;break;case 2:c={type:Z7U,operation:a};t8U===a&&(c.saveTime=b.OQa);t7U=4;break;}}};G6U=10;break;case 2:a.prototype.Db=function(a,b){var R6U,c,c8U;R6U=2;while(R6U!==4){c8U="Medi";c8U+="a cach";c8U+="e is disabled";switch(R6U){case 5:return this.hr=this.y$?new Promise(function(f,d){var O6U;O6U=2;while(O6U!==1){switch(O6U){case 2:(void 0!==b&&null!==b?b.uZ:function(a){var C6U;C6U=2;while(C6U!==1){switch(C6U){case 2:return q.uZ(c.Nl,c.K,a);break;case 4:return q.uZ(c.Nl,c.K,a);break;C6U=1;break;}}})(function(b){var o6U,h,r8U;o6U=2;while(o6U!==3){r8U="Media c";r8U+="ache";r8U+=" did";r8U+=" not initialize";switch(o6U){case 2:c.ci=b;h=b.Po;o6U=4;break;case 4:(b=b.vB)?d(b):h?(c.JDb(a),f()):d(Error(r8U));o6U=3;break;}}});O6U=1;break;}}}):Promise.reject(c8U);break;case 2:c=this;R6U=5;break;case 9:c=this;R6U=3;break;R6U=5;break;}}};a.prototype.psb=function(a){var J6U,b,c,d;J6U=2;while(J6U!==9){switch(J6U){case 5:c=[f.IS,a].join(".");d=this.Nl.time.ea();return this.hr.then(function(){var E6U;E6U=2;while(E6U!==1){switch(E6U){case 2:return new Promise(function(k){var N6U;N6U=2;while(N6U!==1){switch(N6U){case 2:b.ci.mC(f.Rj,c,function(c){var A6U,g,i8U;A6U=2;while(A6U!==9){i8U="medi";i8U+="aca";i8U+="che";i8U+="lookup";switch(A6U){case 5:k(),b.bI(i8U,{j_:b.Nl.time.ea()-d,GW:!1});A6U=9;break;case 2:A6U=1;break;case 1:A6U=!c||0>=c.length?5:4;break;case 4:g=c[0];b.ci.read(f.Rj,g,function(c,f){var Z6U,d,l,t1U,X8U,I8U;Z6U=2;while(Z6U!==14){X8U=" f";X8U+="a";X8U+="i";X8U+="l";X8U+="ed";I8U="Rea";I8U+="di";I8U+="ng movie ent";I8U+="r";I8U+="y ";switch(Z6U){case 9:d={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};Z6U=8;break;case 2:c&&b.G.warn(I8U+g+X8U,c);Z6U=5;break;case 5:Z6U=!n.X(f)?4:8;break;case 8:n.X(d)||(l=h.afa(d));n.X(l)||n.Ma(l)||(l.Wb=l.Wb||{},l.headers=l.headers||{});Z6U=6;break;case 6:b.dKa(l)?k(l):(b.p7a(a),k());Z6U=14;break;case 4:Z6U=f instanceof ArrayBuffer?3:9;break;case 3:try{t1U=2;while(t1U!==1){switch(t1U){case 2:d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));t1U=1;break;}}}catch(y){}Z6U=8;break;}}});A6U=9;break;}}});N6U=1;break;}}});break;}}});break;case 2:b=this;J6U=5;break;}}};a.prototype.ksb=function(a,b,c){var r1U,d,h,p8U;r1U=2;while(r1U!==8){p8U="Medi";p8U+="a cache is no";p8U+="t";p8U+=" enable";p8U+="d";switch(r1U){case 2:d=this;r1U=5;break;case 4:return Promise.reject(p8U);break;case 5:r1U=!this.hr?4:3;break;case 3:h=this.Nl.time.ea();return this.hr.then(function(){var c1U;c1U=2;while(c1U!==1){switch(c1U){case 2:return new Promise(function(k){var i1U;i1U=2;while(i1U!==1){switch(i1U){case 2:d.ci.mC(f.Rj,a,function(f){var I1U;I1U=2;while(I1U!==5){switch(I1U){case 2:f=f.reduce(function(a,b){var X1U,c,n8U;X1U=2;while(X1U!==8){n8U="drmHeader.__embed";n8U+="_";n8U+="_";switch(X1U){case 2:c=b.substr(0,b.lastIndexOf("."));X1U=5;break;case 4:return a;break;case 3:a[c]?a[c].push(b):a[c]=[b];X1U=9;break;case 9:return a;break;case 5:X1U=-1!==c.indexOf(n8U)?4:3;break;}}},{});d.nzb(f,b).then(function(b){var p1U,f,g,e8U,x8U;p1U=2;while(p1U!==6){e8U="mediac";e8U+="ache";e8U+="looku";e8U+="p";x8U="No content dat";x8U+="a ";x8U+="found f";x8U+="or ";switch(p1U){case 2:p1U=1;break;case 1:p1U=void 0===c||void 0===b?5:4;break;case 4:f=d.Nl.time.ea()-h;g=!1;n.X(b)||n.X(b.data)||!n.Se(b.data)?d.G.trace(x8U+a,c):g=!0;d.bI(e8U,{j_:f,GW:g});k(b);p1U=6;break;case 5:return k();break;}}},function(){var n1U;n1U=2;while(n1U!==1){switch(n1U){case 4:k();n1U=6;break;n1U=1;break;case 2:k();n1U=1;break;}}});I1U=5;break;}}});i1U=1;break;}}});break;}}});break;}}};a.prototype.lsb=function(a,b){var x1U,c,f;x1U=2;while(x1U!==3){switch(x1U){case 4:return this.hr.then(function(){var e1U;e1U=2;while(e1U!==1){switch(e1U){case 2:return c.nza(a);break;case 4:return c.nza(a);break;e1U=1;break;}}}).then(function(d){var m1U,m8U;m1U=2;while(m1U!==5){m8U="mediac";m8U+="ache";m8U+="look";m8U+="up";switch(m1U){case 4:c.bI(m8U,{j_:c.Nl.time.ea()-f,GW:!1});m1U=5;break;case 9:m1U=d?5:6;break;m1U=d?1:4;break;case 2:m1U=d?1:4;break;case 8:return c.U6a(a.toString(),b,f);break;m1U=5;break;case 1:return c.U6a(a.toString(),b,f);break;}}});break;case 2:c=this;f=this.Nl.time.ea();x1U=4;break;}}};G6U=3;break;case 10:a.prototype.nzb=function(a,b){var r7U,c,f;r7U=2;while(r7U!==3){switch(r7U){case 2:r7U=1;break;case 8:r7U=2;break;r7U=1;break;case 1:c=this;f=Object.keys(a).map(function(b){var c7U;c7U=2;while(c7U!==1){switch(c7U){case 4:return c.Feb(a[b]);break;c7U=1;break;case 2:return c.Feb(a[b]);break;}}});return Promise.all(f).then(function(a){var i7U;i7U=2;while(i7U!==5){switch(i7U){case 1:return h.cfa(c.K,c.G,c.Be,a,b);break;case 2:a.sort(function(a,b){var I7U;I7U=2;while(I7U!==1){switch(I7U){case 2:return a.bc===b.bc?0:a.bc?-1:1;break;}}});i7U=1;break;}}});break;}}};G6U=20;break;case 20:a.prototype.Feb=function(a){var X7U,b,c,d,k;X7U=2;while(X7U!==3){switch(X7U){case 4:return new Promise(function(g,l){var p7U,p;p7U=2;while(p7U!==5){switch(p7U){case 2:b.ci.L0(f.Rj,a,function(a,b){var n7U,n,x7U,W8U,h8U,j8U;n7U=2;while(n7U!==5){switch(n7U){case 2:try{x7U=2;while(x7U!==19){W8U="Missing or invalid";W8U+=" header data";W8U+=" parts for strea";W8U+="m ";h8U="Missing or invalid media da";h8U+="ta pa";h8U+="rts for stream ";j8U="Header fr";j8U+="agments wa";j8U+="s ";j8U+="an array buffer, is invalid type ";switch(x7U){case 6:x7U=p.bc?14:11;break;case 11:x7U=h.Kga(p)?10:12;break;case 5:Object.keys(b).map(function(a){var e7U,m7U,h,g;e7U=2;while(e7U!==9){switch(e7U){case 4:try{m7U=2;while(m7U!==5){switch(m7U){case 2:g=new Uint8Array(b[a]);d=JSON.parse(String.fromCharCode.apply(null,g));m7U=5;break;}}}catch(da){d=b[a];}e7U=9;break;case 3:h===f.Uqa?c=b[a]:k[h]=b[a];e7U=9;break;case 2:h=a.substr(a.lastIndexOf(".")+1);e7U=5;break;case 5:e7U=h===f.x5?4:3;break;}}});x7U=4;break;case 1:return l(a);break;case 14:x7U=h.Lga(p)?13:12;break;case 7:p=h.qea(d,k,c);x7U=6;break;case 3:x7U=c instanceof ArrayBuffer?9:7;break;case 9:n=j8U+p.sa;return l(n);break;case 2:x7U=a||void 0===b?1:5;break;case 10:return n=h8U+p.sa,l(n);break;case 13:return n=W8U+p.sa,l(n);break;case 4:x7U=h.$Ja(d)?3:20;break;case 12:g(p);x7U=19;break;case 20:p=h.pea(d,{response:k.response});x7U=6;break;}}}catch(y){l(y);}n7U=5;break;}}});p7U=5;break;}}});break;case 2:b=this;k={};X7U=4;break;}}};a.prototype.U6a=function(a,b,d){var j7U,k;j7U=2;while(j7U!==4){switch(j7U){case 2:k=this;j7U=5;break;case 5:return new Promise(function(g,l){var h7U,p;h7U=2;while(h7U!==5){switch(h7U){case 2:k.ci.read(f.Rj,a,function(f,q){var W7U,k7U,J,L,P7U,v7U,V7U,t,m,r,z,G,F,D,u,H,U,R,A,N,Y,ca,s7U,ga,E,U7U,S,V,T7U,Y7U,B7U,b7U,f7U,S7U,k8U,v8U,P8U,V8U,s8U,U8U,T8U;W7U=2;while(W7U!==4){k8U="mediacachelo";k8U+="oku";k8U+="p";switch(W7U){case 15:k.bI(k8U,{j_:k.Nl.time.ea()-d,GW:!0});g(p);W7U=4;break;case 5:l(f);W7U=4;break;case 16:void 0!==p&&(p.Cj=f);W7U=15;break;case 9:g();W7U=4;break;case 6:f=h.afa(D.movieEntry);q=[];W7U=13;break;case 10:W7U=D.data?20:17;break;case 11:try{k7U=2;while(k7U!==11){v8U="M";v8U+="issing or invalid ";v8U+="header data";v8U+=" parts for stream ";P8U="Header fragm";P8U+="ents was ";P8U+="an array";P8U+=" buffer, is invalid type ";switch(k7U){case 5:H=L.value;U=D.headers[H];k7U=3;break;case 1:k7U=!L.done?5:11;break;case 2:J=c.__values(u),L=J.next();k7U=1;break;case 3:k7U=U.fragments instanceof ArrayBuffer?9:7;break;case 9:R=P8U+U.streamId;return l(R);break;case 7:A=h.qea(U,U,U.fragments);k7U=6;break;case 6:k7U=h.Lga(A)?14:13;break;case 13:q.push(A);k7U=12;break;case 14:return R=v8U+A.sa,l(R);break;case 12:L=J.next();k7U=1;break;}}}catch(vb){t={error:vb};}finally{P7U=2;while(P7U!==1){switch(P7U){case 2:try{v7U=2;while(v7U!==1){V8U="r";V8U+="e";V8U+="t";V8U+="u";V8U+="rn";switch(v7U){case 2:L&&!L.done&&(m=J[V8U])&&m.call(J);v7U=1;break;}}}finally{V7U=2;while(V7U!==5){switch(V7U){case 2:V7U=t?1:5;break;case 1:throw t.error;V7U=5;break;}}}P7U=1;break;}}}W7U=10;break;case 7:W7U=D.movieEntry?6:15;break;case 2:W7U=1;break;case 1:W7U=f?5:3;break;case 12:u=Object.keys(D.headers);W7U=11;break;case 8:D=q[a];W7U=7;break;case 20:t=D.data;m=Object.keys(t);W7U=18;break;case 17:p=h.cfa(k.K,k.G,k.Be,q,b);W7U=16;break;case 18:try{s7U=2;while(s7U!==8){switch(s7U){case 5:H=E.value;s7U=4;break;case 2:ga=c.__values(m),E=ga.next();s7U=1;break;case 9:E=ga.next();s7U=1;break;case 1:s7U=!E.done?5:8;break;case 4:N=Object.keys(t[H]);try{U7U=2;while(U7U!==6){s8U="M";s8U+="issing";s8U+=" or inv";s8U+="al";s8U+="id media data parts for stream ";switch(U7U){case 5:Y=t[H][V.value];ca=h.pea(Y,Y);U7U=3;break;case 1:U7U=!V.done?5:6;break;case 2:S=(G=void 0,c.__values(N)),V=S.next();U7U=1;break;case 9:return R=s8U+ca.sa,l(R);break;case 8:q.push(ca);U7U=7;break;case 7:V=S.next();U7U=1;break;case 3:U7U=h.Kga(ca)?9:8;break;}}}catch(vb){G={error:vb};}finally{T7U=2;while(T7U!==1){switch(T7U){case 2:try{Y7U=2;while(Y7U!==1){U8U="r";U8U+="e";U8U+="t";U8U+="u";U8U+="rn";switch(Y7U){case 2:V&&!V.done&&(F=S[U8U])&&F.call(S);Y7U=1;break;}}}finally{B7U=2;while(B7U!==5){switch(B7U){case 1:throw G.error;B7U=5;break;case 2:B7U=G?1:5;break;}}}T7U=1;break;}}}s7U=9;break;}}}catch(vb){r={error:vb};}finally{b7U=2;while(b7U!==1){switch(b7U){case 2:try{f7U=2;while(f7U!==1){T8U="r";T8U+="etu";T8U+="rn";switch(f7U){case 2:E&&!E.done&&(z=ga[T8U])&&z.call(ga);f7U=1;break;}}}finally{S7U=2;while(S7U!==5){switch(S7U){case 3:S7U=r?4:4;break;S7U=r?1:5;break;case 1:throw r.error;S7U=5;break;case 9:throw r.error;S7U=6;break;S7U=5;break;case 2:S7U=r?1:5;break;}}}b7U=1;break;}}}W7U=17;break;case 3:W7U=n.X(q)?9:8;break;case 13:W7U=D.headers?12:10;break;}}});h7U=5;break;}}});break;}}};a.prototype.nza=function(a){var q7U,b,Y8U;q7U=2;while(q7U!==4){Y8U="Med";Y8U+="ia cach";Y8U+="e is not enabled";switch(q7U){case 8:b=this;q7U=9;break;q7U=5;break;case 9:q7U=2;break;q7U=1;break;case 2:q7U=1;break;case 1:b=this;q7U=5;break;case 5:return this.hr?this.hr.then(function(){var F7U;F7U=2;while(F7U!==1){switch(F7U){case 2:return new Promise(function(c){var K7U;K7U=2;while(K7U!==1){switch(K7U){case 2:b.ci.mC(f.Rj,a.toString(),function(b){var D7U;D7U=2;while(D7U!==1){switch(D7U){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);D7U=1;break;}}});K7U=1;break;}}});break;}}}):Promise.reject(Y8U);break;}}};G6U=17;break;case 17:a.prototype.p7a=function(a){var a7U,d,h;a7U=2;while(a7U!==9){switch(a7U){case 2:d=this;h=a.toString();this.ci.mC(f.Rj,[f.IS,a].join("."),c);a7U=3;break;case 3:this.ci.mC(f.Rj,h,c);a7U=9;break;}}function b(a){var d7U,B8U;d7U=2;while(d7U!==1){B8U="de";B8U+="l";B8U+="et";B8U+="e";switch(d7U){case 2:d.ci[B8U](f.Rj,a);d7U=1;break;}}}function c(a){var g7U;g7U=2;while(g7U!==1){switch(g7U){case 4:a.map(b);g7U=7;break;g7U=1;break;case 2:a.map(b);g7U=1;break;}}}};a.prototype.JDb=function(a){var H7U,b,q8U,b8U;H7U=2;while(H7U!==3){q8U="m";q8U+="ed";q8U+="ia";q8U+="cache";b8U="medi";b8U+="aca";b8U+="c";b8U+="he-err";b8U+="or";switch(H7U){case 4:b.on(this.ci,b8U,function(b){var u7U,S8U,f8U;u7U=2;while(u7U!==5){S8U="medi";S8U+="a";S8U+="c";S8U+="ach";S8U+="e";f8U="e";f8U+="r";f8U+="ro";f8U+="r";switch(u7U){case 2:b.type=f8U;a.emit(S8U,b);u7U=5;break;}}});H7U=3;break;case 2:b=new g.Fl();b.on(this.ci,q8U,function(b){var l7U,F8U;l7U=2;while(l7U!==4){F8U="m";F8U+="e";F8U+="d";F8U+="iacache";switch(l7U){case 1:b.keys||b.items.map(function(a){var w7U;w7U=2;while(w7U!==1){switch(w7U){case 4:return a.key;break;w7U=1;break;case 2:return a.key;break;}}});l7U=5;break;case 2:l7U=b.keys||b.items?1:5;break;case 9:l7U=b.keys&&b.items?4:2;break;l7U=b.keys||b.items?1:5;break;case 7:a.emit("",b);l7U=7;break;l7U=4;break;case 5:a.emit(F8U,b);l7U=4;break;}}});H7U=4;break;}}};return a;break;}}}();b.qta=a;d.pf(g.EventEmitter,a);},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r,D,u,F,L,H,U,R,aa,Q,y,T,A,da;Object.defineProperty(b,"__esModule",{value:!0});b.qra=void 0;c=a(0);d=a(21);g=a(6);q=a(7);n=a(230);k=a(210);p=a(395);h=a(83);a(406);f=a(367);t=a(156);m=a(18);r=a(217);D=a(751);u=a(73);F=a(17);L=a(4);H=a(207);U=a(376);R=L.Promise;aa=new L.Console("HEADERCACHE","media|asejs");a=new L.Console("MEDIACACHE","media|asejs");Q=L.lD;y=aa.trace.bind(aa);a.trace.bind(a);T=aa.warn.bind(aa);A=aa.error.bind(aa);da=aa.info.bind(aa);a=function(a){var K8U;function b(b,c,f,d){var D8U,t6e,M6e;D8U=2;while(D8U!==25){t6e="1SIY";t6e+="bZ";t6e+="rNJCp";t6e+="9";M6e="c";M6e+="a";M6e+="t";M6e+="c";M6e+="h";switch(D8U){case 3:b.fQb=da;b.JK=Object.create(null);b.Ml=c;b.oe=Object.create(null);b.Bw=0;b.Gi=[];D8U=13;break;case 2:b=a.call(this)||this;b.mj=y;b.Ye=A;b.ab=T;D8U=3;break;case 10:b.lE=[];D8U=20;break;case 20:b.jA={};b.y$=(b.Ml.Ry||b.Ml.wna)&&0<(b.Ml.tx||(L.options||{}).XG||0);D8U=18;break;case 13:b.UK=c.NW;b.mr=[];b.lU=!1;D8U=10;break;case 18:b.lo=b.Ml.tia;b.$e=void 0;b.y$&&(b.Ml.tx||(c=(L.options||{}).XG||0,b.Ml.set?b.Ml.set({tx:c}):b.Ml.tx=(L.options||{}).XG||0),b.$e=new D.qta(b.Ml,L,b),b.$e.Db(b,d).then(function(){var a8U,V6e;a8U=2;while(a8U!==1){V6e="Media ";V6e+="cache ";V6e+="initialized";switch(a8U){case 4:y("");a8U=5;break;a8U=1;break;case 2:y(V6e);a8U=1;break;}}})[M6e](function(a){var d8U,G6e;d8U=2;while(d8U!==1){G6e="Media cache did not ini";G6e+="tia";G6e+="lize";switch(d8U){case 2:A(G6e,a);d8U=1;break;case 4:A("",a);d8U=9;break;d8U=1;break;}}}));b.Tk=f;t6e;return b;break;}}}K8U=2;while(K8U!==49){switch(K8U){case 8:b.prototype.flush=function(){var z8U,a,b6e,H6e;z8U=2;while(z8U!==7){b6e="managerdeb";b6e+="uge";b6e+="vent";H6e=", headerCach";H6e+="e flush";H6e+=":";H6e+=" ";switch(z8U){case 3:this.Bw=0;this.Gi=[];this.Ml.Pg&&(a="@"+L.time.ea()+H6e,this.emit(b6e,{message:a}));z8U=7;break;case 2:this.vGa();for(var b in this.JK){a=this.JK[b];a.abort();}this.oe=Object.create(null);z8U=3;break;}}};b.prototype.list=function(){var y8U;y8U=2;while(y8U!==1){switch(y8U){case 2:return this.Gi;break;case 4:return this.Gi;break;y8U=1;break;}}};b.prototype.Sla=function(a){var M8U;M8U=2;while(M8U!==1){switch(M8U){case 2:this.UK!==a&&(this.UK=a,this.ZT());M8U=1;break;}}};b.prototype.iO=function(a,b){var G8U;G8U=2;while(G8U!==4){switch(G8U){case 5:return b;break;case 2:G8U=(a=this.oe[a])?1:4;break;case 8:G8U=(b=a.headers[b])?3:2;break;G8U=(b=a.headers[b])?5:4;break;case 1:G8U=(b=a.headers[b])?5:4;break;}}};K8U=13;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var g8U;g8U=2;while(g8U!==1){switch(g8U){case 2:return this.oe;break;case 4:return this.oe;break;g8U=1;break;}}},enumerable:!1,configurable:!0}});b.prototype.X0=function(){var H8U;H8U=2;while(H8U!==1){switch(H8U){case 2:return this.mr.map(function(a){var l8U;l8U=2;while(l8U!==1){switch(l8U){case 2:return a.X0();break;case 4:return a.X0();break;l8U=1;break;}}});break;}}};b.prototype.An=function(){var w8U;w8U=2;while(w8U!==5){switch(w8U){case 2:this.flush();this.Gya();w8U=5;break;}}};b.prototype.BL=function(a,b,c){var u8U,f,d;u8U=2;while(u8U!==7){switch(u8U){case 4:u8U=(f[b]=a)?3:9;break;case 2:f=this.jA;d=a;u8U=4;break;case 9:c&&delete f[b];d?(this.lU=!1,this.m5a()):this.lU=!0;u8U=7;break;case 3:for(var h in f){f.hasOwnProperty(h)&&!1===f[h]&&(d=!1);}u8U=9;break;}}};b.prototype.Cyb=function(a,b){var L8U,c,f,d,h,k6e,g6e,I6e;L8U=2;while(L8U!==25){k6e="A config must be p";k6e+="assed to";k6e+=" prepar";k6e+="eP";g6e="); ";g6e+="ig";g6e+="noring prepare for movieId: ";I6e="PTS passed to HeaderCache.";I6e+="prepareP ";I6e+="is not undefined or a positive";I6e+=" number ";I6e+="(";switch(L8U){case 10:L8U=!this.lo||!c.ve?20:17;break;case 18:for(var k in c.headers){a=c.headers[k];!q.X(a.url)&&null!==a.url&&(void 0===c.data||void 0===c.data[k]||c.data[k].length<h.qca)?this.aV(a,d):(q.X(a.url)||null===a.url)&&void 0!==c.data&&void 0!==c.data[k]&&0<c.data[k].length&&delete c.headers[k];}L8U=17;break;case 19:void 0===c.data&&(c.Wb.EH=void 0);L8U=18;break;case 17:return R.resolve();break;case 13:return A(I6e+d+g6e+c),R.reject();break;case 14:L8U=!q.X(d)&&(!q.la(d)||0>d)?13:12;break;case 26:return this.j7a(a,b);break;case 12:c=this.oe[c];L8U=11;break;case 16:L8U=!b.ve||!this.$e||this.lo?15:26;break;case 6:return R.reject();break;case 15:L8U=f>h.Qfa||this.Bw+1>this.UK&&f>this.Gi[0].ie?27:26;break;case 20:L8U=(c.ie=f,this.Gi.sort(this.C0),!q.X(d))?19:17;break;case 4:d=b.Rc;g.assert(b.config,k6e);h=b.config;this.Sla(h.NW);L8U=7;break;case 11:L8U=!q.X(c)&&(2<=c.bq||!h.TM)?10:16;break;case 7:L8U=h.Qtb?6:14;break;case 27:return R.reject();break;case 2:c=b.u;f=b.ie;L8U=4;break;}}};K8U=8;break;case 40:b.prototype.h5a=function(a,b){var y0U,c,f,d,E6e;y0U=2;while(y0U!==6){E6e="Media c";E6e+="ache is not enab";E6e+="led";switch(y0U){case 4:f=void 0;d=!1;this.$e.dKa(this.oe[a])?(f=R.resolve(this.oe[a]),d=!0):f=this.$e.psb(a);y0U=8;break;case 2:c=this;y0U=5;break;case 5:y0U=this.$e?4:7;break;case 8:return f.then(function(f){var M0U;M0U=2;while(M0U!==1){switch(M0U){case 2:return!q.X(f)&&c.$e?c.$e.ksb(a,b,f).then(function(b){var G0U;G0U=2;while(G0U!==5){switch(G0U){case 2:b&&(d||(c.oe[a]=f,++c.Bw,c.ZT(),c.Gi.push(f),c.Gi.sort(c.C0)),c.eya(a,b));return c.oe[a];break;}}}):R.resolve(void 0);break;}}});break;case 7:return R.reject(E6e);break;}}};b.prototype.eya=function(a,b){var Q0U,c,f,d,h;Q0U=2;while(Q0U!==14){switch(Q0U){case 8:Q0U=b.data?7:14;break;case 5:Q0U=b?4:14;break;case 4:f=this.oe[a];d=b.headers;f&&d&&Object.keys(d).forEach(function(a){var R0U;R0U=2;while(R0U!==1){switch(R0U){case 4:c.S2a(d[a],f);R0U=3;break;R0U=1;break;case 2:c.S2a(d[a],f);R0U=1;break;}}});Q0U=8;break;case 2:c=this;Q0U=5;break;case 7:h=b.data;Object.keys(h).forEach(function(a){var O0U,b,c;O0U=2;while(O0U!==8){switch(O0U){case 3:c=f.data;O0U=9;break;case 2:b=h[a];q.X(f.data)&&(f.data={});q.X(f.data[a])&&(f.data[a]=[]);O0U=3;break;case 9:b.forEach(function(b){var C0U;C0U=2;while(C0U!==1){switch(C0U){case 2:c[a].push(b);C0U=1;break;case 4:c[a].push(b);C0U=8;break;C0U=1;break;}}});O0U=8;break;}}});Q0U=14;break;}}};b.prototype.C0=function(a,b){var o0U;o0U=2;while(o0U!==1){switch(o0U){case 2:return b.ie-a.ie;break;case 4:return b.ie*a.ie;break;o0U=1;break;}}};b.prototype.dPa=function(a){var J0U,b,c,f;J0U=2;while(J0U!==10){switch(J0U){case 4:for(c in a.data){f=a.data[c];0<f.length&&(b[f[0].M]={sa:c,Lo:a.headers[c],data:f});}b.Rl=a.Rl;b.bq=a.bq;J0U=8;break;case 2:b={};J0U=5;break;case 8:b.Wb=a.Wb;b.Ko=a.Ko;b.Oo=a.Oo;b.cq=a.cq;b.nk=a.nk;b.pk=a.pk;return b;break;case 5:J0U=a&&a.data?4:10;break;}}};b.prototype.VCa=function(a,b,c,f,d,h){var E0U,P6e,u6e,q6e;E0U=2;while(E0U!==8){P6e="updateStreamSelection r";P6e+="etur";P6e+="ned n";P6e+="ull list";u6e="selectStr";u6e+="e";u6e+="am r";u6e+="eturned null";q6e="def";q6e+="a";q6e+="u";q6e+="l";q6e+="t";switch(E0U){case 1:a=H[q6e](d,h);E0U=5;break;case 4:return c=c[b.rd],c.Oo=b.reason,c.cq=b.Ur,c.Uob=b.nk,c.bZ=b.pk,c;break;case 3:T(u6e);E0U=8;break;case 5:E0U=(b=b.stream[f?1:0].r1(b.W,c,void 0,f?a.y0:a.uy))?4:3;break;case 2:E0U=b.location.UQ(a,c)?1:9;break;case 9:T(P6e);E0U=8;break;}}};K8U=54;break;case 17:b.prototype.wwb=function(a){var r0U,b;r0U=2;while(r0U!==8){switch(r0U){case 4:this.T2a(a);q.X(a.BN)||a.BN(a.LFb);this.l7a(a,function(){var c0U;c0U=2;while(c0U!==1){switch(c0U){case 2:q.X(a)||(q.X(a.Cj)||a.Cj.XY--,b.bU(a));c0U=1;break;}}});r0U=8;break;case 2:b=this;a.LFb=a.$c;r0U=4;break;}}};K8U=16;break;case 44:b.prototype.b7a=function(a){var l0U,m6e;l0U=2;while(l0U!==5){m6e="cach";m6e+="eEv";m6e+="i";m6e+="ct";switch(l0U){case 2:a={type:m6e,movieId:a};this.emit(a.type,a);l0U=5;break;}}};b.prototype.l7a=function(a,b){var w0U,c;w0U=2;while(w0U!==9){switch(w0U){case 4:!this.$e||!a.ve||this.lo||q.X(a.hy)||a.hy[a.sa]&&a.hy[a.sa].header?b():this.$e.LBb(a,b);c.u2||0!==Object.keys(this.JK).length||this.Gya();w0U=9;break;case 2:c=a.Wc;q.X(a.mQa)||this.aV(a,a.mQa);w0U=4;break;}}};b.prototype.u7a=function(a,b){var u0U,j6e;u0U=2;while(u0U!==4){j6e="preb";j6e+="uf";j6e+="f";j6e+="stats";switch(u0U){case 2:a.Wb.w0=b;a={type:j6e,movieId:a.u,stats:{prebuffstarted:a.Wb.EH,prebuffcomplete:a.Wb.w0}};this.emit(a.type,a);u0U=4;break;}}};b.prototype.i5a=function(a,b){var L0U,c,R6e;L0U=2;while(L0U!==4){R6e="Media ";R6e+="cach";R6e+="e is not enable";R6e+="d";switch(L0U){case 2:c=this;return this.$e?this.$e.lsb(a,b).then(function(b){var z0U;z0U=2;while(z0U!==5){switch(z0U){case 2:z0U=b&&b.Cj?1:5;break;case 1:return c.oe[a]=b.Cj,++c.Bw,c.ZT(),c.Gi.push(b.Cj),c.Gi.sort(c.C0),c.eya(a,b),c.cache[a];break;}}}):R.reject(R6e);break;}}};K8U=40;break;case 50:return b;break;case 33:b.prototype.T2a=function(a){var F0U;F0U=2;while(F0U!==1){switch(F0U){case 4:this.dya(a,a.Cj);F0U=2;break;F0U=1;break;case 2:this.dya(a,a.Cj);F0U=1;break;}}};b.prototype.S2a=function(a,b){var K0U;K0U=2;while(K0U!==1){switch(K0U){case 2:this.dya(a,b);K0U=1;break;case 4:this.dya(a,b);K0U=2;break;K0U=1;break;}}};b.prototype.dya=function(a,b){var D0U,c;D0U=2;while(D0U!==3){switch(D0U){case 8:c=a.sa;D0U=6;break;D0U=5;break;case 5:D0U=(b=this.oe[a.u]||b)?4:3;break;case 2:c=a.sa;D0U=5;break;case 4:b.sBa||b.ve&&!this.lo||(b.sBa=!0,++this.Bw),b.headers||(b.headers={}),b.headers[c]=a,this.Ml.TM&&(b.bq||(b.bq=0),++b.bq),this.ZT();D0U=3;break;}}};b.prototype.ZT=function(){var a0U,b,c,f;function a(a){var d0U;d0U=2;while(d0U!==5){switch(d0U){case 2:a.abort();f+=a.Ce;d0U=5;break;}}}a0U=2;while(a0U!==11){switch(a0U){case 5:a0U=!(this.Bw<=this.UK)?4:11;break;case 2:f=0;a0U=5;break;case 4:a0U=this.Bw>this.UK?3:12;break;case 3:a0U=(c=this.Gi.shift())?9:4;break;case 8:a0U=c.data?7:6;break;case 7:for(var d in c.data){c.data[d].forEach(a);delete c.data[d];}a0U=6;break;case 9:b=c.u;a0U=8;break;case 6:delete this.oe[b];--this.Bw;a0U=13;break;case 13:this.b7a(b);a0U=4;break;case 12:this.c7a(f);a0U=11;break;}}};b.prototype.c7a=function(a){var g0U,i6e;g0U=2;while(g0U!==1){i6e="di";i6e+="sca";i6e+="rded";i6e+="Byt";i6e+="es";switch(g0U){case 2:0!==a&&(a={type:i6e,bytes:a},this.emit(a.type,a));g0U=1;break;}}};b.prototype.e7a=function(a){var H0U,h6e;H0U=2;while(H0U!==1){h6e="flushe";h6e+="dBy";h6e+="tes";switch(H0U){case 2:0!==a&&(a={type:h6e,bytes:a},this.emit(a.type,a));H0U=1;break;}}};K8U=44;break;case 54:b.prototype.yIa=function(a,b,c,f,d,h){var N0U,k,g,l,p;N0U=2;while(N0U!==14){switch(N0U){case 8:f&&0!==g.length&&(p=this.VCa(a,c,g,k,d,h))&&b.push(p);p||(p=this.VCa(a,c,l,k,d,h))&&b.push(p);return b;break;case 2:k=b.M===m.La.VIDEO;g=[];l=[];b.Lc.forEach(function(a){var A0U;A0U=2;while(A0U!==1){switch(A0U){case 2:(a.Ou?l:g).push(a);A0U=1;break;}}});b=[];N0U=8;break;}}};b.prototype.ynb=function(a,b,c,f,d,h,k){var Z0U,g,l,p,t,r,D6e,S6e;Z0U=2;while(Z0U!==20){D6e="Unabl";D6e+="e to";D6e+=" find requested audio t";D6e+="rack in manifes";D6e+="t:";S6e="Unable t";S6e+="o fi";S6e+="nd audio nor";S6e+=" video tracks in";S6e+=" manifest:";switch(Z0U){case 3:p=l.kq[0];a=L.lk();b.W.buffer.Op=a[m.La.VIDEO];Z0U=7;break;case 7:l.getTracks(1).some(function(a){var r5U;r5U=2;while(r5U!==3){switch(r5U){case 2:r5U=a.JB.stereo?1:5;break;case 8:r5U=a.JB.stereo?3:8;break;r5U=a.JB.stereo?1:5;break;case 5:t=g.yIa(l.oa,a,b,d,h,p);return!0;break;case 1:return!1;break;}}});l.getTracks(0).some(function(a){var c5U;c5U=2;while(c5U!==1){switch(c5U){case 2:return a.cb===f?(r=g.yIa(l.oa,a,b,d,h,p),!0):!1;break;}}});Z0U=14;break;case 2:g=this;void 0===k&&(k=[]);l=new n.sR({oa:Number(c.movieId),Xa:0,ya:c,Bk:void 0,ib:function(){var t5U;t5U=2;while(t5U!==1){switch(t5U){case 2:return!0;break;case 4:return-8;break;t5U=1;break;}}},qia:{DZ:!!d,Rga:!1},Ki:!1,Kp:k,config:h,hQ:void 0,Sfa:void 0,gN:void 0,ub:a.ub,Cf:a.Cf,nH:void 0,pda:void 0,tC:void 0});Z0U=3;break;case 13:T(S6e,f);Z0U=20;break;case 11:T(D6e,f);Z0U=20;break;case 12:Z0U=q.X(r)&&f?11:10;break;case 14:Z0U=q.X(t)&&q.X(r)?13:12;break;case 10:return[].concat(t||[]).concat(r||[]);break;}}};b.prototype.Zla=function(a,b){var i5U;i5U=2;while(i5U!==1){switch(i5U){case 2:return a===m.La.VIDEO&&b.xx||a===m.La.AUDIO;break;}}};b.prototype.bc=function(a){var I5U;I5U=2;while(I5U!==1){switch(I5U){case 4:return~-a.bc;break;I5U=1;break;case 2:return!!a.bc;break;}}};K8U=50;break;case 16:b.prototype.xwb=function(a){var i0U,b,c,f,d,K6e,L6e,e6e,o6e,X6e;i0U=2;while(i0U!==14){K6e="m";K6e+="anag";K6e+="erd";K6e+="ebugeve";K6e+="nt";L6e=", remai";L6e+="ning:";L6e+=" ";e6e=",";e6e+=" ";e6e+="pts";e6e+=": ";o6e=", streamId";o6e+=":";o6e+=" ";X6e=", header";X6e+="Cache ";X6e+="da";X6e+="taComplete: ";X6e+="movieId: ";switch(i0U){case 9:i0U=(this.Ml.Pg&&(c="@"+L.time.ea()+X6e+c+o6e+a.sa+e6e+a.T+L6e+(f.CF-1),this.emit(K6e,{message:c})),a.ve&&0===a.responseType&&this.$e&&!this.lo)?8:6;break;case 3:i0U=f?9:14;break;case 2:b=this;c=a.u;f=this.oe[c]||a.Cj;i0U=3;break;case 8:d=L.time.now();this.$e.KBb(a,f,function(c){var I0U;I0U=2;while(I0U!==4){switch(I0U){case 2:c||q.X(f)||(c=L.time.ea()-d,q.X(f.Wb)&&(f.Wb={}),q.X(f.Wb.Xn)&&(f.Wb.Xn=0),f.Wb.Xn+=c);--f.CF;b.bU(a);I0U=4;break;}}});i0U=14;break;case 6:--f.CF,b.bU(a);i0U=14;break;}}};b.prototype.Aya=function(){var X0U;X0U=2;while(X0U!==1){switch(X0U){case 2:0===this.mr.length&&(this.mr=[t.yp.eg.OA(0,void 0,!1,!1,this.Tk,this.Ml),t.yp.eg.OA(1,void 0,!1,!1,this.Tk,this.Ml)],this.mr.forEach(function(a){var p0U;p0U=2;while(p0U!==1){switch(p0U){case 4:return a.Db();break;p0U=1;break;case 2:return a.Db();break;}}}),Q.ff());X0U=1;break;}}};b.prototype.Gya=function(){var n0U,a;n0U=2;while(n0U!==3){switch(n0U){case 2:a=this.mr;this.mr=[];a.forEach(function(a){var x0U;x0U=2;while(x0U!==1){switch(x0U){case 2:t.yp.eg.VW(a);x0U=1;break;case 4:t.yp.eg.VW(a);x0U=8;break;x0U=1;break;}}});n0U=3;break;}}};K8U=26;break;case 26:b.prototype.m5a=function(){var e0U,a;e0U=2;while(e0U!==4){switch(e0U){case 2:a=this;!this.lU&&0<this.lE.length&&(this.lE.forEach(function(b){var m0U;m0U=2;while(m0U!==1){switch(m0U){case 2:a.aV(b.Pob,b.Rc);m0U=1;break;}}}),this.lE=[]);e0U=4;break;}}};b.prototype.j7a=function(a,b){var j0U,c,d,h,k,l,p,n,t,z,G,D,u,J,y,A6e;j0U=2;while(j0U!==25){A6e="A ";A6e+="conf";A6e+="ig must be passed to _re";A6e+="questHeader";switch(j0U){case 5:d=b.u;h=b.ie;k=b.Rc;j0U=9;break;case 2:c=this;j0U=5;break;case 9:l=b.ve;p=b.hmb();n=p.ya;t=p.Af;p=p.zA;g.assert(b.config,A6e);j0U=12;break;case 19:j0U=!D?18:17;break;case 12:z=b.config;z=f.Jba(z,n);G={stream:[new U.ET(z.taa,z,void 0),new U.ET(z.T1,z,void 0)],location:new r.FS(n,a.ub,a.Cf,z,void 0),W:{state:F.ma.Gg,FZ:!0,Dka:0,buffer:{Op:void 0,T:0,Gc:0,Lb:0,Yl:0,Xi:0,Z:[],Th:void 0,eea:void 0}}};j0U=20;break;case 20:D=this.ynb(a,G,n,p,t,z,b.Kp);j0U=19;break;case 18:return R.reject();break;case 17:u=this.oe[d];u||(u={ie:h,u:d,headers:Object.create(null),bq:0,XY:0,CF:0,data:void 0,ve:l,Wb:{},SW:void 0,sBa:void 0},!u.ve||this.lo?this.oe[d]=u:u.Wb.Xn=0,this.Gi.push(u),this.Gi.sort(this.C0));J=[];z.Oob&&(y=2292+12*Math.ceil(n.duration/2E3));j0U=26;break;case 26:return(l&&this.$e?this.lo?this.$e.osb(d,u):this.$e.Qsb(d):R.resolve(void 0)).then(function(a){var h0U;h0U=2;while(h0U!==5){switch(h0U){case 2:D.forEach(function(b){var W0U,f;W0U=2;while(W0U!==4){switch(W0U){case 2:f=y?y:z.YY;z.TM&&u.headers[b.sa]||(q.X(u.Ko)&&b.M===m.La.VIDEO&&(u.Ko=b.O,u.Oo=b.Oo,u.cq=b.cq,u.nk=b.Uob,u.pk=b.bZ),t&&b.M===m.La.VIDEO&&z.yX?f=z.yX:z.qUa&&b.Cs&&(f=b.Cs.offset+b.Cs.size),b={stream:b,url:b.url,offset:0,aa:f,ve:l},l&&(u.Wb.Ntb=!q.X(a)&&0<Object.keys(a).length,b.hy=a),b=c.k7a(b,k,u,z),J.push(b));W0U=4;break;}}});return R.all(J);break;}}}).then(function(a){var k0U;k0U=2;while(k0U!==1){switch(k0U){case 2:return new R(function(b){var P0U;P0U=2;while(P0U!==1){switch(P0U){case 2:c.$e&&l&&!c.lo?c.$e.MBb(u,function(){var v0U;v0U=2;while(v0U!==1){switch(v0U){case 4:b(a);v0U=2;break;v0U=1;break;case 2:b(a);v0U=1;break;}}}):b(a);P0U=1;break;}}});break;}}}).then(function(a){var V0U;V0U=2;while(V0U!==3){switch(V0U){case 2:a=Math.max.apply(Math,a);u.Wb.JX=u.Wb.lJa;u.Wb.$Z=a;return{firstheadersent:u.Wb.JX,lastheadercomplete:u.Wb.$Z};break;}}});break;}}};b.prototype.L8=function(a,b){var s0U,c;s0U=2;while(s0U!==7){switch(s0U){case 2:c=a.stream.M;2>this.mr.length&&this.Aya();b=new p.W2(a.stream,b,this.mr[c],a,this,!0,aa);s0U=3;break;case 3:b.ve=a.ve;b.Pe=this;return b;break;}}};b.prototype.L3a=function(a,b){var U0U,c;U0U=2;while(U0U!==7){switch(U0U){case 4:b=k.qR.create(a.stream,b,this.mr[c].track,a,this,!0,aa);b.ve=a.ve;U0U=9;break;case 2:c=a.stream.M;2>this.mr.length&&this.Aya();U0U=4;break;case 9:b.Pe=this;return b;break;}}};b.prototype.bU=function(a){var T0U,b,C6e;T0U=2;while(T0U!==8){C6e="savet";C6e+="od";C6e+="isk";switch(T0U){case 3:b=this.oe[a.u]||a.Cj;b&&0===b.XY&&0===b.CF&&(this.u7a(b,a.$c),b.ve&&this.$e&&(b.Wb.Ntb||(this.lo?this.$e.NBb(b):this.$e.bI(C6e,{OQa:b.Wb.Xn}))));T0U=8;break;case 2:this.bc(a)&&delete this.JK[a.sa];this.bc(a)||delete a.response;a.wc();T0U=3;break;}}};b.prototype.k7a=function(a,b,c,f){var Y0U,d;Y0U=2;while(Y0U!==11){switch(Y0U){case 2:d=this.L8(a,f);d.mQa=b;Y0U=4;break;case 8:return R.reject();break;case 4:d.Cj=c;d.hy=a.hy;Y0U=9;break;case 9:Y0U=!d.ns()?8:7;break;case 7:c.XY++;this.JK[d.sa]=d;Y0U=14;break;case 13:d.BN=a.BN;Y0U=11;break;case 12:return new R(function(a){var B0U;B0U=2;while(B0U!==1){switch(B0U){case 2:d.BN=a;B0U=1;break;case 4:d.BN=a;B0U=9;break;B0U=1;break;}}});break;case 14:Y0U=a.BN?13:12;break;}}};K8U=35;break;case 35:b.prototype.r5a=function(a,b,c){var b0U,f,d;b0U=2;while(b0U!==7){switch(b0U){case 2:f=a.rca;b.ve&&this.$e&&(a.v_?f=a.v_:a.RLa&&0<a.RLa&&(f=2E3*a.RLa));b0U=4;break;case 3:return function(a,b){var P43=i4YY;var f0U;f0U=2;while(f0U!==1){switch(f0U){case 2:P43.w6e(0);return P43.N6e(f,b);break;case 4:P43.F6e(1);return P43.N6e(f,b);break;f0U=1;break;}}};break;case 4:b0U=0<f?3:9;break;case 9:d=c&&c.length<a.qca?c.length:a.qca;return function(a){var f43=i4YY;var S0U;S0U=2;while(S0U!==1){switch(S0U){case 4:f43.F6e(1);return f43.N6e(d,a);break;S0U=1;break;case 2:f43.F6e(0);return f43.N6e(d,a);break;}}};break;}}};b.prototype.aV=function(a,b){var q0U,c,f,d,h,k,g,l,p,n,t,r,U6e,r6e,l6e,T6e,c6e,s6e,z6e;q0U=2;while(q0U!==47){U6e="manag";U6e+="e";U6e+="rdeb";U6e+="ugeven";U6e+="t";r6e=", s";r6e+="tartPt";r6e+="s";r6e+=": ";l6e=", ";l6e+="pts";l6e+=":";l6e+=" ";T6e=", s";T6e+="tre";T6e+="am";T6e+="Id: ";c6e=", ";c6e+="headerCache requestDa";c6e+="ta:";c6e+=" m";c6e+="ovieId: ";s6e="no";s6e+=" proper f";s6e+="ragment foun";s6e+="d to reques";s6e+="t data at pts";z6e="u";z6e+="n";z6e+="def";z6e+="i";z6e+="ned";switch(q0U){case 10:k.SW=a;return;break;case 40:i4YY.F6e(2);t=i4YY.N6e(l,1);q0U=39;break;case 9:q0U=this.lU?8:14;break;case 36:q.X(k.Rl)&&(k.Rl=p.T);p.ve&&(p.responseType=0);a.ve&&this.$e&&a.hy&&a.hy[f]&&z6e!==typeof p.T&&a.hy[f][p.T]||(t=this.L3a(p,a.Wc),t.ve&&(t.Cj=a.Cj),t.ns(),++k.CF,b.push(t));++n;d+=p.duration;q0U=50;break;case 25:q0U=!q.X(p)?24:34;break;case 15:q0U=-1===l||void 0===l?27:26;break;case 48:k.SW&&!q.X(k.Rl)&&(a=k.SW,delete k.SW,this.aV(a,k.Rl));q0U=47;break;case 42:p.ve=a.ve;q0U=41;break;case 13:q0U=k?12:47;break;case 43:q0U=(void 0===p&&(p=a.stream.mi(l)),void 0!==p)?42:49;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[f]&&(k.data[f]=[]);b=k.data[f];c=this.r5a(h,a,g);q0U=30;break;case 21:n&&(p.M===m.La.AUDIO&&!h.Bia&&n.Rc<(h.wo&&!h.xA&&d.si?Math.floor(d.si.va):0)&&(++n.Cm,n.Rc+=p.Ta.va),0<n.Cm&&p.Ij({start:n.Cm}));q0U=35;break;case 19:b=k.Rl;q0U=18;break;case 38:p.Y$(g.get(t)),p.LO=t+1,l=t;q0U=37;break;case 27:A(s6e,b);q0U=47;break;case 14:k=this.oe[c]||a.Cj;q0U=13;break;case 23:q0U=this.Zla(a.M,h)?22:35;break;case 2:c=a.u;f=a.sa;d=a.stream;h=a.Wc;q0U=9;break;case 41:q0U=!q.X(g)&&!p.Sa?40:36;break;case 28:r=t===m.La.VIDEO?h.F_:h.A_,h=t===m.La.VIDEO?h.yub:h.pub;q0U=44;break;case 50:p=void 0;q0U=49;break;case 49:++l;q0U=44;break;case 12:q0U=a.M===m.La.AUDIO?11:18;break;case 8:this.lE.push({Pob:a,Rc:b});q0U=7;break;case 37:++t;q0U=39;break;case 26:p=a.stream.mi(l);q0U=25;break;case 11:q0U=void 0===k.Rl?10:19;break;case 24:p.ve=a.ve;q0U=23;break;case 44:q0U=l<(g&&g.length||0)&&!c(n,d)?43:48;break;case 7:q0U=this.lE.length>h.Pfa?6:47;break;case 39:q0U=t<g.length&&(p.aa<r||p.duration<h)?38:36;break;case 6:this.lE.shift();q0U=7;break;case 18:a.M===m.La.AUDIO&&h.wo&&!h.xA&&d.si&&(b=Math.max(d.Z&&d.Z.Qh(0)||0,b+d.si.va));g=a.stream.Z;l=g&&g.cm(b);q0U=15;break;case 30:n=d=0;t=p&&p.M;q0U=28;break;case 35:h.Pg&&(b="@"+L.time.ea()+c6e+c+T6e+f+l6e+b+r6e+p.T,this.emit(U6e,{message:b}));q0U=34;break;case 22:n=p.EX(b);q0U=21;break;}}};K8U=33;break;case 13:b.prototype.Psb=function(a,b){var Q8U,c,f;Q8U=2;while(Q8U!==3){switch(Q8U){case 2:c=this;f=this.jLa(a);return f||!this.$e?R.resolve(f):(this.lo?this.i5a(a,b):this.h5a(a,b)).then(function(a){var R8U;R8U=2;while(R8U!==1){switch(R8U){case 4:return c.dPa(a);break;R8U=1;break;case 2:return c.dPa(a);break;}}});break;}}};b.prototype.jLa=function(a){var O8U;O8U=2;while(O8U!==1){switch(O8U){case 4:return this.dPa(this.oe[a]);break;O8U=1;break;case 2:return this.dPa(this.oe[a]);break;}}};b.prototype.Xu=function(){var C8U,d6e;C8U=2;while(C8U!==1){d6e="Media c";d6e+="ache";d6e+=" is not en";d6e+="ab";d6e+="led";switch(C8U){case 2:return this.$e?this.$e.smb():R.reject(d6e);break;}}};b.prototype.vGa=function(){var o8U,c,f,d,p6e,Y6e;o8U=2;while(o8U!==3){switch(o8U){case 2:c=0;for(f in this.oe){d=this.oe[f];if(d.data){for(var h in d.data){p6e="i";p6e+="n ";p6e+="e";p6e+="ntry:";Y6e="missing headerEntry f";Y6e+="or ";Y6e+="str";Y6e+="eamId:";d.headers[h]||A(Y6e,h,p6e,d);b(d,h);d.data[h].forEach(a);delete d.data[h];}delete d.data;}}this.e7a(c);o8U=3;break;}}function a(a){var J8U;J8U=2;while(J8U!==1){switch(J8U){case 2:a.rDa();J8U=1;break;case 4:a.rDa();J8U=7;break;J8U=1;break;}}}function b(a,b){var E8U;E8U=2;while(E8U!==1){switch(E8U){case 2:a&&a.data&&a.data[b].forEach(function(a){var N8U;N8U=2;while(N8U!==5){switch(N8U){case 2:a.abort();c+=a.Ce;N8U=5;break;}}});E8U=1;break;}}}};b.prototype.ov=function(a){var A8U,b;A8U=2;while(A8U!==4){switch(A8U){case 2:b=this.oe[a.u];b&&(this.bc(a)?q.X(b.Wb.lJa)&&!q.X(a.hf)&&(b.Wb.lJa=a.hf):q.X(b.Wb.EH)&&!q.X(a.hf)&&(b.Wb.EH=a.hf));A8U=4;break;}}};b.prototype.Vi=function(a){var Z8U;Z8U=2;while(Z8U!==1){switch(Z8U){case 2:this.bc(a)?this.wwb(a):this.xwb(a);Z8U=1;break;}}};b.prototype.XO=function(a){var t0U,Z6e;t0U=2;while(t0U!==5){Z6e="_o";Z6e+="nErr";Z6e+="or:";Z6e+=" ";switch(t0U){case 2:T(Z6e,a.toString());this.bU(a);t0U=5;break;}}};K8U=17;break;}}}(h.Lq);b.qra=a;u(d.EventEmitter.prototype,a.prototype);},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r,u,J,F,L,H,U;Object.defineProperty(b,"__esModule",{value:!0});b.usa=void 0;c=a(0);g=a(7);q=a(18);d=a(21);n=a(752);k=a(737);p=a(712);h=a(4);f=h.Promise;t=a(216);m=a(215);r=a(214);u=a(711);J=a(359);F=a(6);L=new h.Console("ASEJS","media|asejs");H=L.trace.bind(L);U=L.warn.bind(L);d=function(b){var x3e;function d(c,f){var a3e,d,L3e,e3e,o3e;a3e=2;while(a3e!==12){L3e="D";L3e+="E";L3e+="BU";L3e+="G";L3e+=":";e3e="nf-ase ver";e3e+="sio";e3e+="n:";o3e="1SI";o3e+="Yb";o3e+="ZrNJCp9";switch(a3e){case 8:d.MK=!1;a3e=7;break;case 7:d.aAa=!1;d.jA=[];o3e;return d;break;case 2:d=b.call(this)||this;d.config=c;d.Iv=f;c=a(368);H(e3e,c,L3e,!1);a3e=8;break;}}}x3e=2;while(x3e!==29){switch(x3e){case 7:Object.defineProperties(d.prototype,{Pe:{get:function(){var W3e;W3e=2;while(W3e!==1){switch(W3e){case 2:return this.Mf;break;case 4:return this.Mf;break;W3e=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cf:{get:function(){var y3e;y3e=2;while(y3e!==1){switch(y3e){case 4:return this.cU.Cf;break;y3e=1;break;case 2:return this.cU.Cf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{iga:{get:function(){var J3e;J3e=2;while(J3e!==1){switch(J3e){case 2:return this.aAa;break;case 4:return this.aAa;break;J3e=1;break;}}},enumerable:!1,configurable:!0}});d.prototype.Db=function(a,b,c,f,d,h){var N3e,k,l,s3e,z3e,C3e,A3e,K3e;N3e=2;while(N3e!==20){s3e="media";s3e+="cach";s3e+="e";z3e="cache";z3e+="E";z3e+="vi";z3e+="c";z3e+="t";C3e="f";C3e+="lu";C3e+="shedBytes";A3e="disc";A3e+="arde";A3e+="dBytes";K3e="p";K3e+="rebuf";K3e+="fstat";K3e+="s";switch(N3e){case 9:g.X(a)&&(this.GAa=b);this.nL=f;this.EAa=d;N3e=6;break;case 11:b=new n.qra(this,l,c,h),a=function(a){var w3e;w3e=2;while(w3e!==1){switch(w3e){case 4:k.emit(a.type,a);w3e=3;break;w3e=1;break;case 2:k.emit(a.type,a);w3e=1;break;}}},b.addListener(K3e,a),b.addListener(A3e,a),b.addListener(C3e,a),b.addListener(z3e,a),(l.wna||l.Ry)&&b.addListener(s3e,function(a){var F3e,c3e;F3e=2;while(F3e!==1){c3e="me";c3e+="di";c3e+="acache";switch(F3e){case 4:k.emit("",a);F3e=6;break;F3e=1;break;case 2:k.emit(c3e,a);F3e=1;break;}}}),this.Mf=b;N3e=10;break;case 6:p(l);this.cU=m.hD.gIa(l,this.Iv);this.e$=new u(l);N3e=12;break;case 12:N3e=l.EI||l.u2?11:10;break;case 2:k=this;l=this.config;m.hD.reset();0<l.ev&&(!g.X(a)&&a>l.ev&&(a=l.ev),b>l.ev&&(b=l.ev));N3e=9;break;case 10:this.MK=!0;N3e=20;break;}}};x3e=12;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{ub:{get:function(){var Q3e;Q3e=2;while(Q3e!==1){switch(Q3e){case 2:return this.cU.ub;break;case 4:return this.cU.ub;break;Q3e=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rm:{get:function(){var n3e;n3e=2;while(n3e!==1){switch(n3e){case 2:return this.cU.rm;break;case 4:return this.cU.rm;break;n3e=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{op:{get:function(){var f3e;f3e=2;while(f3e!==1){switch(f3e){case 2:return this.e$;break;case 4:return this.e$;break;f3e=1;break;}}},enumerable:!1,configurable:!0}});x3e=3;break;case 12:d.prototype.dQ=function(a,b,c){var V3e;V3e=2;while(V3e!==4){switch(V3e){case 2:this.GAa=a;this.nL=b||0;this.EAa=c||0;V3e=4;break;}}};d.prototype.p0=function(){var M3e;M3e=2;while(M3e!==1){switch(M3e){case 2:this.aAa=!0;M3e=1;break;case 4:this.aAa=~1;M3e=7;break;M3e=1;break;}}};x3e=10;break;case 3:Object.defineProperties(d.prototype,{Fy:{get:function(){var v3e;v3e=2;while(v3e!==1){switch(v3e){case 4:return this.nL;break;v3e=1;break;case 2:return this.nL;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xga:{get:function(){var O3e;O3e=2;while(O3e!==1){switch(O3e){case 4:return-g.X(this.GAa);break;O3e=1;break;case 2:return!g.X(this.GAa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{FC:{get:function(){var B3e;B3e=2;while(B3e!==1){switch(B3e){case 4:return this.EAa;break;B3e=1;break;case 2:return this.EAa;break;}}},enumerable:!1,configurable:!0}});x3e=7;break;case 10:d.prototype.yn=function(a,b,c,f,d,l,p,n,t,m){var G3e,T3e;G3e=2;while(G3e!==4){T3e="o";T3e+="pen: streamingManage";T3e+="r not";T3e+=" i";T3e+="nitted";switch(G3e){case 5:U(T3e);G3e=4;break;case 9:G3e=this.MK?6:8;break;G3e=this.MK?1:5;break;case 1:return n=n||this.config,this.ub.reset(),this.rm.xEb(),this.e$.reset(),void 0===l&&(l=this.aY(a,b)),g.X(this.nL)&&(h.lk()[q.La.VIDEO]<=n.vub?this.nL=0:this.nL=n.GP),a=new k.zwa(this,a,m,b,c,f,d,l,p,n,t),this.jA.push(a),a;break;case 2:G3e=this.MK?1:5;break;}}};d.prototype.iO=function(a,b){var t3e;t3e=2;while(t3e!==1){switch(t3e){case 2:return this.Mf&&(a=this.Mf.iO(a,b))?a:!1;break;}}};d.prototype.Mha=function(a){var H3e;H3e=2;while(H3e!==1){switch(H3e){case 2:return this.Mf&&(a=this.Mf.jLa(a))?a:!1;break;}}};d.prototype.Xu=function(){var b3e;b3e=2;while(b3e!==1){switch(b3e){case 2:return this.Mf?this.Mf.Xu():f.resolve([]);break;}}};x3e=17;break;case 17:d.prototype.$6a=function(a){var I3e,b,l3e;I3e=2;while(I3e!==3){l3e="can't find session in arra";l3e+="y, movi";l3e+="eId:";switch(I3e){case 4:g.X(b)?U(l3e,a.Gd.R.u):(this.jA.splice(b,1),0===this.jA.length&&this.rm.IEb(),this.rm.save(),this.Cf.save());I3e=3;break;case 2:this.ub.bQ(null);b=this.jA.indexOf(a);I3e=4;break;}}};d.prototype.CRa=function(){};d.prototype.aY=function(a,b,c){var g3e;g3e=2;while(g3e!==1){switch(g3e){case 2:return t.$Ha(a,b,c);break;case 4:return t.$Ha(a,b,c);break;g3e=1;break;}}};d.prototype.tIa=function(){var k3e,r3e;k3e=2;while(k3e!==4){r3e="getSessi";r3e+="onS";r3e+="tatistics: StreamingManage";r3e+="r not initted";switch(k3e){case 1:return this.ub.rkb();break;case 8:return this.ub.rkb();break;k3e=4;break;case 5:U(r3e);k3e=4;break;case 2:k3e=this.MK?1:5;break;}}};x3e=26;break;case 34:d.prototype.aW=function(){var h3e;h3e=2;while(h3e!==1){switch(h3e){case 2:this.Mf&&this.Mf.An();h3e=1;break;}}};d.prototype.NCa=function(){var S3e;S3e=2;while(S3e!==1){switch(S3e){case 2:return this.Mf?this.Mf.X0():null;break;case 4:return this.Mf?this.Mf.X0():1;break;S3e=1;break;}}};d.prototype.nRa=function(){var D3e,a,U3e;D3e=2;while(D3e!==9){U3e="sessionHistory";U3e+="Re";U3e+="port: ase-manager not initted";switch(D3e){case 3:U(U3e);D3e=9;break;case 5:a=new J.zS(this.op.Ht,this.config,L);return{iF:a.nCa,fUb:a.oCa,yVb:a.PCb};break;case 1:D3e=this.MK?5:3;break;case 2:D3e=1;break;}}};x3e=31;break;case 26:d.prototype.qDa=function(a){var E3e,b;E3e=2;while(E3e!==9){switch(E3e){case 2:b=this.Cf||new r(this.config,this.Iv);b.QFa(a);b.save();this.ub&&this.ub.reset();E3e=9;break;}}};d.prototype.q2=function(a){var q3e;q3e=2;while(q3e!==1){switch(q3e){case 4:h.LN(a);q3e=2;break;q3e=1;break;case 2:h.LN(a);q3e=1;break;}}};d.prototype.bW=function(a,b){var u3e,d3e;u3e=2;while(u3e!==1){d3e="c";d3e+="a";d3e+="t";d3e+="c";d3e+="h";switch(u3e){case 2:this.Mf&&(a=this.Mf.Cyb(this,a),g.X(b)||a.then(b),a[d3e](function(a){var P3e,Y3e;P3e=2;while(P3e!==1){Y3e="cach";Y3e+="ePrepare";Y3e+=" caugh";Y3e+="t er";Y3e+="ror:";switch(P3e){case 4:H("",a);P3e=0;break;P3e=1;break;case 2:H(Y3e,a);P3e=1;break;}}}));u3e=1;break;}}};x3e=23;break;case 23:d.prototype.cM=function(){var m3e;m3e=2;while(m3e!==1){switch(m3e){case 2:this.Mf&&this.Mf.flush();m3e=1;break;}}};d.prototype.Qaa=function(){var j3e;j3e=2;while(j3e!==1){switch(j3e){case 2:this.Mf&&this.Mf.vGa();j3e=1;break;}}};d.prototype.dM=function(){var R3e;R3e=2;while(R3e!==1){switch(R3e){case 4:return this.Mf?this.Mf.list():[];break;R3e=1;break;case 2:return this.Mf?this.Mf.list():[];break;}}};d.prototype.OCa=function(a){var i3e;i3e=2;while(i3e!==1){switch(i3e){case 2:this.Mf&&this.Mf.Sla(a);i3e=1;break;}}};x3e=34;break;case 31:d.prototype.Bn=function(){var X3e,p3e;X3e=2;while(X3e!==7){p3e="Attem";p3e+="pted to";p3e+=" destruct Manager bef";p3e+="o";p3e+="re all Sessions removed";switch(X3e){case 3:delete this.Iv;delete this.Mf;m.hD.reset();X3e=7;break;case 2:F.assert(0===this.jA.length,p3e);this.MK=!1;delete this.cU;delete this.e$;X3e=3;break;}}};return d;break;}}}(d.EventEmitter);b.usa=d;},function(d,b){function a(a,b){var d;d={};Object.keys(b).forEach(function(k){d[k]=c(a,b[k]);});return d;}function c(a,b){return{oa:a.viewableId,mf:b.startTimeMs,tg:b.endTimeMs||Infinity,gl:b.defaultNext||null,ke:b.transitionHint,i2:b.transitionDelayZones,next:b.next};}Object.defineProperty(b,"__esModule",{value:!0});b.Oib=b.XRa=b.Fbb=b.Gbb=b.lDa=void 0;b.lDa=function(b){return{Jh:b.initialSegment,ke:b.transitionType,Va:a(b,b.segments)};};b.Gbb=a;b.Fbb=c;b.XRa=function(a,b){var c;return{Jh:b,ke:"lazy",Va:(c={},c[b]={oa:a,mf:0,tg:Infinity,gl:null,next:{}},c)};};b.Oib=function(a,b){var c,l,q;a=Math.max(a.duration-3E4,3E4);for(var d={},g,h=0,f=0;f<a;f+=3E4){l="s"+h++;q={oa:b,mf:f,tg:f+3E4<a?f+3E4:null};void 0!==g&&(g.next=(c={},c[l]={weight:1},c),g.gl=l);g=d[l]=q;}return{Jh:"s0",Va:d,ke:"lazy"};};},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;c=a(21);g=a(73);q=a(11);b.jCa=function(a){if(a.N2a)return a;g(c.EventEmitter.prototype,a);Object.defineProperties(a,{N2a:{value:!0},aya:{set:function(a){this.isReady=a;}},Gc:{get:function(){return this.isReady?new q.ka(this.Wd(),1E3):void 0;}}});return a;};},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Sxa=void 0;c=a(17);g=a(4);q=a(6);d=function(){function a(a,b){this.console=a;this.Efa=b;this.HEa=[];this.wCa={};}a.prototype.CC=function(a,b){void 0===b?this.HEa=a:this.wCa[b]=a;};a.prototype.fjb=function(a,b){var d,f,k,l;d=this;a=this.Efa(a);q.assert(void 0!==a);null===(f=g.px)||void 0===f?void 0:f.call(g,a);l=null!==(k=this.wCa[a])&&void 0!==k?k:this.HEa;return b.map(function(a){return c.EL(a.uF,a.O,l,d.console).inRange;});};return a;}();b.Sxa=d;},function(d,b,a){var g,q;function c(a,b,c){var d,f;d=Array.isArray(c)?c[0]:c;f=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(f,g.__assign(g.__assign({},b),{type:f}));});}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=b.FLa=void 0;g=a(0);q=a(155);b.FLa=function(a,b,d,h){[["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","logdata","openComplete","startEvent",["streamerEnd","streamerend"]].forEach(function(a){c(d,h.events,a);});h.events.on("error",function(a){a=g.__assign(g.__assign({},a),{manifestIndex:0});d.emit("error",a);});h.events.on("segmentComplete",function(a){var b;b=d.mG(a.segmentId);d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:b,segmentId:a.segmentId});});h.events.on("segmentNormalized",function(a){var b,c,f;b=d.mG(a.segmentId);c=Math.floor(a.normalizedEnd.va);f=Math.floor(a.contentEnd.va);d.emit("maxPosition",{type:"maxPosition",index:b,endPts:c,maxPts:f});if(0<b)return d.fail("ManifestRangeEvent not implemented for non-zero manifestIndex");a=Math.floor(a.normalizedStart.va);d.emit("manifestRange",{type:"manifestRange",index:b,manifestOffset:0,startPts:0===b?0:a,endPts:c,maxPts:f});});h.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});h.events.on("serverSwitch",function(a){var b;b=d.mG(a.segmentId);d.emit("serverSwitch",{type:"serverSwitch",manifestIndex:b,segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});h.events.on("streamSelected",function(a){var b,c;b=d.mG(a.position.Na);c=h.Hfa(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:b,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:c.Kba.va,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});h.events.on("updateStreamingPts",function(a){var c,f;c=d.u;f=d.mG(a.position.Na);b.$f.$p(c)&&(c=h.Hfa(a.position),d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:a.mediaType,manifestIndex:f,trackIndex:a.trackIndex,movieTime:c.Kba.va}));});};b.ELa=function(a,b,d,h){[["debug","managerdebugevent"],"buffering","bufferingStarted","segmentAppended","segmentPresenting","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("bufferingComplete",function(c){var f,h,k,g,l;g=d.LY(c.actualStartPosition).va;l=null===(h=null===(f=a.$f.ub.get())||void 0===f?void 0:f.Fa)||void 0===h?void 0:h.Ca;b.ETa("startplay",q.RD.tma);b.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:c.reason,actualbw:l,initSelReason:null!==(k=c.initSelReason)&&void 0!==k?k:"unknown"}});b.emit("ptschanged",g);b.emit("bufferingComplete",{type:"bufferingComplete",time:c.time,actualStartPts:g,aBufferLevelMs:c.aBufferLevelMs,vBufferLevelMs:c.vBufferLevelMs,selector:c.selector,initBitrate:c.initBitrate,skipbackBufferSizeBytes:c.skipbackBufferSizeBytes});});d.events.on("streamPresenting",function(a){var c,f,d;c=a.position.Na;f=a.playerTimestamp.va;d=b.qb.Hfa(a.position);void 0===d?h.warn("ShimSession cannot map streamPresenting: "+JSON.stringify(a)):(c=b.mG(c),b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(f),contentStartPts:Math.floor(d.Kba.va),mediaType:a.mediaType,manifestIndex:c,trackIndex:a.trackIndex,streamIndex:a.streamIndex}));});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.va);});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lwa=void 0;d=function(){function a(){}Object.defineProperties(a.prototype,{mM:{get:function(){return"StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!1,configurable:!0}});a.prototype.fN=function(){};return a;}();b.Lwa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Zva=void 0;c=a(0);g=a(63);q=a(155);d=function(){function a(a){this.Tl=a;}Object.defineProperties(a.prototype,{mM:{get:function(){return"queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JMa:{get:function(){return"qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.Ya;},enumerable:!1,configurable:!0}});a.prototype.fN=function(a){var b,d,f,l;if(a.iq===q.RD.eda&&(a=this.Tl.sea())){f={};try{for(var k=c.__values(a.Vxb),g=k.next();!g.done;g=k.next()){l=g.value;f[l.M]=this.htb(l);}}catch(D){b={error:D};}finally{try{g&&!g.done&&(d=k["return"])&&d.call(k);}finally{if(b)throw b.error;}}return{branchQueue:this.ftb(a.wzb),playerIterator:f};}};a.prototype.htb=function(a){return null===a||void 0===a?void 0:a.NHa();};a.prototype.etb=function(a){var b,c,f;b=this;if(a){c=a.ca;f={};a.rY().forEach(function(a){f[a.M]=b.gtb(a);});return{sId:null===c||void 0===c?void 0:c.id,cancelled:a.Np,RM:f};}return a;};a.prototype.gtb=function(a){if(a&&a.Ha)return a.Ha.kfa();};a.prototype.ftb=function(a){var b;b=this;return a.map(function(a){return b.etb(a);});};return a;}();b.Zva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Gqa=void 0;c=a(155);d=function(){function a(a){this.ub=a;}Object.defineProperties(a.prototype,{mM:{get:function(){return"EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!1,configurable:!0}});a.prototype.fN=function(a){var b,d;if(a.iq===c.RD.eda&&this.ub){a={};b=this.ub.get();b&&b.avtp&&b.avtp.Ca&&(a.avtp=b.avtp.Ca,a.dltm=b.avtp.ZW);b&&b.cdnavtp&&(a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);this.ub.flush();b=this.ub.AHa();d=this.ub.cBa;if(b)for(var g in b)b.hasOwnProperty(g)&&(a["ne"+g]=Number(b[g]).toFixed(6));d&&d.length&&(a.activeRequests=JSON.stringify(d));return a;}};return a;}();b.Gqa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Wna=void 0;c=a(0);d=function(a){function b(c,d){c=a.call(this,b.gkb(c,d))||this;c.j4a=d;c.name="AggregateError";return c;}c.__extends(b,a);b.gkb=function(a,b){return b.reduce(function(a,b){return a+"\n"+b;},a);};Object.defineProperties(b.prototype,{ZF:{get:function(){return this.j4a;},enumerable:!1,configurable:!0}});return b;}(Error);b.Wna=d;},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r,u,J,F,L;Object.defineProperty(b,"__esModule",{value:!0});b.Awa=void 0;c=a(0);g=a(21);q=a(211);n=a(17);k=a(11);p=a(6);h=a(34);f=a(7);t=a(155);m=a(760);r=a(759);u=a(758);J=a(757);F=a(756);L=a(755);d=function(a){function b(b,c,f,d,h,l,p,q,m,r,z,G,u){var D;D=a.call(this)||this;D.console=b;D.IB=c;D.vza=f;D.qb=d;D.UE=h;D.HC=l;D.W=r;D.sZ=z;D.config=G;D.qIb=u;D.OK=!1;D.Nf=new g.Fl();D.D5a=d.xg.Va[D.sZ].oa;D.GE=new k.JJ(n.ma.Gg);D.D2=new F.Sxa(D.console,function(a){return D.qb.xg.Va[a].oa;});D.qb.vDb(D.D2);d.GRa({s1:function(){return D.UE[0];}},{s1:function(){return D.UE[1];}});D.ORb=!1;D.NRb=!1;D.U0=new t.Xva(G);J.FLa(D.console,c,D,D.qb);return D;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.D5a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sk:{get:function(){return this.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gd:{get:function(){return{Npb:{1:{Z:{na:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});b.prototype.n2=function(){p.assert(!1);};b.prototype.open=function(){var a;if(!this.OK){this.OK=!0;this.U0.T$(new m.Gqa(this.IB.ub));this.U0.T$(new u.Lwa());this.qb.open();this.emit("openComplete",{type:"openComplete"});this.qb.YQa(this.HC);a=this.seb(this.W);this.U0.T$(new r.Zva(a));this.$o=this.W;this.Tl=a;J.ELa(this.IB,this,this.Tl,this.console);this.qb.l$a(a);}};b.prototype.seb=function(a){a=L.jCa(a);return this.IB.$f.b9a(a);};b.prototype.close=function(){this.OK&&(this.OK=!1);};Object.defineProperties(b.prototype,{LV:{get:function(){return"1.5";},enumerable:!1,configurable:!0}});b.prototype.ETa=function(a,b){b=this.U0.fN(b);this.emit("logdata",{type:"logdata",target:a,fields:c.__assign(c.__assign({},b),{aseApiVersion:this.LV})});};b.prototype.flush=function(){this.ETa("endplay",t.RD.eda);this.qb.Ng();this.IB.Cf.save();this.IB.rm.save();};b.prototype.paused=function(){this.GE.value===n.ma.Nc&&(this.GE.set(n.ma.Ch),this.$o.emit("paused",{type:"paused",Rc:this.$o.Gc}));};b.prototype.SQ=function(){this.GE.value===n.ma.Ch&&(this.GE.set(n.ma.Nc),this.$o.emit("playing",{type:"playing",Rc:this.$o.Gc}));};b.prototype.wc=function(){var a;this.qIb.release();this.IB.JAb(this);this.OK&&this.close();clearInterval(this.Aw);this.Aw=void 0;null===(a=this.Tl)||void 0===a?void 0:a.Bn();this.Qz&&(this.Qz.clear(),this.Qz=void 0);};b.prototype.suspend=function(){p.assert(!1,"Not supported");};b.prototype.resume=function(){p.assert(!1,"Not supported");};b.prototype.play=function(){var a;a=this;this.qb.state!==q.Qv.CLOSED&&(this.$o.aya=!0,this.$o.emit("playing",{type:"playing",Rc:this.$o.Gc}),this.GE.set(n.ma.Nc),this.emit("play"),this.Aw||(this.Aw=setInterval(function(){var b;return null===(b=a.Tl)||void 0===b?void 0:b.pvb();},this.config.DA)));};b.prototype.stop=function(){this.GE.set(n.ma.VD);this.qb.Ng();this.$o.emit("paused",{type:"paused",Rc:this.$o.Gc});this.$o.aya=!1;this.emit("stop");};b.prototype.dX=function(a,b){void 0===b&&(b=!0);if(!this.Tl)return this.fail("Must call open prior to drmReady");a=parseInt(a);f.isFinite(a)&&(b?this.Tl.aQ(a):this.Tl.$Cb(a));};b.prototype.Nfa=function(){var a;if(!this.Tl)return!1;a=this.IB.$f.$p(this.qb.xg.Va[this.tY()].oa);return this.Tl.Pu(a);};b.prototype.NTa=function(){this.$o.emit("underflow",{type:"underflow",Rc:this.$o.Gc});};b.prototype.Ph=function(){return this.mq("skipped");};b.prototype.TCa=function(a,b){var c;c=this.xY(b||0);b=this.qb.xg.Va[c].mf;return(a=this.qb.ZMa({Na:c,offset:h.ka.Bf(a-b)}))&&b+a.offset.va;};b.prototype.Fr=function(a,b){var c;c=new h.ka(b,1E3);return(c=this.qb.uv(c))&&c.Na===this.xY(a||0)?this.qb.xg.Va[c.Na].mf+c.offset.va:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+a+", playerPts: "+b);};b.prototype.qM=function(a,b){var c;c=this.xY(a||0);c={Na:c,offset:new h.ka(b-this.qb.xg.Va[c].mf,1E3)};return(c=this.qb.LY(c))?c.va:this.fail("convertPtsToPlayerPts failed to convert manifestIndex "+a+", playerPts: "+b);};b.prototype.xZ=function(){return{};};b.prototype.p0=function(){return this.mq("pipeliningDisabled");};b.prototype.tY=function(){return this.qb.Jyb.Na;};b.prototype.dY=function(){return this.mq("getChildBranchInfo");};b.prototype.sY=function(){return{id:this.tY(),de:0,bd:0,te:0,xc:0,Ub:0};};b.prototype.cQa=function(){return this.mq("removeSession");};b.prototype.Dy=function(a,b,c){void 0===b&&(b=0);b=null!==c&&void 0!==c?c:this.xY(b);a=this.qb.YQa({Na:b,offset:h.ka.Bf(a-this.qb.xg.Va[b].mf)});p.assert(a,"Valid position must be provided for seek");return a.offset.va;};b.prototype.seek=function(a,b){a=this.Fr(b,a);return this.Dy(a,b);};b.prototype.ju=function(){return this.mq("chooseNextSegment");};b.prototype.jBa=function(){return this.mq("addManifest");};b.prototype.vL=function(){return this.mq("activateManifest");};b.prototype.wNa=function(){var a;a=this;p.assert(void 0!==this.gA);this.UE[0]=this.gA;this.qb.GRa({s1:function(){return a.UE[0];}},{s1:function(){return a.UE[1];}});p.assert(void 0===this.Qz);this.Qz=new g.Fl();this.Qz.on(this.Tl.events,"bufferingComplete",function(){p.assert(void 0!==a.gA);a.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:a.vza.audio_tracks[a.gA].track_id,trackIndex:a.gA});a.gA=void 0;a.Qz.clear();a.Qz=void 0;});};b.prototype.LSa=function(a){var b,c,f,d;b=a.zA;if(void 0!==this.gA)return!1;a=this.vza.audio_tracks;if(!a.some(function(a,d){if(a.track_id===b)return c=a,f=d,!0;}))return!1;d=this.UE[0];this.gA=f;a=a[d];this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:c.language,newNumChannels:c.channels});return!0;};b.prototype.CC=function(a,b){this.D2.CC(a,b);};b.prototype.fu=function(){return!1;};b.prototype.tX=function(){return this.mq("evaluateQoE");};b.prototype.uma=function(){return this.mq("stopBuffering");};b.prototype.mI=function(){return this.mq("startBuffering");};b.prototype.xIa=function(){return this.mq("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.mG=function(a){return a!==this.sZ?this.fail("Unexpected segmentId: "+a+", "+("single viewable playback initialSegmentId: "+this.sZ)):0;};b.prototype.xY=function(a){return 0!==a?this.fail("Unexpected manifestIndex: "+a+", single viewable playback only supports manifestIndex: 0"):this.sZ;};b.prototype.mq=function(a){return this.fail("Method not implemented "+a);};return b;}(g.EventEmitter);b.Awa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.awa=void 0;c=a(4);g=a(6);d=function(){var Z3e;function a(a,b){var x1e,O1e,v1e,f1e;x1e=2;while(x1e!==9){O1e="1";O1e+="SIY";O1e+="bZr";O1e+="NJCp9";v1e="med";v1e+="i";v1e+="a|asejs";f1e="ASEJS_REQ";f1e+="U";f1e+="EST_";f1e+="PACER";switch(x1e){case 2:this.bha=a;this.config=b;this.W_=0;this.console=new c.Console(f1e,v1e);O1e;x1e=9;break;}}}Z3e=2;while(Z3e!==3){switch(Z3e){case 2:a.prototype.bF=function(){var a1e;a1e=2;while(a1e!==1){switch(a1e){case 4:this.W_--;a1e=5;break;a1e=1;break;case 2:this.W_++;a1e=1;break;}}};a.prototype.Q0=function(){var Q1e,B1e;Q1e=2;while(Q1e!==4){B1e="Received remove request w";B1e+="hen ther";B1e+="e are no requests outstanding";switch(Q1e){case 2:this.W_--;Q1e=1;break;case 1:g.assert(0<=this.W_,B1e);this.fM();Q1e=4;break;}}};a.prototype.fM=function(){var n1e,a;n1e=2;while(n1e!==5){switch(n1e){case 2:a=this.config.eia;n1e=1;break;case 1:n1e=this.W_<a&&this.bha()?1:5;break;}}};return a;break;}}}();b.awa=d;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Poa=void 0;c=a(4);g=a(17);q=a(11);n=a(6);d=function(){function a(a){void 0===a&&(a=500);this.yab=a;this.state=new q.JJ(g.Ve.Tm);this.ry=new q.JJ(g.ma.Gg);}Object.defineProperties(a.prototype,{vg:{get:function(){return this.state.value===g.Ve.we||this.state.value===g.Ve.Eg;},enumerable:!1,configurable:!0}});a.prototype.bCa=function(a){n.assert(!this.events,"Cannot reassign BufferingStateTracker emitter!");this.events=a;this.vg&&(this.zFa(),this.IRa());};a.prototype.XEa=function(){this.events=void 0;this.lba();};a.prototype.owb=function(){this.mI(void 0,!1);};a.prototype.WCb=function(a){n.assert(this.state.value===g.Ve.we&&void 0===this.HC);this.HC=a;};a.prototype.gDb=function(a,b,c){n.assert(this.vg);void 0===this.Bga&&void 0===this.yga&&(this.Bga=a,this.yga=b,this.LJa=c);};a.prototype.UCb=function(a,b,c){n.assert(this.vg&&void 0===this.au&&void 0===this.z2&&void 0===this.BV);this.au=a;this.z2=b;this.BV=c;};a.prototype.wk=function(a){this.mI(a,!0);};a.prototype.VCb=function(a){n.assert(this.vg);this.yr=a;};a.prototype.pj=function(){n.assert(this.vg);this.yr=100;this.lba();this.events&&this.Chb();this.set(g.Ve.AT);this.BV=this.z2=this.au=this.LJa=this.yga=this.Bga=this.HC=void 0;};a.prototype.stop=function(){this.set(g.Ve.Tm);this.lba();};a.prototype.mI=function(a,b){n.assert(void 0!==a&&!0===b||void 0===a&&!1===b);this.HC=a;this.yr=0;this.S_=void 0;a=this.vg;this.set(b?g.Ve.Eg:g.Ve.we);!a&&this.events&&(this.zFa(),this.IRa());};a.prototype.set=function(a){this.state.set(a);switch(a){case g.Ve.Tm:this.ry.set(g.ma.Tm);break;case g.Ve.we:this.ry.set(g.ma.we);break;case g.Ve.Eg:this.ry.set(g.ma.Eg);break;case g.Ve.AT:this.ry.set(g.ma.Nc);}};a.prototype.zFa=function(){n.assert(this.events&&void 0!==this.yr);this.S_=this.yr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.time.ea(),percentage:this.yr});};a.prototype.IRa=function(){var a;a=this;this.eja=setInterval(function(){return a.Dhb();},this.yab);};a.prototype.lba=function(){this.eja&&(clearInterval(this.eja),this.eja=void 0);};a.prototype.Dhb=function(){this.vg&&this.events&&void 0!==this.yr&&this.yr!==this.S_&&this.events.emit("buffering",{type:"buffering",time:c.time.ea(),percentage:this.yr})&&(this.S_=this.yr);};a.prototype.Chb=function(){var a;n.assert(this.events&&this.HC&&void 0!==this.au&&void 0!==this.BV&&void 0!==this.z2);this.S_=this.yr;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:c.time.ea(),actualStartPosition:this.HC,reason:this.au,aBufferLevelMs:this.BV,vBufferLevelMs:this.z2,selector:this.Bga,initBitrate:this.yga,initSelReason:null===(a=this.LJa)||void 0===a?void 0:a.reason,skipbackBufferSizeBytes:this.CVb});};return a;}();b.Poa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.mva=void 0;c=a(0);g=a(11);q=a(49);d=function(){function a(){this.Qc=new g.Lta();}Object.defineProperties(a.prototype,{size:{get:function(){return this.Qc.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.Qc.values();this.Qc.clear();a.forEach(function(a){return a.Ng();});};a.prototype.vea=function(a){return this.Qc.get(a);};a.prototype.Mka=function(a){return this.Qc["delete"](a.ca.id,a);};a.prototype.forEach=function(a){var b;b=this;this.Qc.forEach(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Qc.reduce(function(b,d,h){return a(b,d,h,c);},b);};a.prototype.map=function(a){var b;b=this;return this.Qc.map(function(c,f){return a(c,f,b);});};a.prototype.filter=function(a){var b;b=this;return this.Qc.filter(function(c,f){return a(c,f,b);});};a.prototype.SGb=function(a,b){var d,f;d=this;f=q.ZDa(a);a=Object.keys(f).map(function(a){return[a,f[a],d.Qc.count(a)];});this.Qc.keys().filter(function(a){return void 0===f[a];}).forEach(function(a){d.Qc.get(a).forEach(function(a){return a.Ng();});d.Qc["delete"](a);});a.filter(function(a){a=c.__read(a,3);return a[1]<a[2];}).forEach(function(a){var b;a=c.__read(a,3);b=a[0];a=a[1];return d.Qc.get(b).slice(a).forEach(function(a){a.Ng();d.Qc["delete"](b,a);});});a.filter(function(a){a=c.__read(a,3);return a[1]>a[2];}).forEach(function(a){var f;f=c.__read(a,3);a=f[0];for(var h=f[1],f=f[2],k=0;k<h-f;++k)d.Qc.set(a,b(a));});};return a;}();b.mva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.$pa=void 0;c=a(6);g=a(371);d=function(){function a(a,b){this.zhb=a;this.C9a=b;this.Ana=!1;this.kF=this.ex=0;}a.prototype.sIb=function(a,b){var h,f,k,l;function d(){var a,c,d;a=l.pop();c=f(a);if(c.ex!==n.ex){c.ex=n.ex;d=b(a,c.ru,c.$ja).E2;k(a).forEach(function(b){var k,g;k=b.hIb;g=f(k);g.ex!==h.ex&&(b=c.ru+b.weight,g.kF!==h.kF?d&&(g.kF=h.kF,g.ru=b,g.$ja=a,l.push(k)):b<g.ru&&(g.ru=b,g.$ja=a,l.Myb(k)));});}}h=this;f=this.C9a;k=this.zhb;c.assert(!this.Ana);this.Ana=!0;this.ex=this.ex+1|0;this.kF=this.kF+1|0;l=new g.S5([a],function(a,b){return f(a).ru-f(b).ru;});a=f(a);a.ru=0;a.$ja=void 0;for(var n=this;!l.empty;)d();this.Ana=!1;};return a;}();b.$pa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Wab=b.SDa=void 0;c=a(772);b.SDa=function(a,b){return new c.$pa(function(c){return Object.keys(c.ca.next||{}).map(function(d){return{hIb:a.Rg(d),weight:a.YIa(c,d)?b:c.aB?c.aB.Mb(c.Fm).va:Infinity};});},function(a){return a.D9a;});};b.Wab=function(a,b){var c,d,g,h,f;c=Object.keys(a.Va);d=Object.keys(b.Va);g=d.filter(function(a){return-1===c.indexOf(a);});h=c.filter(function(a){return-1===d.indexOf(a);});f=c.filter(function(c){return-1===d.indexOf(c)?!1:a.Va[c].tg!==b.Va[c].tg;});return{tQb:g,MAb:h,eRb:f};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.vva=void 0;c=a(11);d=function(){function a(a,b,d){var k;k=this;this.id=a;this.ca=b;this.ke=d;this.D9a={};this.Lza=!1;this.CY=function(a){var b,c,d;return null!==(d=null===(c=null===(b=k.ca.next)||void 0===b?void 0:b[a])||void 0===c?void 0:c.ke)&&void 0!==d?d:k.ke;};this.l$=new c.ka(b.mf,1E3);this.V8=void 0!==b.tg&&null!==b.tg?new c.ka(b.tg,1E3):c.ka.wga;}Object.defineProperties(a.prototype,{oa:{get:function(){return this.ca.oa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lH:{get:function(){return this.Lza;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fm:{get:function(){return this.l$;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aB:{get:function(){return this.V8;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.l$.va;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{na:{get:function(){return this.V8.va;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sy:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gs:{get:function(){return this.Q_.length?!this.ca.gl&&0===this.Yia.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Q_:{get:function(){var a,b;return Object.keys(null!==(b=null===(a=this.ca)||void 0===a?void 0:a.next)&&void 0!==b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yia:{get:function(){var a;a=this;return this.Q_.filter(function(b){var c,d;return!(null===(d=null===(c=a.ca.next)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.l$=a;this.V8=b;this.Lza=!0;};a.prototype.nHa=function(){var a;return this.Yia.length?null!==(a=this.Yia.map(this.CY).reduce(function(a,b){return a===b?b:void 0;}))&&void 0!==a?a:this.ke:this.ke;};return a;}();b.vva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;c=a(0);g=a(774);d=function(){function a(a){this.xg=a;this.Va={};}a.tqb=function(a){return"immediate"===a||"delayedSeamless"===a;};a.prototype.Rg=function(a){var b,c,d;c=this.Va[a];if(void 0===c){c=this.xg.Va[a];if(void 0===c)throw Error("Segment not found ("+a+")");d=null!==(b=c.ke)&&void 0!==b?b:this.xg.ke;c=new g.vva(a,c,d);this.Va[a]=c;}return c;};a.prototype.drb=function(a){var b;return c.__generator(this,function(c){switch(c.label){case 0:return[4,a];case 1:c.cI(),b=a,c.label=2;case 2:if(!b.ca.gl)return[3,4];b=this.Rg(b.ca.gl);return[4,b];case 3:return c.cI(),[3,2];case 4:return[2];}});};a.prototype.plb=function(a){var b;b=this;return Object.keys(this.xg.Va).filter(function(c){var d;return void 0!==(null===(d=b.xg.Va[c].next)||void 0===d?void 0:d[a.id]);}).map(function(a){return b.Rg(a);});};a.prototype.Lnb=function(a,b){var c,d;return null===(d=null===(c=a.ca.next)||void 0===c?void 0:c[b])||void 0===d?void 0:d.weight;};a.prototype.YIa=function(b,c){return a.tqb(b.CY(c));};return a;}();b.sva=d;},function(d,b){function a(a,b,d,g,k,p,h){if(h&&-1===b.indexOf(h.id)&&!a.YIa(h,k.id))return{E2:!1};a=h&&a.Lnb(h,k.id);if(void 0===a||0<a)if(-1!==b.indexOf(k.id)||p<d)return g.push(k.id),{E2:!0};return{E2:!1};}Object.defineProperty(b,"__esModule",{value:!0});b.tIb=b.zP=void 0;b.zP=function(b,d,g,n,k){var c,h,f;h=[];f=(null===(c=g.aB)||void 0===c?void 0:c.Mb(g.Fm).va)||0;d.sIb(g,function(c,d,g){return a(b,n,k.va+f,h,c,d,g);});return h;};b.tIb=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Fwa=void 0;c=a(0);d=a(372);g=a(206);new(a(4)).Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var W1e;W1e=2;function b(c,d){var y1e,h,V1e;y1e=2;while(y1e!==8){V1e="1S";V1e+="IY";V1e+="bZr";V1e+="NJ";V1e+="Cp9";switch(y1e){case 2:h=a.call(this,c,d)||this;h.uy=function(a,b){var J1e;J1e=2;while(J1e!==1){switch(J1e){case 2:return g.uy(h.config,a,b);break;case 4:return g.uy(h.config,a,b);break;J1e=1;break;}}};h.y0=function(a,c,d){var N1e,f;N1e=2;while(N1e!==9){switch(N1e){case 2:d=null!==d&&void 0!==d?d:h.TG;f=b.YDb(a,h.config);a=a.Fa?a.Fa.Ca*(100-h.Fkb(c,f))/100|0:0;N1e=3;break;case 3:return h.aFa(a,d);break;}}};V1e;return h;break;}}}while(W1e!==3){switch(W1e){case 2:c.__extends(b,a);b.YDb=function(a,b){var w1e,c,f;w1e=2;while(w1e!==3){switch(w1e){case 5:b.Fma&&(null===(c=a.Fa)||void 0===c?void 0:c.Ca)<b.nM&&(f=!0);return f;break;case 2:f=!!a.So;w1e=5;break;}}};b.prototype.Fkb=function(a,b){var F1e,c,f;F1e=2;while(F1e!==8){switch(F1e){case 2:c=this.config;f=b?c.Eba:c.zaa;F1e=4;break;case 4:b=b?c.Fba:c.Baa;Array.isArray(b)&&(f=g.SFa(b,a.Yl-a.Gc,c.Aaa));return f;break;}}};return b;break;}}}(d.e3);b.Fwa=a;},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.lta=void 0;c=a(0);d=a(110);g=a(372);q=a(206);a=a(4);n=d.kW;k=d.Lbb;p=d.TFa;h=d.xib;f=d.OBb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var M1e;M1e=2;while(M1e!==5){switch(M1e){case 3:c.__extends(b,a);return b;break;M1e=5;break;case 2:c.__extends(b,a);return b;break;}}function b(b,c){var G1e,d,N5z;G1e=2;while(G1e!==11){N5z="1S";N5z+="I";N5z+="YbZrN";N5z+="JC";N5z+="p9";switch(G1e){case 3:Array.isArray(b.Ip.curves)&&(d.rEa=k(b.Ip.curves[0],0,0,1),d.qEa=k(b.Ip.curves[1],0,0,1));d.W$a=n(b.Ip.threshold||6E3,1,1E5);G1e=8;break;case 2:d=a.call(this,b,c)||this;d.uy=function(a,b){var t1e;t1e=2;while(t1e!==1){switch(t1e){case 4:return q.uy(d.config,a,b);break;t1e=1;break;case 2:return q.uy(d.config,a,b);break;}}};d.y0=function(a,b,c){var H1e,k,g,l,n,q,t;H1e=2;while(H1e!==13){switch(H1e){case 4:k=null!==(n=null===(l=a[d.filter])||void 0===l?void 0:l.Ca)&&void 0!==n?n:t;l=Math.pow(Math.max(1-k/d.W$a,0),d.Q$a);n=b.Yl-b.Gc;d.eEb?(b=p(d.rEa,n,1),n=p(d.qEa,n,1),b=b*l+n*(1-l)):b=p(f(d.rEa,d.qEa,l),n,1);H1e=7;break;case 7:a=d.SMa&&(null===(q=a[d.SMa])||void 0===q?void 0:q.NO);H1e=6;break;case 2:c=null!==c&&void 0!==c?c:d.TG;t=null!==(g=null===(k=a.Fa)||void 0===k?void 0:k.Ca)&&void 0!==g?g:0;H1e=4;break;case 6:void 0!==a&&(q=h(d.hvb,a),b=Math.min(b*q,1));i4YY.J5z(0);return d.aFa(i4YY.e5z(1,t,b),c);break;}}};G1e=3;break;case 8:d.Q$a=n(b.Ip.gamma||1,.1,10);d.filter=b.Ip.filter;d.eEb=!!b.Ip.simpleScaling;b.Ip.niqrfilter&&b.Ip.niqrcurve&&(d.SMa=b.Ip.niqrfilter,d.hvb=k(b.Ip.niqrcurve,1,0,4));N5z;return d;break;}}}}(g.e3);b.lta=a;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.fra=void 0;c=a(17);g=a(108);q=a(4);n=a(207);k=a(49);d=function(){function a(a,b,c){this.config=a;this.gEb=b;this.navigator=c;a=n["default"](this.config);this.ryb=[a.uy,a.y0];}a.prototype.qCb=function(a,b,d,g){var f,h,l,p,n;l=[];if(!this.mxb(d.track))return{stream:h,lQ:l};h=d.Cq.Uu;p=g?this.N9a(d.Na,g,d.track.Lc):d.track.Lc;h&&!h.track.equals(d.track)&&(h=this.pjb(h,p));if(0===d.M&&h&&!this.RDb(d,h))return{stream:h,lQ:l};a=this.cfb(a===c.Ve.we?c.ma.we:a===c.Ve.Eg?c.ma.Eg:a===c.Ve.AT?c.ma.Nc:c.ma.Gg,b,d);a=d.rI.r1(a,p,void 0,this.ryb[d.M],!0,d.track.R.Hh);if(!a)return{stream:h,lQ:l};a.reason&&(n={reason:a.reason,TP:a.Ur,Lu:a.Lu,nk:a.nk,pk:a.pk});h=p[a.rd];d.Cq.S1(h);if(null===(f=a.qu)||void 0===f?0:f.length)l=a.qu.map(function(a){return k.sn(p,function(b){return b.id===a;});}).filter(k.cja);return void 0!==n?{stream:h,lQ:l,sCb:n}:{stream:h,lQ:l};};a.prototype.N9a=function(a,b,c){var f;f=b.fjb(a,c.map(function(a){return a.dy;}));return c.filter(function(a,b){return f[b];});};a.prototype.pjb=function(a,b){var c;c=b[0];b.filter(function(a){return a.zj;}).every(function(b){return b.O<=a.O?c=b:!1;});return c;};a.prototype.RDb=function(a,b){return 0<this.config.uI.length?!0:(a=a.Cq.LG)&&a===b.location?!1:!0;};a.prototype.mxb=function(a){return a.R.km.UQ(a.R.oa,a.Lc);};a.prototype.Nkb=function(a,b){var m;for(var c,f=b.Mb(this.gEb),d=[],h=a,k=b,g,l,p=0,n=!0;h;){m=h.Klb(f);if(0===m.Z.length)break;if(!n&&!h.vA)break;k=m.Z[0].qy;void 0===g&&(g=m.Z[m.Z.length-1].v0,l=m.Eja>=m.Z.length?g:m.Z[m.Eja].qy);d=m.Z.concat(d);p+=m.Xi;h=this.navigator.parent(h);n=!1;}return{Op:q.lk()[a.M],T:k.va,Gc:b.va,Lb:null!==(c=null===g||void 0===g?void 0:g.va)&&void 0!==c?c:b.va,Yl:l?l.va:b.va,Th:d.reduce(function(a,b){return a+b.aa;},0),Xi:p,eea:d.length,Z:d};};a.prototype.cfb=function(a,b,d){var f,h,k;f=this.Nkb(d,b);h=1===d.M?this.config.cR:this.config.JL;k=g.eg();return{state:a,Vx:a===c.ma.Nc,Iy:d.uk,buffer:f,Oca:h,kLa:!1,OM:!1,uo:null===k||void 0===k?void 0:k.uo,M:d.M,Gc:b.va,So:!1,FZ:!1,Dka:0};};return a;}();b.fra=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Vua=void 0;c=a(0);g=a(6);q=a(63);d=function(a){function b(b){var c;c=a.call(this)||this;c.qb=b;c.Qc=[];return c;}c.__extends(b,a);b.prototype.TV=function(a,b){var c;c=!this.qb;c&&(this.qb=a,this.O8=null===b||void 0===b?void 0:b.Eo);return c;};b.prototype.qF=function(){this.Qc=[];this.O8=void 0;};b.prototype.zca=function(a){q.Ya&&g.assert(this.qb===a);this.qb=void 0;this.NZ=!1;this.qF();};b.prototype.lda=function(){for(var a,b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];(a=this.Qc).push.apply(a,c.__spread(b));};b.prototype.lN=function(){return this.O8?this.O8:a.prototype.lN.call(this);};b.prototype.pI=function(){};return b;}(a(381).a7);b.Vua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;c=a(0);g=a(21);d=function(a){function b(b,c,d,f){var h;h=a.call(this)||this;h.G=b;h.track=c;h.Rp=!1;h.j9=!1;h.sk=new g.Fl();h.sk.on(c,"networkfailing",function(){h.emit("networkfailing");});h.sk.on(c,"error",function(){h.G.warn("requestQueue got error");h.emit("error");});if(d)h.Rp=!0,setTimeout(function(){return h.emit("created");},0);else h.sk.on(c,"created",function(){h.Rp=!0;h.emit("created");});h.j9=f;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{xX:{get:function(){return this.track.xX;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qh:{get:function(){return this.track.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ui:{get:function(){return this.track.Ui;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cda:{get:function(){return this.track.Cda;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.Db=function(){var a,b;this.j9||(null===(b=(a=this.track).Db)||void 0===b?void 0:b.call(a),this.j9=!0);};b.prototype.Ln=function(){return this.track.Ln();};b.prototype.X0=function(){return this.track.X0();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.An=function(){this.sk.clear();};return b;}(g.EventEmitter);b.bwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=void 0;d=function(){function a(a,b){this.G=a;this.Yf=b;this.U1=!1;}a.prototype.zg=function(a,b,d,g,k,p){this.U1||(this.U1=!0,a={type:"error",error:null!==d&&void 0!==d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:k,nativeCode:p,viewableId:b},this.G.error("notifyStreamingError: "+JSON.stringify(a)),this.Yf.emit("error",a));};a.prototype.Ro=function(){return this.U1;};a.prototype.zm=function(){this.U1=!1;};return a;}();b.Qwa=d;},function(d,b,a){var g,q;function c(a,b,c,d,f){var h,k;c=null!==(h=b.ag)&&void 0!==h?h:b.track.yu(a,c.va,void 0,f);a=null!==(k=b.fg)&&void 0!==k?k:b.track.iB(a,null===d||void 0===d?void 0:d.va,b.Ag);return[c,a];}Object.defineProperty(b,"__esModule",{value:!0});b.$Ma=b.XMa=void 0;g=a(0);q=a(11);b.XMa=function(a,b,d,h,f){var k,l,p;k=b[0];b=b[1];l=g.__read(b?c(a,b,d,h,f):[],2);p=l[0];l=l[1];d=g.__read(k?c(a,k,void 0!==(null===p||void 0===p?void 0:p.T)?q.ka.Bf(p.T):d,void 0!==(null===l||void 0===l?void 0:l.na)?q.ka.Bf(null===l||void 0===l?void 0:l.na):h,f):[],2);a=d[0];d=d[1];null===k||void 0===k?void 0:k.NJa(a,d);null===b||void 0===b?void 0:b.NJa(p,l);};b.$Ma=function(a,b,c){return b.track.yu(a,c.va,void 0,!0).Zl;};},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;c=a(11);g=a(783);q=a(6);d=function(){function a(a){var b,c,f,d,k,g,l;b=this;c=a.config;f=a.R;d=a.ad;k=a.ca;g=a.Zl;l=a.Pp;a=a.splice;this.IJa=this.gM=!1;this.gDa=function(){b.gM||b.zBa()&&b.WMa();};this.config=c;this.ad=d;this.R=f;this.ca=k;this.Zl=g;this.Pp=l;this.splice=a;}a.prototype.Db=function(a){if(this.gM)throw Error("Cannot call init() after cleanup");if(this.IJa)throw Error("Cannot call init() twice");this.IJa=!0;this.ENa=a;this.R.Qx.addListener("onHeaderFragments",this.gDa);this.zBa()&&this.WMa();};a.prototype.wc=function(){this.gM||(this.gM=!0,this.ENa=void 0,this.R.Qx.removeListener("onHeaderFragments",this.gDa));};a.prototype.WMa=function(){var a,b;if(!this.gM){this.mvb();b=!1;this.ca&&!this.ca.lH&&(b=this.bja());null===(a=this.ENa)||void 0===a?void 0:a.call(this,b);this.wc();}};a.prototype.zBa=function(){return this.ad.every(function(a){return a.track.Xd;});};a.prototype.mvb=function(){g.XMa(this.config,this.ad,this.Zl,this.Pp,this.splice);};a.prototype.bja=function(){var a,b;q.assert(this.ca);q.assert(!this.ca.lH);b=null!==(a=this.ad[1])&&void 0!==a?a:this.ad[0];a=g.$Ma(this.config,b,this.ca.Fm);if(void 0===a||void 0===b.Pp)return!1;b=this.Pp&&!this.Pp.equal(c.ka.wga)?b.Pp:c.ka.wga;this.ca.normalize(a,b);return!0;};return a;}();b.Tua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Tta=b.xra=void 0;c=a(63);g=a(4);d=function(){function a(a){this.pH=a;}a.prototype.DHa=function(a,b,d){var h;h=a.Z;a=a.mi(b);a.LO=b+1;if(!a.Sa)for(++b;b<h.length&&b<d.fg.index&&(a.duration<d.bH||0!==b%this.pH);++b)a.Y$(h.get(b)),a.LO=b+1,c.Ya&&d.mj("getFragmentForHudsonRequest: extended fragment startPts:",a.T,"to duration:",a.duration,"size:",a.aa,"index: ",b,"min request size in ms:",d.bH);a.Irb=d.Xc.Hpb+(g.time.ea()-d.Xc.Mpb);c.Ya&&d.mj("getFragmentForHudsonRequest( "+b+") returning: "+JSON.stringify(a));return a;};return a;}();b.xra=d;d=function(){function a(){}a.prototype.DHa=function(a,b,d,h){var f,k;f=a.Z;k=b===d.ag.index;b===d.fg.index?(a=a.BHa(d.fg),a.eQ(d.fg.Hv),a.GLa(),a.rDb(d.Xc.ca)):k?(a=a.BHa(d.ag),a.eQ(d.ag.Hv)):a=a.mi(b);a.LO=b+1;if(!a.Sa&&!h)for(++b;b<f.length&&b<d.fg.index&&(a.aa<d.pMa||a.duration<d.bH);++b)a.Y$(f.get(b)),a.LO=b+1,c.Ya&&d.mj("getFragmentForRequest: extended fragment startPts:",a.T,"to duration:",a.duration,"size:",a.aa,"min request size:",d.pMa,"min request duration:",d.bH);c.Ya&&d.mj("getFragmentForRequest( "+b+") returning: "+JSON.stringify(a)+", stream: "+JSON.stringify(a.stream));return a;};return a;}();b.Tta=d;},function(d,b,a){var g,q,n,k,p,h;function c(a,b,c){p=c;h=c.map(function(a,b){return a.zj?b:null;}).filter(function(a){return null!==a;});if(null===k)return a=q(c),k=c[a].O,new n(a);if(!h.length)return null;a=h.filter(function(a){return c[a].O==k;})[0];return void 0===a?(g.log("Defaulting to first stream due to unvalid bitrate requested: "+k),new n(h[0])):new n(a);}b=a(31);a=a(4);g=b.console;q=b.Lda;n=b.Um;k=null;p=null;h=null;a.qbb&&(a.qbb.rI={Db:function(){h=p=k=null;},r1:function(a){k=a;},JSb:function(){return{all:p,una:h};}});d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var c5z,b,S63;c5z=2;while(c5z!==7){S63="1S";S63+="I";S63+="YbZrNJ";S63+="C";S63+="p9";switch(c5z){case 2:a(7);a(18);c5z=4;break;case 4:a(31);b=a(17).Ve;d.P={checkBuffering:function(a,c,d,k,g){var U43=i4YY;var n5z,f,l,p,n,q,m,r,w63,E63,i63,v63,R5z,v5z,r5z;function h(b){var w5z;w5z=2;while(w5z!==5){switch(w5z){case 2:b=d.Z.DX(a.Gc+b,void 0,!0);return(q-a.Xi)/(q+(b.offset+b.aa)-m);break;}}}n5z=2;while(n5z!==36){w63="n";w63+="o";w63+="r";w63+="e";w63+="buff";E63="m";E63+="ax";E63+="si";E63+="z";E63+="e";i63="o";i63+="ut";i63+="ofr";i63+="a";i63+="nge";v63="hi";v63+="g";v63+="h";v63+="t";v63+="p";switch(n5z){case 35:return{complete:!0,reason:v63};break;case 15:n5z=!d.Z||!d.Z.length?27:26;break;case 10:k&&(p+=k.zW*g.V$);p=n?Math.min(n,p):p;n5z=19;break;case 42:return p=Math.min(n,f+r),{complete:!1,uC:p,Nh:h(p)};break;case 24:return{complete:!0,reason:i63};break;case 34:p=d.Z.Hd(k);g=Math.min(k+Math.floor(g.yP/p),d.Z.length-1);r=d.Z.Wg(g);U43.s63(0);R5z=U43.D63(12,4);p=R5z*m/c-a.Gc;n5z=30;break;case 12:U43.s63(1);v5z=U43.D63(111,11,10);p=g.Vg*(l?g.Cka:v5z);g.Vhb&&d.lb&&d.lb.th&&d.lb.th.Ca>g.Lha&&(p+=g.U$+d.lb.th.Ca*g.Fja);n5z=10;break;case 41:r=l.offset;n5z=40;break;case 30:--g;n5z=29;break;case 18:return{complete:!1,uC:p};break;case 22:n5z=f>=p?21:38;break;case 21:n5z=c>d.O*g.zX?35:34;break;case 44:U43.f63(0);r5z=U43.j63(120,112);r=r5z*r/c-l.T-p;n5z=43;break;case 25:n5z=-1===k?24:23;break;case 23:m=d.Z.Wg(k);n5z=22;break;case 2:f=a.Yl-a.Gc;l=c===b.Eg;c=d.Fa||0;n5z=3;break;case 38:0<c&&c<d.O&&(p=Math.min(n,Math.max(g.yP*(d.O/c-1),p)));return{complete:!1,uC:p,Nh:h(p)};break;case 17:q=0;a.Z.forEach(function(b){var u5z;u5z=2;while(u5z!==1){switch(u5z){case 2:q+=b.T+b.duration>a.Gc?b.aa:0;u5z=1;break;}}});n5z=15;break;case 27:return c<d.O&&(p=Math.min(n,Math.max(g.yP*(d.O/c-1),p))),{complete:!1,uC:p,Nh:(q-a.Xi)/(q+(p-(a.Lb-a.Gc))*d.O/8)};break;case 8:n=Math.min(g.cv,n);n5z=7;break;case 13:return{complete:!1,by:!0};break;case 6:return{complete:!0,reason:E63};break;case 14:n5z=c<=g.Rha&&(0<c||!g.uda)?13:12;break;case 29:n5z=g>k?28:39;break;case 3:p=0;n=g.vna&&!l?g.gy:g.mia;n5z=8;break;case 26:k=d.Z.cm(a.Lb);n5z=25;break;case 43:n5z=0<r?42:41;break;case 19:n5z=!c?18:17;break;case 28:l=d.Z.get(g);n5z=44;break;case 7:n5z=f>=n?6:14;break;case 40:--g;n5z=29;break;case 39:return{complete:!0,reason:w63};break;}}}};S63;c5z=7;break;}}}());},function(d,b,a){(function(){var T63,g,q,n,k,E0R;T63=2;while(T63!==13){E0R="1S";E0R+="I";E0R+="YbZrN";E0R+="J";E0R+="Cp9";switch(T63){case 2:g=a(7);a(18);T63=4;break;case 14:E0R;T63=13;break;case 4:q=a(31);a(4);n=q.assert;k=q.Um;q=a(208);d.P={STARTING:q.STARTING,BUFFERING:q.BUFFERING,REBUFFERING:q.REBUFFERING,PLAYING:b,PAUSED:b};T63=14;break;}}function b(a,b,c,d){var Z63,f,a0R,S0R,F8l;Z63=2;while(Z63!==11){a0R="player mis";a0R+="sing stream";a0R+="ing";a0R+="Index";S0R="Mus";S0R+="t have at least ";S0R+="one selected stream";switch(Z63){case 2:n(!g.X(d),S0R);n(g.la(b.Iy),a0R);b=k(d);Z63=3;break;case 3:i4YY.J0R(0);F8l=i4YY.t0R(17,7,10,1,117);d=c.length-F8l;Z63=9;break;case 9:Z63=-1<d?8:13;break;case 8:f=c[d];Z63=7;break;case 7:Z63=f.lb&&f.lb.Fa&&f.O<f.lb.Fa.Ca-a.GFb?6:14;break;case 6:return b.rd=d,b;break;case 14:--d;Z63=9;break;case 13:b.rd=0;return b;break;}}}}());},function(d,b,a){var g;function c(a,b,c){return new g(c.length-1);}a(7);g=a(31).Um;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g;function c(){return new g(0);}a(7);g=a(31).Um;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var U0R,q,n,k,p,h,f,t,m,r,u,C0R;U0R=2;while(U0R!==10){C0R="1SI";C0R+="YbZ";C0R+="r";C0R+="NJCp9";switch(U0R){case 13:u=a(17).ma;d.P={STARTING:function(a,c,d,h){var P0R,g,l,w0R,x0R,e0R;P0R=2;while(P0R!==14){w0R="selectA";w0R+="udioStreamStar";w0R+="ting:";w0R+=" overriding config with ";x0R=" ";x0R+="k";x0R+="bps, profile";x0R+=" :";e0R="selectAudioStreamStarti";e0R+="ng: selecte";e0R+="d stream :";switch(P0R){case 9:a=r[u[u.Gg]](g,c,d,h);d=d[a.rd];P0R=7;break;case 7:p&&k.log(e0R+d.O+x0R+d.Qf);return a;break;case 2:P0R=1;break;case 1:g=a;l=d[h||0].Qf;P0R=4;break;case 4:P0R=(l=a&&a.uI&&0<=a.uI.indexOf(l)?b(l,a.MSa):b(l,a.s$a))?3:9;break;case 3:g={minInitAudioBitrate:a.EO,minHCInitAudioBitrate:a.DO,maxInitAudioBitrate:a.oO,minRequiredAudioBuffer:a.D_},p&&k.log(w0R+JSON.stringify(l)),f(l,g);P0R=9;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};U0R=11;break;case 9:h=n.assert;f=a(58);U0R=7;break;case 7:t=n.AB;m=n.Um;r=a(373);U0R=13;break;case 2:q=a(7);n=a(31);k=n.console;p=n.debug;U0R=9;break;case 11:C0R;U0R=10;break;}}function g(a,b,c,f){var j0R,d,g,l,n,r,z,G,u,F,D,J,d0R,n0R,G0R,q0R,H0R,R0R,N0R,v0R,T0R,Y0R,L0R,p0R,i0R,z0R,Q0R,y0R,r0R,k0R,s0R,g0R,b0R,l0R,A0R;j0R=2;while(j0R!==43){d0R=" ";d0R+="kbps, t";d0R+="ry to down";d0R+="s";d0R+="witch";n0R=" ";n0R+="k";n0R+="b";n0R+="p";n0R+="s < ";G0R="th";G0R+="r";G0R+="ou";G0R+="gh";G0R+="put for audio ";q0R="k";q0R+="bps, st";q0R+="rea";q0R+="mi";q0R+="ngPts :";H0R=", aud";H0R+="i";H0R+="o thro";H0R+="ug";H0R+="hput:";R0R=" kb";R0R+="ps, prof";R0R+="il";R0R+="e :";N0R="sel";N0R+="ectAudi";N0R+="oS";N0R+="tream: sel";N0R+="ected stream :";v0R=" kb";v0R+="p";v0R+="s";T0R=" ";T0R+="kbp";T0R+="s, ";T0R+="to";T0R+=" ";Y0R="sw";Y0R+="it";Y0R+="ching a";Y0R+="udio ";Y0R+="from ";L0R="d";L0R+="o";L0R+="w";L0R+="n";p0R="u";p0R+="p";i0R="m";i0R+="s";z0R=", ";z0R+="buffe";z0R+="r level ";z0R+="= ";Q0R=", las";Q0R+="tUps";Q0R+="witchPt";Q0R+="s = ";y0R="  Upswitch not allo";y0R+="wed. lastDown";y0R+="swit";y0R+="ch";y0R+="Pts = ";r0R=", ";r0R+="s";r0R+="treamin";r0R+="gPts";r0R+=" = ";k0R=", lastUpsw";k0R+="itchP";k0R+="ts =";k0R+=" ";s0R="  Upswitch allow";s0R+="ed. lastDo";s0R+="wnswitch";s0R+="Pts = ";g0R=" ";g0R+="k";g0R+="b";g0R+="p";g0R+="s";b0R=" ";b0R+="kbps";b0R+=" > ";l0R="thr";l0R+="oug";l0R+="hput for";l0R+=" au";l0R+="dio ";A0R="Must have ";A0R+="at least one ";A0R+="selected stream";switch(j0R){case 2:h(!q.X(f),A0R);d=c[f].Qf;j0R=4;break;case 21:j0R=b.Vx&&F>u.Yu&&(void 0===J||Number(D)>J||r.Lb-J>u.f_)?35:31;break;case 24:j0R=z<l.length-1&&G>u.RTa*r&&(p&&k.log(l0R+G+b0R+u.RTa+"*"+r+g0R),r=b.buffer,F=r.Yl-r.Gc,n.Z&&n.Z.length)?23:30;break;case 3:return new m(f);break;case 32:g=r;j0R=30;break;case 15:F=c[r];j0R=27;break;case 20:g=0;j0R=30;break;case 16:r=l[z];j0R=15;break;case 27:j0R=t(F)&&(0==z||F.O*u.jFa<G)?26:25;break;case 26:g=r;j0R=30;break;case 35:p&&k.log(s0R+J+k0R+D+r0R+r.Lb);j0R=34;break;case 31:p&&k.log(y0R+J+Q0R+D+z0R+F+i0R);j0R=30;break;case 10:j0R=0>z?20:19;break;case 17:j0R=0<=z?16:30;break;case 4:j0R=!(a&&a.uI&&0<=a.uI.indexOf(d))?3:9;break;case 7:j0R=l&&1<l.length?6:30;break;case 34:j0R=++z<l.length?33:30;break;case 9:g=f;j0R=8;break;case 8:a.MSa.some(function(f){var F0R,h,k,g,p,n,q;F0R=2;while(F0R!==13){switch(F0R){case 14:return k;break;case 4:F0R=k?3:14;break;case 6:l=c.filter(function(a){var c0R,b;c0R=2;while(c0R!==4){switch(c0R){case 2:b=a.O;return b>=p&&b<=n&&0<=h.indexOf(a.Qf)&&b*g/8<q;break;}}}).map(function(a){var h0R;h0R=2;while(h0R!==1){switch(h0R){case 4:return a.Bg;break;h0R=1;break;case 2:return a.Bg;break;}}});F0R=14;break;case 2:h=f.profiles;k=h&&0<=h.indexOf(d);F0R=4;break;case 3:g=(f=f.uH)&&f.D_||a.D_;p=f&&f.VTb||-Infinity;n=f&&f.TG||Infinity;q=b.buffer.Op;F0R=6;break;}}});j0R=7;break;case 23:D=this.rha;J=this.UZ;j0R=21;break;case 25:z--;j0R=17;break;case 19:j0R=z&&G<u.jFa*r?18:24;break;case 6:n=c[f];r=n.O;z=l.indexOf(f);G=n.Fa;j0R=11;break;case 33:j0R=(r=l[z],F=c[r],t(F)&&G>u.RTa*F.O)?32:34;break;case 30:G=c[g];g!==f&&p&&k.log((g>f?p0R:L0R)+Y0R+n.O+T0R+G.O+v0R);p&&k.log(N0R+G.O+R0R+d+H0R+G.Fa+q0R+b.buffer.Lb);return new m(g);break;case 11:u=a.v$a;j0R=10;break;case 18:p&&k.log(G0R+G+n0R+u.jFa+"*"+r+d0R),--z;j0R=17;break;}}}function b(a,b){var W0R,c;W0R=2;while(W0R!==3){switch(W0R){case 2:c=void 0;b.some(function(b){var X0R,f;X0R=2;while(X0R!==3){switch(X0R){case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(c=b.override);return f;break;}}});return c;break;}}}}());},function(d,b,a){var g,q,n,k;function c(a,b,c){var f,d;f=this.q9;b=b.buffer.Lb;d="forward"===a.BBb;if(g.X(f))return f=d?q(c):q(c,c.length),this.r9=b,this.q9=f,new k(f);n(c[f])||(f=q(c,f),this.r9=b,this.q9=f);if(0>f)return null;if(b>this.r9+a.IFb){a=c.map(function(a,b){return a.zj?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;d?f=(a.indexOf(f)+1)%a.length:(f=a.indexOf(f)-1,0>f&&(f=a.length-1));this.q9=a[f];this.r9=b;return new k(a[f]);}return new k(f);}g=a(7);b=a(31);q=b.Lda;n=b.AB;k=b.Um;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,q,n,k,p,h,f,t,m;Object.defineProperty(b,"__esModule",{value:!0});b.pqb=b.$Qa=void 0;c=a(49);g=a(58);q=a(7);n=a(389);k=a(4);d=a(110);a=a(31);p=a.Lub;h=a.Fab;f=a.kW;t=a.Um;m=d.ema;a=function(){var o0R,X5b;o0R=2;function u(a,f,h){var K1R,k,g;K1R=2;while(K1R!==9){switch(K1R){case 2:k=new t();g=Math.max(a.js,a.AO,f.FZ?a.Gia:-Infinity);k.xl=c.sn(h.filter(function(b){var f1R;f1R=2;while(f1R!==1){switch(f1R){case 2:return b.O<=a.bv;break;case 4:return b.O<a.bv;break;f1R=1;break;}}}).reverse(),function(c){var t1R,f,h,l,p5b,l5b,o5b,W5b;t1R=2;while(t1R!==12){p5b="hist_";p5b+="buffti";p5b+="me";l5b="no_histori";l5b+="c";l5b+="al_lte";l5b+="_minbitrate";o5b="hist_tpu";o5b+="t_lt_";o5b+="minbitr";o5b+="ate";W5b="lt_hist_lte";W5b+="_m";W5b+="in";W5b+="bit";W5b+="rate";switch(t1R){case 2:f={Fa:c.Fa,Sl:c.lb&&c.lb.Sl,xi:c.lb&&c.lb.xi};t1R=5;break;case 5:t1R=c.O>g?4:13;break;case 6:return f;break;case 14:f=!1;t1R=6;break;case 4:c=c.O;h=f.Fa;t1R=9;break;case 9:t1R=h?8:14;break;case 8:l=d(a,c);t1R=7;break;case 13:h=f.Fa,c.O<=h?(k.Ur=h,f&&(k.nk=f.Sl?f.Sl:0,k.pk=f.Sl?f.xi:void 0),k.reason=W5b,f=!0):h?(k.Ur=h,f&&(k.nk=f.Sl?f.Sl:0,k.pk=f.Sl?f.xi:void 0),k.reason=o5b,f=!1):(k.reason=l5b,f=!0);t1R=6;break;case 7:b(c,h,a)<=l?(k.Ur=h,f&&(k.nk=f.Sl?f.Sl:0,k.pk=f.Sl&&f.xi),k.reason=p5b,f=!0):f=!1;t1R=6;break;}}})||h[0];return k;break;}}}while(o0R!==5){X5b="1";X5b+="S";X5b+="IYbZrNJCp9";switch(o0R){case 2:X5b;return{t7a:function(a,b,c){var E1R,E5b;E1R=2;while(E1R!==1){E5b="h";E5b+="isto";E5b+="r";E5b+="ic";E5b+="al";switch(E1R){case 2:return E5b===a.xga?R(a,b,c):a.wL?r(a,c):u(a,b,c);break;}}},$4a:z};break;}}function r(c,f){var D1R,p,h,k,n,d,g,V5b,H5b,S5b;D1R=2;while(D1R!==24){V5b="fallb";V5b+="ack_minAcceptabl";V5b+="eVideoBitra";V5b+="te";H5b="fal";H5b+="lb";H5b+="ack_minAc";H5b+="ceptableStartingVMAF";S5b="fallback_no_acceptable";S5b+="_s";S5b+="tream";switch(D1R){case 19:n=0;D1R=18;break;case 27:n++;D1R=18;break;case 17:D1R=(p=f[n],k=d?p.uc>=c.zO:p.O>=c.AO)?16:27;break;case 26:q.Ma(h)&&(h=a(f[0],c),h.reason=S5b);D1R=25;break;case 18:D1R=n<=g?17:26;break;case 10:g--;D1R=5;break;case 12:D1R=p?20:11;break;case 16:h=a(p,c);D1R=15;break;case 13:h.Lu=k;D1R=12;break;case 2:D1R=1;break;case 4:p=f[g];h=a(p,c);k=b(p.O,h.Ur,c);n=l(h.Ur,c);D1R=7;break;case 25:return h;break;case 1:d=!!c.dH&&!!c.XLa&&f.every(function(a){var V1R;V1R=2;while(V1R!==1){switch(V1R){case 2:return a.uc&&110>=a.uc;break;case 4:return a.uc||316<=a.uc;break;V1R=1;break;}}}),h=null,k=!1,g=f.length-1;D1R=5;break;case 11:h.reason=n;D1R=10;break;case 15:h.reason=d?H5b:V5b;D1R=26;break;case 7:n=z(p,0,d,k,n,c);p=n.AX;n=n.reason;D1R=13;break;case 5:D1R=0<=g&&(d?f[g].uc>=c.dH:f[g].O>=c.js)?4:20;break;case 20:D1R=q.Ma(h)?19:26;break;}}}function R(a,b,f){var J1R,d,s5b,A5b,a5b;J1R=2;while(J1R!==6){s5b="hi";s5b+="st_bitra";s5b+="te";A5b="v";A5b+="b";a5b="n";a5b+="umb";a5b+="e";a5b+="r";switch(J1R){case 5:J1R=a5b!==typeof d?4:3;break;case 2:d=k.storage.get(A5b);J1R=5;break;case 4:return a.wL?r(a,f):u(a,b,f);break;case 3:a=new t();a.xl=c.sn(f.reverse(),function(a){var O1R;O1R=2;while(O1R!==1){switch(O1R){case 2:return a.O<=d;break;case 4:return a.O>=d;break;O1R=1;break;}}})||f[0];a.reason=s5b;J1R=7;break;case 7:return a;break;}}}function b(a,b,c){var I0R;I0R=2;while(I0R!==5){switch(I0R){case 2:a=h(c.Vg,a*c.zia);return p(a,b);break;}}}function a(a,b){var u0R,c,f,n5b,K5b;u0R=2;while(u0R!==12){n5b="hist_";n5b+="th";n5b+="r";n5b+="oughpu";n5b+="t";K5b="h";K5b+="ist";K5b+="_tdi";K5b+="gest";switch(u0R){case 7:u0R=(f=q.la(b.q1)&&0<=b.q1&&100>=b.q1&&!q.X(a)&&!q.Ma(a))?6:14;break;case 5:c.xl=a;a=c.xl.lb||{};c.pk=a.Sl&&a.xi;c.nk=a.Sl?a.Sl:0;a=g(c.pk,{});u0R=7;break;case 14:f?(b=a.Mh(b.q1/100)||c.xl.Fa,c.Ur=b,c.reason=K5b):c.xl.Fa&&(b=c.xl.Fa,c.Ur=b,c.reason=n5b);return c;break;case 2:c=new t();u0R=5;break;case 6:f=n.gxa.Hmb(a),q.Tb(f)?(a.Mh=f,f=!0):f=!1;u0R=14;break;}}}function d(a,b){var Z0R,f,d;Z0R=2;while(Z0R!==11){switch(Z0R){case 1:Z0R=a.nZ?5:12;break;case 2:Z0R=1;break;case 8:Z0R=-1===d?7:6;break;case 3:Z0R=0===d?9:8;break;case 5:f=a.nZ;d=c.$w(f,function(a){var m1R;m1R=2;while(m1R!==1){switch(m1R){case 4:return b<a.r;break;m1R=1;break;case 2:return b<=a.r;break;}}});Z0R=3;break;case 9:return f[0].d;break;case 7:return f[f.length-1].d;break;case 6:i4YY.M5b(0);a=f[i4YY.Q5b(d,1)];f=f[d];return Math.floor(a.d+(f.d-a.d)*(b-a.r)/(f.r-a.r));break;case 12:return a.Yo;break;}}}function z(a,b,c,f,d,h){var M1R,g5b,L5b,O5b;M1R=2;while(M1R!==5){g5b="no_va";g5b+="lid_B";g5b+="i";g5b+="trate";L5b="no_";L5b+="valid";L5b+="_V";L5b+="MAF";O5b="no_valid_";O5b+="Delay";O5b+="Tar";O5b+="ge";O5b+="t";switch(M1R){case 2:a=c?a.uc>=h.dH&&a.uc<=h.XLa:a.O>=h.js&&a.O<=h.bv;return(f=f<d&&a)?{AX:f}:{AX:f,reason:a?O5b:c?L5b:g5b};break;}}}function l(a,b){var B1R,c,G5b,I5b;B1R=2;while(B1R!==8){G5b="s";G5b+="i";G5b+="g";G5b+="m";G5b+="oid";I5b="l";I5b+="o";I5b+="g";switch(B1R){case 2:a=f(a,0,1E5)/1E3;B1R=5;break;case 4:c=b.YH;return(c=b.aRa[c])&&2===c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.Yo;break;case 5:B1R=0===b.YH.lastIndexOf(I5b,0)?4:9;break;case 9:return 0===b.YH.lastIndexOf(G5b,0)?(c=b.YH,(c=b.aRa[c])&&2===c.length?1E3*(c[0]+c[1]*m(a)):b.Yo):b.Yo;break;}}}}();d=a.$4a;b.$Qa=a.t7a;b.pqb=d;},function(d,b,a){var c;a(7);c=a(31).console;d.P=function(a,b,d,k,g,h,f,t,m,r,u,J,F,L,H){var X43=i4YY;var Y5b,l,p,n,q,z,G,D,da,V0N,U0N,Z6N;Y5b=2;while(Y5b!==53){V0N=" >= frag";V0N+="mentsLength:";V0N+=" ";U0N="Streaming";U0N+="I";U0N+="ndex: ";Z6N="1";Z6N+="SIY";Z6N+="bZrNJCp9";switch(Y5b){case 40:Y5b=t>=m&&a>G?54:39;break;case 14:da=0;a=a.Hd[0];X43.q6N(0);g=X43.w6N(l,a,g,1E3);X43.y6N(1);a=X43.a6N(8,h,0,J);Y5b=10;break;case 31:return{result:!1,kO:a/(l/1E3),Dx:!1};break;case 38:k=Math.min(a,k);Y5b=24;break;case 44:u-=q;Y5b=43;break;case 37:Y5b=(a=Math.max(f-d,0),a<F&&a<D)?36:29;break;case 25:X43.y6N(2);G*=X43.a6N(l,1E3);Y5b=24;break;case 39:D=a;Y5b=38;break;case 4:b=Math.min(a.length,b);p=a.Hd;n=a.sizes;Y5b=8;break;case 29:X43.q6N(3);d+=X43.a6N(q,0,h,J);f+=z;Y5b=44;break;case 21:Y5b=u<q?35:37;break;case 42:u+=n[da],++da,g+=p[da];Y5b=43;break;case 41:++t;Y5b=40;break;case 8:X43.q6N(4);G=X43.w6N(d,k);k=Infinity;D=0;Y5b=14;break;case 32:Y5b=!H&&(a=f-d,a<L)?31:30;break;case 5:l=a.S;Y5b=4;break;case 30:X43.y6N(4);a=X43.a6N(d,f);Y5b=29;break;case 2:Z6N;Y5b=5;break;case 33:d=g,u+=n[da],++da,a=p[da],g+=a;Y5b=34;break;case 43:Y5b=g<d&&da<t?42:41;break;case 35:D=Math.max(q,r);Y5b=34;break;case 34:Y5b=u<D?33:32;break;case 16:X43.q6N(2);d*=X43.a6N(l,1E3);X43.q6N(2);f*=X43.a6N(l,1E3);X43.y6N(2);L*=X43.w6N(l,1E3);X43.q6N(2);F*=X43.w6N(l,1E3);Y5b=25;break;case 23:q=n[t];z=p[t];Y5b=21;break;case 10:X43.q6N(5);J=X43.a6N(J,0,8);X43.y6N(2);h=X43.a6N(l,1E3);t>=b&&c.error(U0N+t+V0N+b);d+=a;0===f&&(d=0);Y5b=16;break;case 36:return{result:!1,kO:Math.min(a,k)/(l/1E3),Dx:!0};break;case 24:Y5b=t<b?23:54;break;case 54:return{result:!0,kO:k/(l/1E3),Dx:!0};break;}}};},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.p1=void 0;c=a(49);g=a(7);d=a(31);q=a(374);n=d.assert;k=d.Um;b.p1=p;(function(){var c0N,W0N;c0N=2;while(c0N!==5){W0N="1SIYbZr";W0N+="NJ";W0N+="C";W0N+="p";W0N+="9";switch(c0N){case 2:b.p1=p=function(b,c,d,h,k,g){var N0N,P0N;N0N=2;while(N0N!==1){P0N="pla";P0N+="y";P0N+="i";P0N+="ng";switch(N0N){case 2:return P0N===b.Laa?q.UP.call(this,b,c,d,h,k,g):a.call(this,b,c,d,h);break;}}};c0N=1;break;case 1:W0N;c0N=5;break;case 9:"";c0N=6;break;c0N=5;break;}}function a(a,b,d,h){var x0N,l,p,q,t,m,e0N,h0N,I0N;x0N=2;function f(b){var l0N,c,b0N;l0N=2;while(l0N!==7){b0N="b";b0N+="uff_";b0N+="lt_hist";switch(l0N){case 5:l0N=!c||(b.O>p?a.BHb:1)*b.O>c?4:3;break;case 3:m=b0N;t=c;return!0;break;case 2:c=b.Fa;l0N=5;break;case 4:return!1;break;}}}while(x0N!==13){e0N="Must ha";e0N+="ve at le";e0N+="as";e0N+="t one selected stream";h0N="sele";h0N+="ct_feasibl";h0N+="e_bufferi";h0N+="ng";I0N="fallback_lowest_accept";I0N+="a";I0N+="ble_s";I0N+="trea";I0N+="m";switch(x0N){case 3:q=l;l.Fa&&(b=this.Uea(b,d,a),l=c.sn(d.slice(b.rd,Math.min(h+(a.A9a?2:1),d.length)).reverse(),f),void 0===l?(l=b.xl,m=I0N):m=h0N,t=null===l||void 0===l?void 0:l.Fa);d=new k();d.xl=l;q!==l&&(d.reason=m,d.Ur=t);return d;break;case 2:n(!g.X(h),e0N);l=d[h];p=l.O;x0N=3;break;}}}}());},function(d,b,a){var g;function c(a,b,c){a=c.map(function(a,b){return a.zj?b:null;}).filter(function(a){return null!==a;});return a.length?new g(a[Math.floor(Math.random()*a.length)]):null;}g=a(31).Um;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g,q,n,k;function c(a,b,c,d){if(g.X(d))a=q(c);else if(n(c[d]))a=d;else if(a=q(c,d),0>a)return null;return new k(a);}g=a(7);b=a(31);q=b.Lda;n=b.AB;k=b.Um;d.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.ET=void 0;c=a(7);g=a(18);q=a(4);n=a(49);k=a(17);p=a(375);d=a(31);h=new q.Console("ASEJS_STREAM_SELECTOR","media|asejs");f=d.Um;t=[k.ma[k.ma.Gg],k.ma[k.ma.we],k.ma[k.ma.Eg],k.ma[k.ma.Nc],k.ma[k.ma.Ch],"checkBuffering"];m={first:a(797),random:a(796),optimized:a(208),roundrobin:a(792),selectaudio:a(373),selectaudioadaptive:a(791),"default":a(208),lowest:a(790),highest:a(789),throughputthreshold:a(788),checkdefault:a(787),testscript:a(786)};r={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=function(){var n0N;function a(a,b,c){var E0N,f,A4U;E0N=2;while(E0N!==6){A4U="1SIYb";A4U+="Z";A4U+="rN";A4U+="JCp9";switch(E0N){case 2:f=this;this.aI=a;this.K=b;A4U;E0N=9;break;case 9:c&&(this.yE=c.yE,this.zU=c.zU);a=a||this.K.T1;this.uf=t.reduce(function(b,c){var m0N;m0N=2;while(m0N!==5){switch(m0N){case 2:b[c]=((m[a]||m[r[c]])[c]||m[r[c]][c]).bind(f);return b;break;}}},{});E0N=6;break;}}}n0N=2;while(n0N!==6){switch(n0N){case 2:a.prototype.r1=function(a,b,f,d,l,t){var a43=i4YY;var G0N,Y0N,m,r,z,G,u,F,D,J,L,H,U,R,Z4U,P4U,L0N,S0N;G0N=2;while(G0N!==56){Z4U="Stream selector called ";Z4U+="with invalid play";Z4U+="er st";Z4U+="ate ";P4U="pl";P4U+="ayi";P4U+="ng";switch(G0N){case 42:l.Z&&l.Z.length||(F=!0,R.qu.push(l.sa));G0N=40;break;case 51:return null;break;case 29:G0N=G.ZRa&&D>G.CO?28:53;break;case 44:G0N=G<b.length?43:40;break;case 62:this.zU=g.nS.Gg;G0N=35;break;case 60:G0N=Y0N===k.ma.Nc?35:59;break;case 22:this.s9=this.p9=void 0;G0N=21;break;case 23:Y0N=a.state;G0N=Y0N===k.ma.Gg?22:63;break;case 46:a.state!==k.ma.Nc&&a.state!==k.ma.Ch?(l=p.Tja(a.state),t=this.Xl(a.buffer,l,G,t),(R.pj=t.complete)?R.XV=t.reason:(R.pj=!1,R.uC=t.uC,R.by=t.by,R.Nh=t.Nh)):(R.pj=!0,R.XV=P4U);a.OM&&(R.Lb=f.Lb,t=a&&a.Iy,l=G.Z,R.Li=l&&void 0!==t&&!isNaN(t)&&0<=t&&t<l.length?l.Qh(t):f.Lb,R.qyb=G.Fa||0,R.Ovb=G.lb&&G.lb.Fa&&G.lb.Fa.Ca||0,R.Aab=f.Yl-f.Gc,R.HCa=f.Th,R.ry=a.state,R.uo=a&&a.uo,R.ITa=r,R.zFb=q.time.ea());return R;break;case 39:a43.o4U(0);L0N=a43.V4U(11,13,429,7,15);G=R.rd-L0N;G0N=38;break;case 13:L=D[J-1].sa;u=n.$w(b,function(a){var J0N;J0N=2;while(J0N!==1){switch(J0N){case 2:return a.sa===L;break;case 4:return a.sa!==L;break;J0N=1;break;}}});G0N=11;break;case 61:G0N=Y0N===k.ma.Eg?62:60;break;case 20:c.X(u)&&(u=this.yE);this.KX(b,function(b){var o0N;o0N=2;while(o0N!==1){switch(o0N){case 2:b.zj&&b.lb&&b.lb.Fd?(m!==b.lb&&(m=b.lb,a&&a.So&&b.lb&&(b.lb.So=!0),z=Math.floor(d(b.lb,a.buffer,b.track.R.kq[0])),z=0===z?1:z),b.Fa=z):b.Fa=void 0;o0N=1;break;}}});a.state===k.ma.Gg&&c.la(u)&&(a.state=k.ma.we);U=b.filter(function(a){var C0N;C0N=2;while(C0N!==1){switch(C0N){case 4:return a||a.zj;break;C0N=1;break;case 2:return a&&a.zj;break;}}});G0N=16;break;case 38:G0N=0<=G?37:53;break;case 58:return h.error(Z4U+k.ma[a.state]),null;break;case 28:a43.i4U(1);S0N=a43.j4U(1,4,13,3,13);G=R.rd+S0N;G0N=44;break;case 36:l.Z&&l.Z.length||(F=!0,R.qu.push(l.sa));G0N=53;break;case 35:R=this.uf[k.ma[a.state]].call(this,G,a,U,F,d,!!l);G0N=34;break;case 4:G=this.K;u=this.yE;c.la(u)&&a.state===k.ma.Gg&&(u=this.yE=void 0);G0N=8;break;case 14:G0N=0<J?13:20;break;case 37:G0N=(l=b[G],l.zj)?36:54;break;case 50:this.yE=R.rd;G=b[R.rd];R.reason&&(G.mp=R.reason,G.TP=R.Ur,G.Lu=R.Lu,G.nk=R.nk,G.pk=R.pk);c.la(u)&&G.O<b[u].O&&(this.p9=f.Lb);G0N=46;break;case 41:++G;G0N=44;break;case 2:f=null===a||void 0===a?void 0:a.buffer;r=q.time.ea();G0N=4;break;case 25:void 0!==u&&(D=n.$w(U,function(a){var O0N;O0N=2;while(O0N!==1){switch(O0N){case 4:return a.O<=b[u].O;break;O0N=1;break;case 2:return a.O>b[u].O;break;}}}),F=0<D?D-1:0===D?0:U.length-1);a.state!==k.ma.Gg&&void 0===F&&(a.state=k.ma.Gg);G0N=23;break;case 59:G0N=Y0N===k.ma.Ch?35:58;break;case 11:G0N=!(0<=u)?10:20;break;case 10:H=D[J-1].O,D=n.$w(b,function(a){var s0N;s0N=2;while(s0N!==1){switch(s0N){case 2:return a.O>H;break;case 4:return a.O<=H;break;s0N=1;break;}}}),u=0<D?D-1:0===D?0:b.length-1;G0N=20;break;case 21:this.zU=g.nS.Gg;G0N=35;break;case 43:G0N=(l=b[G],l.zj)?42:41;break;case 63:G0N=Y0N===k.ma.we?62:61;break;case 32:D=f.Yl-f.Gc;l=void 0;F=!1;G0N=29;break;case 64:R.rd=function(a){var d0N;d0N=2;while(d0N!==1){switch(d0N){case 2:return n.$w(b,function(b){var u0N;u0N=2;while(u0N!==1){switch(u0N){case 4:return b!=U[a];break;u0N=1;break;case 2:return b===U[a];break;}}});break;}}}(R.rd);G0N=52;break;case 33:G0N=(R.qu=[],b.forEach(function(a,b){var v0N;v0N=2;while(v0N!==4){switch(v0N){case 2:a===R.xl&&(R.rd=b);a.wma&&R.qu.push(a.sa);a.wma=!1;v0N=4;break;}}}),!R.qu.length)?32:52;break;case 53:F||(R.qu=void 0);G0N=52;break;case 40:G0N=!F?39:53;break;case 8:c.la(u)&&u>=b.length&&(u=this.yE=void 0);D=f.Z;J=D.length;G0N=14;break;case 54:--G;G0N=38;break;case 34:G0N=R.xl?33:64;break;case 16:U.length||(U=b.filter(function(a){var A0N;A0N=2;while(A0N!==1){switch(A0N){case 4:return a||a.Jn||~a.Gu;break;A0N=1;break;case 2:return a&&a.Jn&&!a.Gu;break;}}}),U.forEach(function(a){var F0N;F0N=2;while(F0N!==1){switch(F0N){case 2:a.inRange=!0;F0N=1;break;case 4:a.inRange=-2;F0N=6;break;F0N=1;break;}}}));D=U;G.W1?D=U.filter(function(a){var r0N;r0N=2;while(r0N!==1){switch(r0N){case 2:return a.Dx;break;case 4:return a.Dx;break;r0N=1;break;}}}):a.state!==k.ma.Nc&&a.state!==k.ma.Ch&&(D=U.filter(function(a){var X0N;X0N=2;while(X0N!==1){switch(X0N){case 2:return!a.TRa;break;case 4:return+a.TRa;break;X0N=1;break;}}}));U=0<D.length?D:U.slice(0,1);G0N=25;break;case 52:G0N=!R||null===R.rd?51:50;break;}}};a.prototype.Xl=function(a,b,c,f){var D0N;D0N=2;while(D0N!==1){switch(D0N){case 2:return this.uf.checkBuffering.call(this,a,b,c,f,this.K);break;}}};a.prototype.S1=function(a,b,f){var t0N;t0N=2;while(t0N!==1){switch(t0N){case 2:c.X(b)?this.p9=this.s9=void 0:b.O<f.O&&(this.s9=a);t0N=1;break;}}};a.prototype.KX=function(a,b){var i0N,c,f0N;i0N=2;while(i0N!==3){switch(i0N){case 7:i0N=4>c?0:8;break;i0N=0<=c?5:3;break;case 5:b(a[c],c,a);i0N=4;break;case 2:i4YY.i4U(2);f0N=i4YY.j4U(15,10,6);c=a.length-f0N;i0N=1;break;case 4:--c;i0N=1;break;case 14:++c;i0N=0;break;i0N=1;break;case 1:i0N=0<=c?5:3;break;}}};Object.defineProperties(a.prototype,{UZ:{get:function(){var p0N;p0N=2;while(p0N!==1){switch(p0N){case 2:return this.p9;break;case 4:return this.p9;break;p0N=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rha:{get:function(){var H0N;H0N=2;while(H0N!==1){switch(H0N){case 2:return this.s9;break;case 4:return this.s9;break;H0N=1;break;}}},enumerable:!1,configurable:!0}});n0N=8;break;case 8:a.prototype.Uea=function(a,b,c){var j0N,d,h,k,g;j0N=2;while(j0N!==8){switch(j0N){case 2:a=a.Dka;k=new f();g=Math.max(c.zO-Math.floor(a*c.mub),c.BO,0);j0N=3;break;case 3:k.xl=null!==(h=null!==(d=n.sn(b,function(a){var B0N,b;B0N=2;while(B0N!==5){switch(B0N){case 2:return(null!==(b=a.uc)&&void 0!==b?b:-Infinity)>=g;break;}}}))&&void 0!==d?d:n.sn(b,function(a){var T0N;T0N=2;while(T0N!==1){switch(T0N){case 2:return a.O>=c.AO;break;case 4:return a.O>c.AO;break;T0N=1;break;}}}))&&void 0!==h?h:b[b.length-1];return k;break;}}};return a;break;}}}();b.ET=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;d=function(){function a(a,b){this.track=a;b?(this.Uu=b.Uu,this.FB=b.FB,this.oha=b.oha,this.ZN=b.ZN):this.FB=this.Uu=void 0;}a.prototype.S1=function(a){this.Uu=a;};a.prototype.lDb=function(a){this.track=a;};return a;}();b.Pwa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.qoa=void 0;c=a(0);a(6);d=a(39);g=a(4);q=a(108);n=a(74);a=a(162);k=g.Tj;a=function(a){function b(b,c,d,h,k,g,l){h.responseType=0;d=a.call(this,b,d,"",h,k,c,l)||this;n.zh.call(d,b,h);d.oia=c.oia;d.pia=c.pia;d.Oda=0;return d;}c.__extends(b,a);b.prototype.Db=function(){this.Yb||(this.Yb=q.eg());};b.prototype.ns=function(){return k.prototype.open.call(this,this.jK,{start:this.offset,end:this.offset+Math.max(this.pia,Math.floor(this.oia*this.aa))-1},this.iK,{},void 0,void 0,void 0);};b.prototype.abort=function(){return!0;};b.prototype.YK=function(){var a;a=this.$c||this.hf;this.Tc||(this.Tc=!0,this.Oda=a);};b.prototype.I9=function(){this.Oda=this.$c;};b.prototype.J9=function(){};b.prototype.XK=function(){var a;a=this.$c;this.Yb&&this.Yb.Yw(this.Ce,this.Oda,a,{requestId:this.gn(),ee:this.Kb,type:this.M,bD:!0});this.qg=this.Tc=!1;this.wc();};b.prototype.FE=function(){this.Nf&&this.Nf.clear();};return b;}(a.Yy);b.qoa=a;d.pf(n.zh,a,!1);},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.koa=void 0;c=a(0);g=a(94);q=a(6);a(4);n=a(11);k=a(209);p=a(74);h=a(220);d=function(a){function b(c,f,d,h,k,g){f=a.call(this,c,h,k,f,g)||this;f.c4a=d;f.en=void 0;f.Z8=b.qD.INIT;f.kQb=h.offset;f.o9=p.zh.prototype.toString.call(f)+" multiple";f.PE(c.url,h.offset,8,0);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.en;},enumerable:!1,configurable:!0}});b.prototype.Vi=function(a){var c,f;this.en=this.en?n.Dr(this.en,a.response):a.response;a.AP();switch(this.Z8){case b.qD.INIT:c=new DataView(this.en);f=c.getUint32(0);c=c.getUint32(4);g.Tz(c);this.PE(a.url,a.offset+a.aa,f,0);k.Wy.prototype.Vi.call(this,a);this.Z8=b.qD.Ysa;break;case b.qD.Ysa:c=new DataView(this.en);f=c.getUint32(this.rya-8);c=c.getUint32(this.rya-4);g.Tz(c);this.PE(a.url,a.offset+a.aa,f-8,0);this.Z8=b.qD.Tsa;k.Wy.prototype.Vi.call(this,a);break;case b.qD.Tsa:k.Wy.prototype.Vi.call(this,a);break;default:q.assert(!1);}};b.prototype.PE=function(a,b,c,f){a=new h.UI(this.stream,this.c4a,this.o9+" ("+this.wa.length+")",{u:this.u,M:this.M,sa:this.sa,O:this.O,offset:b,aa:c,url:a,location:this.location,Kb:this.Kb,responseType:f},this,this.Wc,this.G);this.push(a);this.rya=this.wa.reduce(function(a,b){return a+b.aa;},0);};b.qD={INIT:0,Ysa:1,Tsa:2,name:["INIT","MOOF","MDAT"]};return b;}(k.Wy);b.koa=d;},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.goa=void 0;c=a(0);a(6);g=a(7);d=a(39);q=a(4);n=a(108);k=a(74);p=a(162);h=a(159);f=q.Tj;a=function(a){function b(b,c,d,h,g,l,p){var n;n=this;n=["cache","edit"].filter(function(a,b){return[l,h.Sa][b];});n=n.length?"("+n.join(",")+")":"";void 0===h.responseType&&(h.responseType=f.vc&&!f.vc.SH.Iz?0:1);n=a.call(this,b,d,n,h,g,c,p)||this;k.zh.call(n,b,h);n.g5a=h.Irb;n.Nf.on(n,f.Nd.BNb,n.m6a);n.Nf.on(n,f.Nd.ANb,n.l6a);return n;}c.__extends(b,a);b.prototype.Db=function(a){h.Zy.prototype.Db.call(this,a);this.Yb||!this.Wc.FV&&this.bc||(this.Yb=n.eg());};b.prototype.ns=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.xc&&0<=this.xc&&void 0!==this.Ub&&(this.jK=this.Hza(this.jK,!0),a={start:0,end:-1});return f.prototype.open.call(this,this.jK,a,this.iK,{},void 0,void 0,this.Zxa);};b.prototype.t2=function(){var a,b,c;if(this.complete)return 0;a=this.nQa;b=a.R;if(!a.url)return this.G.warn("updateurl, missing url for streamId:",a.sa,"mediaRequest:",this,"stream:",a),1;c=this.Hza(a.url,!1);return this.url===c||(b.B1(this,a.location,a.qc),this.zQ(c))?0:(this.G.warn("swapUrl failed: ",this.bG),2);};b.prototype.YK=function(){this.Tc||(this.Tc=!0,this.Ln=this.track.Ln(),this.kB(this),this.sl=0,this.tl=this.$c);};b.prototype.I9=function(){var a;a=this.$c;this.jB(this);this.tl=a;};b.prototype.J9=function(){var a;a=this.$c;this.hG(this);this.tl=a;this.sl=this.Ce;};b.prototype.m6a=function(){var a;a=this.yrb;this.qg=!0;this.Yb&&(this.Yb.qC(a,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.Yb.Wka());};b.prototype.XK=function(){var a;a=this.$c;this.Yb&&this.qg&&this.Yb.sC(q.time.ea(),this.qg,{requestId:this.gn(),ee:this.Kb,type:this.M});this.qg=this.Tc=!1;this.Vp(this);this.tl=a;this.sl=this.Ce;this.wc();};b.prototype.l6a=function(){this.Yb&&(this.Yb.Yw(this.qTb,this.yrb,this.xrb,{requestId:this.gn(),ee:this.Kb,type:this.M}),this.Yb.sC(this.xrb,this.qg,{requestId:this.gn(),ee:this.Kb,type:this.M}));this.qg=!1;};b.prototype.w3a=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};b.prototype.Hza=function(a,b){var c,f;if(g.X(this.xc)||0>this.xc||g.X(this.Ub))return a;c=[];f=this.w3a(this.xc,this.Ub-1,this.g5a,this.Wc.Jia);c.push("ptsRange/"+this.xc+"-"+(this.Ub-1));0<f&&b&&c.push("timeDelay/"+f);a=a.split("?");b=a[0];for(var f="",d=0;d<c.length;d++)f+="/"+c[d];return a[1]?b+(f+"?"+a[1]):b+f;};return b;}(p.Yy);b.goa=a;d.pf(k.zh,a,!1);},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.pR=void 0;c=a(0);g=a(6);d=a(39);q=a(221);a=a(109);n=function(){function a(b,c){this.Ea=[];this.Jg=void 0;this.ac=0;this.G=b;c&&c.length&&(Array.isArray(c)?(this.Ea=c.slice(),this.nK(0,this.Ea.length)):c instanceof a&&(this.Ea=c.Ea.slice(),this.nK(0,this.Ea.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ea[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sg:{get:function(){return this.Ea[this.Ea.length-1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.first&&this.first.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gb:{get:function(){return this.Sg&&this.Sg.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.ac;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.first&&this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hj:{get:function(){return this.first&&this.first.Hj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Z:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.Ea.length);return this.Ea[a];};a.prototype.push=function(a){this.Ea.push(a);this.nK(this.Ea.length-1);return this.length;};a.prototype.unshift=function(a){this.Ea.unshift(a);this.nK(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.Ea.length)return this.X9(this.Ea.length-1),this.Ea.pop();};a.prototype.shift=function(){if(0!==this.Ea.length)return this.X9(0),this.Ea.shift();};a.prototype.splice=function(a,b){for(var f,d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];0>a&&(a+=this.Ea.length);0>a&&(a=0);a>this.Ea.length&&(a=this.Ea.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.Ea.length-a);0<b&&this.X9(a,a+b);h=(f=this.Ea).splice.apply(f,c.__spread([a,b],d));0<d.length&&this.nK(a,a+arguments.length-2);return h;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.Ea.length);0>b&&(b+=this.Ea.length);if(b>=this.Ea.length)return new a(this.G);c>this.Ea.length&&(c=this.Ea.length);0>c&&(c+=this.Ea.length);return new a(this.G,this.Ea.slice(b,c));};a.prototype.In=function(a){if(0===this.Ea.length||a.Ra>=this.gb)this.push(a);else if(a.gb<=this.Ra)this.unshift(a);else{for(var b=0,c=this.Ea.length-1,d;b<c-1;)d=Math.floor((c+b)/2),g.assert(d!==c&&d!==b),a.Ra>=this.Ea[d].gb?b=d:c=d;g.assert(b!==c);g.assert(this.Ea[b].gb<=a.Ra&&this.Ea[c].Ra>=a.gb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Ea.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.Ea;});return new a(this.G,Array.prototype.concat.apply(this.Ea,b));};a.prototype.forEach=function(a){var b;b=this;this.Ea.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.Ea.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.Ea.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.Ea.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Ea.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.Ea.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Ea.some(function(f,d){c=d;return a(f,d,b);})?this.Ea[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Ea.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.G,this.Ea.filter(function(a,d){return b(a,d,c);}));};a.prototype.KX=function(a){for(var b=this.Ea.length-1;0<=b;--b)a(this.Ea[b],b,this);};a.prototype.eG=function(a){if(this.empty||a<this.bd||a>=this.te)return-1;for(var b=0,c=this.Ea.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.Ea[d].bd&&a<this.Ea[d].te){c=d;break;}a<this.Ea[d].te?c=d-1:b=d+1;}return c;};a.prototype.lGa=function(a){a=this.eG(a);return 0<=a?this.Ea[a]:void 0;};a.prototype.zV=function(a){var b;b=this.Ea[a].gb;for(a+=1;a<this.Ea.length&&b===this.Ea[a].Ra;++a)b=this.Ea[a].gb;a<this.Ea.length?void 0===this.Jg?this.Jg=new q.dD(this,{gb:b}):this.Jg.$P(b):void 0===this.Jg?this.Jg=new q.dD(this,{}):this.Jg.iba();};a.prototype.YD=function(a,b){for(var c=a;c<b;++c)this.ac+=this.Ea[c].aa;void 0===this.Jg||0===a?this.zV(0):this.Jg.gb===this.gb?this.zV(a-1):this.Ea[a].Ra===this.Jg.gb&&this.zV(a);};a.prototype.Ft=function(a,b){var c;if(0===a)this.Jg=void 0,b<this.length&&this.zV(b);else{c=this.Jg;c.gb>this.Ea[a-1].gb&&(b<this.length?c.$P(this.Ea[a-1].gb):c.iba());}for(;a<b;++a)this.ac-=this.Ea[a].aa;};a.prototype.nK=function(a,b){void 0===b&&(b=a+1);this.YD(a,b);};a.prototype.X9=function(a,b){void 0===b&&(b=a+1);this.Ft(a,b);};return a;}();b.pR=n;d.pf(a.$y,n);d.pf(a.Xy,n);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.qpa=void 0;c=a(0);a(6);d=function(){function a(a,b){this.Fc=a;this.gE=b;this.At();}Object.defineProperties(a.prototype,{length:{get:function(){return this.Mw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Mw;},enumerable:!1,configurable:!0}});a.prototype.bkb=function(){return this.qE&&this.qE.get(0);};a.prototype.N$a=function(){return this.bE&&this.bE.get(this.bE.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Fc.length;++b)if(this.Lg[b+1]>a)return this.Fc[b].get(a-this.Lg[b]);};a.prototype.push=function(a){this.Fc[this.gE(a)].push(a);this.At();return this.Mw;};a.prototype.shift=function(){var a;if(this.qE){a=this.qE.shift();this.At();return a;}};a.prototype.pop=function(){var a;if(this.bE){a=this.bE.pop();this.At();return a;}};a.prototype.unshift=function(a){this.Fc[this.gE(a)].unshift(a);this.At();return this.Mw;};a.prototype.In=function(a){var b;b=this.gE(a);this.Fc[b].In(a);this.At();};a.prototype.remove=function(a){var b;b=this.Fc.some(function(b){return b.remove(a);});b&&this.At();return b;};a.prototype.splice=function(a,b){var q,m,r,u;for(var d,g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];for(var h=[],f,l=a+Math.max(0,b),n=0;n<this.Fc.length;++n){q=this.Fc[n];m=this.Lg[n];r=this.Lg[n+1];if(a<r){u=a-m;m=Math.min(l-m,q.length);void 0===f&&0<u&&m<q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([u,m-u],g))):(Array.prototype.push.apply(h,q.splice(u,m-u)),void 0===f&&(f=0<n&&0===u?n-1:n));a=r;if(a>=l)break;}}if(g.length&&void 0!==f){for(l=this.gE(g[0]);0<f&&l<f&&this.Fc[f].empty;)--f;for(;g.length&&l===f;){this.Fc[f].push(g.shift());if(!g.length)break;l=this.gE(g[0]);}for(;g.length&&++f<this.Fc.length&&this.Fc[f].empty;)for(;g.length&&l===f;){this.Fc[f].push(g.shift());if(!g.length)break;l=this.gE(g[0]);}g.length&&(d=this.Fc[f]).splice.apply(d,c.__spread([0,0],g));}this.At();return h;};a.prototype.find=function(a){var b,c;b=this;return this.Fc.some(function(d,h){c=d.find(b.qA(a,h));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.Fc.length;++b){c=this.Fc[b].findIndex(this.qA(a,b));if(-1!==c)return c+this.Lg[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.Fc.length;++b){c=this.Fc[b].indexOf(a);if(-1!==c)return c+this.Lg[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.Fc.map(function(c,d){return c.map(b.qA(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Fc.reduce(function(b,d,f){return d.reduce(c.o8a(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Fc.forEach(function(c,d){c.forEach(b.qA(a,d));});};a.prototype.KX=function(a){for(var b=this.Fc.length-1;0<=b;--b)this.Fc[b].KX(this.qA(a,b));};a.prototype.some=function(a){var b;b=this;return this.Fc.some(function(c,d){return c.some(b.qA(a,d));});};a.prototype.every=function(a){var b;b=this;return this.Fc.every(function(c,d){return c.every(b.qA(a,d));});};a.prototype.Jjb=function(a,b){var g,l;function c(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var d=this,h=this.Fc.map(function(){return 0;}),f=this.Fc.filter(function(a){return a.empty;}).length;f<this.Fc.length;){g=h.map(function(a,b){return a<d.Fc[b].length?d.Fc[b].get(a):void 0;});l=c(g);b(g[l],this.Lg[l]+h[l],this);++h[l];h[l]===this.Fc[l].length&&++f;}};a.prototype.move=function(a){return this.remove(a)?(this.In(a),!0):!1;};a.prototype.LDb=function(){var a;if(this.Fc[1].length){a=this.Fc[1].shift();this.Fc[0].push(a);this.At();}};a.prototype.ljb=function(a){for(var b=-1,c=0;c<this.Fc.length;++c)if(b=a(this.Fc[c]),-1!==b){b+=this.Lg[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.At=function(){var b;this.Mw=0;this.Lg=[0];this.bE=this.qE=void 0;for(var a=0;a<this.Fc.length;++a){b=this.Fc[a];this.Mw+=b.length;this.Lg.push(this.Lg[this.Lg.length-1]+b.length);!this.qE&&b.length&&(this.qE=b);b.length&&(this.bE=b);}};a.prototype.qA=function(a,b){var c,d;c=this;d=this.Lg[b];return function(b,f){return a(b,d+f,c);};};a.prototype.o8a=function(a,b){var c,d;c=this;d=this.Lg[b];return function(b,f,k){return a(b,f,d+k,c);};};return a;}();b.qpa=d;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.foa=void 0;c=a(0);a(6);g=a(804);d=a(39);q=a(803);n=a(109);k=a(83);p=a(221);a=function(a){function b(b,f){var d,h;h=this;d=[new q.pR(b),new q.pR(b),new q.pR(b)];h=a.call(this,d,function(a){return a.complete?h.empty||a.Ra<=h.jcb?0:1:a.active?1:2;})||this;d=c.__read(d,3);h.Pd=d[0];h.Tc=d[1];h.Mt=d[2];h.no=0;h.o8=0;h.G=b;k.Lq.call(h,f);return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{aa:{get:function(){return this.Pd.aa+this.Tc.aa+this.Mt.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nzb:{get:function(){return this.no;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JA:{get:function(){return this.Pd.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xi:{get:function(){return this.Pd.aa+this.Tc.aa-this.no;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.bkb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Sg:{get:function(){return this.N$a();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vca:{get:function(){return!this.Pd.empty||this.Mt.empty||this.Tc.empty?this.first:this.Tc.Ra<this.Mt.Ra?this.Tc.first:this.Mt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NKa:{get:function(){return this.Mt.empty||this.Tc.empty?this.Sg:this.Tc.gb<this.Mt.gb?this.Mt.Sg:this.Tc.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tGa:{get:function(){return this.Mt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.first&&this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.Vca&&this.Vca.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gb:{get:function(){return this.NKa&&this.NKa.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hj:{get:function(){return this.first&&this.first.Hj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{icb:{get:function(){return this.Pd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Apb:{get:function(){return this.Ub-this.HDa||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jcb:{get:function(){return this.Pd.empty?this.Ra:this.Pd.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{HDa:{get:function(){return this.Pd.empty?this.xc:this.Pd.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IDa:{get:function(){return this.Pd.empty?this.bd:this.Pd.te;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zwb:{get:function(){return this.Tc.Sg||this.Pd.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ns:{get:function(){return this.Mt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uo:{get:function(){return this.Tc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ocb:{get:function(){return this.Pd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cI:{get:function(){return this.Pd.concat(this.Tc);},enumerable:!1,configurable:!0}});b.prototype.YD=function(a){var b;a.or?++this.o8:this.no+=a.Ce||0;if(this.empty)this.Jg=new p.dD(this,{});else if(a.Ra!==this.gb)if(a.Ra>this.Jg.gb)this.Jg.$P(this.Jg.gb);else if(a.Ra<this.Ra||a.Ra===this.Jg.gb){b=a.gb;this.Jjb(function(a,b){return a.Ra-b.Ra;},function(a){b=a.Ra===b?a.gb:b;});b===Math.max(this.gb,a.gb)?this.Jg.iba():this.Jg.$P(b);}a.ARa(this);};b.prototype.Ft=function(a){a.or?--this.o8:this.no-=a.Ce;this.empty?this.Jg=void 0:a.Ra!==this.gb&&a.gb<=this.Jg.gb&&a.Ra>this.Jg.Ra&&this.Jg.$P(a.Ra);a.rDa();};b.prototype.push=function(b){this.YD(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Ft(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Ft(b);return b;};b.prototype.unshift=function(b){this.YD(b);return a.prototype.unshift.call(this,b);};b.prototype.In=function(b){this.YD(b);a.prototype.In.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Ft(b);return!0;};b.prototype.splice=function(b,f){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];h=a.prototype.splice.apply(this,c.__spread([b,f],d));d.forEach(this.YD.bind(this));h.forEach(this.Ft.bind(this));return h;};b.prototype.hzb=function(a){var b;b=this;this.reduce(function(c,f,d){f.or&&(a&&a(f,d,b),0===c.length||c[0].end!==d?c.unshift({start:d,end:d+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};b.prototype.eG=function(a){return this.ljb(function(b){return b.eG(a);});};b.prototype.lGa=function(a){a=this.eG(a);return-1!==a?this.get(a):void 0;};b.prototype.oCb=function(a){var c;for(var b=[];a<this.length;){c=this.get(a);c&&b.push(c);a++;}return b;};b.prototype.ov=function(a){this.move(a);this.kB(a);};b.prototype.ZO=function(a){this.no+=a.Ce-a.sl;this.hG(a);};b.prototype.Vi=function(a){for(this.no+=a.Ce-a.sl;this.Tc.first&&this.Tc.first.complete&&(this.Pd.empty?this.Tc.first===this.Vca:this.Tc.first.Ra===this.Pd.gb);)this.LDb();this.Vp(a);};b.prototype.WO=function(a,b,c){this.no-=a.Ce;++this.o8;this.PX(a,b,c);};return b;}(g.qpa);b.foa=a;d.pf(k.Lq,a,!1);d.pf(n.$y,a);d.pf(n.Xy,a);},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.JVa=void 0;c=a(94);g=a(157);q=a(18);n=a(11);a(6);k=a(34);p=a(4);d=function(){var b3U;function a(){var t3U,e7e;t3U=2;while(t3U!==1){e7e="1S";e7e+="IYb";e7e+="ZrNJCp9";switch(t3U){case 4:"";t3U=6;break;t3U=1;break;case 2:e7e;t3U=1;break;}}}b3U=2;while(b3U!==13){switch(b3U){case 2:a.prototype.wya=function(a){var W3U;W3U=2;while(W3U!==1){switch(W3U){case 2:return a&&a.u===this.u&&a.cea===this.cea?!0:!1;break;}}};a.prototype.x3a=function(a){var X3U,b,c,f;X3U=2;while(X3U!==7){switch(X3U){case 2:b=this.Wc;c=void 0!==b.Ly?b.Ly:a&&a.Ly;f=void 0!==b.Ky?b.Ky:a&&a.Ky;a=a&&a.ur;Array.isArray(a)&&Array.isArray(b.ur)?a=a.filter(function(a){var Y3U,h3U;Y3U=2;while(Y3U!==1){switch(Y3U){case 2:i4YY.L7e(0);h3U=i4YY.Y7e(18,17);return h3U!==b.ur.indexOf(a);break;case 4:return~5===b.ur.indexOf(a);break;Y3U=1;break;}}}):Array.isArray(b.ur)?a=b.ur:Array.isArray(a)||(a=[]);return-1!==a.indexOf(this.profile)?{zGa:!!c,uQa:!c,fma:!c||!f}:{zGa:!1,uQa:!1,fma:!f};break;}}};b3U=5;break;case 9:a.prototype.b3a=function(a,b,c){var r3U,d,h,l,p,n,q,t,m,r;r3U=2;while(r3U!==18){switch(r3U){case 13:c=h.Ljb||c;b&&!c&&(d=f(m),r=d.jp,d=d.UMa);d||(r=t-k.ka.Pia(a,n),r=new k.ka(r-this.JGa,n),b=f(h.Ag?Infinity:Math.max(0,r.Ab)),r=b.jp,(b=b.UMa)&&0<r&&!h.Ag&&--r);this.Ij({start:0,end:r});r<(h.Bub||1)&&(l=!1);return{NDb:l,Rsb:d};break;case 3:a=g.$ea(h,a);p=this.Ta;n=p.S;q=this.Ho;t=b?b.Sja:this.IOa-2*p.Ab;m=t-this.JGa;r3U=13;break;case 2:h=this.Wc;l=!0;d=!1;r3U=3;break;}}function f(a){var p3U,b,c;p3U=2;while(p3U!==9){switch(p3U){case 2:a=Math.floor(Math.min(q,a)/p.Ab);b=p.Ab*a;p3U=4;break;case 4:i4YY.f7e(0);c=i4YY.V7e(b,m);return{jp:a,Ho:b,tSb:c,UMa:0<a&&c<n/1E3};break;}}}};a.prototype.dF=function(a,b,c,d,h,k){var m3U,f,g;m3U=2;while(m3U!==6){switch(m3U){case 1:g=this.Wc;m3U=5;break;case 2:m3U=1;break;case 4:return{da:!1};break;case 5:m3U=this.Hi?4:3;break;case 3:this.KGa?a=a.appendBuffer(n.Dr(this.uFa),n.mm(this)):this.Sa&&!this.Tu?(f=this.e4a(a,b,c,h,k),a=f.da,f=f.Nn):this.Sa&&this.Tu?(f=this.f4a(a,b,d,h,k),a=f.da,f=f.Nn):a=this.M===q.La.AUDIO&&g.zs&&c&&this.Hv&&c.te>=this.te&&this.Ub-this.Hv<this.Hv-this.xc?!0:a.appendBuffer(this.response,n.mm(this));this.Hi=!0;this.AP();m3U=7;break;case 7:return{da:a,Nn:f};break;}}};a.prototype.e4a=function(a,b,d,h,k){var v3U,f,g,l,t,H7e,u7e,j7e,P7e;v3U=2;while(v3U!==6){H7e=" f";H7e+="rom ";H7e+="[ ";u7e="AseFragmentMedi";u7e+="aRequest: Fragment edit fai";u7e+="led for ";j7e="m";j7e+="e";j7e+="dia|as";j7e+="ej";j7e+="s";P7e="M";P7e+="P";P7e+="4";switch(v3U){case 9:0>=this.duration&&(t=!1,f=!0);t&&(this.Sa&&(0<this.Sa.start||g.Ds)?(f=new c.iw(new p.Console(P7e,j7e),this.stream,this.response),(b=f.ZPa(this.Sa.start,this.hH,g.Ds,g.$ka))?(f=a.appendBuffer(n.Dr(b.ug),n.mm(this)),l=this.$U(g),this.QU(b.ug)):(this.G.error(u7e+this.toString()+H7e+this.Fx+"-"+this.RX+"]"),f=!0)):f=a.appendBuffer(this.response,n.mm(this)));return{da:f,Nn:l};break;case 2:g={Ds:0};v3U=5;break;case 5:f=!1;t=!0;this.M===q.La.AUDIO&&d&&(h?k&&this.Sca():this.wya(d)?d.Sa&&this.Sa&&this.Sa.start!==d.Sa.end&&this.Ij({start:d.Sa.end}):(g=this.y3a(b),d.te===this.bd&&(g.Ds=0)));v3U=9;break;}}};b3U=6;break;case 5:a.prototype.sya=function(a,b,c){var f3U,f,d,h,l7e,Q7e;f3U=2;while(f3U!==13){l7e="de";l7e+="f";l7e+="a";l7e+="ul";l7e+="t";Q7e="de";Q7e+="f";Q7e+="a";Q7e+="u";Q7e+="lt";switch(f3U){case 4:f3U=void 0!==h.PN&&null!==h.PN?3:14;break;case 8:a.Ds=a.fma?void 0!==f?f:1:0;a.$ka=void 0!==d?d:a.uQa;return a;break;case 3:f3U=(f=(void 0!==b?b:h.PN)||0,b=h.PJa&&h.PJa[this.stream.profile])?9:8;break;case 9:d=b.name,f=void 0!==b[c]?b[c]:void 0!==b[Q7e]?b[l7e]:f;f3U=8;break;case 2:h=this.Wc;a=this.x3a(a);f3U=4;break;case 14:a.fma=!1;f3U=8;break;}}};a.prototype.y3a=function(a){var B3U,N7e;B3U=2;while(B3U!==1){N7e="o";N7e+="nEn";N7e+="t";N7e+="r";N7e+="y";switch(B3U){case 2:return this.sya(a,this.Wc.QJa,N7e);break;case 4:return this.sya(a,this.Wc.QJa,"");break;B3U=1;break;}}};a.prototype.z3a=function(a){var U3U,t7e;U3U=2;while(U3U!==1){t7e="o";t7e+="n";t7e+="Exit";switch(U3U){case 4:return this.sya(a,this.Wc.RJa,"");break;U3U=1;break;case 2:return this.sya(a,this.Wc.RJa,t7e);break;}}};b3U=9;break;case 6:a.prototype.f4a=function(a,b,d,h,k){var T3U,f,g,l,p,n7e,r7e;T3U=2;while(T3U!==6){n7e=" fro";n7e+="m";n7e+=" ";n7e+="[";n7e+=" ";r7e="AseFr";r7e+="agm";r7e+="entMediaRequest: Fragment edit failed for ";switch(T3U){case 7:return{da:a,Nn:p};break;case 2:f=this.Wc;l={Ds:0};g=!0;this.M===q.La.AUDIO&&(h?k&&(this.phb(),g=0<this.Sa.end):this.wya(d)?d.Sa&&0!==d.Sa.start?this.Ij({start:0,end:d.Sa.start}):g=!1:(l=this.z3a(b),f.zs||(b=this.b3a(b,d,l.zGa),(g=b.NDb)&&b.Rsb&&!l.$ka&&(l.Ds=0))));g&&0===this.duration&&(g=!1);g?this.Sa&&this.Sa.end<this.cN||l.Ds?(g=new c.iw(this.G,this.stream,this.response),(g=g.dQa(this.Sa&&this.Sa.end,this.S,l.Ds,l.$ka))?(a=a.appendBuffer(n.Dr(g.ug),n.mm(this)),p=this.$U(l),this.QU(g.ug)):(this.G.error(r7e+this.toString()+n7e+this.Fx+"-"+this.RX+"]"),a=!0)):a=a.appendBuffer(this.response,n.mm(this)):a=!0;T3U=7;break;}}};return a;break;}}}();b.JVa=d;b["default"]=new d();},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.doa=void 0;c=a(0);g=a(18);q=a(94);d=a(4);n=a(11);a(6);k=a(209);p=a(74);h=a(220);f=d.Tj;a=function(a){function b(b,c,d,k,l,n,q){var t,m;k=a.call(this,b,d,k,n,q)||this;l=p.zh.prototype.toString.call(k)+(l?"(cache)":"");t={offset:d.offset,aa:d.Mia,responseType:0};k.push(new h.UI(b,c,l+"(moof)",t,k,n,q));t={offset:d.offset+t.aa+8,aa:d.aa-(t.aa+8),responseType:f.vc&&!f.vc.SH.Iz?0:1};if(k.M===g.La.VIDEO&&k.Sa){if(0<k.Sa.start){if(m=k.nGa(k.Sa.start))t.offset=d.offset+m,t.aa=d.aa-m;}else k.Sa.end<k.cN&&(m=k.nGa(k.Sa.end))&&(t.aa-=d.aa-m);}k.push(new h.UI(b,c,l+"(mdat)",t,k,n,q));return k;}c.__extends(b,a);b.prototype.dF=function(a){var b,c;if(this.Hi)return{da:!0};if(!this.xB())return{da:!1};c=!1;if(this.KGa)c=a.appendBuffer(n.Dr(this.uFa),n.mm(this));else if(this.Sa&&0<this.Sa.start){b=new q.iw(this.G,this.stream,this.wa[0].response);if(b=b.ZPa(this.Sa.start,this.S))c=a.appendBuffer(n.Dr(b.ug),n.mm(this)),this.QU(b.ug);b=this.$U();}else if(this.Sa&&this.Sa.end<this.cN){b=new q.iw(this.G,this.stream,this.wa[0].response);if(b=b.dQa(this.Sa.end,this.S))c=a.appendBuffer(n.Dr(b.ug),n.mm(this)),this.QU(b.ug);b=this.$U();}else c=a.appendBuffer(this.wa[0].response,n.mm(this));c&&(c=a.appendBuffer(q.nO(this.wa[1].aa),n.mm(this)))&&(c=a.appendBuffer(this.wa[1].response,n.mm(this)));this.Hi=c;this.tAb();return{da:c,Nn:b};};return b;}(k.Wy);b.doa=a;},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;c=a(0);g=a(210);q=a(805);n=a(802);k=a(801);d=a(83);p=a(800);h=a(6);f=a(7);t=a(4);m=a(213);r=t.Promise;a=function(a){function b(b,c,f,d,h,k){b=a.call(this,b)||this;b.K=c;b.G=f;b.Dt=d;b.Dc=h;b.Me=k;b.jUa=!0;b.Dh=new m.tR(b.G);b.Ye=b.G.error.bind(b.G);b.ab=b.G.warn.bind(b.G);b.mj=b.G.trace.bind(b.G);b.uAa();return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{M:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xc:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IC:{get:function(){return 0<this.yy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sma:{get:function(){return!this.CK;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yy:{get:function(){return this.wa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ns:{get:function(){return this.wa.Ns;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rzb:{get:function(){return this.Dh.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cr:{get:function(){return this.wa.IDa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xba:{get:function(){return this.wa.HDa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vl:{get:function(){return void 0===this.wa.bd?0:this.wa.te-this.wa.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Co:{get:function(){return{aa:this.wa.JA,va:Math.max(this.wa.IDa-this.wa.bd,0)||0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sF:{get:function(){return this.wa.icb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JA:{get:function(){return this.wa.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$$:{get:function(){return this.wa.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qv:{get:function(){return this.C4a();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{k0:{get:function(){return this.wa.Apb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{WY:{get:function(){return this.wa.length>this.wa.Ns;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uo:{get:function(){return this.wa.uo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Drb:{get:function(){return this.wa.Zwb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sOa:{get:function(){return this.wa.length-this.Wk;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Z:{get:function(){return this.wa;},enumerable:!1,configurable:!0}});b.prototype.Ng=function(){this.wa.forEach(function(a){a.abort();a.wc();});this.uAa();this.Dh.qX();};b.prototype.reset=function(){this.Ng();this.Dh.$0();};b.prototype.close=function(){this.Dh.qX();};b.prototype.Pbb=function(){this.k8&&(this.k8=!1,this.Dh.$0());};b.prototype.aDb=function(){this.k8=!0;};b.prototype.kfa=function(){return{hasSentinel:void 0!==this.Dh.count,queueCount:this.Dh.count,isComplete:this.Dh.Nu,itemCount:this.Dh.ncb,continuousEndPts:this.Dh.Js().reduce(function(a,b){return b&&!b.done&&(b=b.value,100>Math.abs(b.cea-a)||-1===a)?b.Pjb:a;},-1),sentinelItemCount:this.Dh.Js().filter(function(a){return a&&a.done;}).length,processedCount:this.Dh.qgb,rc:this.yy};};b.prototype.hfb=function(a,b,c,d){var l,q;l=this.K;f.X(d)||(b.location=d.location,b.Kb=d.qc,b.Nla=d.mp);q=a.R.gQ;q&&(b.E1=q.xn({XL:a.Qi(this.Me),R_:l.Thb?l.R_:void 0,iTa:String(t.time.ea()),wW:l.Ihb?a.R.kq[this.Me]:void 0}));h.assert(!b.Lo);l.Shb?a=new k.koa(d,l,c.track,b,this.wa,this.G):d.R.kX(this.Me)?(a=new n.goa(d,l,c.track,b,this.wa,!1,this.G),l.nX&&(b=new p.qoa(d,l,c.track,b,this.wa,!1,this.G),b.Db(this),b.ns())):a=g.qR.create(d,l,c.track,b,this.wa,!1,this.G);a.Db(this);this.bF(a);return a;};b.prototype.u9a=function(a){var b;a.Db(this);a.X$=!0;this.bF(a);b=r.resolve();a.complete?(this.F8(a),this.Dt.jNa(a.stream,a.bd,a.xc),b=this.OQ(),this.Vp(a)):(a.active&&this.kB(a),a.PPa&&this.jB(a));return b;};b.prototype.bF=function(a){this.wa.In(a);this.F8(a);a.Tu&&(this.CK=!1);};b.prototype.wN=function(){return this.Dh.Akb();};b.prototype.iDa=function(){var a,b;this.Wk===this.wa.length&&(this.k8||(null===(b=null===(a=this.Drb)||void 0===a?void 0:a.XH)||void 0===b?0:b.Uga))&&this.Dh.qX();};b.prototype.OQ=function(){var a,b,c,d,l;a=this;c=r.resolve();d=this.Dc;if(!d.TJa(this.Me)||this.Wk===this.wa.length)return c;for(var h=this.K.ztb,k=0,g=[];this.Wk<this.wa.length;){if(b=this.wa.get(this.Wk)){if(this.wa.tGa&&this.wa.tGa.Ra<b.Ra)break;if(!b.xB())break;g.push(b);++k;f.la(this.bd)||(this.bd=b.bd);}++this.Wk;if(!f.X(h)&&k>=h)break;}if(g.length){void 0!==this.Dh.count&&(this.Ye("Request Manager count"),this.Dh.$0());if(this.jUa)c=r.all(g.map(function(b){return a.Dh.enqueue(b).then(function(){return a.MY(b);});}));else for(b=0;b<g.length;b++)try{l=g[b];d.Nmb(this.M).Ogb(l);this.MY(l);}catch(T){return this.Wk-=g.length-b,r.reject(T);}this.iDa();}return c;};b.prototype.MY=function(a){this.EGa(a);};b.prototype.Lzb=function(a){var d;for(var b,c=0;c<this.wa.length;++c){d=this.wa.get(c);d&&a<d.te&&(f.X(b)&&(b=c),d.Hi=!1);}f.X(b)||(this.Wk=b,this.Dh.$0());return this.OQ();};b.prototype.W0=function(){this.Q6a();};b.prototype.nP=function(a,b){var c,f,d,h,k;c=this;f=this.K;d=!1;h=0;k=this.wa.some(function(k){if(a<k.te)return d&&c.F8(k),!0;++h;k.Hi||(c.ab("pruning unappended request:",k&&k.toString()),f.Pg&&c.Dt.vk("prune pts:"+a+" unappended request:"+(k&&k.toString())),k.Uda&&(c.CK=!1,d=!0),c.P2a(k,b)||c.Ye("MediaRequest.abort error:",k.qh));});0<h&&(this.wa.splice(0,h),this.Wk-=Math.min(h,this.Wk));return k;};b.prototype.vY=function(a){var b,c,d;void 0===a&&(a={lM:null,CH:null,bd:null,Xi:0,Th:0,Z:[]});b=this.K;c=this.wa;f.la(c.bd)&&(null===a.bd||c.bd<a.bd)&&(a.bd=c.bd);d=this.Cr;void 0!==d&&null===a.lM&&(a.lM=d);d=c.te;void 0!==d&&(null===a.CH||d>a.CH)&&(a.CH=d);a.Xi+=c.Xi;a.Th=b.hma?a.Th+c.Nzb:a.Th+c.JA;Array.prototype.unshift.apply(a.Z,c.cI.Z);return a;};b.prototype.Jr=function(a){if(this.wa.length&&(a=this.wa.lGa(a)))return a;};b.prototype.rp=function(){var a,b;a=this;b=[];this.wa.forEach(function(c){var f;f=c.t2();1===f?b.push(c):2===f&&a.Xc.R.zg("swapUrl failure");});return b;};b.prototype.Ph=function(a){return this.K.xP?(this.Dh.clear(),this.Lzb(a)):r.resolve();};b.prototype.YO=function(a){a.zB&&a.xB()&&this.OQ();this.jB(a);};b.prototype.Vi=function(a){a.zB&&!a.Hi&&this.OQ();this.Vp(a);};b.prototype.daa=function(a){var b,c,f;b=1===this.Me?"v_":"a_";c=this.wa;f=c.eG(a);a=0<=f?c.get(f):void 0;return(c=0<=f&&f+1<c.length?c.get(f+1):void 0)&&a?a.te!==c.bd?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};b.prototype.C4a=function(){return this.wa.uo+this.wa.Ns;};b.prototype.uAa=function(){this.wa=new q.foa(this.G,this);this.Wk=0;this.Dh.clear();this.bd=null;this.CK=!1;};b.prototype.F8=function(a){this.CK?a.Uda=!1:this.CK=a.Uda=!0;};b.prototype.P2a=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};b.prototype.Q6a=function(){var a,b;a=this;b=0;this.wa.hzb(function(c,f){f<a.Wk&&++b;});this.Wk-=b;};return b;}(d.Lq);b.$va=a;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;c=a(18);g=a(11);q=a(34);n=a(108);k=a(4);d=function(){function a(a,b,c,d,k){this.rv=a;this.vu=b;this.K=c;this.G=d;this.Me=k;}a.prototype.zvb=function(a){a={type:"requestCreated",request:a};g.Ia(this.vu,a.type,a);};a.prototype.yvb=function(a){var b;b=a.Ha.Xc.ca;a={type:"updateStreamingPts",mediaType:a.M,position:{Na:b.id,offset:q.ka.Bf(this.rv.xba-b.T)},trackIndex:a.stream.track.sA};g.Ia(this.vu,a.type,a);};a.prototype.jNa=function(a,b,c){var f,d;f=this.Me;d=this.rv.Cq;d.S1(a);1===f&&this.K.i1&&(void 0===d.ZN?d.ZN=k.time.ea():k.time.ea()-d.ZN>this.K.i1&&(a.O!==d.oha&&(k.storage.set("vb",a.O),d.oha=a.O),d.ZN=k.time.ea()));d.FB&&d.FB===a||(this.rv.rI.S1(b,d.FB,a),d.FB=a,b=0,a.lb&&a.lb.Fd&&a.lb.Fa&&(b=a.lb.Fa.Ca),d={Na:this.rv.Xc.ca.id,offset:q.ka.Bf(c-this.rv.Xc.ca.T)},a={type:"streamSelected",nativetime:k.time.ea(),mediaType:f,streamId:a.id,manifestIndex:a.R.Xa,trackIndex:a.track.sA,streamIndex:a.Bg,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:d},g.Ia(this.vu,a.type,a));};a.prototype.uvb=function(a,b,d){var f,h,k,l,p;f=b.R;h=f.km;k=this.rv.Cq;l=f.Wqb(b);p=l.Zga;l=l.Xqb;d&&b.qc&&!k.YN?(l=c.Fg.ht,b.mp=c.Fg.name[l],this.iNa(f.Xa,a,b.qc,b.mp,b.location,b.O),k.YN=b.qc):!d&&b.qc&&b.qc!==k.YN&&(l=l?void 0===k.YN?c.Fg.ht:h.$H===c.Fg.s6?c.Fg.M1a:c.Fg.Z2:c.Fg.L1a,b.mp=c.Fg.name[l],this.iNa(f.Xa,a,b.qc,b.mp,b.location,b.O),k.YN=b.qc);k.LG||(l={type:"logdata",target:"startplay",fields:{}},this.Me===c.La.AUDIO?l.fields.alocid=b.location:this.Me===c.La.VIDEO&&(l.fields.locid=b.location),g.Ia(this.vu,l.type,l));d&&b.location&&!k.LG?(l=c.Fg.ht,b.mp=c.Fg.name[l],this.gNa(f.Xa,a,b.location,b.Dha,b.qc,b.xC,b.mp,b.qs),k.LG=b.location):!d&&b.location&&b.location!==k.LG&&(l=p?void 0===k.LG?c.Fg.ht:h.$H===c.Fg.s6?c.Fg.o_a:c.Fg.Z2:c.Fg.n_a,b.mp=c.Fg.name[l],this.gNa(f.Xa,a,b.location,b.Dha,b.qc,b.xC,b.mp,b.qs),b.qs=void 0,k.LG=b.location);this.K.tq||(b.JKa=b.location,b.KKa=b.qc);};a.prototype.iNa=function(a,b,d,k,l,p){var f,h;f=this.Me===c.La.VIDEO?"video":"audio";h=n.eg().get();a={type:"serverSwitch",manifestIndex:a,segmentId:b,mediatype:f,server:d,reason:k,location:l,bitrate:p,confidence:h.Fd};h.Fd&&(a.throughput=h.Fa.Ca);this.rv.Cq.YN&&(a.oldserver=d);g.Ia(this.vu,a.type,a);};a.prototype.gNa=function(a,b,d,k,l,p,n,q){g.Ia(this.vu,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.Me===c.La.VIDEO?"video":"audio",location:d,locationlv:k,serverid:l,servername:p,selreason:n,seldetail:q});};a.prototype.F9=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.sy||g.Ia(this.vu,b.type,b);};a.prototype.vk=function(a){a={type:"managerdebugevent",message:"@"+k.time.ea()+", "+a};g.Ia(this.vu,a.type,a);};return a;}();b.Uua=d;},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r,u,J,F,L,H,U,R,aa;Object.defineProperty(b,"__esModule",{value:!0});b.moa=void 0;c=a(0);g=a(21);q=a(211);n=a(17);k=a(11);p=a(379);h=a(782);f=a(4);t=a(6);m=a(156);r=a(780);u=a(49);J=a(380);F=a(779);L=a(776);H=a(775);U=a(773);R=a(771);aa=a(770);d=function(){function a(a,b,c,d,l,p){this.G=a;this.xg=b;this.weight=c;this.config=d;this.$p=l;this.fM=p;this.oo=q.Qv.CLOSED;this.d9=!0;this.navigator=new H.sva(b);this.eob=U.SDa(this.navigator,d.$xb);this.Qc=new R.mva();this.fob=new F.fra(this.config,k.ka.Bf(this.config.s_),{parent:this.xnb.bind(this)});this.events=new g.EventEmitter();this.xma=new h.Qwa(a,this.events);this.el=new aa.Poa();this.FP=[];this.console=new f.Console("ASEJS_PLAYGRAPH","asejs");this.W=new r.Vua(this);}Object.defineProperties(a.prototype,{state:{get:function(){return this.oo;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jyb:{get:function(){return this.W.position;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fx:{get:function(){return this.el.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ry:{get:function(){return this.el.ry;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.d9=!0;if(this.oo!==q.Qv.CLOSED)return!1;this.oo=q.Qv.OPEN;return!0;};a.prototype.close=function(){this.oo!==q.Qv.CLOSED&&(this.Ng(),this.oo=q.Qv.CLOSED);};a.prototype.GRa=function(a,b){this.fCa=a;this.BUa=b;};a.prototype.vDb=function(a){this.t$a=void 0;this.D2=a;};a.prototype.YQa=function(a){var b;if(J.vKa(this.xg,a))if(a=this.ZMa(a),void 0===a)this.zg("Invalid seekPosition");else if(void 0===this.fCa||void 0===this.BUa)this.zg("No track selectors available");else{b=this.navigator.Rg(a.Na);b=this.$p(b.oa);if(void 0===b)this.zg("Missing viewable corresponding to seek graph position");else return this.el.XEa(),this.Ng(),this.Obb(),b.QO(),this.el.owb(),this.Tzb(a),this.zP(a),this.W.resume(),this.el.bCa(this.W.events),this.fM(),a;}else this.zg("Invalid seekPosition");};a.prototype.Ng=function(){this.Qc.reset();this.FP.forEach(function(a){return m.yp.eg.VW(a);});this.FP=[];this.W.reset();};a.prototype.wk=function(a){var b;b=this.navigator.Rg(a.Na);b=this.$p(b.oa);t.assert(void 0!==b,"Missing viewable corresponding to rebuffer graph position");b.wk();b.QO();this.el.wk(a);this.fM();};a.prototype.l$a=function(a){this.W.bna(a)?this.W=a:this.zg("player in use");};a.prototype.Hfa=function(a){var b;b=this.navigator.Rg(a.Na);a=b.Fm.add(a.offset);return{oa:b.oa,Kba:a};};a.prototype.uv=function(a){return this.W.uv(a);};a.prototype.LY=function(a){return this.W.LY(a);};a.prototype.ZMa=function(a){var b;b=this.xg.Va[a.Na];if(void 0!==b)return null===b.tg||void 0===b.tg?{Na:a.Na,offset:k.ka.max(k.ka.sd,a.offset)}:{Na:a.Na,offset:k.ka.max(k.ka.sd,k.ka.min(a.offset,k.ka.Bf(b.tg-b.mf)))};};a.prototype.Qi=function(a){var b,c;this.Qc.forEach(function(a){var f;if(!a.vA||a.ca.Gs){f=a.wIa(0);a=a.wIa(1);if(!b||f<b)b=f;if(!c||a<c)c=a;}});return{gGb:b?b-a.va:0,hGb:c?c-a.va:0};};a.prototype.vfa=function(){var a,b;a=this;if(this.Ro())return[];b=this.Eo;return this.Qc.reduce(function(f,d){var h,k;try{for(var g=c.__values(d.mmb()),l=g.next();!l.done;l=g.next())f.push(a.jfb(l.value,b));}catch(ta){h={error:ta};}finally{try{l&&!l.done&&(k=g["return"])&&k.call(g);}finally{if(h)throw h.error;}}return f;},[]);};a.prototype.xnb=function(a){var b,c;c=a.M;return null===(b=a.Xc.parent)||void 0===b?void 0:b.lmb(c);};a.prototype.zg=function(a,b,c,f,d,h){this.xma.zg(a,b,c,f,d,h);};a.prototype.Ro=function(){return this.xma.Ro();};a.prototype.zm=function(){this.xma.zm();};a.prototype.F8a=function(a){this.W.lda(a);};a.prototype.Obb=function(){this.W.qF();};a.prototype.Ehb=function(a,b){this.events.emit("streamSelection",{type:"streamSelection",mediaType:a.M,selDiscBw:null===b||void 0===b?void 0:b.TP,histAge:null===b||void 0===b?void 0:b.nk});};a.prototype.jfb=function(a,b){var c;c=this;return{V1:a.V1,Eo:b,arb:function(){var f,d,h,k;f=a.M;d=c.fob.qCb(c.fx.value,b,a,0===f?c.t$a:c.D2);h=d.stream;k=d.lQ;d=d.sCb;if(!h)return!1;c.Ehb(h,d);c.el.vg&&1===f&&c.el.gDb(a.rI.aI,h.O,d);0<k.length&&!c.el.vg&&a.V1.Mb(b).va>c.config.CO&&k[0].UC();(f=a.DGb(h,c.FP[f]))&&c.d9&&(c.$j("firstDriveStreaming"),c.d9=!1);return f;}};};Object.defineProperties(a.prototype,{Eo:{get:function(){return this.W.Eo;},enumerable:!1,configurable:!0}});a.prototype.zP=function(a){var b,c,f;b=this;c=this.navigator.Rg(a.Na);f=this.$kb();c=L.zP(this.navigator,this.eob,c,f,k.ka.Bf(this.config.pab));this.Qc.SGb(c,function(c){var f;f=b.navigator.Rg(c);c=c===a.Na?f.Fm.add(a.offset):f.Fm;f=b.ueb(f,c);b.F8a(f);return f;});};a.prototype.$kb=function(){return this.Qc.filter(function(a){return a.vA;}).map(function(a){return a.ca.id;});};a.prototype.mkb=function(){return this.Qc.filter(function(a){return!a.vA;}).length;};a.prototype.Yvb=function(a,b){b.didNormalizeSegment&&this.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:a.ca.id,normalizedStart:b.segmentContentStart,normalizedEnd:b.branchContentEnd,contentEnd:b.contentEnd});};a.prototype.PU=function(a){this.el.UCb(a.reason,a.videoBufferLevel,a.audioBufferLevel);this.W.av();};a.prototype.H9=function(a){this.el.VCb(a.percentage);};a.prototype.k6a=function(){this.zP(this.W.position);0===this.mkb()&&this.e6a();};a.prototype.ueb=function(a,b){var c,f,d,h;c=this;f=this.navigator.plb(a);t.assert(2>f.length,"Playgraph loops are not yet supported");d=(f=0<f.length?this.Qc.vea(f[0].id):void 0)&&f[0];f=k.ka.sd;d&&d.v0&&(f=d.v0.Mb(a.Fm));h=this.$p(a.oa);t.assert(void 0!==h);b=new p.k3(this.config,this.console,h,this.events,a,this.rCb(h),b,f.va,function(){return c.Eo.va;},d,[],this.fx);b.events.once("branchNormalized",this.Yvb.bind(this,b));b.events.on("branchBufferingComplete",this.PU.bind(this));b.events.on("branchBufferingProgress",this.H9.bind(this));b.events.on("branchStreamingComplete",this.k6a.bind(this,b));b.Db();this.OU(a.id,h,f);return b;};a.prototype.Tzb=function(a){var b,c,f,d,h;b=this;a=this.navigator.Rg(a.Na);c=this.$p(a.oa);t.assert(c);f=c.u;t.assert(0===this.FP.length);d=0;h=new g.Fl();this.$j("createDlTracksStart");this.FP=n.Ke.map(function(a){a=b.OA(a,f,c);++d;h.on(a,"created",function(){--d;0===d&&(b.$j("createDlTracksEnd"),h.clear());});return a;});};a.prototype.OA=function(a,b,c){var f,d;f=this;d=m.yp.eg.OA(a,b,!0,!1,{},this.config);d.sk.on(d,"networkfailing",function(){var a;d.xX&&(null===(a=c.Hh)||void 0===a?void 0:a.fp(d.Cda,void 0,d.qh,d.Ui));c.rp();});d.sk.on(d,"error",function(){f.zg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",d.qh,0,d.Ui);});d.Db();return d;};a.prototype.rCb=function(a){return[[0,this.fCa,"audio_tracks"],[1,this.BUa,"video_tracks"]].map(function(b){var f,d;f=c.__read(b,3);b=f[0];d=f[1];f=f[2];t.assert(d,"Expected mediaType "+b+" track selector to be defined");d=d.s1(a.ya,a.ya[f]);return void 0!==d?a.KIa(b,d):void 0;}).filter(u.cja);};a.prototype.OU=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c.va,maxBitrates:{audio:b.kq[0],video:b.kq[1]}};this.events.emit(a.type,a);};a.prototype.e6a=function(){var a;a={type:"streamerEnd",time:f.time.ea()};this.events.emit(a.type,a);};a.prototype.$j=function(a){a={type:"startEvent",event:a,time:f.time.ea()};this.events.emit(a.type,a);};return a;}();b.moa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;c=a(212);g=a(157);q=a(18);n=a(34);d=function(){function a(a,b){this.K=a;this.G=b;this.C9=this.w9=this.kt=n.ka.sd;this.LU=this.KU=void 0;this.mj=this.G.trace.bind(this.G);this.mNa=new k(a,b);}a.prototype.qla=function(a,b,c,d,k,g,l,p,m,r){var f,h,t,z,u,G,D,F;f=!1;a=a===q.La.AUDIO&&!!b.Sa&&this.q7a(b.stream);h=n.ka.sd;t=b.console;if(a){z=b.stream.Ta;u=this.z4a(b.profile,z);G=this.A4a(b.profile,z);D=b.Hv+b.xm;if(b.Tu)f=new n.ka(b.na-D,1E3),(f=this.kt.add(f).xG(u))||!l||this.d3a(b,l)||(m=l.Hv+l.xm,b=new n.ka(D-(b.na-z.va),1E3),m=new n.ka(m-l.T,1E3),this.kt.Mb(b).add(m).bab(G,u)&&(f=!0));else if(void 0!==c){F=b.qy;new n.ka(D-b.T,1E3);l=this.kt.add(c.Mb(F));if(F.add(z).Yx(c)||l.xG(u))f=!0,F.add(z),l=l.Mb(z);u=G.Mb(n.ka.mv);l.mH(this.kt)&&l.lessThan(u)?(f=a=!1,this.mNa.reset(),this.kt=n.ka.sd,u=d.add(k),m(u),t.error("Unexpected seamless audio sync "+l.toString()+" at content pts "+b.xc+" in stream "+b.stream.sa+" following "+g.Ub)):(u=d.add(l).add(k),u=this.mNa.round(b,p,u,f),m(u),l.mH(this.kt)&&(this.w9=n.ka.max(this.w9,l),this.C9=n.ka.min(this.C9,l),r(this.w9,this.C9),h=l.Mb(this.kt),this.kt=l));}}return{qla:a,ohb:f,w$a:h};};a.prototype.q7a=function(a){void 0===this.kL&&(this.kL=g.aaa(this.K,a));return this.kL;};a.prototype.z4a=function(a,b){void 0===this.KU&&("object"===typeof this.K.rla&&this.K.rla[a]?(a=new n.ka(this.K.rla[a],1E3).Jf(b.S).add(new n.ka(1,b.S)),this.KU=n.ka.min(b,a)):this.KU=b);return this.KU;};a.prototype.A4a=function(a,b){var c;if(void 0===this.LU)if("object"===typeof this.K.sla&&this.K.sla[a]){c=new n.ka(-Math.floor(b.va/2),b.S);a=new n.ka(this.K.sla[a],1E3).Jf(b.S).Mb(new n.ka(1,b.S));this.LU=n.ka.max(c,a);}else this.LU=new n.ka(-12,1E3);return this.LU;};a.prototype.d3a=function(a,b){return a.xc<=b.xc&&a.Ub>=b.xc&&a.stream.track.equals(b.stream.track);};return a;}();b.swa=d;k=function(){function a(a,b){this.K=a;this.G=b;this.nA=0;}a.prototype.round=function(a,b,c,d){this.K.zs||(a=this.t3a(a,c,d),b=b.Mb(a),b.xG(n.ka.mv.J_(2))?(c=c.Mb(n.ka.mv),++this.nA):b.lessThan(n.ka.sd)?(c=c.add(n.ka.mv),--this.nA):0<this.nA&&b.lessThan(n.ka.mv)?(c=c.add(n.ka.mv),--this.nA):0>this.nA&&b.greaterThan(n.ka.mv)&&(c=c.Mb(n.ka.mv),++this.nA));return c;};a.prototype.reset=function(){this.nA=0;};a.prototype.t3a=function(a,b,d){var f;f=a.Zl;this.K.wo&&a.stream.si&&(f=f.Mb(a.stream.si));d&&(f=f.add(a.stream.Ta));return c.Oia(f).add(c.Oia(b));};return a;}();},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Eva=void 0;c=a(21);d=a(11);g=a(6);q=a(49);n=a(63);k=d.ka.Bf(1E3);a=function(){function a(a,b,d,g,l,p,n){var f;f=this;this.M=a;this.console=b;this.Tl=d;this.W=g;this.events=p;this.gg=[];this.mOa=n.add(k);this.listeners=new c.Fl();this.listeners.on(g,"playing",function(){return void 0===f.Yi?f.play():f.NGb();});this.listeners.on(g,"underflow",function(){return f.pause();});this.listeners.on(g,"paused",function(){return f.pause();});this.listeners.on(g,"skipped",function(){return f.Ph();});this.listeners.on(l,"requestAppended",function(a){return f.Ltb(a.request.stream,a.request.qy);});}a.prototype.Ltb=function(a,b){var c;c=this.gg.length?this.gg[this.gg.length-1]:void 0;if(void 0===c||c.stream!==a)n.Ya&&this.trace("stream "+a.id+", "+a.O+"kbit/s @ "+b.va+"ms"),this.gg.push({stream:a,timestamp:b}),void 0!==this.Yi&&void 0===this.Fv&&(a=this.W.Gc,void 0!==a&&this.MP(a));};a.prototype.reset=function(){n.Ya&&this.trace("reset");this.Fv&&clearTimeout(this.Fv);this.Yi=this.Fv=void 0;this.gg=[];};a.prototype.close=function(){this.reset();this.listeners.clear();};a.prototype.play=function(){var a;a=this.W.Gc;g.assert(void 0!==a);n.Ya&&this.trace("play @ "+a.va+"ms");g.assert(this.gg.length);g.assert(this.gg[0].timestamp.Yx(a));g.assert(1===this.gg.length||this.gg[1].timestamp.greaterThan(a));this.Yi=0;this.Yca(a);this.MP(a);};a.prototype.pause=function(){n.Ya&&this.trace("pause");this.Fv&&clearTimeout(this.Fv);this.Fv=void 0;};a.prototype.NGb=function(){var a;a=this.W.Gc;g.assert(void 0!==a);n.Ya&&this.trace("unpause @ "+a.va+"ms");this.MP(a);};a.prototype.Ph=function(){var a,b;a=this.W.Gc;g.assert(void 0!==a);n.Ya&&this.trace("skipped @ "+a.va+"ms");g.assert(void 0!==this.Yi);g.assert(0<this.gg.length);g.assert(this.gg[0].timestamp.Yx(a));this.pause();b=q.$w(this.gg,function(b){return b.timestamp.greaterThan(a);});this.Yi=-1===b?this.gg.length-1:b-1;this.shift(a.Mb(this.mOa));this.Yca(a);this.MP(a);};a.prototype.swb=function(){var a;a=this.W.Gc;g.assert(void 0!==a);n.Ya&&this.trace("onStreamPresentingTimer @ "+a.va+"ms");g.assert(void 0!==this.Yi);g.assert(1<this.gg.length);g.assert(this.Yi<this.gg.length-1);this.Fv=void 0;this.shift(a.Mb(this.mOa));this.gg[this.Yi+1].timestamp.Yx(a)&&(++this.Yi,this.Yca());this.MP(a);};a.prototype.MP=function(a){var b,c,d;b=this;g.assert(void 0===this.Fv);g.assert(void 0!==this.Yi);g.assert(this.Yi<this.gg.length);if(this.Yi<this.gg.length-1){c=this.gg[this.Yi+1];d=Math.max(c.timestamp.Mb(a).va,10);n.Ya&&this.trace("scheduleNextStreamPresentingTimer @ "+a.va+"ms for "+c.timestamp+"ms");this.Fv=setTimeout(function(){return b.swb();},d);}};a.prototype.Yca=function(a){var b,c,d;g.assert(void 0!==this.Yi);g.assert(this.Yi<this.gg.length);b=this.gg[this.Yi];c=b.stream;b=b.timestamp;a=null!==a&&void 0!==a?a:b;d=this.Tl.uv(a);g.assert(void 0!==d);n.Ya&&this.trace("emitStreamPresentingEvent @ "+b.va+"ms for "+c.id+", "+c.O+"kbit/s");this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.M,playerTimestamp:a,position:d,trackIndex:c.track.sA,streamIndex:c.Bg});};a.prototype.shift=function(a){for(;1<this.gg.length&&0<this.Yi&&this.gg[1].timestamp.Yx(a);)this.gg.shift(),--this.Yi;};a.prototype.trace=function(a){this.console.trace("PresentationTracker ["+this.M+"]: "+a);};return a;}();b.Eva=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Koa=void 0;c=a(158);g=a(63);d=function(){function a(a,b,c){this.G=a;this.m3a=b;this.Me=c;this.jU=0;this.EU=!1;g.Ya&&a.trace("creating new iterator for "+this.Me);}Object.defineProperties(a.prototype,{wfb:{get:function(){return this.jU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EW:{get:function(){return this.Cya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nqb:{get:function(){return this.EU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yfb:{get:function(){return this.kj?this.kj.Nu?"Complete":this.kj.kka?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.kj;return b?b.next().then(function(c){if(a.kj!==b)return{done:!0};c.done||a.jU++;return c;}):c.az.zfa();};a.prototype.uBb=function(){this.pSa();this.Szb();};a.prototype.pSa=function(){var a;if(this.kj){a=this.kj;a&&a.sg();a&&g.Ya&&this.G.trace("Disposing iterator that was on branch",this.EW&&this.EW.ca);this.EU=!1;this.kj=void 0;}};a.prototype.Szb=function(){var a,b,d,h;a=this;if(!this.EU){b=this.G;d=this.m3a;h=this.Me;this.jU=0;this.Cya=void 0;this.kj=c.Mr(c.map(d.rIa(),function(c){var f;a.Cya=c;a.jU=0;g.Ya&&b.trace("Received branch",c.ca);f=c.wN(h);if(f)return{value:f};g.Ya&&b.error("Skipping Branch",c.ca);return{value:[]};},b),b);this.EU=!0;}};return a;}();b.Koa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,t,m;Object.defineProperty(b,"__esModule",{value:!0});b.voa=void 0;c=a(21);g=a(383);q=a(4);n=a(213);k=a(17);p=a(212);h=a(11);f=a(49);t=a(6);m=a(382);d=function(){function a(a,b,f,d,g,k){var l;l=this;this.qb=a;this.W=b;this.G=f;this.K=d;this.Yf=g;this.OB=k;this.x8=!1;this.Vya=new h.Ewa();this.mya=new c.Fl();this.Yj=new n.tR(this.G);this.bfb();this.SU=new m.mT(this.bn,function(){return l.BNa();},function(){return l.W.Eo.va;});}a.prototype.av=function(){this.SU.av();};a.prototype.lib=function(a){this.Yj.enqueue(a);a.ca.Gs&&this.Yj.qX();this.x8||this.zjb(a);};a.prototype.pja=function(a){this.bn.forEach(function(b){b.pja(a);});};a.prototype.BNa=function(){this.qb.el.pj();};a.prototype.reset=function(){this.bn.forEach(function(a){a.reset();});this.SU.reset();this.x8=!1;this.Vya.removeAllListeners();};a.prototype.qF=function(){this.Yj.clear();this.mya.clear();};a.prototype.resume=function(a){this.bn.forEach(function(b){void 0!==a&&-1===a.indexOf(b.M)||b.resume();});};a.prototype.pI=function(a){this.bn.forEach(function(b){return(void 0===a||-1!==a.indexOf(b.M))&&b.stop();});};a.prototype.wk=function(){this.G.trace("onUnderflow");this.SU.reset();};a.prototype.rIa=function(){return this.Yj.MHa();};a.prototype.vea=function(){return this.Yj.nTa();};a.prototype.bfb=function(){var a,b;a=this;this.$j("createMediaSourceStart");b=new q.MediaSource(this.W.W);if(1!==b.readyState)this.Xk("exception in init","NFErr_MC_StreamingInitFailure");else{this.$j("createMediaSourceEnd");this.af=b;if(!b.IV(this.OB))throw this.G.trace("Error:",b.error),this.Xk("error creating source buffers","NFErr_MC_StreamingInitFailure"),b.error;this.bn=b.sourceBuffers.map(function(c){var f;f=new p.n3(a.G,c.M,b,c,a.K,{Wd:function(){return a.W.Eo.va;},Pu:function(b){return a.W.Pu(b);}});f.addListener("error",function(b){return a.Xk(b.errorstr);});f.addListener("logdata",function(b){return a.Yf.emit("logdata",b);});return new g.X2(f,c.M,a,a.K,a.G,a.W);});this.SU=new m.mT(this.bn,function(){return a.BNa();},function(){return a.W.position.offset.va;});}};a.prototype.Bn=function(){this.bn.forEach(function(a){return a.stop();});this.bn.forEach(function(a){return a.close();});this.af.An();this.qF();};a.prototype.sea=function(){return{wzb:this.Yj.nTa(),Vxb:this.bn};};a.prototype.zjb=function(a){var b;b=this;this.x8=!0;a.zl.forEach(function(a){var c;c=b.tkb(a.M);if(void 0!==c)b.Vya.once(a.Rda,function(a){return c.Ajb(a);});});if(this.qb.fx.value===k.Ve.we)if(void 0!==a.Zl)this.zNa(a);else this.mya.on(a.events,"branchNormalized",this.zNa.bind(this,a));};a.prototype.zNa=function(a){t.assert(a.Zl);this.qb.el.WCb({Na:a.ca.id,offset:a.Zl.Mb(a.ca.Fm)});};a.prototype.tkb=function(a){return f.sn(this.bn,function(b){return b.M===a;});};a.prototype.$j=function(a){a={type:"startEvent",event:a,time:q.time.ea()};this.Yf.emit(a.type,a);};a.prototype.Xk=function(a,b){this.qb.zg(a,void 0,b);};return a;}();b.voa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.loa=void 0;c=a(0);g=a(21);q=a(6);n=a(4);k=a(814);d=function(a){function b(b,c){var f;f=a.call(this)||this;f.W=b;f.OB=c;f.Pya=new g.Fl();f.Pya.addListener(f.W,"underflow",function(){return f.wk();});return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{Qc:{get:function(){var a,b;return null!==(b=null===(a=this.oj)||void 0===a?void 0:a.vea())&&void 0!==b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qb:{get:function(){var a;return null===(a=this.oj)||void 0===a?void 0:a.qb;},enumerable:!1,configurable:!0}});b.prototype.aQ=function(b){a.prototype.aQ.call(this,b);this.oj&&this.oj.pja(b);};b.prototype.reset=function(){var b;a.prototype.reset.call(this);null===(b=this.oj)||void 0===b?void 0:b.reset();};b.prototype.qF=function(){var a;null===(a=this.oj)||void 0===a?void 0:a.qF();};b.prototype.pause=function(b){this.pI(b);a.prototype.pause.call(this,null!==b&&void 0!==b?b:this.OB);};b.prototype.resume=function(b){var c;null===(c=this.oj)||void 0===c?void 0:c.resume(b);a.prototype.resume.call(this,null!==b&&void 0!==b?b:this.OB);};b.prototype.av=function(){var b;a.prototype.av.call(this);null===(b=this.oj)||void 0===b?void 0:b.av();};b.prototype.Bn=function(){this.oj&&this.zca(this.oj.qb);this.Pya.clear();a.prototype.Bn.call(this);};b.prototype.lN=function(){var b;b=this.W.Gc;void 0===b&&(b=a.prototype.lN.call(this));return b;};b.prototype.zca=function(a){var b;q.assert(a===this.qb);null===(b=this.oj)||void 0===b?void 0:b.Bn();this.oj=void 0;};b.prototype.TV=function(b,c){if(c=a.prototype.TV.call(this,b,c))this.oj=new k.voa(b,this,new n.Console(),b.config,this.events,this.OB),this.pI(this.wH);return c;};b.prototype.lda=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c=this.oj;q.assert(c);a.forEach(function(a){return c.lib(a);});};b.prototype.wk=function(){var a,b;q.assert(this.qb);b=this.uv(this.Eo);q.assert(b);null===(a=this.oj)||void 0===a?void 0:a.wk();this.qb.wk(b);};b.prototype.sea=function(){var a;return null===(a=this.oj)||void 0===a?void 0:a.sea();};b.prototype.pI=function(a){var b;null===(b=this.oj)||void 0===b?void 0:b.pI(a);};b.prototype.bna=function(b){q.assert(this.qb&&this.oj);return a.prototype.bna.call(this,b);};return b;}(a(381).a7);b.loa=d;},function(d,b,a){var g,q;function c(a){this.K=a;this.RK();}g=a(7);q=a(4);new q.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.Yc();q.storage.set("nh",a);};c.prototype.xEb=function(){this.mA||(this.mA=!0,this.Et=q.time.ea());};c.prototype.IEb=function(){var a;if(this.mA){a=q.time.ea();this.Kt+=a-this.Et;this.Et=a;this.mA=!1;this.QK=null;}};c.prototype.SJa=function(a,b){this.mA&&(b>this.Et&&(this.Kt+=b-this.Et,this.Et=b),null===this.QK||a>this.QK)&&(a=b-a,this.tE.push([this.Kt-a,a]),this.V7a(),this.QK=b);};c.prototype.V7a=function(){var a;a=this.Kt-this.K.$ub;this.tE=this.tE.filter(function(b){return b[0]>a;});};c.prototype.RK=function(){var a;a=q.storage.get("nh");this.h$(a)||(this.Et=q.time.ea(),this.Kt=0,this.mA=!1,this.QK=null,this.tE=[]);};c.prototype.h$=function(a){if(!(a&&g.has(a,"t")&&g.has(a,"s")&&g.has(a,"i")&&g.la(a.t)&&g.la(a.s)&&g.isArray(a.i)))return!1;this.Et=q.time.ija(1E3*a.t);this.Kt=1E3*a.s;this.mA=!1;this.tE=a.i.map(function(a){return[1E3*a[0],a[1]];});this.QK=null;return!0;};c.prototype.Yc=function(){return this.mA?{t:q.time.now()/1E3|0,s:(this.Kt+(q.time.ea()-this.Et))/1E3|0,i:this.tE.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:q.time.Lia(this.Et)/1E3|0,s:this.Kt/1E3|0,i:this.tE.map(function(a){return[a[0]/1E3|0,a[1]];})};};d.P=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.gra=void 0;c=a(0);g=a(49);d=function(){function a(a){this.G=a;}a.prototype.nwb=function(a){var b;b=this;return 0<a.length?c.__spread(a).sort(g.FDa(function(a){return b.v3a(a);})).some(function(a){return a.arb();}):!1;};a.prototype.v3a=function(a){return a.V1.Mb(a.Eo).va;};return a;}();b.gra=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var h,f,t,m,r,u,J;function c(a){var b,f,d;a=a.parent;b=!1;if(a&&a.children){f={};f[u.Uj]=[];f[u.gj]=[];f[u.TEMPORARY]=[];d=a.children;d.forEach(function(a){a&&f[a.fe].push(a);});0<f[u.Uj].length||(f[u.gj].length===d.length?a.fe!==u.gj&&(a.fe=u.gj,r.error("PERM failing :",t.ng.name[a.cB]+" "+a.id),b=!0):(a.fe===u.Uj&&(a.fe=u.TEMPORARY,r.error("TEMP failing :",t.ng.name[a.cB]+" "+a.id),b=!0),f[u.TEMPORARY].forEach(function(a){a.fe=u.Uj;})),b&&c(a));}}function g(a){var c;for(var b=[];a;a=a.parent)switch(a.cB){case t.ng.Hz:c=a;b.unshift(c.id+"("+c.name+")");break;case t.ng.osa:b.unshift(a.id);break;case t.ng.URL:b.unshift("<url for "+a.stream.O+">");}return b.length?"/"+b.join("/"):"";}function q(a){var b;if((a=a.parent)&&0<a.children.length&&a.fe!==u.Uj){b={};b[u.Uj]=[];b[u.gj]=[];b[u.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.fe].push(a);});0<b[u.Uj].length&&(a.fe=u.Uj,q(a));}}function n(a){return a.fe!==u.Uj;}function k(a){switch(a.fe){case u.Uj:return"OK";case u.gj:return"FAILED PERMANENTLY";case u.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function p(a,b){if(a.fe===u.TEMPORARY||a.fe===u.gj&&b)a.fe=u.Uj;a.children&&a.children.forEach(function(a){a&&p(a,b);});}Object.defineProperty(b,"__esModule",{value:!0});b.FS=void 0;h=a(0);f=a(7);d=a(21);t=a(18);m=a(4);r=new m.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Uj=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.gj=2]="PERMANENT";}(u||(u={})));(function(a){a[a.ht=0]="STARTUP";a[a.w1a=1]="REBUFFER";}(J||(J={})));a=function(a){var p7e;p7e=2;while(p7e!==25){switch(p7e){case 10:b.prototype.ql=function(a){var z2e,b;z2e=2;while(z2e!==5){switch(z2e){case 2:null===(b=this.S5a)||void 0===b?void 0:b.call(this,a);z2e=5;break;}}};b.prototype.wk=function(){var w2e;w2e=2;while(w2e!==1){switch(w2e){case 2:this.YAb(J.w1a);w2e=1;break;case 4:this.YAb(J.w1a);w2e=4;break;w2e=1;break;}}};b.prototype.close=function(){var y2e;y2e=2;while(y2e!==1){switch(y2e){case 2:this.config.zsb&&this.sxb();y2e=1;break;}}};b.prototype.cPa=function(a){var c2e,b;c2e=2;while(c2e!==4){switch(c2e){case 2:b=this;a.streams.forEach(function(a){var W2e,c,d,h,m1z;W2e=2;while(W2e!==13){m1z="n";m1z+="o";m1z+="n";m1z+="e";m1z+="-";switch(W2e){case 4:W2e=f.X(d)?3:7;break;case 2:c=a.downloadable_id;d=b.dc[c];W2e=4;break;case 3:h=a.content_profile;d={id:c,O:a.bitrate,uc:a.vmaf,type:a.type,profile:h,clear:0===h.indexOf(m1z),Jn:!0,me:[],WQ:{},lm:[]};W2e=8;break;case 7:a.urls.forEach(function(a){var B2e,c,h,g;B2e=2;while(B2e!==11){switch(B2e){case 3:g=a.location;h={id:c,cB:t.ng.URL,fe:u.Uj,qs:void 0,parent:a,children:[],url:c,qc:a,stream:d};b.me[c]=h;B2e=7;break;case 4:B2e=f.X(h)&&(a=b.Bq[a.cdn_id])?3:11;break;case 7:a.children.push(h);d.me.push(h);0===d.lm.filter(function(a){var T2e;T2e=2;while(T2e!==1){switch(T2e){case 2:return a.id===g.id;break;case 4:return a.id!==g.id;break;T2e=1;break;}}}).length&&d.lm.push(g);g.dc[d.id]=d;B2e=12;break;case 12:(c=d.WQ[g.id])?c.push(h):d.WQ[g.id]=[h];B2e=11;break;case 2:c=a.url;h=b.me[c];B2e=4;break;}}});f.Ud(d.WQ,function(a){var R2e;R2e=2;while(R2e!==1){switch(R2e){case 2:a.sort(function(a,b){var Y2e;Y2e=2;while(Y2e!==1){switch(Y2e){case 4:return a.qc.Sf+b.qc.Sf;break;Y2e=1;break;case 2:return a.qc.Sf-b.qc.Sf;break;}}});R2e=1;break;}}});d.lm=d.lm.sort(function(a,b){var V2e;V2e=2;while(V2e!==1){switch(V2e){case 2:return a.level-b.level||a.Sf-b.Sf;break;}}});W2e=13;break;case 8:b.dc[d.id]=d;W2e=7;break;}}});c2e=4;break;}}};p7e=17;break;case 3:b.prototype.jRa=function(a){var s2e;s2e=2;while(s2e!==5){switch(s2e){case 1:return a.parent.id;break;case 2:s2e=(a=this.me[a])&&a.parent?1:5;break;}}};b.prototype.e_=function(a){var F2e;F2e=2;while(F2e!==5){switch(F2e){case 2:F2e=(a=this.me[a])&&a.qc?1:5;break;case 1:return a.qc.location;break;}}};b.prototype.xSa=function(a){var v2e;v2e=2;while(v2e!==5){switch(v2e){case 2:v2e=(a=this.me[a])?1:5;break;case 1:return a.stream;break;}}};b.prototype.Bja=function(a){var g2e,b;g2e=2;while(g2e!==10){switch(g2e){case 2:b=this;a.locations.forEach(function(a){var C2e,c,f,d,h;C2e=2;while(C2e!==14){switch(C2e){case 2:c=a.key;C2e=5;break;case 5:C2e=!b.lm[c]?4:14;break;case 4:f=[];d=b.Cf.get(c);h=b.qm;a={id:c,cB:t.ng.osa,fe:u.Uj,Sf:a.rank,level:a.level,weight:a.weight,qs:void 0,parent:h,children:f,Bq:f,dc:{},lb:d};b.lm[a.id]=a;C2e=6;break;case 6:h.children.push(a);C2e=14;break;}}});this.JU=m.time.ea();this.gv.sort(function(a,b){var m2e;m2e=2;while(m2e!==1){switch(m2e){case 2:return a.level-b.level||a.Sf-b.Sf;break;}}});a.servers.forEach(function(a){var d2e,c,f,d;d2e=2;while(d2e!==14){switch(d2e){case 4:f=b.lm[a.key];d2e=3;break;case 2:c=a.id;d2e=5;break;case 3:d2e=f?9:14;break;case 5:d2e=!b.Bq[c]?4:14;break;case 9:d=[];a={id:c,cB:t.ng.Hz,fe:u.Uj,qs:void 0,parent:f,children:d,me:d,name:a.name,type:a.type,Sf:a.rank,location:f};b.Bq[a.id]=a;f.children.push(a);d2e=14;break;}}});a.audio_tracks.forEach(function(a){var q2e;q2e=2;while(q2e!==1){switch(q2e){case 2:b.cPa(a);q2e=1;break;case 4:b.cPa(a);q2e=4;break;q2e=1;break;}}});g2e=7;break;case 7:a.video_tracks.forEach(function(a){var o2e;o2e=2;while(o2e!==1){switch(o2e){case 4:b.cPa(a);o2e=2;break;o2e=1;break;case 2:b.cPa(a);o2e=1;break;}}});a=this.gv.filter(function(a){var A2e,c;A2e=2;while(A2e!==3){switch(A2e){case 2:c=a.Bq.every(function(a){var k2e,l2e;k2e=2;while(k2e!==1){switch(k2e){case 4:i4YY.W1z(0);l2e=i4YY.Z8z(17,203,15,11,16);return l2e!==a.me.length;break;k2e=1;break;case 2:return 0===a.me.length;break;}}});c&&(a.Bq.forEach(function(a){var h2e;h2e=2;while(h2e!==1){switch(h2e){case 2:b.Bq[a.id]=void 0;h2e=1;break;}}}),b.lm[a.id]=void 0,a.parent=void 0,a.children.length=0,a.dc={});A2e=4;break;case 4:return!c;break;}}});a.forEach(function(a){var U2e;U2e=2;while(U2e!==1){switch(U2e){case 2:a.Bq.sort(function(a,b){var K2e;K2e=2;while(K2e!==1){switch(K2e){case 4:return a.Sf*b.Sf;break;K2e=1;break;case 2:return a.Sf-b.Sf;break;}}});U2e=1;break;}}});this.gv=a;this.qm.children=a;this.dump();g2e=10;break;}}};p7e=6;break;case 2:h.__extends(b,a);b.prototype.unb=function(){var Z7e;Z7e=2;while(Z7e!==1){switch(Z7e){case 4:return this.gv[2].lb;break;Z7e=1;break;case 2:return this.gv[0].lb;break;}}};b.prototype.Tea=function(){var E2e;E2e=2;while(E2e!==1){switch(E2e){case 4:return this.gv;break;E2e=1;break;case 2:return this.gv;break;}}};b.prototype.Cx=function(){var x2e;x2e=2;while(x2e!==1){switch(x2e){case 2:return n(this.qm);break;case 4:return n(this.qm);break;x2e=1;break;}}};p7e=3;break;case 17:b.prototype.YGb=function(){var f2e,a,b,c,d;f2e=2;while(f2e!==10){switch(f2e){case 2:a=this;b=this.config;c=this.gv.filter(function(a){var L2e;L2e=2;while(L2e!==1){switch(L2e){case 4:return+n(a)||1===a.level;break;L2e=1;break;case 2:return!n(a)&&0!==a.level;break;}}});f2e=3;break;case 3:f2e=0===c.length?9:8;break;case 9:return null;break;case 8:d=m.time.ea();f2e=7;break;case 7:f2e=null===this.JU||this.JU+b.Cha<d?6:14;break;case 6:c.forEach(function(b){var e2e;e2e=2;while(e2e!==1){switch(e2e){case 2:b.id!==a.ub.location&&(b.lb=a.Cf.get(b.id));e2e=1;break;}}}),this.JU=d;f2e=14;break;case 14:b=this.$H;c.sort(function(a,b){var P2e;P2e=2;while(P2e!==1){switch(P2e){case 2:return a.level-b.level||a.Sf-b.Sf;break;}}});this.Yr||f.Ma(b)||(this.Yr=!0);return c;break;}}};b.prototype.YAb=function(a){var j2e,b;j2e=2;while(j2e!==9){switch(j2e){case 2:b=this.ub.location;this.Yr=!1;this.Tyb=a;j2e=3;break;case 3:this.gv.forEach(function(a){var u2e;u2e=2;while(u2e!==1){switch(u2e){case 2:a.id!==b&&a.lb&&a.lb.Fd>t.Le.lz&&(a.lb.Fd=t.Le.lz);u2e=1;break;}}});j2e=9;break;}}};b.prototype.sxb=function(){var H2e,a;H2e=2;while(H2e!==4){switch(H2e){case 2:a=this;this.M_||this.gv.forEach(function(b){var Q2e;Q2e=2;while(Q2e!==1){switch(Q2e){case 2:b.fe===u.TEMPORARY&&a.Cf.fail(b.id,m.time.ea());Q2e=1;break;}}});H2e=4;break;}}};b.prototype.dump=function(){};p7e=26;break;case 6:b.prototype.UQ=function(a,b){var S2e,c,d,h,g,k,l,j1z,b1z,w1z,V1z;S2e=2;while(S2e!==15){j1z="(empty st";j1z+="r";j1z+="eam";j1z+=" list";j1z+=")";b1z="Did not find a URL f";b1z+="o";b1z+="r ANY stream...";w1z="network";w1z+="Fa";w1z+="i";w1z+="led";V1z="Network h";V1z+="as failed, not u";V1z+="pdating stream selection";switch(S2e){case 11:S2e=!this.ZH?10:20;break;case 8:S2e=n(this.qm)?7:6;break;case 6:k=t.Le.lz;d.KO&&(k=t.Le.kz);this.ub.location&&h.Fd>=k&&(a=this.lm[this.ub.location])&&(a.lb=h);S2e=12;break;case 5:d=this.config;h=this.ub.get();g=0;m.px&&m.px(a);S2e=8;break;case 18:return this.fp(t.ng.$s,!1),!1;break;case 10:return this.fp(t.ng.$s,!1),!1;break;case 20:l=this.ZH;S2e=19;break;case 12:f.Ma(this.ZH)&&(this.ZH=this.YGb());S2e=11;break;case 17:b.forEach(function(a,b){var b2e,p,p1z,r1z,P1z,h1z;b2e=2;while(b2e!==4){p1z=" ";p1z+="Kb";p1z+="p";p1z+="s";p1z+=")";r1z=" ";r1z+="(";P1z="]";P1z+=" ";h1z="Fai";h1z+="ling stre";h1z+="am [";switch(b2e){case 2:p=a.id;l.some(function(b){var D2e,c,g;D2e=2;while(D2e!==7){switch(D2e){case 2:c=b.dc[p];D2e=5;break;case 5:D2e=!c?4:3;break;case 3:g=c.lm[0];void 0===a.B0&&(a.B0=g.id,a.gka=c.WQ[g.id][0].qc.id);return c.WQ[b.id].some(function(c){var a2e,p,J1z,l1z,S1z,G1z;a2e=2;while(a2e!==11){J1z="l";J1z+="ocation";J1z+="failover";l1z="s";l1z+="er";l1z+="verfailo";l1z+="ver";S1z="p";S1z+="er";S1z+="for";S1z+="man";S1z+="ce";G1z="u";G1z+="nk";G1z+="n";G1z+="own";switch(a2e){case 3:return!1;break;case 5:return c.qc.fe===u.TEMPORARY&&(a.fe=u.TEMPORARY),d.tq&&a.qc===c.qc.id&&c.qc.qs&&(a.qs=c.qc.qs),!1;break;case 2:a2e=1;break;case 9:p=G1z;a.location!==b.id&&(d.tq?a.Zga=b.id===g.id:p=b!==l[0]?""+t.Fg.Z2:void 0===a.location?""+t.Fg.ht:f.X(a.JKa)||a.JKa===b.id?f.X(a.KKa)||a.KKa===c.qc.id?S1z:l1z:J1z,a.location=b.id,a.Dha=b.level,a.mp=p);a2e=7;break;case 1:a2e=n(c.qc)?5:4;break;case 4:a2e=n(c)?3:9;break;case 7:a.url=c.url;a2e=6;break;case 6:a.qc=c.qc.id;a.xC=c.qc.name;a.lb=d.Faa?b.lb.Fd>=t.Le.kz||h.Fd<k?b.lb:h:h.Fd===t.Le.HAVE_NOTHING||b.lb.Fd>=t.Le.kz?b.lb:h;a2e=12;break;case 12:return!0;break;}}});break;case 4:return!1;break;}}})?(a.Gu=!1,a.fe=void 0,a.Jn&&++g):a.fe&&a.fe===u.TEMPORARY?c.qm.fe=u.TEMPORARY:a.Gu||(r.warn(h1z+b+P1z+p+r1z+a.O+p1z),a.Tbb(),a.Gu=!0);b2e=4;break;}}});return n(this.qm)?(r.warn(V1z),this.M_=!0,this.emit(w1z,this.qm.fe===u.gj),!1):g?!0:(r.warn(b1z+(b.length?"":j1z)),this.fp(t.ng.$s,!0),!1);break;case 19:S2e=!l.length?18:17;break;case 7:return!1;break;case 2:c=this;S2e=5;break;}}};b.prototype.NCb=function(a,b){var X2e,c,d;X2e=2;while(X2e!==9){switch(X2e){case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;f.forEach(this.me,function(h,g){var O2e,k,l,p,n,E1z,u1z,N2e;O2e=2;while(O2e!==13){E1z="8";E1z+="0";u1z="4";u1z+="4";u1z+="3";switch(O2e){case 6:l.length||(l=p?u1z:E1z);f.Jd(n)&&f.Jd(l)&&n===a&&l==b&&(k?k.push(g):c[h]=[g]);O2e=13;break;case 2:h=h.parent?h.parent.id:"";k=c[h];l=g.match(d);O2e=3;break;case 3:O2e=l&&4===l.length?9:13;break;case 9:i4YY.W1z(1);N2e=i4YY.Z8z(14,3,12);p="s"===l[N2e];n=l[2];l=l[3];O2e=6;break;}}});return c;break;}}};b.prototype.fp=function(a,b,f,d){var J2e,h,l,p,i2e,K1z,f1z,z1z,n1z,U1z,T1z,v1z,i1z,R1z;J2e=2;while(J2e!==25){K1z="Unable to find failure enti";K1z+="ty for ";K1z+="URL ";f1z=" ";f1z+=": ";f1z+="w";f1z+="as ";z1z=" ";z1z+="a";z1z+="t";z1z+=" ";n1z=" f";n1z+="ai";n1z+="l";n1z+="ure reported ";n1z+="for ";U1z="T";U1z+="E";U1z+="M";U1z+="P";T1z="P";T1z+="E";T1z+="R";T1z+="M";v1z="ne";v1z+="two";v1z+="r";v1z+="kFa";v1z+="iled";i1z="Emit";i1z+="ting networkFailed,";i1z+=" per";i1z+="manent =";R1z="Inv";R1z+="ali";R1z+="d failu";R1z+="r";R1z+="e state";switch(J2e){case 27:throw Error(R1z);J2e=14;break;case 2:h=a!==t.ng.$s&&f?this.me[f]:this.qm,l=this.qm.fe,p=b?u.gj:u.TEMPORARY;J2e=1;break;case 4:J2e=h?3:26;break;case 6:J2e=i2e===u.TEMPORARY?14:16;break;case 8:i2e=h.fe;J2e=i2e===u.gj?7:6;break;case 10:a>l&&(r.warn(i1z,a===u.gj),this.emit(v1z,a===u.gj));this.ZH=null;this.$H=t.Fg.ERROR;J2e=18;break;case 7:return;break;case 16:J2e=i2e===u.Uj?14:15;break;case 15:J2e=27;break;case 9:r.warn((b?T1z:U1z)+n1z+t.ng.name[a]+z1z+g(h)+f1z+k(h));J2e=8;break;case 26:i4YY.H1z(2);r.warn(i4YY.Z8z(K1z,f));J2e=25;break;case 5:h=h.parent;J2e=1;break;case 18:d&&(this.$H=t.Fg.i1a,h.qs=d);this.dump();J2e=25;break;case 14:h.fe=p;c(h);this.M_=this.M_||n(this.qm);a=this.qm.fe;J2e=10;break;case 3:J2e=p!==h.fe?9:25;break;case 1:J2e=h&&h.parent&&h.cB!==a?5:4;break;}}};b.prototype.tQa=function(a,b){var G2e;G2e=2;while(G2e!==3){switch(G2e){case 1:p(a,b),q(a);G2e=5;break;case 5:this.ZH=null;G2e=4;break;case 2:G2e=(a=this.Bq[a])?1:5;break;case 7:p(a,b),q(a);G2e=6;break;G2e=5;break;case 4:this.$H=t.Fg.s6;G2e=3;break;case 14:this.$H=t.Fg.s6;G2e=1;break;G2e=3;break;}}};b.prototype.HP=function(a){var I2e;I2e=2;while(I2e!==1){switch(I2e){case 2:p(this.qm,a);I2e=1;break;case 4:p(this.qm,a);I2e=7;break;I2e=1;break;}}};p7e=10;break;case 26:return b;break;}}function b(b,c,f,d,h){var M7e,g,A1z,o1z;M7e=2;while(M7e!==26){A1z="1SIY";A1z+="bZrN";A1z+="J";A1z+="Cp9";o1z="n";o1z+="et";o1z+="w";o1z+="o";o1z+="rk";switch(M7e){case 11:g.gv=[];g.M_=!1;g.qm={id:o1z,cB:t.ng.$s,fe:u.Uj,qs:void 0,parent:void 0,children:g.gv};g.JU=null;M7e=18;break;case 4:g.Cf=f;g.config=d;M7e=9;break;case 27:return g;break;case 2:g=a.call(this)||this;g.ub=c;M7e=4;break;case 9:g.S5a=h;g.Tyb=J.ht;g.Yr=void 0;M7e=6;break;case 6:g.lm={};g.Bq={};g.me={};g.dc={};M7e=11;break;case 18:g.ZH=null;g.$H=t.Fg.ht;g.Bja(b);A1z;M7e=27;break;}}}}(d.EventEmitter);b.FS=a;},function(d){var b,a,c;b=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;c=Object.prototype.propertyIsEnumerable;d.P=function(){var a,c;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0;}catch(k){return!1;}}()?Object.assign:function(d,g){var l,k;if(null===d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");k=Object(d);for(var p,h=1;h<arguments.length;h++){l=Object(arguments[h]);for(var f in l)a.call(l,f)&&(k[f]=l[f]);if(b){p=b(l);for(var q=0;q<p.length;q++)c.call(l,p[q])&&(k[p[q]]=l[p[q]]);}}return k;};},function(d,b,a){(function(b){var H,U,R,aa,Q,y,T,A;function c(a,b){if(a===b)return 0;for(var c=a.length,f=b.length,d=0,h=Math.min(c,f);d<h;++d)if(a[d]!==b[d]){c=a[d];f=b[d];break;}return c<f?-1:f<c?1:0;}function g(a){return b.Noa&&"function"===typeof b.Noa.isBuffer?b.Noa.isBuffer(a):!(null==a||!a.gQb);}function n(a){return g(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function k(a){if(U.Tb(a))return Q?a.name:(a=a.toString().match(T))&&a[1];}function p(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function h(a){if(Q||!U.Tb(a))return U.RN(a);a=k(a);return"[Function"+(a?": "+a:"")+"]";}function f(a,b,c,f,d){throw new y.AssertionError({message:c,aF:a,Up:b,tH:f,nEb:d});}function t(a,b){a||f(a,!0,b,"==",y.ok);}function m(a,b,f,d){var h;if(a===b)return!0;if(g(a)&&g(b))return 0===c(a,b);if(U.BZ(a)&&U.BZ(b))return a.getTime()===b.getTime();if(U.mKa(a)&&U.mKa(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!n(a)||!n(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(g(a)!==g(b))return!1;d=d||{aF:[],Up:[]};h=d.aF.indexOf(a);if(-1!==h&&h===d.Up.indexOf(b))return!0;d.aF.push(a);d.Up.push(b);return r(a,b,f,d);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return f?a===b:a==b;}function r(a,b,c,f){var d,h,g;if(null===a||void 0===a||null===b||void 0===b)return!1;if(U.iKa(a)||U.iKa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;d="[object Arguments]"==Object.prototype.toString.call(a);h="[object Arguments]"==Object.prototype.toString.call(b);if(d&&!h||!d&&h)return!1;if(d)return a=aa.call(a),b=aa.call(b),m(a,b,c);d=A(a);g=A(b);if(d.length!==g.length)return!1;d.sort();g.sort();for(h=d.length-1;0<=h;h--)if(d[h]!==g[h])return!1;for(h=d.length-1;0<=h;h--)if(g=d[h],!m(a[g],b[g],c,f))return!1;return!0;}function u(a,b,c){m(a,b,!0)&&f(a,b,c,"notDeepStrictEqual",u);}function J(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(ka){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function F(a,b,c,d){var h,g,k;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(d=c,c=null);try{b();}catch(P){h=P;}b=h;d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:".");a&&!b&&f(b,c,"Missing expected exception"+d);h="string"===typeof d;g=!a&&U.UN(b);k=!a&&b&&!c;(g&&h&&J(b,c)||k)&&f(b,c,"Got unwanted exception"+d);if(a&&b&&c&&!J(b,c)||!a&&b)throw b;}function L(a,b){a||f(a,!0,b,"==",L);}H=a(820);U=a(468);R=Object.prototype.hasOwnProperty;aa=Array.prototype.slice;Q=function(){return"foo"===function(){}.name;}();y=d.P=t;T=/\s*function\s+([^\(\s]*)\s*/;y.AssertionError=function(a){var b;this.name="AssertionError";this.aF=a.aF;this.Up=a.Up;this.tH=a.tH;this.message=a.message?a.message:p(h(this.aF))+" "+this.tH+" "+p(h(this.Up));b=a.nEb||f;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=k(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};U.Fpb(y.AssertionError,Error);y.fail=f;y.ok=t;y.equal=function(a,b,c){a!=b&&f(a,b,c,"==",y.equal);};y.mH=function(a,b,c){a==b&&f(a,b,c,"!=",y.mH);};y.EEa=function(a,b,c){m(a,b,!1)||f(a,b,c,"deepEqual",y.EEa);};y.FEa=function(a,b,c){m(a,b,!0)||f(a,b,c,"deepStrictEqual",y.FEa);};y.aNa=function(a,b,c){m(a,b,!1)&&f(a,b,c,"notDeepEqual",y.aNa);};y.nvb=u;y.ySa=function(a,b,c){a!==b&&f(a,b,c,"===",y.ySa);};y.bNa=function(a,b,c){a===b&&f(a,b,c,"!==",y.bNa);};y["throws"]=function(a,b,c){F(!0,a,b,c);};y.SRb=function(a,b,c){F(!1,a,b,c);};y.$Sb=function(a){if(a)throw a;};y.zma=H(L,y,{equal:y.ySa,EEa:y.FEa,mH:y.bNa,aNa:y.nvb});y.zma.zma=y.zma;A=Object.keys||function(a){var b,c;b=[];for(c in a)R.call(a,c)&&b.push(c);return b;};}.call(this,a(143)));},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gpa=void 0;c=a(388);d=function(){var Q1z;function a(){var F1z,t1z;F1z=2;while(F1z!==5){t1z="1SI";t1z+="Yb";t1z+="Z";t1z+="rNJCp9";switch(F1z){case 2:this.YU={};t1z;F1z=5;break;}}}Q1z=2;while(Q1z!==9){switch(Q1z){case 3:return a;break;case 2:a.prototype.add=function(a,b,d,g){var k1z,h;k1z=2;while(k1z!==3){switch(k1z){case 4:h[g].add(a,b,d);k1z=3;break;case 2:h=this.YU;void 0===h[g]&&(h[g]=new c());k1z=4;break;}}};a.prototype.start=function(a,b){var I1z,d;I1z=2;while(I1z!==3){switch(I1z){case 2:d=this.YU;void 0===d[b]&&(d[b]=new c());d[b].start(a);I1z=3;break;}}};a.prototype.stop=function(a,b){var c1z,c;c1z=2;while(c1z!==4){switch(c1z){case 2:c=this.YU;void 0!==c[b]&&c[b].stop(a);c1z=4;break;}}};a.prototype.get=function(){var g1z,a,b,c,d,h,f;g1z=2;while(g1z!==6){switch(g1z){case 7:return c;break;case 1:a=this.YU,b=Object.keys(a),c=[],d=0;g1z=5;break;case 2:g1z=1;break;case 5:g1z=d<b.length?4:7;break;case 4:h=b[d];f=a[h].get();f&&c.push({cdnid:h,avtp:f.Ca,tm:f.ZW});g1z=8;break;case 8:d++;g1z=5;break;}}};Q1z=3;break;}}}();b.gpa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Hqa=void 0;c=a(822);new(a(4)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");d=function(){var q1z;q1z=2;while(q1z!==7){switch(q1z){case 3:a.prototype.hm=function(){var D1z;D1z=2;while(D1z!==1){switch(D1z){case 2:return this.Oy.get();break;case 4:return this.Oy.get();break;D1z=1;break;}}};a.prototype.TTa=function(a){var s1z,b,c;s1z=2;while(s1z!==3){switch(s1z){case 2:b=Object.keys(this.wu);c=this.wu[b[0]];1===b.length&&!1===c.CX?(this.Oy.start(a,c.ee),this.xL=c.ee):1<b.length&&this.xL&&(b=this.wu[this.xL],this.Oy.stop(a,this.xL),b.CX=!1,this.xL=void 0);s1z=3;break;}}};return a;break;case 2:a.prototype.reset=function(){var y1z;y1z=2;while(y1z!==1){switch(y1z){case 2:this.Oy=new c.gpa();y1z=1;break;case 4:this.Oy=new c.gpa();y1z=8;break;y1z=1;break;}}};a.prototype.qC=function(a,b){var M1z;M1z=2;while(M1z!==1){switch(M1z){case 2:b.ee&&(this.qga?this.Oy.start(a,b.ee):1===b.type&&(this.wu[b.ee]?this.wu[b.ee].eR+=1:this.wu[b.ee]={ee:b.ee,eR:1,CX:!1},this.TTa(a)));M1z=1;break;}}};a.prototype.sC=function(a,b){var N1z,c;N1z=2;while(N1z!==8){switch(N1z){case 2:N1z=1;break;case 1:N1z=b.ee?5:8;break;case 5:N1z=this.qga?4:3;break;case 4:this.Oy.stop(a,b.ee);N1z=8;break;case 3:c=this.wu[b.ee];1===b.type&&c&&(--c.eR,0===c.eR&&(c.CX&&this.Oy.stop(a,b.ee),c.CX=!1,delete this.wu[b.ee]),this.TTa(a));N1z=8;break;}}};a.prototype.Yw=function(a,b,c,d){var e1z;e1z=2;while(e1z!==1){switch(e1z){case 2:d.ee&&(this.qga?this.Oy.add(a,b,c,d.ee):this.xL===d.ee&&this.Oy.add(a,b,c,d.ee));e1z=1;break;}}};q1z=3;break;}}function a(a){var L1z,X1z;L1z=2;while(L1z!==4){X1z="1";X1z+="S";X1z+="IYbZrNJCp9";switch(L1z){case 2:this.qga=a;this.wu={};X1z;L1z=4;break;}}}}();b.Hqa=d;},function(d,b,a){var g;function c(a){var b,c;b=a.sw;c=a.mw;this.XE=b;this.v8={uhd:a.uhdl,hd:a.hdl};this.ji=Math.max(Math.ceil(1*b/c),1);this.A5a=a.mins||1;g.call(this,b,c);this.reset();}g=a(160);new(a(4)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.Uc.map(function(a,b){this.qBa(a,this.nea(b));},this);};c.prototype.Mab=function(){var a,b,c,d,h,f,g,u;a=this.v8;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.r$[b];h=this.q$[b];if(d.first){f=d.first;g=d.jC;void 0!==g&&(h[f][g]+=1);d.first=void 0;}for(var d=[],f=0,c=g=c.length+1,l=0;l<g;l++){for(var m=0,r=0;r<c;r++)m+=h[r][l];f+=m;d.push(m);}m=-1;if(f>this.A5a){for(l=m=0;l<g;l++)if(0<d[l])for(r=0;r<c;r++){u=h[r][l];0<u&&(m-=u*Math.log(1*u/d[l]));}m/=f*Math.log(2);}this.W8[b]=m;}return this.W8;};c.prototype.qBa=function(a,b){var c,f,g;for(var c=this.ji,d=this.v8;this.nU.length>=c;)this.nU.shift();for(;this.oU.length>=c;)this.oU.shift();this.nU.push(a);this.oU.push(b);a=this.nU.reduce(function(a,b){return a+b;},0);b=this.oU.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var h in d)if(d.hasOwnProperty(h)){b=this.r$[h];c=this.q$[h];f=this.pzb(a,d[h]);g=b.jC;void 0!==g?c[f][g]+=1:b.first=f;b.jC=f;}}};c.prototype.pzb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};c.prototype.shift=function(){this.qBa(this.Uc[0],this.nea(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.r$={};this.nU=[];this.oU=[];this.q$={};this.W8={};a=this.v8;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.q$,d=b,h,f=void 0,l=Array(f),f=h=a[b].length+1,m=0;m<f;m++){l[m]=Array(h);for(var r=0;r<h;r++)l[m][r]=0;}c[d]=l;this.r$[b]={first:void 0,jC:void 0};this.W8[b]=0;}g.prototype.reset.call(this);};d.P=c;},function(d,b,a){var g;function c(){this.gi=void 0;this.Tw=0;}g=a(7);c.prototype.Yc=function(){return 0!==this.Tw&&this.gi?{p25:this.gi.xk,p50:this.gi.Wi,p75:this.gi.yk,c:this.Tw}:null;};c.prototype.Zd=function(a){if(!(!g.Ma(a)&&g.has(a,"p25")&&g.has(a,"p50")&&g.has(a,"p75")&&g.has(a,"c")&&g.isFinite(a.p25)&&g.isFinite(a.p50)&&g.isFinite(a.p75)&&g.isFinite(a.c)))return this.gi=void 0,this.Tw=0,!1;this.gi={xk:a.p25,Wi:a.p50,yk:a.p75};this.Tw=a.c;};c.prototype.get=function(){return{m0:this.gi,jp:this.Tw};};c.prototype.set=function(a,b){this.gi=a;this.Tw=b;};c.prototype.reset=function(){this.gi=void 0;this.Tw=0;};c.prototype.toString=function(){return"IQRHist("+this.gi+","+this.Tw+")";};d.P=c;},function(d,b,a){var g,q,n,k,p,h,f,t,m,r;function c(a){this.X3a=a;}b=a(392);g=b.eYa;q=b.cYa;n=a(218).dYa;k=a(218).J2a;p=a(391);h=a(390);f=a(389).gxa;t=a(825);m=a(824);r=a(388);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,d,l,z;d=this.X3a[a];l=b[a];z={};d&&Object.keys(d).forEach(function(a){z[a]=d[a];});l&&Object.keys(l).forEach(function(a){z[a]=l[a];});switch(z.type){case"slidingwindow":c=new n(z.mw);break;case"discontiguous-ewma":c=new q(z.mw);break;case"wssl":c=new k(z.mw,z.max_n);break;case"iqr":c=new p(z.mx,z.mn,z.bw,z.iv);break;case"tdigest":c=new h(z);break;case"discrete-ewma":c=new g(z.hl);break;case"tdigest-history":c=new f(z);break;case"iqr-history":c=new t(z);break;case"avtp":c=new r();break;case"entropy":c=new m(z);}c&&(c.type=z.type);return c;};d.P=c;},function(d){function b(a){this.jE=a;this.Qd=0;this.QE=null;}b.prototype.add=function(a,b,d){null!==this.QE&&b>this.QE&&(this.Qd+=b-this.QE,this.QE=null);this.jE.add(a,b-this.Qd,d-this.Qd,this.Qd);};b.prototype.stop=function(a){null===this.QE&&(this.QE=a);};b.prototype.aka=function(a,b){return this.jE.aka(a,b);};b.prototype.get=function(){return this.jE.get();};b.prototype.reset=function(){this.jE.reset();};b.prototype.toString=function(){return this.jE.toString();};d.P=b;},function(d){function b(a,b,d){this.YE=a;this.ji=Math.floor((a+b-1)/b);this.Oc=b;this.V6a=d;this.reset();}b.prototype.shift=function(){this.Uc.shift();this.Lg.shift();};b.prototype.update=function(a,b){this.Uc[a]+=b;};b.prototype.push=function(a){this.Uc.push(0);this.Lg.push(a?a:0);this.Qa+=this.Oc;};b.prototype.add=function(a,b,d,g){var c,k;if(null===this.Qa){c=Math.max(Math.floor((d-b+this.Oc-1)/this.Oc),1);for(this.Qa=b;this.Uc.length<c;)this.push(g);}for(;this.Qa<d;)if(this.push(g),this.V6a)for(;1<this.Uc.length&&d+g-(this.Qa-this.Oc*this.Uc.length+this.Lg[0])>this.YE;)this.shift();else this.Uc.length>this.ji&&this.shift();if(b>this.Qa-this.Oc)this.update(this.Uc.length-1,a);else if(b==d)g=this.Uc.length-Math.max(Math.ceil((this.Qa-d)/this.Oc),1),0<=g&&this.update(g,a);else for(g=1;g<=this.Uc.length;++g){c=this.Qa-g*this.Oc;k=c+this.Oc;if(!(c>d)){if(k<b)break;this.update(this.Uc.length-g,Math.round(a*(Math.min(k,d)-Math.max(c,b))/(d-b)));}}for(;this.Uc.length>this.ji;)this.shift();};b.prototype.reset=function(){this.Uc=[];this.Lg=[];this.Qa=null;};b.prototype.setInterval=function(a){this.ji=Math.floor((a+this.Oc-1)/this.Oc);};d.P=b;},function(d,b,a){var q,n,k,p;function c(a,b,c){q.call(this,a,b,c);}function g(a,b){n.call(this,new c(a,b,!1));}q=a(828);n=a(827);k=a(110).Bkb;p=a(110).Vnb;c.prototype=Object.create(q.prototype);c.prototype.Ca=function(){return Math.floor(8*k(this.Uc)/this.Oc);};c.prototype.yh=function(){return Math.floor(64*p(this.Uc)/(this.Oc*this.Oc));};c.prototype.get=function(){return{Ca:this.Ca(),yh:this.yh(),QQb:this.Uc.length};};c.prototype.toString=function(){return"bsw("+this.YE+","+this.Oc+","+this.ji+")";};g.prototype=Object.create(n.prototype);g.prototype.setInterval=function(a){this.jE.setInterval(a);};d.P=g;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;}function g(a){this.Rd=null;this.Sk=a;this.size=0;}b=a(394);c.prototype.bg=function(a){return a?this.right:this.left;};c.prototype.Vn=function(a,b){a?this.right=b:this.left=b;};g.prototype=new b();g.prototype.In=function(a){if(null===this.Rd)return this.Rd=new c(a),this.size++,!0;for(var b=0,d=null,g=this.Rd;;){if(null===g)return g=new c(a),d.Vn(b,g),ret=!0,this.size++,!0;if(0===this.Sk(g.data,a))return!1;b=0>this.Sk(g.data,a);d=g;g=g.bg(b);}};g.prototype.remove=function(a){var b,d,g,l,f;if(null===this.Rd)return!1;b=new c(void 0);d=b;d.right=this.Rd;for(var g=null,h=null,f=1;null!==d.bg(f);){g=d;d=d.bg(f);l=this.Sk(a,d.data);f=0<l;0===l&&(h=d);}return null!==h?(h.data=d.data,g.Vn(g.right===d,d.bg(null===d.left)),this.Rd=b.right,this.size--,!0):!1;};d.P=g;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function g(a){this.Rd=null;this.Sk=a;this.size=0;}function q(a){return null!==a&&a.red;}function n(a,b){var c;c=a.bg(!b);a.Vn(!b,c.bg(b));c.Vn(b,a);a.red=!0;c.red=!1;return c;}function k(a,b){a.Vn(!b,n(a.bg(!b),!b));return n(a,b);}b=a(394);c.prototype.bg=function(a){return a?this.right:this.left;};c.prototype.Vn=function(a,b){a?this.right=b:this.left=b;};g.prototype=new b();g.prototype.In=function(a){var b,f,d,g,l,p,m,r,u;b=!1;if(null===this.Rd)this.Rd=new c(a),b=!0,this.size++;else{f=new c(void 0);d=0;g=0;l=null;p=f;m=null;r=this.Rd;for(p.right=this.Rd;;){null===r?(r=new c(a),m.Vn(d,r),b=!0,this.size++):q(r.left)&&q(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(q(r)&&q(m)){u=p.right===l;r===m.bg(g)?p.Vn(u,n(l,!g)):p.Vn(u,k(l,!g));}u=this.Sk(r.data,a);if(0===u)break;g=d;d=0>u;null!==l&&(p=l);l=m;m=r;r=r.bg(d);}this.Rd=f.right;}this.Rd.red=!1;return b;};g.prototype.remove=function(a){var b,f,m,d,r,p,u;if(null===this.Rd)return!1;b=new c(void 0);f=b;f.right=this.Rd;for(var d=null,g,l=null,p=1;null!==f.bg(p);){m=p;g=d;d=f;f=f.bg(p);r=this.Sk(a,f.data);p=0<r;0===r&&(l=f);if(!q(f)&&!q(f.bg(p)))if(q(f.bg(!p)))g=n(f,p),d.Vn(m,g),d=g;else if(!q(f.bg(!p))&&(r=d.bg(!m),null!==r))if(q(r.bg(!m))||q(r.bg(m))){u=g.right===d;q(r.bg(m))?g.Vn(u,k(d,m)):q(r.bg(!m))&&g.Vn(u,n(d,m));m=g.bg(u);m.red=!0;f.red=!0;m.left.red=!1;m.right.red=!1;}else d.red=!1,r.red=!0,f.red=!0;}null!==l&&(l.data=f.data,d.Vn(d.right===f,f.bg(null===f.left)),this.size--);this.Rd=b.right;null!==this.Rd&&(this.Rd.red=!1);return null!==l;};d.P=g;},function(d,b,a){d.P={v1a:a(831),XJb:a(830)};},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.rra=void 0;c=a(0);g=a(165);q=a(395);n=a(17);k=a(4);d=a(83);p=a(385);h=a(6);a=function(a){function b(b,c,f,d,h,g,k,l,p,n,q){var t;t=a.call(this,b)||this;t.Vc=b;t.G=c;t.K=f;t.ql=d;t.wY=h;t.Zp=g;t.AZ=k;t.Mf=l;t.xAa=p;t.Rf=n;t.pza=[void 0,void 0];t.B$=[];t.HK=null!==q&&void 0!==q?q:{gr:[Object.create(null),Object.create(null)]};return t;}c.__extends(b,a);Object.defineProperties(b.prototype,{gr:{get:function(){return this.HK.gr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ew:{get:function(){return this.HK.Ew;},set:function(a){this.HK.Ew=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kE:{get:function(){return this.HK.kE;},set:function(a){this.HK.kE=a;},enumerable:!1,configurable:!0}});b.prototype.wc=function(){var a;a=this;this.gr.forEach(function(b,c){for(var f in b)b[f].wc(),a.wca(c,f);});};b.prototype.Ri=function(a,b){return this.gr[a][b];};b.prototype.TY=function(){return!(!this.Ew||!this.Ew.length);};b.prototype.jba=function(){this.Ew=void 0;};b.prototype.z1=function(a){this.Ew=a;};b.prototype.Wha=function(){var a,b;if(this.TY()&&!this.kE)for(g.Bl.Gn(1);0<this.Ew.length;){a=this.Ew.shift();b=this.Vc.Rr(1,a);if(b&&!this.Hob(a)&&b.zj){this.kE=a;this.k2(b,{offset:0,kI:!0});break;}}};b.prototype.sna=function(a,b){var c;c=this;b.forEach(function(b){var f;f=c.Ri(a,b.sa);f&&!b.Xd&&(f.stream.Xd?b.vW(f.stream):(f.$O||(f.$O=[]),f.$O.push(c.Vc)));});};b.prototype.QH=function(a,b,c){var f,d,g;f=this;g=this.Vc;n.Ke.forEach(function(d){var k,l,n,q,t;if(g.ib(d)&&(void 0===c||d===c)){q=a[d];h.assert(q&&g.getTrackById(q.cb)===q);q=q.Lc;if(g.hq)f.G.warn("requestHeadersFromManifest, shutdown detected");else if(g.km.UQ(g.oa,q)){t=null!==(n=null===(l=null===(k=f.Zp(d))||void 0===k?void 0:k.EB)||void 0===l?void 0:l.O)&&void 0!==n?n:0;k=p.Ida(q,t);void 0===k&&f.G.warn("Unable to find stream for bitrate "+t);k=q[k];(l=g.Ri(d,k.sa))&&l.stream.Z?g.VGb(d,l):(d={offset:0,kI:!1,wx:1===d,Kr:!0,jH:!f.AZ(g)},g.eEa(k,d,b));}else f.G.warn("requestHeadersFromManifest, unable to update urls");}});g.ZY=!0;null===(d=this.Rf)||void 0===d?void 0:d.call(this,g.Xa).cW();};b.prototype.UC=function(a){var b,c,f,d;b=this.K;c=this.Ri(a.M,a.sa);if(c)return c.stream.Z||c.kI&&this.sDa(c),!1;c=this.d5a;f=this.e5a;if(void 0!==b.Iia&&void 0!==c&&void 0!==f){d=k.time.ea();if(d-c<b.Iia||d-f<b.Iia)return!1;}a=this.k2(a,{url:a.url,offset:0});this.e5a=k.time.ea();return a;};b.prototype.k2=function(a,b,f,d){var h,k,l,p;l=a.M;g.Bl.Gn(l);p=a.sa;if(this.C3a(p,!!b.Kr))return null===(h=this.xAa)||void 0===h?void 0:h.call(this),!1;if(h=this.Ri(l,p))a=!1;else{h=c.__assign(c.__assign({},b),{aa:this.k4a(a)});f=this.wY(l,!!h.Kr,!!h.wx,!!h.jH,!!f);a.url&&(this.Zp(l).sha=a.url);h=a=this.L8(a,f,h);if(!a.ns())return this.Vc.zg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1;a=!0;}b.Kr&&d&&(this.Vc.dg[l]=h);null===(k=this.xAa)||void 0===k?void 0:k.call(this);return a;};b.prototype.rp=function(){var a,b;a=this;b=[];this.gr.forEach(function(c,f){var h;g.Bl.Gn(f);for(var d in c){f=c[d];h=f.t2();1===h?b.push(f):2===h&&a.Vc.zg("swapUrl failure");}});return b;};b.prototype.Vi=function(a){var b,c;b=a.M;c=g.Bl.Gn(b);this.Vc.hq?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.ql({type:"logdata",target:"startplay",zd:{usedNativeDataView:a.RHb}}),a.j0>a.zwb&&(this.pza[b]=a.j0),a.kI&&this.sDa(a),this.L4a(a),this.d5a=k.time.ea(),this.Vc.Qx.emit("onHeaderRequestComplete",a));this.Vp(a);};b.prototype.GV=function(a,b,c){var f;f=a.M;g.Bl.Gn(f);f=this.Vc.Rr(f,a.sa);if(b!==!!a.uj)return!1;this.gBa(a);a.t9a(f);this.cya(a);this.Vc.Qx.emit("onHeaderFromCache",{Lo:a,Cjb:c});return!0;};b.prototype.F$=function(a,b){var c,f,d,h;c=[];f=this.gr[a];for(d in f){h=f[d];h&&!h.stream.Z&&h.Ek===b&&(this.wca(a,d),c.push({stream:h.stream,offset:h.offset,aa:h.aa,wx:h.wx,Kr:h.Kr,jH:h.jH,Dja:h.Dja}));}return c;};b.prototype.dla=function(a){var b;b=this;a.forEach(function(a){b.k2(a.stream,a);});};b.prototype.gBa=function(a){this.gr[a.M][a.sa]=a;};b.prototype.Hob=function(a){return!!this.Ri(1,a);};b.prototype.L4a=function(a){var b,c,f,d,k;b=this.K;c=g.Bl.Gn(a.M);f=a.stream.Z;if(b.ica){d=f.length;c.trace("fragment count:",d);for(var h=0;h<d;++h){k=f.get(h);c.trace("fragment: "+h+", startPts: "+k.T+", duration: "+k.duration+", offset: "+k.offset);}}this.cya(a);if(b.yH&&b.yH.enabled&&void 0===f.Ty&&b.yH.simulatedFallback){d=f.length;b=[];for(h=0;h<d;++h)b[h]=Math.max(0,a.stream.uc+this.T6a(h));f.BDb(b);}};b.prototype.cya=function(a){var b,c;b=a.M;c=a.sa;g.Bl.Gn(b);a.$O&&(a.$O.forEach(function(f){(f=f.Rr(b,c))&&f!==a.stream&&!f.Xd&&f.vW(a.stream);}),a.$O=void 0);this.Vc.nob(a);};b.prototype.L8=function(a,b,c){var f,d;f=this;d=g.Bl.Gn(a.M);a=new q.W2(a,this.K,b,c,this,!1,d);a.addListener("headerRequestCancelled",function(a){f.K4a(a.request);});a.Db(void 0);this.gBa(a);return a;};b.prototype.C3a=function(a,b){return this.Mf&&(a=this.Mf.iO(this.Vc.u,a))&&this.GV(a,!1,b)?!0:!1;};b.prototype.k4a=function(a){var b,c,f;b=a.Cs;c=a.R;f=this.K;return c.se.Af?f.yX?f.yX:f.YY:f.qUa&&b?b.offset+b.size:(a=this.pza[a.M])?a+128:2292+12*Math.ceil(c.duration/2E3);};b.prototype.K4a=function(a){this.wca(a.M,a.sa);};b.prototype.wca=function(a,b){delete this.gr[a][b];};b.prototype.sDa=function(a){this.kE===a.sa&&(this.kE=void 0);};b.prototype.T6a=function(a){var b;b=this.K.yH.fallbackBound;void 0===this.B$[a]&&(this.B$[a]=Math.floor(2*Math.random()*b)-b);return this.B$[a];};return b;}(d.Lq);b.rra=a;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.noa=void 0;c=a(0);g=a(21);q=a(4).Zq;d=function(a){function b(b){var c;c=a.call(this)||this;c.gAa=b;c.yU=b.groupId;c.Nf=new g.Fl();c.Nf.on(c,q.Nd.IJ,c.XK);c.Nf.on(c,q.Nd.Az,c.FE);return c;}c.__extends(b,a);b.prototype.ywb=function(a,b,c){q.prototype.open.call(this,a,b,c);};b.prototype.fDb=function(a){this.yU=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.yU;},enumerable:!1,configurable:!0}});b.prototype.wc=function(){this.Nf&&this.Nf.clear();q.prototype.wc.call(this);};b.prototype.XK=function(a){this.gAa.Qyb(a.probed,a.affected);this.wc();};b.prototype.FE=function(a){this.gAa.Nyb(a.probed,a.affected);this.wc();};return b;}(q);b.noa=d;},function(d,b,a){var g,q,n;function c(a,b){this.SK=a;this.aA=0===Math.floor(1E6*Math.random())%b.kC;this.groupId=1;this.config=b;this.xu={};this.vy={};}g=a(7);q=a(4);new q.Console("ASEJS_PROBE_MANAGER","asejs");n=a(834).noa;c.prototype.constructor=c;c.prototype.Pyb=function(a,b){var c,f,d,k,l,p,n,m,r,u,U;c=this.SK;f=a.Kb;d=c.xSa(a.url);k=c.e_(a.url);l=this.config;p=q.time.ea();m=b;r=[];u=d.lm[0];U=!1;n=this.xu[f];if(!n)n=this.xu[f]={count:0,Sg:p,Av:!1,error:b,Ola:[],jka:{}};else if(n.Sg>=p-l.a2)return;n.Av||(u&&k.id===u.id&&(a.isPrimary=!0),n.Sg=p,n.Av=!1,n.error=b,++n.count,d&&d.me&&0!==d.me.length&&(g.forEach(d.me,function(b){var c,d,h;c=b.qc.id;d=c+"-"+f;h=this.vy[d];if(void 0===h||void 0===h.D0)h&&h.Jm&&clearTimeout(h.Jm),b=this.gEa(b.url,a,c),this.vy[d]={da:!1,count:0,D0:b.xj()},r.push(b.xj()),U=!0;-1===n.Ola.indexOf(c)&&n.Ola.push(c);},this),this.aA&&0<r.length&&(d={type:"logdata",target:"endplay",fields:{}},b=m,m={ts:q.time.ea(),es:b.xBa,fc:b.qh,fn:b.bGa,nc:b.Ui,pb:r,gid:this.groupId},b.GN&&(m.hc=b.GN),d.fields.errpb={type:"array",value:m,adjust:["ts"]},c.ql(d)),U&&this.groupId++));};c.prototype.gEa=function(a,b,c){var f,d,h;f=this.SK.e_(b.url);f&&f.lb&&f.lb.fq&&f.lb.fq.Ca||Math.random(0,1);f=new n(this);d=a.split("?");h="random="+parseInt(1E7*Math.random(),10);f.ywb(1<d.length?a+"&"+h:a+"?"+h,b,c);return f;};c.prototype.Qyb=function(a,b){var c,f,d,g,k,l,p,n;c=this.SK;f=this.config;d=b.Kb;g=this.xu[d];l=a.url;p=this.vy[a.Kb+"-"+d];if(g&&(k=g.error,p)){p&&p.Jm&&clearTimeout(p.Jm);p.da=!0;p.count=0;p.D0=void 0;g.jka[a.Kb]=!0;(p=this.xu[a.Kb])&&!0===p.Av&&f.St&&(c.tQa(a.Kb,p.error.PQ[1]),this.aA&&(p={type:"logdata",target:"endplay",fields:{}},p.fields.errst={type:"array",value:{ts:q.time.ea(),id:a.requestId,servid:b.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ql(p)),this.xu[a.Kb]=void 0);if(l!==b.url){n=this.vy[d+"-"+d];n&&n.da||(d=(d=c.e_(l))&&d.lb&&d.lb.fq&&d.lb.fq.Ca||Math.random(0,1)*f.n_,d=Math.min(d,f.n_),setTimeout(function(){var f;if(!(!1!==g.Av||n&&n.da)&&(g.Av=!0,c.fp(k.PQ[0],k.PQ[1],b.url,k),this.aA)){f={type:"logdata",target:"endplay",fields:{}};f.fields.erep={type:"array",value:{ts:q.time.ea(),id:a.requestId,servid:b.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.ql(f);}}.bind(this),d));}this.aA&&(p={type:"logdata",target:"endplay",fields:{}},p.fields.pbres={type:"array",value:{ts:q.time.ea(),id:a.requestId,result:1,servid:a.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ql(p));}};c.prototype.Nyb=function(a,b){var c,f,d,k,l,p,n,m,r,u;c=this.SK;f=parseInt(b.Kb,10);d=this.xu[f];k=parseInt(a.Kb,10);l=this.vy[k+"-"+f];p=0;r=this.config;if(l&&d){l.da=!1;l.D0=void 0;d.jka[k]=!1;m=d.Ola;if(r.St&&k===f&&b.isPrimary){u=c.e_(b.url);u=u&&u.lb&&u.lb.fq&&u.lb.fq.Ca||300*Math.random(0,1);u=u*Math.pow(2,l.count);u=Math.min(u,12E4);u=u+Math.random(0,1)*(1E4>u?100:1E4);l.Jm=setTimeout(function(){var c;l.Jm=void 0;c=this.gEa(a.url,b,k);c.fDb(a.groupId);l.D0=c.xj();}.bind(this),u);}++l.count;k===f&&(p=0,m.forEach(function(a){!1===d.jka[a]&&p++;}),m.length===p&&d.count>=r.r_&&(n=d.error,d.Av=!0,g.forEach(c.xSa(b.url).me,function(a){var b;c.fp(n.PQ[0],n.PQ[1],a.url,n);if(this.aA){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:q.time.ea(),id:-1,servid:a.qc.id},adjust:["ts"]};c.ql(b);}},this)));this.aA&&(f={type:"logdata",target:"endplay",fields:{}},f.fields.pbres={type:"array",value:{ts:q.time.ea(),id:a.requestId,result:0,servid:a.Kb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ql(f));}};c.prototype.o2=function(a){var b,c,f;b=a.url||a.mediaRequest.url;if(b){a=this.SK;b=a.jRa(b);c=this.xu[b];f=this.vy[b+"-"+b];c&&c.Av&&this.config.St&&(a.tQa(c.error.xBa,!1),this.aA&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:q.time.ea(),id:-1,servid:b},adjust:["ts"]},a.ql(c)),this.xu[b]=void 0,f&&f.Jm&&clearTimeout(f.Jm));}};c.prototype.reset=function(){var a,b,c;a=this.vy;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.Jm&&clearTimeout(b.Jm);this.vy={};this.xu={};};d.P=c;},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r,u,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.Lqa=void 0;c=a(7);g=a(18);q=a(4);n=new q.Console("ASEJS_ERROR_DIRECTOR","asejs");k=a(835);p=q.Tj;h=p.oD;f={};t={};d=[g.ng.$s,!1];a=[g.ng.$s,!0];m=[g.ng.Hz,!1];r=[g.ng.Hz,!0];u=[g.ng.URL,!0];J=[-1,!1];F=[g.ng.Hz,!1];f[h.pJb]=m;f[h.UNKNOWN_ERROR]=m;f[h.dNb]=m;f[h.FXa]=m;f[h.Ipa]=m;f[h.RXa]=m;f[h.JXa]=r;f[h.HWa]=r;f[h.Uoa]=F;f[h.p3]=F;f[h.IWa]=J;f[h.JWa]=F;f[h.KWa]=F;f[h.EWa]=m;f[h.GWa]=m;f[h.Toa]=d;f[h.FWa]=m;f[h.DWa]=F;f[h.lKb]=r;f[h.bZa]=F;f[h.nra]=F;f[h.mra]=F;f[h.K4]=F;f[h.kra]=F;f[h.aZa]=u;f[h.M4]=r;f[h.O4]=u;f[h.N4]=a;f[h.pra]=r;f[h.dZa]=u;f[h.yS]=F;f[h.ora]=r;f[h.cZa]=r;f[h.MXa]=r;f[h.GXa]=m;f[h.T1a]=m;f[h.wXa]=m;f[h.xXa]=m;f[h.yXa]=m;f[h.zXa]=m;f[h.AXa]=m;f[h.BXa]=m;f[h.CXa]=m;f[h.DXa]=m;f[h.EXa]=m;f[h.HXa]=m;f[h.IXa]=m;f[h.KXa]=m;f[h.LXa]=m;f[h.NXa]=m;f[h.OXa]=m;f[h.PXa]=m;f[h.QXa]=m;f[h.SXa]=m;f[h.TXa]=m;f[h.S1a]=F;f[h.TIMEOUT]=d;t[h.Uoa]=!0;t[h.nra]=!0;t[h.mra]=!0;t[h.kra]=!0;t[h.Ipa]=!0;d=function(){var Y1z;Y1z=2;while(Y1z!==13){switch(Y1z){case 2:a.prototype.uDb=function(a){var a1z;a1z=2;while(a1z!==1){switch(a1z){case 2:this.F1=a;a1z=1;break;case 4:this.F1=a;a1z=2;break;a1z=1;break;}}};a.prototype.fp=function(a,b,d,h){var B1z,k,l,q,r,u,z,G,D,L,q93,K93,B93,b93,I93;B1z=2;while(B1z!==23){q93="Invalid ";q93+="affect";q93+="ed for networ";q93+="k failure";K93=" :";K93+=" critical error c";K93+="ount ";K93+="= ";B93=" ";B93+="o";B93+="n";B93+=" ";b93="Fail";b93+="ure";b93+=" ";I93="U";I93+="nmapped failure code";I93+=" in J";I93+="SASE e";I93+="rror director : ";switch(B1z){case 20:G=u.jRa(a.url);B1z=19;break;case 27:l=u.NCb(a.host,a.port);B1z=18;break;case 18:D=z[0];L=z[1];r.tq?c.forEach(l,function(c,f){var O1z,n93;O1z=2;while(O1z!==5){n93="e";n93+="r";n93+="r";n93+="o";n93+="r";switch(O1z){case 2:z===F||z===m?k.hka.Pyb({url:void 0!==a.url?a.url:c[0],Kb:f},{xBa:f,PQ:z,GN:b,qh:d,bGa:q,Ui:h}):c.some(function(a){var C1z;C1z=2;while(C1z!==5){switch(C1z){case 2:u.fp(D,L,a);return D===g.ng.Hz;break;}}});!k.F1||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&k.F1.Ela(n93,c);O1z=5;break;}}}):c.forEach(l,function(c,f){var Z1z,G93;Z1z=2;while(Z1z!==5){G93="e";G93+="rro";G93+="r";switch(Z1z){case 2:Z1z=z!==F||k.UAb(f)?1:5;break;case 1:c.some(function(a){var d6z;d6z=2;while(d6z!==5){switch(d6z){case 2:u.fp(D,L,a);return D===g.ng.Hz;break;}}}),!k.F1||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&k.F1.Ela(G93,c);Z1z=5;break;}}});B1z=23;break;case 19:G&&(l[G]=[a.url]);B1z=18;break;case 10:B1z=void 0!==a.url?20:15;break;case 24:i4YY.d93(0);n.error(i4YY.N93(d,I93));B1z=23;break;case 14:z=f[d];this.VZ={GN:b,qh:d,bGa:q,Ui:h};t[d]&&++this.zW;B1z=11;break;case 11:B1z=z!==J?10:23;break;case 3:l={};r=this.config;u=this.km;n.warn(b93+q+B93+JSON.stringify(a)+K93+this.zW);B1z=6;break;case 15:B1z=void 0!==a.host&&void 0!==a.port?27:26;break;case 6:B1z=d&&c.isArray(f[d])?14:24;break;case 2:k=this;l=p.oD.name;q=d?l[d]:void 0;B1z=3;break;case 26:n.error(q93);return;break;}}};a.prototype.UAb=function(a){var W6z,b,c,f;W6z=2;while(W6z!==13){switch(W6z){case 9:W6z=f.Sg<this.MG?8:7;break;case 4:f=this.Oma[a];W6z=3;break;case 3:W6z=f?9:14;break;case 2:b=q.time.ea();c=this.config;W6z=4;break;case 8:f.Sg=b,f.count=1;W6z=13;break;case 7:W6z=!(f.Sg>=b-c.a2||f.Av||(f.Sg=b,++f.count,f.count<c.r_))?6:13;break;case 6:return f.Av=!0;break;case 14:this.Oma[a]={Sg:b,count:1};W6z=13;break;}}};Y1z=4;break;case 4:a.prototype.rob=function(a){var H6z,b,c,f,d,h,g,k,m93,s93,p93,r93,j93;H6z=2;while(H6z!==6){m93=" last succe";m93+="s";m93+="s";m93+=" was ";s93="N";s93+="et";s93+="w";s93+="ork has f";s93+="ailed ";p93="tem";p93+="p";p93+="ora";p93+="ril";p93+="y";r93="p";r93+="erman";r93+="en";r93+="tly";j93=" ms";j93+=" ag";j93+="o";switch(H6z){case 4:f=a;k=this.config;i4YY.d93(1);n.warn(i4YY.e93(j93,a?r93:p93,c,s93,m93));!a&&c>k.Sia&&(f=!0);f?(this.RH&&(clearTimeout(this.RH),this.RH=void 0),this.tDa(),this.hka.reset(),this.VZ&&(d=this.VZ.qh,h=this.VZ.GN,g=this.VZ.Ui),this.yob({Dqb:a,Awb:d,Bwb:h,Cwb:g})):this.RH||(this.RH=setTimeout(function(){var m6z;m6z=2;while(m6z!==5){switch(m6z){case 2:b.RH=void 0;b.HP();m6z=5;break;}}},k.Tia));H6z=6;break;case 2:b=this;c=q.time.ea()-this.MG;H6z=4;break;}}};a.prototype.HP=function(a){var G6z;G6z=2;while(G6z!==1){switch(G6z){case 2:this.RH||(this.km.HP(!!a),this.Oma={},this.Tr());G6z=1;break;}}};a.prototype.o2=function(a){var S6z,b;S6z=2;while(S6z!==9){switch(S6z){case 2:b=this.config;this.MG=Math.max(a.timestamp||q.time.ea(),this.MG);this.tDa();b.tq&&this.hka.o2(a);S6z=9;break;}}};a.prototype.QO=function(){var l6z;l6z=2;while(l6z!==1){switch(l6z){case 4:this.zW=5;l6z=6;break;l6z=1;break;case 2:this.zW=0;l6z=1;break;}}};a.prototype.wk=function(){var J6z,a,b,c,f93,V93;J6z=2;while(J6z!==8){f93="m";f93+="s";V93="Sett";V93+="ing underflow ";V93+="timeout in ";switch(J6z){case 2:a=this;b=this.config;c=b.fia;this.MG=Math.max(q.time.ea(),this.MG);b.DHb&&!this.RQ&&(n.info(V93+c+f93),this.RQ=setTimeout(function(){var h6z,S93,Q93;h6z=2;while(h6z!==4){S93="Forcing permanent";S93+=" network failure af";S93+="ter ";Q93="ms, since under";Q93+="flow with n";Q93+="o ";Q93+="success";switch(h6z){case 2:i4YY.d93(2);n.info(i4YY.e93(c,Q93,S93));a.RQ=void 0;a.km.fp(g.ng.$s,!0);h6z=4;break;}}},c));J6z=8;break;}}};Y1z=6;break;case 6:a.prototype.tDa=function(){var P6z,x93;P6z=2;while(P6z!==1){x93="Cleared under";x93+="fl";x93+="ow timeou";x93+="t";switch(P6z){case 2:this.RQ&&(clearTimeout(this.RQ),this.RQ=void 0,n.info(x93));P6z=1;break;}}};return a;break;}}function a(a,b,c,d){var x1z,L93,P93;x1z=2;while(x1z!==12){L93="ne";L93+="tworkFa";L93+="iled";P93="1";P93+="SIYbZ";P93+="rN";P93+="JCp9";switch(x1z){case 2:this.km=a;this.config=b;this.yob=c;this.Tr=d;P93;x1z=9;break;case 8:this.km.on(L93,this.rob.bind(this));this.MG=q.time.ea();this.zW=0;this.Oma={};this.hka=new k(a,b);x1z=12;break;case 9:f[h.K4]=b.gpb?r:F;x1z=8;break;}}}}();b.Lqa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=b.Vq||(b.Vq={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,b,a){var q,n,k,p;function c(a,b,c,d){n.call(this,a,b,c,d);}function g(a,b,c){n.call(this,a,b,c,void 0);}q=a(82);n=a(397).DJ;k=a(401);p=a(75).xya;c.prototype=Object.create(n.prototype);g.prototype=Object.create(c.prototype);g.prototype.D4a=function(a,b){return"string"===typeof b?k[b]:b?k.reset[a]||k.oEb[a]:k.oEb[a];};g.prototype.ZPa=function(a,b,c,d){return this.Sa(a,b,!1,c,d);};g.prototype.dQa=function(a,b,c,d){return this.Sa(a,b,!0,c,d);};g.prototype.Sa=function(a,b,c,d,g){var h,k,l,p,n,t,m,r,u,z,G,A,E,N;function f(a){k=h[a];l=k.Fq("traf");if(void 0===l||void 0===l.Zt)return!1;p=l.Fq("tfdt");if(void 0===p)return!1;n=l.Fq("trun");return void 0===n?!1:!0;}if(!this.parse())return!1;h=this.Pc.moof;if(!h||0===h.length)return!1;if(void 0!==a)for(t=a,a=0;a<h.length;++a){if(!f(a))return!1;if(n.je>t||c&&n.je===t)break;t-=n.je;}else if(a=c?h.length-1:0,!f(a))return!1;if(c&&a<h.length-1){m=h[a+1];this.hg.Fk(this.yRb-m.startOffset,m.startOffset);}else!c&&0<a&&this.hg.Fk(k.startOffset,0);m=l.Fq("tfhd");if(void 0===m)return!1;p=l.Fq("tfdt");r=n.je;u=l.Fq("saiz");z=l.Fq("saio");G=l.Fq(q.jua);A=l.Fq("sbgp");if(!(!u&&!z||u&&z))return!1;E=l.Fq("sdtp");if(this.Pc.mdat&&a<this.Pc.mdat.length)N=this.Pc.mdat[a];else if(a!==h.length-1)return!1;void 0===t&&(t=c?n.je:0);if(n.Sa(l,m,N||this.hg,b,t,l.Zt,c))n.gX&&(!c&&p&&p.Sa(n.hEb),u&&z&&(u.Sa(n.iI,c),z.Sa(G?0:u.jla,l.Zt,c)),G&&G.Sa(n.iI,c),E&&E.Sa(n.iI,r,c),A&&A.Sa(n.iI,c));else if(!c){if(a===h.length-1)return!1;this.hg.Fk(h[a+1].startOffset-k.startOffset,k.startOffset);}else if(0===n.iI)return!1;d&&(b=this.D4a(this.stream.profile,g))&&n.SAb(l,m,N,c,d,b);c=this.hg.Sa();d=c.reduce(function(a,b){return a+b.byteLength;},0);c={ug:c,length:d,$B:this.hg.view.byteLength};n.gX&&!N&&(c.OH=l.Zt+n.OH,c.zv=n.zv);return c;};d.P={iw:g,nO:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,p("mdat"));return b;}};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(127);a(127);g=a(75);d=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.UB=this.TL=this.offset=0;}a.prototype.jlb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Tf=function(a){for(;this.UB<a;)this.TL=(this.TL<<8)+this.qd(),this.UB+=8;this.UB-=a;return this.TL>>>this.UB&(1<<a)-1;};a.prototype.qd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Yg=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Fb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.zka=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.kxb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.Zi=function(a,b){a=this.kxb(a,b);this.offset+=8;return a;};a.prototype.lxb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.Izb=function(){var a;a=this.lxb();this.offset+=8;return a;};a.prototype.wy=function(){return g.Tz(this.Fb());};a.prototype.M0=function(){var b,c,d,f,g,l;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.Fb(!0);c=this.Yg(!0);d=this.Yg(!0);f=this.Yg();g=this.Yg();l=this.Fb();return[a(b,4),a(c,2),a(d,2),a(f,2),a(g,2)+a(l,4)].join("-");};a.prototype.Czb=function(){var a;a=this.view.byteOffset+this.offset;return this.view.buffer.slice(a,a+16);};a.prototype.Bzb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.qd();0!==c&&0<=--a;)b.push(c),c=this.qd();return String.fromCharCode.apply(null,b);};a.prototype.J0=function(a){var b,d;void 0===b&&(b=1);void 0===d&&(d=!0);return this.Ld(this.config.FI&&c.Rnb||c.uG,1,a,b,d);};a.prototype.Azb=function(a){var b,d,h;d=10;h=!1;void 0===d&&(d=2);void 0===h&&(h=!0);void 0===b&&(b=!1);return this.Ld(this.config.FI&&c.Pnb||c.DY,2,a,d,h,b);};a.prototype.I0=function(a,b,d){var h;void 0===b&&(b=4);void 0===d&&(d=!0);void 0===h&&(h=!1);return this.Ld(this.config.FI&&c.Qnb||c.tG,4,a,b,d,h);};a.prototype.Ezb=function(){for(var a=this.qd(),b=a&127;a&128;)a=this.qd(),b=b<<7|a&127;return b;};a.prototype.Ld=function(a,b,c,d,f,g){void 0===f&&(f=!0);void 0===g&&(g=!1);a=a(this.view,this.offset,c,d,g);this.offset=f||!d||d===b?this.offset+c*(d||b):this.offset+b;return a;};return a;}();b.G2a=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(128);q=a(400);n=a(75);d=a(839);k=function(){function a(a){a?(this.Em=a.Em.slice(),this.vp=a.vp.slice(),this.Wg=a.Wg.slice(),this.trim=a.trim):(this.Em=[],this.vp=[],this.Wg=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Em.length&&0===this.vp.length&&0===this.Wg.length;},enumerable:!0,configurable:!0}});return a;}();d=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.sFa=[];b.md=new k();return b;}c.__extends(b,a);b.O9a=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.iQ?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.iQ?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:g.assert(!b.iQ);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:g.assert(!1);}};Object.defineProperties(b.prototype,{gX:{get:function(){return!this.md.empty;},enumerable:!0,configurable:!0}});b.prototype.I2=function(a,b){this.md.vp.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};b.prototype.KIb=function(a){this.md.vp.push({offset:!1,value:a,size:2,iQ:!1});};b.prototype.up=function(a,b){this.md.vp.push({offset:void 0!==b?b:this.offset,value:a,size:4,iQ:!1});void 0===b&&(this.offset+=4);};b.prototype.LIb=function(a,b){this.md.vp.push({offset:void 0!==b?b:this.offset,value:a,size:8,iQ:!1});void 0===b&&(this.offset+=8);};b.prototype.OUa=function(a){this.up(n.xya(a));};b.prototype.Ena=function(a,b){this.md.Wg.push({offset:this.offset,un:a,value:b});this.offset+=4;};b.prototype.Fk=function(a,b,c){this.md.Em.push({offset:b,remove:a,kb:c});};b.prototype.S0=function(a,b,c,d){this.md.Em.push({offset:c,remove:a,replace:b,kb:d});};b.prototype.trim=function(a){this.md.trim=a;};b.prototype.ozb=function(){this.sFa.push(new k(this.md));};b.prototype.gyb=function(){this.md=this.sFa.pop()||new k();};b.prototype.Sa=function(){var a,c,d,h,g,k,l;a=this;if(0===this.md.Em.length&&0===this.md.vp.length&&0===this.md.Wg.length)return[void 0===this.md.trim?this.view.buffer:this.view.buffer.slice(0,this.md.trim)];this.md.Em.sort(function(a,b){return a.offset-b.offset;});this.md.vp.sort(function(a,b){return a.offset-b.offset;});this.oBb();c=this.ijb();d=this.view.buffer.slice(0,c);h=new DataView(d);this.md.vp.forEach(b.O9a.bind(void 0,h));this.UGb(h);this.TGb(h);g=[];k=void 0!==this.md.trim?Math.min(this.md.trim,this.view.byteLength):this.view.byteLength;l=0;this.md.Em.filter(function(a){return a.offset<=k;}).forEach(function(b){b.offset>l&&(g.push(h.buffer.slice(l,b.offset)),b.offset>h.byteLength&&h!==a.view&&(h=a.view,g.push(h.buffer.slice(c,b.offset))));b.replace&&g.push(b.replace);l=b.offset+b.remove;});l<c&&g.push(d.slice(l));l<k&&g.push(this.view.buffer.slice(Math.max(d.byteLength,l),k));return g;};b.prototype.ijb=function(){var a,b,c;a=[];b=this.md.vp[this.md.vp.length-1];c=this.md.Wg[this.md.Wg.length-1];b&&a.push(b.offset+b.size);c&&a.push(c.offset+4);this.md.Em.filter(function(a){return a.kb;}).forEach(function(b){return a.push(b.kb.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.md.trim?Math.min(b,this.md.trim):b;};b.prototype.oBb=function(){this.md.Em=this.md.Em.reduce(function(a,b){var c,f;if(0===a.length)return a.push(b),a;c=a[a.length-1];f=c.offset+c.remove;b.offset>=f?a.push(b):b.offset+b.remove>f&&(g.assert(c.kb===b.kb),c.remove+=b.offset+b.remove-f,b.replace&&(c.replace=c.replace?q.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.UGb=function(a){var b;b=this;this.md.Wg.forEach(function(c){var f,d,h,g;f=a;d=c.offset;b.md.Em.some(function(a){return a.offset<=c.offset&&a.replace&&a.offset+a.replace.byteLength>=c.offset+4?(f=new DataView(a.replace),d=c.offset-a.offset,!0):!1;});h=c.un+(void 0!==c.value?c.value:f.getInt32(d));g=b.md.Em.reduce(function(a,b){return b.offset>c.un&&b.offset<h?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);f.setInt32(d,h-c.un-g);});};b.prototype.TGb=function(a){this.md.Em.forEach(function(b){var c;c=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==c)for(b=b.kb;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-c),b=b.parent;});};return b;}(d.G2a);b.F2a=d;},function(d){d.P=function a(c,d){var g;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){g=Object.getOwnPropertyDescriptor(c,a);void 0!==g&&Object.defineProperty(d,a,g);});};},function(d,b,a){var c,g,q,n,k,p,h,f,t,m,r,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(841);q=a(400);n=a(128);k=a(227);p=a(27);d=a(403);h=a(402);f=a(399);t=a(127);m=a(228);r=a(82);u=a(398);a=function(){function a(a,b,c,f,d,h){this.console=a;this.stream=b;this.yq=f;this.l9a=d;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=h||{};this.Job=t.olb();}a.path=function(a,b){return b.reduce(function(a,b){return a&&a.Pc[b]&&a.Pc[b][0];},a);};a.kmb=function(a){return a&&a.vba&&-1!==a.vba.indexOf("mcl0")?"mcl0":void 0;};a.ojb=function(a,b){var c;n.assert("mcl0"===a,"Unsupported McClearen brand");c=b.Z;a=c.Hd;b=new k.ka(120,1).Jf(c.S).Ab;for(var f=0,c=c.Kj;f<a.length&&c<b;)c+=a[f++];return f;};a.prototype.parse=function(a){var b;b=this.PBb();if(!b.done){if(b.KMa)return{ny:!1,m9a:b.KMa};this.console.error("Scan error: "+b.error);return{ny:!1,parseError:b.error||"unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+b.offset);this.view=new DataView(b);a=this.Lwb(a);return a.done?this.Dcb():(this.console.error("Parse error: "+a.error),{ny:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.gB=function(a){return p.Wf.gB(this,a);};a.prototype.hB=function(a){return p.Wf.hB(this,a);};a.prototype.PBb=function(){var b,d;b=new u.fZa(this.yq,this.l9a?[r.PS,r.OS]:[],this.config&&this.config.OVb||["moof",r.Mta],this.config&&this.config.lOa);d=c.__assign(c.__assign({},this.config),{Cja:!1});return new f.j3(a.mla,b,this.view,this.console,d).parse();};a.prototype.Lwb=function(a){var b,d,h;b=new u.Upa(this.view.byteLength);d=Object.create(m.iH.Pc);this.config&&((this.config.jOa||this.config.zTa||this.config.J1)&&g(m.iH.kla,d),this.config.dna&&g(m.iH.rGb,d),this.config.zTa&&g(m.iH.ATa,d));h=c.__assign(c.__assign({},this.config),{Cja:!0});this.hg=new f.j3(d,b,this.view,this.console,h);a=this.hg.parse(a);a.done&&(this.Pc=this.hg.Pc);return a;};a.prototype.Dcb=function(){var b,c,f,d,h,g;b={ny:!0};c=a.path(this,["moov"]);f=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.jOa)if(f)b.Ta=f.Ta,b.iVb=f.Pc;else return{ny:!1,parseError:"Missing sample descriptions"};d=a.path(f,["encv","sinf","schi"]);d&&(d=a.path(d,["tenc"])||a.path(d,[r.kua]))&&(b.oX={pRb:d.Xr,EKa:d.EKa,oTb:!1});if(d=a.path(c,["trak","mdia","mdhd"]))b.S=d.S;if(d=a.path(c,["mvex","trex"]))b.GF=d&&d.zd.GF;b.GF&&b.S&&(b.Ta=new k.ka(b.GF,b.S));if(d=a.path(this,["sidx"])){h=a.path(this,[r.PS]);h=h&&h.Etb;g=a.path(this,[r.OS]);g=g&&g.ki;b.Z=d.Z;b.gH=h;b.ki=g;}if(h=this.Pc.vmaf&&this.Pc.vmaf[0])b.Ty=h.Ty;if(this.config.zBb)if(c)this.trim(c.byteOffset+c.byteLength),this.config.J1&&f&&1<f.Cn&&d&&(b.ni=this.J1(f,d)),void 0===b.ni&&(c=this.hg.gX?q.concat(this.hg.Sa()):this.view.buffer,b.ni=[{lB:0,data:c}]);else return{ny:!1,parseError:"Missing movie box"};b.ny=!0;b.j0=this.hg.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.hg.trim(a);this.view=new DataView(b);};a.prototype.J1=function(b,c){var f,d,h;f=Object.keys(b.Pc);d=f.filter(function(a){return"encv"!==a;});if(!(2>f.length||d.length===f.length||0===d.length)){f=a.path(this,["ftyp"]);h=a.kmb(f);if(h)return f=[],this.hg.ozb(),b.bQa("encv"),f.push({lB:0,uj:!1,data:q.concat(this.hg.Sa())}),this.hg.gyb(),b.bQa(d[0]),b=a.ojb(h,c),f.push({lB:b,uj:!0,data:q.concat(this.hg.Sa())}),f;}};a.mla={};return a;}();b.jw=a;a.mla[r.X5]=d["default"];a.mla[r.Y5]=h["default"];},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,f;this.Uf();a=this.ws([{Zma:"int32"},{NEa:"int32"},{OW:"int32"},{QW:"int32"},{PW:"int32"}]);b=a.Zma;c=a.NEa;d=a.OW;f=a.PW;a=a.QW;this.zd={cb:b,cgb:c,GF:d,JEa:f,KEa:a};this.Zma=b;this.NEa=c;this.OW=d;this.QW=a;this.PW=f;return!0;};b.Ne="trex";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(82);a=a(27);g=d.W5;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.zd=this.ws([{X_:"int32"},{GM:"int16"}]);return!0;};b.Ne=g;b.ic=!1;return b;}(a.Wf);b["default"]=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(225);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.xYa=g.vqa.APa(this.L);return!0;};b.Ne="esds";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.dG=function(){var a;a=this.hB("esds");if(a=a&&a.xYa.hB(5))this.SX=a.SX;return!0;};b.Ne="mp4a";b.ic=!0;return b;}(a(164)["default"]);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.L.qd();this.zVa=this.L.qd();this.L.qd();this.L.qd();this.L.qd();this.eSa=this.V9(this.L.qd()&31);this.V9(this.L.qd());this.E0=this.eSa.length?this.eSa[0][0]:this.zVa;this.iAa=this.L.offset;this.startOffset+this.length<this.L.offset&&(100===this.E0||110===this.E0||122===this.E0||144===this.E0)&&(this.L.qd(),this.L.qd(),this.V9(this.L.qd()));a=this.startOffset+this.length-this.iAa;0<a&&this.Fk(a,this.iAa);return!0;};b.prototype.V9=function(a){var d;for(var b=[],c=0;c<a;++c){d=this.L.Yg();b.push(this.L.J0(d));}return b;};b.Ne="avcC";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(27);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.QQa=this.L.wy();g.Ya&&this.L.console.trace("SchemeTypeBoxTranslator: "+this.QQa);"cenc"===this.QQa&&(this.L.offset-=4,g.Ya&&this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.L.offset),this.bb.OUa("piff"));this.L.Fb();return!0;};b.Ne="schm";b.ic=!1;return b;}(g.Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.Hvb=this.L.Yg()&7;this.dFb=[];for(var a=0;a<this.Hvb;a++){b={ckb:this.L.Tf(2),uab:this.L.Tf(5),vab:this.L.Tf(5),x8a:this.L.Tf(3),sTb:this.L.Tf(1),Gvb:this.L.Tf(4)};0<b.Gvb?b.dRb=this.L.Tf(9):this.L.Tf(1);this.dFb.push(b);}return!0;};b.Ne="dec3";return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.ckb=this.L.Tf(2);this.uab=this.L.Tf(5);this.vab=this.L.Tf(3);this.x8a=this.L.Tf(3);this.L.Tf(1);this.L.Tf(5);this.L.Tf(5);return!0;};b.Ne="dac3";return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(82);q=a(227);n=a(164);d=a(27);k=a(81);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.Cn=this.L.Fb();return!0;};b.prototype.dG=function(a){var b;b=Object.keys(this.Pc);b.length&&(b=b[0],this.Pc[b].length&&(b=this.Pc[b][0],b instanceof n["default"]?this.Ta=new q.ka(b.SX,b.MQa):b instanceof k["default"]&&(b=b.Pc[g.W5])&&b.length&&(b=b[0].zd,1E3!==b.GM&&1001!==b.GM||0!==b.X_%1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.X_+"/"+b.GM):this.Ta=new q.ka(b.GM,b.X_)),this.Ta&&(a.Ta=this.Ta)));return!0;};b.prototype.bQa=function(a){void 0!==this.Pc[a]&&0!==this.Pc[a].length&&(this.bb.up(this.Cn-1,this.byteOffset+12),a=this.Pc[a][0],this.Fk(a.byteLength,a.byteOffset));};b.Ne="stsd";b.ic=!0;return b;}(d.Wf);b["default"]=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(75);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.zd=this.ws([{LUb:"int32"},{UIa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.zd.UIa=g.Tz(this.zd.UIa);return!0;};b.Ne="hdlr";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.L.wy();this.L.wy();for(this.vba=[];this.L.offset<=this.byteOffset+this.byteLength-4;)this.vba.push(this.L.wy());return!0;};b.Ne="ftyp";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.zd=this.ws([{RQb:"int32"},{Xo:"int32"},{L$a:"int32"}]);return!0;};b.Ne="btrt";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.zd=this.ws([{XSb:"int32"},{nWb:"int32"}]);return!0;};b.Ne="pasp";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.zd=this.ws(1===this.version?[{IGa:"int64"}]:[{IGa:"int32"}]);return!0;};b.Ne="mehd";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.Uf();a=1===this.version?[{Gh:"int64"},{modificationTime:"int64"},{cb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Gh:"int32"},{modificationTime:"int32"},{cb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Jrb:"int16"},{B9a:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.zd=this.ws(a);this.zd.VVb=!!(this.gf&1);this.zd.WVb=!!(this.gf&2);this.zd.XVb=!!(this.gf&4);this.zd.YVb=!!(this.gf&8);this.L.console.trace("Finished parsing track box");return!0;};b.Ne="tkhd";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Ne="trak";b.ic=!0;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Uf();this.zd=1===this.version?this.ws([{Gh:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.ws([{Gh:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return!0;};b.Ne="mvhd";b.ic=!1;return b;}(a(27).Wf);b["default"]=d;},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Owa=b.g2a=void 0;c=a(0);g=a(94);q=a(6);d=a(4);n=a(396);a=a(407);k=new d.Console("FRAGMENTS","media|asejs");try{p=!0;}catch(f){p=!1;}h=function(a){function b(b,c){c=a.call(this,b.Km,c)||this;c.lA=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{aa:{get:function(){return this.lA.fEb(this.jj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.lA.Wg(this.jj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mia:{get:function(){return this.lA.gH&&this.lA.gH[this.jj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return this.lA.qkb(this.jj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uc:{get:function(){return this.lA.Ty&&this.lA.Ty[this.jj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.Ra,contentEndTicks:this.gb,durationTicks:this.Ho,timescale:this.S,startPts:this.T,endPts:this.na,duration:this.duration,additionalSAPs:this.ki};};return b;}(a.sxa);b.g2a=h;d=function(){function a(a,b,c,d,f,h){this.EE=128;this.ec=a;this.Qd=b.offset;this.ln=b.sizes;this.eE=this.tK=this.Lg=this.MAa=this.k$=void 0;this.C5a=c;this.p8=d&&d.Wg;this.ZAa=f;this.Mw=Math.min(this.ec.length,this.ln.length);this.p5a=this.Uab();this.Km.jo.length!==this.ln.length&&k.error("Mis-matched stream duration ("+this.Km.jo.length+","+this.ln.length+") for movie id "+h);this.Km.JV&&!this.p8&&k.error("Mis-matched additional SAPs information for movie id "+h);}a.qRb=function(a,b){var c,d;b=b.S;c=b/1E3;d=new DataView(a);a=Math.floor(a.byteLength/16);return{S:b,Kj:d.getUint32(4)*c,offset:65536*d.getUint32(8)+d.getUint16(12),sizes:g.$Xa.tG(d,0,a,16),Hd:g.V7.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{M:{get:function(){return this.ec.M;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Mw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kj:{get:function(){return this.ec.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hda:{get:function(){return this.ec.hda;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.ec.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{na:{get:function(){return this.ec.na;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iia:{get:function(){return this.ec.iia;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{q_:{get:function(){return this.p5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.ec.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.ec.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Th:{get:function(){return this.MAa||this.B8();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gH:{get:function(){return this.C5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tBa:{get:function(){return this.p8;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ty:{get:function(){return this.ZAa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Km:{get:function(){return this.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hI:{get:function(){return this.k$||this.O3a();},enumerable:!1,configurable:!0}});a.prototype.fEb=function(a){if(this.ln)return this.ln[a];k.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.Qh=function(a){return this.ec.Qh(a);};a.prototype.ida=function(a){return this.ec.Qh(a)+this.ec.Hd(a);};a.prototype.Wg=function(a){if(this.tK!==a||void 0===this.eE){if(0===a)return this.Qd;if(this.tK===a-1&&void 0!==this.eE)this.eE+=this.ln[this.tK],++this.tK;else{for(var b=this.Lg||this.u3a(),c=Math.floor(a/this.EE),d=c*this.EE,b=b[c];d<a;++d)b+=this.ln[d];this.tK=a;this.eE=b;}}return this.eE;};a.prototype.Hd=function(a){return this.ec.Hd(a);};a.prototype.get=function(a){return new h(this,a);};a.prototype.qkb=function(a){var b,c,d;q.assert(0<=a);b=this.Km.JV;c=this.Km.uBa;d=this.p8;if(!d||!b||!c||a>=b.length)return[];for(var f=[],h=a===b.length-1?c.length:b[a+1],b=b[a];b<h;++b)f.push({Cm:c[b],Rc:this.Qh(a)+this.Ta.J_(c[b]).va,offset:d[b]});return f;};a.prototype.BDb=function(a){this.ZAa=a;};a.prototype.cm=function(a,b,c){return this.ec.cm(a,b,c);};a.prototype.DX=function(a,b,c){return this.ec.DX(a,b,c);};a.prototype.Nba=function(a,b){return this.ec.Nba(a,b);};a.prototype.MZ=function(a,b,c){var d,f,h,g,k,l,p,n,q;d=!0;f=0;g=this.ec.jo;k=this.ln;l=Math.floor(a*this.S/1E3);p=0;n=0;q=0;if(this.ec.mna&&this.ec.lna)for(f=this.ec.mna;f<=this.ec.lna;++f)p+=g[f],n+=k[f];if(n>b)d=!1;else for(;f<this.length&&(!c||f<c);){h=k[f];a=g[f];if(n+h>b&&p<l){d=!1;this.ec.mna=q;this.ec.lna=f;break;}for(;0<f-q&&n+h>b;)p-=g[q],n-=k[q],++q;p+=a;n+=h;++f;}return d;};a.prototype.subarray=function(b,c){q.assert(void 0===b||0<=b&&b<this.length);q.assert(void 0===c||c>b&&c<=this.length);return new a(this.ec.subarray(b,c),{offset:this.Wg(b),sizes:this.ln.subarray(b,c)},this.gH&&this.gH.subarray(b,c),this.tBa&&{Wg:this.tBa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length};};a.prototype.dump=function(){var b;k.trace("StreamFragments: "+this.length);for(var a=0;a<this.length;++a){b=this.get(a);k.trace("StreamFragments: "+a+": ["+b.T+"-"+b.na+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.Uab=function(){var a,b,c,d,f;b=0;c=this.ec.NLa;d=this.ec.jo;f=this.ln;if(void 0===c||c>=this.length){for(var h=0;h<this.length;++h)a=f[h]/d[h],a>b&&(b=a,c=h);void 0===this.ec.NLa&&(this.ec.NLa=c);}else b=f[c]/d[c];return Math.floor(b*this.S/125);};a.prototype.B8=function(){for(var a=0,b=0;b<this.length;++b)a+=this.ln[b];return this.MAa=a;};a.prototype.O3a=function(){return this.k$=new n.z7(this.ec.jo,this.ln,this.ec.S);};a.prototype.u3a=function(){var a;if(!this.Lg){a=p?new Float64Array(Math.ceil(this.length/this.EE)):Array(Math.ceil(this.length/this.EE));for(var b=this.Qd,c=0;c<a.length;++c){a[c]=b;for(var d=0;d<this.EE;++d)b+=this.ln[c*this.EE+d];}this.Lg=a;}return this.Lg;};return a;}();b.Owa=d;d.prototype.kSa=a.lO(d.prototype.Qh);},function(d,b,a){var g,q,n,k,p,h,f,t,m,r;function c(a,b){var c,d;c=Math.floor(1E3*a/b);d=1E3*Math.round(c/1E3);return new p.ka(d,Math.abs(Math.floor(1001*a/b)-d)>Math.abs(c-d)?1E3:1001);}Object.defineProperty(b,"__esModule",{value:!0});b.poa=void 0;g=a(0);q=a(58);n=a(7);k=a(407);p=a(34);h=a(6);f=a(17);t=a(11);m=a(229);r=a(406);d=function(){function a(b,d,f){this.K=d;this.G=f;this.Gw=new t.Dwa();this.hza=!1;this.v9=b.JB;this.Vc=b.R;this.Me=b.M;this.U7a=b.g2;this.Q2a=b.sA;1===this.Me&&(d=this.v9.streams[0],void 0!==d.framerate_value&&void 0!==d.framerate_scale&&(this.u9=c(d.framerate_value,d.framerate_scale).QPa()));this.Pl=(this.pE=this.u9)&&this.pE.S;this.g9=this.Nya=!1;this.Zfa=-Infinity;this.oLa=Infinity;b=a.Q3a(this,b.Af,b.Kp);d=b.Xo;f=b.Lc;this.P4a=b.UY;this.o5a=d;this.Jt=f;this.J7a=f.reduce(function(a,b){a[b.sa]=b;return a;},{});!1;}a.Q3a=function(a,b,c){var d,h,k,l,p,t;d=a.K;h=1===a.M;k={};d.pQ&&d.pQ.enabled&&d.pQ.profiles&&d.pQ.profiles.forEach(function(a){k[a]={action:d.pQ.action,applied:!1};});l=!1;p=0;t=[];a.JB.streams.forEach(function(m,u){var z,G,D,y,F;G=m.bitrate;D=m.vmaf;y=m.content_profile;F={inRange:!0,Jn:!0};if(h){z=-1===m.content_profile.indexOf("none");F.Jn=b&&!z||!b&&z;F.Jn&&c&&q(f.EL(m.content_profile,m.bitrate,c,a.G),F);if(G<d.nub||G>d.otb)F.inRange=!1;!n.Ma(D)&&(D<d.BO||D>d.ptb)&&(F.inRange=!1);k.hasOwnProperty(y)&&"keepLowest"===k[y].action&&(k[y].applied?F.inRange=!1:k[y].applied=!0);l=l||z;}F.inRange&&F.Jn&&G>p&&(p=G);m=new r.ooa(g.__assign({dy:m,Bg:u,track:a},F),d,a.G);t.push(m);});return{UY:l,Xo:p,Lc:t};};Object.defineProperties(a.prototype,{Uub:{get:function(){return!this.Xd&&!this.hza;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xd:{get:function(){return!!this.Km&&!!this.Gw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rca:{get:function(){return this.Nya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.Vc.u);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.v9.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.pE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hH:{get:function(){return this.E5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Km:{get:function(){return this.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qZ:{get:function(){return this.Gw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JB:{get:function(){return this.v9;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{g2:{get:function(){return this.U7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sA:{get:function(){return this.Q2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{UY:{get:function(){return this.P4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xo:{get:function(){return this.o5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lc:{get:function(){return this.Jt;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gea:{get:function(){return this.Ta.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fea:{get:function(){return this.Ta.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rda:{get:function(){return this.Gw;},enumerable:!1,configurable:!0}});a.prototype.Rr=function(a){return this.sG()[a];};a.prototype.sG=function(){return this.J7a;};a.prototype.equals=function(a){return this.u===a.u&&this.M===a.M&&this.cb===a.cb;};a.prototype.qja=function(){this.hza=!0;};a.prototype.Y_=function(a,b,c,d,f){if(d&&void 0!==d.Kj&&(this.Xd||void 0!==d.Hd&&d.Hd.length))if(a.Ou&&(this.Nya=!0),this.Xd)!this.g9&&d.Hd&&d.Hd.length>this.Km.length&&(this.ec=new k.O7(this.M,this.Ta,d,f),this.Gw.vQa(),this.Zfa=-Infinity,this.g9=!0);else{this.CAa(b);if(c=c||this.u9)this.BAa(c||this.u9),void 0===this.S&&this.DAa(c.S);this.ec=new k.O7(this.M,this.Ta,d,f);a.Ou&&(this.g9=!0);}else this.G&&this.G.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.fwb=function(a){void 0===this.Gw.value&&this.Gw.set(a);};a.prototype.Ocb=function(a){this.Xd||(this.DAa(a.S),this.CAa(a.hH),this.BAa(a.Ta),this.ec=a.Km,a.Rda.value?this.Gw.set(a.Rda.value):this.Gw.vQa());};a.prototype.yu=function(a,b,c,d){h.assert(this.qZ);return m.yu(this.M,a,this.qZ,b,c,d);};a.prototype.iB=function(a,b,c){h.assert(this.qZ);return m.iB(this.M,a,this.qZ,b,c);};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,trackId:this.cb};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.cb;};a.prototype.DAa=function(a){this.Pl=a;};a.prototype.CAa=function(a){this.E5a=a;};a.prototype.BAa=function(a){this.pE=a;};return a;}();b.poa=d;},function(d){function b(a,b){this.Ca=a;this.yh=b;}b.prototype.Yja=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,d=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),g=0;2>g;g++)var n=Math.abs(d),k=1/(1+n/2),n=k*Math.exp(-n*n-1.26551223+k*(1.00002368+k*(.37409196+k*(.09678418+k*(-.18628806+k*(.27886807+k*(-1.13520398+k*(1.48851587+k*(-.82215223+.17087277*k))))))))),n=(0<=d?n:2-n)-b,d=d+n/(1.1283791670955126*Math.exp(-(d*d))-d*n);a=1>a?d:-d;}return this.Ca-Math.sqrt(2*this.yh)*a;};d.P=b;},function(d,b,a){var g;function c(a){this.WH=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.WH[b]=a.charCodeAt(b);}g=new(a(4)).Console("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.WH.length;if(void 0===this.WH)g.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.WH[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.WH.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.WH[d%c]^a.charCodeAt(d));return b;};d.P=c;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=b.Dwa=void 0;c=a(49);d=function(){function a(a){this.o=a;this.listeners=[];this.VO=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.VO;this.VO=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.vQa=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0!==this.o&&a(this.o);};a.prototype.once=function(a){void 0!==this.o?a(this.o):this.VO.push(a);};a.prototype.rH=function(a){this.listeners=this.listeners.filter(function(b){return b!==a;});this.VO=this.VO.filter(function(b){return b!==a;});};return a;}();b.Dwa=d;d=function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({G1:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,d;c=this;if(void 0===a.value){d=function(d){c.remove(a,b);b(d);};this.listeners.push({G1:a,listener:b,NUa:d});a.once(d);}else a.once(b);};a.prototype.rH=function(a,b){var d,g;g=c.sn(this.listeners,function(c){return c.G1===a&&c.listener===b;});void 0!==g&&a.rH(null!==(d=g.NUa)&&void 0!==d?d:g.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.NUa;return a.G1.rH(null!==c&&void 0!==c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.G1!==a||c.listener!==b;});};return a;}();b.Ewa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;b.oGa=function(a,b){return a.filter(function(a){var c,d;a=null!==(d=null!==(c=a.qy)&&void 0!==c?c:a.Aga)&&void 0!==d?d:a.Fm;return!!a&&a.Yx(b);}).pop();};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Lta=void 0;c=a(49);g=a(6);d=function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b+a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null!==(b=this.data[a])&&void 0!==b?b:[];};a.prototype.has=function(a,b){return(a=this.data[a])?void 0===b?!0:-1!==a.indexOf(b):!1;};a.prototype.count=function(a){return(a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.Mr(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a]||(this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,d;c=this.data[a];if(void 0===c)return!1;if(void 0===b)return g.assert(1===arguments.length),delete this.data[a],!0;d=c.indexOf(b);if(-1===d)return!1;1===c.length?delete this.data[a]:c.splice(d,1);return!0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0!==b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(d){return a(d,b,c);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0!==c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Mr(this.keys().map(function(b){return d.data[b].map(function(c){return a(c,b,d);});}));};a.prototype.filter=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Mr(this.keys().map(function(b){return d.data[b].filter(function(c){return a(c,b,d);});}));};return a;}();b.Lta=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.JJ=b.z1a=void 0;c=a(0);d=function(){function a(a,b){this.o=a;this.Fu=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1===this.Fu.indexOf(a)&&(this.Fu=this.Fu.slice(),this.Fu.push(a));};a.prototype.removeListener=function(a){a=this.Fu.indexOf(a);-1!==a&&(this.Fu=this.Fu.slice(),this.Fu.splice(a,1));};return a;}();b.z1a=d;d=function(a){function b(b,c){return a.call(this,b,c)||this;}c.__extends(b,a);Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b,c;b=this.o;c=this.Fu;this.o=a;c.forEach(function(c){return c({oldValue:b,newValue:a});});};return b;}(d);b.JJ=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Bwa=void 0;c=a(11);d=a(4);g=d.Tj;new d.Console("ASEJS_SIDECHANNEL","media|asejs");d=function(){function a(a,b,d){this.sm=d;this.q8a=new c.Xxa(a);this.p8a=b.ha;this.n3a=1E3*b.Dtb/b.wab;this.b4a=b.ux;this.Rz=b.oba;}a.prototype.xn=function(a){var b,d,h,f;b={s_xid:this.p8a,dl:this.b4a?1:0};a.XL&&(b.bs=c.kW(Math.floor(a.XL/this.n3a)+1,1,5));a.R_&&(b.limit_rate=a.R_);a.xCa&&(b.bb_reason=a.xCa);a.iTa&&(b.tm=a.iTa);if(a.wW){d=0;h=0;f=0;a.XL&&a.XL>this.Rz.FO&&(this.Rz.tP[0]&&(d=this.Rz.tP[0]*a.wW),this.Rz.tP[1]&&(h=this.Rz.tP[1]*a.wW),this.Rz.tP[2]&&(f=this.Rz.tP[2]*a.wW));b.cpr_ss=d;b.cpr_ca=h;b.cpr_rec=f;}return this.j6a(b);};a.prototype.Ela=function(a,b){var c,d;try{c=new g(void 0,"notification");d=this.xn({xCa:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(f){this.sm("SideChannel: Error when sending sendBlackBoxNotification. Error: "+f);}};a.prototype.j6a=function(a){var b;try{b=this.v7a(a);return this.q8a.encrypt(b);}catch(p){this.sm("SideChannel: Error when obfuscating msg. Error: "+p);}};a.prototype.v7a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();b.Bwa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J;Object.defineProperty(b,"__esModule",{value:!0});b.Una=void 0;c=a(0);g=a(21);q=a(409);n=a(230);k=a(817);p=a(215);h=a(815);f=a(810);m=a(769);r=a(156);u=a(370);D=a(49);J=a(6);d=function(){function a(a){this.G=a;this.events=new g.EventEmitter();this.oo=q.Rv.CLOSED;this.WE=[];this.TU=[];this.Qw=[];this.I4a=new k.gra(a);}Object.defineProperties(a.prototype,{state:{get:function(){return this.oo;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rIb:{get:function(){return this.WE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zxb:{get:function(){return this.TU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cyb:{get:function(){return this.Qw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ub:{get:function(){this.PC();return this.lu.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rm:{get:function(){this.PC();return this.lu.rm;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Cf:{get:function(){this.PC();return this.lu.Cf;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b){if(this.oo===q.Rv.OPEN)return!1;this.KE=new m.awa(this.bha.bind(this),a);this.lu=p.hD.gIa(a,b);this.oo=q.Rv.OPEN;return!0;};a.prototype.d9a=function(a,b){this.PC();a=new f.moa(this.G,a,100,b,this.$p.bind(this),this.KE.fM.bind(this.KE));this.Qw.push(a);return a;};a.prototype.HAb=function(a){this.Qw=this.Qw.filter(function(b){return b!==a;});a.close();};a.prototype.b9a=function(a){this.PC();a=new h.loa(a,[0,1]);this.TU.push(a);return a;};a.prototype.GAb=function(a){this.PC();this.TU=this.TU.filter(function(b){return b!==a;});a.Bn();};a.prototype.k9a=function(a,b,d,f){var l,p,q;function h(a){return q[a];}function g(){}function k(a){l.events.emit("logdata",a);}l=this;this.PC();p=r.yp.eg.OA("headers",""+a,!1,!1,{},f);p.Db();q=[new u.P5(0),new u.P5(1)];a={oa:a,ya:b,config:f,hQ:f.$A?c.__assign(c.__assign({},d.hQ),{sm:g,Zp:h}):void 0,ib:function(){return!0;},Ki:d.Ki,gN:void 0,ub:this.lu.ub,Cf:this.lu.Cf,pda:{HG:function(){return!0;},Tr:g,zg:this.zg.bind(this,a),Ro:this.Ro.bind(this,a),zm:this.zm.bind(this,a),ql:k},Sfa:{ql:k,wY:function(){return p;},Zp:h,AZ:function(){return!0;},Pe:void 0,Kc:void 0,Rf:void 0,Rx:void 0},tC:{bF:this.KE.bF.bind(this.KE),Q0:this.KE.Q0.bind(this.KE)},Xa:0,Bk:void 0,qia:{DZ:!1,Rga:!1},Kp:[],nH:g};a=new n.sR(a);this.WE.push(a);};a.prototype.$p=function(a){var b;b=D.sn(this.WE,function(b){return b.oa===a;});if(b)return b;};a.prototype.close=function(){this.oo!==q.Rv.CLOSED&&(this.wAb(),delete this.lu,this.oo=q.Rv.CLOSED);};a.prototype.eQa=function(a){J.assert(!a.Ika.Zw,"Viewable has outstanding leases");this.WE=this.WE.filter(function(b){return b!==a;});a.close();a.wc();};a.prototype.bha=function(){var a;a=this.vfa();return this.I4a.nwb(a);};a.prototype.vfa=function(){var a;a=this.Qw.map(function(a){return a.vfa();});return D.Mr(a);};a.prototype.PC=function(){if(this.oo===q.Rv.CLOSED)throw Error("Engine CLOSED");};a.prototype.wAb=function(){var a,b;try{for(var d=c.__values(this.WE),f=d.next();!f.done;f=d.next())this.eQa(f.value);}catch(aa){a={error:aa};}finally{try{f&&!f.done&&(b=d["return"])&&b.call(d);}finally{if(a)throw a.error;}}};a.prototype.zg=function(a,b,c,d,f,h){this.Qw.forEach(function(g){return g.zg(b,a,c,d,f,h);});};a.prototype.Ro=function(){return this.Qw.some(function(a){return a.Ro();});};a.prototype.zm=function(){this.Qw.forEach(function(a){return a.zm();});};return a;}();b.Una=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.construct=void 0;c=a(869);g=a(4);b.construct=function(){var a;a=new g.Console("ASEJS","media|asejs");return new c.Una(a);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(870);Object.defineProperty(b,"construct",{enumerable:!0,get:function(){return c.construct;}});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(871),b);d.__exportStar(a(409),b);d.__exportStar(a(768),b);d.__exportStar(a(211),b);d.__exportStar(a(767),b);d.__exportStar(a(766),b);d.__exportStar(a(765),b);d.__exportStar(a(764),b);d.__exportStar(a(763),b);},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.y7=void 0;c=a(0);d=a(21);g=a(4);q=a(872);n=a(11);k=a(6);p=a(762);h=a(754);f=new g.Console("ASEJS","media|asejs");f.trace.bind(f);d=function(b){function d(c,d){var C93,h;C93=2;while(C93!==13){var Z93="1";Z93+="SI";Z93+="YbZrNJC";Z93+="p9";var l93="DE";l93+="BU";l93+="G:";var T93="n";T93+="f";T93+="-";T93+="ase shi";T93+="m version:";switch(C93){case 2:h=b.call(this)||this;h.config=c;h.Iv=d;c=a(368);C93=9;break;case 14:return h;break;case 9:h.console=f;h.console.trace(T93,c,l93,!1);h.$f=q.construct();Z93;C93=14;break;}}}var A93;A93=2;while(A93!==20){var u43="s";u43+="0";switch(A93){case 4:Object.defineProperties(d.prototype,{Cf:{get:function(){var R93;R93=2;while(R93!==1){switch(R93){case 4:return this.$f.Cf;break;R93=1;break;case 2:return this.$f.Cf;break;}}},enumerable:!1,configurable:!0}});d.prototype.Db=function(){var H93;H93=2;while(H93!==1){switch(H93){case 2:this.$f.open(this.config,this.Iv);H93=1;break;}}};d.prototype.dQ=function(){};d.prototype.p0=function(){};d.prototype.yn=function(a,b,c,f,h,g,k,l,q,m){var v93,t;v93=2;while(v93!==14){var h43="cre";h43+="a";h43+="t";h43+="ing ";h43+="session";switch(v93){case 2:this.console.trace(h43);this.$f.ub.reset();v93=4;break;case 4:q=a.movieId;m=m||d.dgb;t=this.dfb(a,l,h,m,f);c={Na:m,offset:n.ka.Bf(c)};q=this.$f.$p(q).Ika.add();return this.a_=new p.Awa(this.console,this,a,t,b,c,f,h,g,k,m,l,q);break;}}};A93=6;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{ub:{get:function(){var Y93;Y93=2;while(Y93!==1){switch(Y93){case 2:return this.$f.ub;break;case 4:return this.$f.ub;break;Y93=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rm:{get:function(){var y93;y93=2;while(y93!==1){switch(y93){case 4:return this.$f.rm;break;y93=1;break;case 2:return this.$f.rm;break;}}},enumerable:!1,configurable:!0}});A93=4;break;case 6:d.prototype.dfb=function(a,b,c,d,f){var g93,g;g93=2;while(g93!==9){switch(g93){case 3:return this.$f.d9a(a,b);break;case 2:g=Number(a.movieId);this.$f.$p(g)||this.$f.k9a(g,a,{Ki:!!f.Ki,hQ:{aC:c.aC,ha:c.ha,ux:c.ux}},b);a=a.choiceMap?h.lDa(a.choiceMap):h.XRa(g,d);g93=3;break;}}};d.prototype.Rbb=function(){var W93;W93=2;while(W93!==1){switch(W93){case 4:this.ub.bQ(1);W93=9;break;W93=1;break;case 2:this.ub.bQ(null);W93=1;break;}}};d.prototype.JAb=function(a){var i93,b;i93=2;while(i93!==6){switch(i93){case 3:b=this.$f.$p(a.u);k.assert(b);b.Ika.Zw||this.$f.eQa(b);a===this.a_&&delete this.a_;i93=6;break;case 2:this.Rbb();this.$f.HAb(a.qb);this.$f.GAb(a.Tl);i93=3;break;}}};A93=12;break;case 12:d.prototype.Bn=function(){var k93;k93=2;while(k93!==9){var z43="Attempt ";z43+="to destruc";z43+="t ShimManager with latest session still define";z43+="d";var J43="Attemp";J43+="ted t";J43+="o destru";J43+="ct ShimManager with v";J43+="iewables present in ASE";var D43="Attempted to d";D43+="estruct ShimMan";D43+="ager with players ";D43+="present in";D43+=" ASE";var F43="Attempted to destruct S";F43+="h";F43+="imManager with playgraphs present in ASE";switch(k93){case 2:k.assert(0===this.$f.cyb.length,F43);k.assert(0===this.$f.Zxb.length,D43);k.assert(0===this.$f.rIb.length,J43);k.assert(void 0===this.a_,z43);this.$f.close();k93=9;break;}}};d.dgb=u43;return d;break;}}}(d.EventEmitter);b.y7=d;},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,g,n){g=n?g.bind(n):g;if(a){this.console&&(g=b.bind(null,this.console,g,d));if("function"===typeof a.addListener)a.addListener(d,g);else if("function"===typeof a.addEventListener)a.addEventListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.P=a;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.dta=void 0;c=a(0);g=a(21);q=a(873);n=a(753);k=a(215);d=new(a(4)).Console("ASEJS","media|asejs");d.trace.bind(d);p=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];d=function(a){function b(b,c){var d;d=a.call(this)||this;d.K=b;d.Eb=new n.usa(b,c);b.mX&&(d.Gk=new q.y7(b,c));d.sk=new g.Fl();p.forEach(function(a){d.sk.on(d.Eb,a,function(b){return d.emit(a,b);});d.Gk&&d.sk.on(d.Gk,a,function(b){return d.emit(a,b);});});return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{ub:{get:function(){return this.Eb.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rm:{get:function(){return this.Eb.rm;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{op:{get:function(){return this.Eb.op;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fy:{get:function(){return this.Eb.Fy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xga:{get:function(){return this.Eb.Xga;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{FC:{get:function(){return this.Eb.FC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pe:{get:function(){return this.Eb.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cf:{get:function(){return this.Eb.Cf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iga:{get:function(){return this.Eb.iga;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{p0:{get:function(){return this.Eb.p0.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iO:{get:function(){return this.Eb.iO.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mha:{get:function(){return this.Eb.Mha.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{CRa:{get:function(){return this.Eb.CRa.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aY:{get:function(){return this.Eb.aY.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tIa:{get:function(){return this.Eb.tIa.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xu:{get:function(){return this.Eb.Xu.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qDa:{get:function(){return this.Eb.qDa.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{q2:{get:function(){return this.Eb.q2.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bW:{get:function(){return this.Eb.bW.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cM:{get:function(){return this.Eb.cM.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qaa:{get:function(){return this.Eb.Qaa.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dM:{get:function(){return this.Eb.dM.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aW:{get:function(){return this.Eb.aW.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OCa:{get:function(){return this.Eb.OCa.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NCa:{get:function(){return this.Eb.NCa.bind(this.Eb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nRa:{get:function(){return this.Eb.nRa.bind(this.Eb);},enumerable:!1,configurable:!0}});b.prototype.Db=function(a,b,c,d,f,g){this.Eb.Db(a,b,c,d,f,g);this.Gk?this.Gk.Db(a,b,c,d,f,g):this.IKa={q$a:a,jIb:b,vfb:c,Fy:d,FC:f,Mtb:g};};b.prototype.dQ=function(a,b,c){this.Eb.dQ(a,b,c);this.Gk?this.Gk.dQ(a,b,c):this.LKa={OEb:a,Fy:b,FC:c};};b.prototype.yn=function(a,b,c,d,f,g,h,k,l,n){var m,t,r,u;m=this;if(this.Eb.config.mX&&!this.Gk){this.Gk=new q.y7(this.Eb.config,this.Eb.Iv);p.forEach(function(a){m.sk.on(m.Gk,a,function(b){return m.emit(a,b);});});if(this.IKa){t=this.IKa;r=t.Fy;u=t.FC;this.Gk.Db(t.q$a,t.jIb,t.vfb,r,u,t.Mtb);}this.LKa&&(u=this.LKa,t=u.OEb,r=u.Fy,u=u.FC,this.Gk.dQ(t,r,u));}return this.Gk&&k.GI?this.Gk.yn(a,b,c,d,f,g,h,k,l,n):this.Eb.yn(a,b,c,d,f,g,h,k,l,n);};b.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};b.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};b.prototype.Bn=function(){var a;this.sk.clear();this.Eb.Bn();null===(a=this.Gk)||void 0===a?void 0:a.Bn();k.hD.reset();};return b;}(g.EventEmitter);b.dta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ma=void 0;d=a||(a={});d[d.Gg=0]="STARTING";d[d.we=1]="BUFFERING";d[d.Eg=2]="REBUFFERING";d[d.Nc=3]="PLAYING";d[d.VD=4]="STOPPING";d[d.Tm=5]="STOPPED";d[d.Ch=6]="PAUSED";b.ma=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(900),b);d.__exportStar(a(899),b);d.__exportStar(a(898),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Ve=void 0;d=a||(a={});d[d.Tm=0]="STOPPED";d[d.we=1]="BUFFERING";d[d.Eg=2]="REBUFFERING";d[d.AT=3]="STREAMING";b.Ve=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.eta=void 0;c=a(0);g=a(1);q=a(249);d=function(){var b;function a(a){this.nib=a;this.ctb={Gr:"drmType",WRb:"drmVersion",vda:"expiration",mTb:"isUsingLegacyBatchingAPI",dx:"bookmark",u:"movieId",rl:"packageId",duration:"duration",ig:"playbackContextId",LEa:["defaultTrackOrderList",{WG:"mediaId",qWb:"videoTrackId",eFb:"subtitleTrackId",zA:"audioTrackId",MUb:"preferenceOrder"}],jk:"drmContextId",Eob:"hasDrmProfile",Cob:"hasClearProfile",VY:"hasDrmStreams",Dob:"hasClearStreams",lm:["locations",{Sf:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Bq:["servers",{id:"id",name:"name",type:"type",Sf:"rank",pLa:"lowgrade",Ygb:["dns",{host:"host",aqb:"ipv4",bqb:"ipv6",Mjb:"forceLookup"}],key:"key"}],iCa:["audio_tracks",{type:"type",Lm:"trackType",oq:"new_track_id",$ma:"track_id",bzb:"profileType",BEb:"stereo",profile:"profile",Ao:"channels",language:"language",ubb:"channelsFormat",sFb:"surroundFormatLabel",SZ:"languageDescription",QRb:"disallowedSubtitleTracks",ERb:"defaultTimedText",isNative:"isNative",dc:["streams",{Nca:"downloadable_id",size:"size",uF:"content_profile",Lm:"trackType",O:"bitrate",Ou:"isDrm",me:["urls",{ZCa:"cdn_id",url:"url"}],cvb:"new_stream_id",type:"type",Ao:"channels",ubb:"channelsFormat",sFb:"surroundFormatLabel",language:"language",AQb:"audioKey"}],bcb:"codecName",uP:"rawTrackType",id:"id"}],Pv:["video_tracks",{Lm:"trackType",oq:"new_track_id",type:"type",$ma:"track_id",Eob:"hasDrmProfile",Cob:"hasClearProfile",VY:"hasDrmStreams",Dob:"hasClearStreams",dc:["streams",{Nca:"downloadable_id",size:"size",uF:"content_profile",Lm:"trackType",O:"bitrate",Ou:"isDrm",me:["urls",{ZCa:"cdn_id",url:"url"}],cvb:"new_stream_id",type:"type",EUb:"peakBitrate",Mgb:"dimensionsCount",Ngb:"dimensionsLabel",zxb:"pix_w",yxb:"pix_h",hBb:"res_w",gBb:"res_h",tfb:"crop_x",ufb:"crop_y",sfb:"crop_w",rfb:"crop_h",Tjb:"framerate_value",Sjb:"framerate_scale",GVb:"startByteOffset",uc:"vmaf"}],bzb:"profileType",BEb:"stereo",profile:"profile",Mgb:"dimensionsCount",Ngb:"dimensionsLabel",Qca:["drmHeader",{aa:"bytes",Dbb:"checksum",Xr:"keyId"}],HH:["prkDrmHeaders",{aa:"bytes",Dbb:"checksum",Xr:"keyId",wQa:["resolution",{height:"height",width:"width"}]}],Ex:"flavor",ZSb:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Cxb:"pixelAspectX",Dxb:"pixelAspectY",GTb:"maxCroppedWidth",FTb:"maxCroppedHeight",HTb:"maxCroppedX",ITb:"maxCroppedY",LTb:"max_framerate_value",KTb:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",XTb:"minCroppedWidth",WTb:"minCroppedHeight",YTb:"minCroppedX",ZTb:"minCroppedY",pi:["license",{Mrb:"licenseResponseBase64",TUb:"providerSessionToken",VRb:"drmSessionId",links:["links",{}]}]}],YCa:["cdnResponseData",{yC:"sessionABTestCell",aC:"pbcid"}],iu:["choiceMap",{Jh:"initialSegment",type:"type",oa:"viewableId",Va:["segments",{ww:[q.ww,{mf:"startTimeMs",tg:"endTimeMs",next:["next",{ww:[q.ww,{weight:"weight"}]}],gl:"defaultNext"}]}]}],Npb:["initialHeader",{Z:["fragments",{na:"endPts"}]}],media:["media",{id:"id",zl:["tracks",{AUDIO:"AUDIO",J7:"TEXT",VIDEO:"VIDEO"}]}],RFb:["timedtexttracks",{Lm:"trackType",oq:"new_track_id",type:"type",uP:"rawTrackType",SZ:"languageDescription",language:"language",id:"id",Nga:"isNoneTrack",Jga:"isForcedNarrative",hhb:["downloadableIds",{}],obb:["cdnlist",{id:"id",name:"name",type:"type",Sf:"rank",pLa:"lowgrade",Ygb:["dns",{host:"host",aqb:"ipv4",bqb:"ipv6",Mjb:"forceLookup"}],key:"key"}],EGb:["ttDownloadables",{ww:[q.ww,{size:"size",PVb:"textKey",RSb:"hashValue",QSb:"hashAlgo",gTb:"isImage",y_:"midxOffset",Fia:"midxSize",height:"height",width:"width",tu:["downloadUrls",{}]}]}],IZ:"isLanguageLeftToRight"}],AGb:["trickplays",{Nca:"downloadable_id",size:"size",me:"urls",id:"id",interval:"interval",Fxb:"pixelsAspectY",Exb:"pixelsAspectX",width:"width",height:"height"}],KUa:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],URb:"dpsid",Si:"isBranching",rWb:"viewableType",BB:"isSupplemental",Vbb:"clientIpAddress",fWb:"urlExpirationDuration",BTb:"manifestExpirationDuration",HVb:["steeringAdditionalInfo",{IVb:"steeringId",uQb:"additionalGroupNames",JVb:["streamingClientConfig",{}]}]};}a.prototype.VF=function(a){this.nib.VF(a,this.ctb);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.i4))],b);}();b.eta=d;},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.fta=void 0;c=a(0);g=a(414);q=a(1);n=a(40);k=a(3);p=a(413);h=a(412);d=function(){var b;function a(a,b,c,d){this.Ja=a;this.dtb=b;this.Orb=c;this.atb=d;}a.prototype.create=function(a){var b;b=this.Orb();this.vqb(a)?(a.clientGenesis=a.clientGenesis||this.Ja.ef.ba(k.ia),a=this.dtb.decode(a),b.R8a(a)):b.P$(a.links);this.atb.VF(a);return{Pf:a,Bj:b};};a.prototype.vqb=function(a){return!!a.runtime;};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(n.Bi)),c.__param(1,q.l(g.C5)),c.__param(2,q.l(p.B6)),c.__param(3,q.l(h.y5))],b);}();b.fta=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.jta=void 0;c=a(0);g=a(1);q=a(234);d=function(){var b;function a(){}a.prototype.decode=function(a){var b,c;b=this.onb(a.cdns);c=this.Elb(a);return{movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.Tea(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.klb(a),timedtexttracks:this.Inb(a.textTracks,b),media:this.oG(a.media),trickplays:this.Onb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.vda,urlExpirationDuration:c.tUa,manifestExpirationDuration:c.tUa,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:""};};a.prototype.klb=function(a){var b,c,d;b=S(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};a.prototype.Tea=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};a.prototype.onb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};a.prototype.NIa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};a.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.vkb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};a.prototype.vkb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.NIa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};a.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.Ynb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:!!b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};a.prototype.Ynb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.NIa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};a.prototype.Inb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.Dnb(a.downloadables),ttDownloadables:c.Enb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};a.prototype.Dnb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};a.prototype.Rmb=function(a){var b;b=q.GT.jfa();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(fa(a.map(function(a){return a.pixHeight;}))));};a.prototype.Enb=function(a){var b;if(a){b=this.Rmb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};a.prototype.oG=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};a.prototype.Onb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};a.prototype.Elb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return{tUa:1E3*b,vda:a.clientGenesis+1E3*b};};a.prototype.encode=function(){throw Error("encode not supported");};b=a;return b=c.__decorate([g.N()],b);}();b.jta=d;},function(d,b){function a(a){this.cc=a;this.rb=JSON.stringify(this.imb());}Object.defineProperty(b,"__esModule",{value:!0});b.kta=void 0;a.prototype.imb=function(){var a;a=[];(!this.cc.qj||0>=this.cc.qj.length)&&a.push({error:"No CDN."});this.cc.MW||a.push({error:"No default audio track.",foundTracks:this.Iea(this.cc.tn)});this.cc.tca||a.push({error:"No default video track.",foundTracks:this.Iea(this.cc.Mm)});this.cc.sca||a.push({error:"No default subtitle track.",foundTracks:this.Iea(this.cc.Ik)});return a;};a.prototype.Iea=function(a){return a&&0<a.length?a.map(function(a){return a.cb;}):"No tracks found.";};b.kta=a;},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.gta=void 0;c=a(0);g=a(1);q=a(41);n=a(28);k=a(37);p=a(140);h=a(48);d=function(){var b;function a(a,b){a=q.$d.call(this,a,"ManifestParserConfigImpl")||this;a.am=b;return a;}ca(a,q.$d);na.Object.defineProperties(a.prototype,{Cma:{configurable:!0,enumerable:!0,get:function(){return[];}},Zda:{configurable:!0,enumerable:!0,get:function(){return"";}},Zaa:{configurable:!0,enumerable:!0,get:function(){return[];}},Yaa:{configurable:!0,enumerable:!0,get:function(){return[];}},aea:{configurable:!0,enumerable:!0,get:function(){return"";}},kga:{configurable:!0,enumerable:!0,get:function(){return 0;}},yI:{configurable:!0,enumerable:!0,get:function(){return this.am.yI.ba(h.Mq);}},Jv:{configurable:!0,enumerable:!0,get:function(){return this.am.Jv;}}});b=a;c.__decorate([k.config(k.X1,"supportedAudioTrackTypes")],b.prototype,"Cma",null);c.__decorate([k.config(k.string,"forceAudioTrack")],b.prototype,"Zda",null);c.__decorate([k.config(k.jna,"cdnIdWhiteList")],b.prototype,"Zaa",null);c.__decorate([k.config(k.jna,"cdnIdBlackList")],b.prototype,"Yaa",null);c.__decorate([k.config(k.string,"forceTimedTextTrack")],b.prototype,"aea",null);c.__decorate([k.config(k.Nv,"imageSubsResolution")],b.prototype,"kga",null);c.__decorate([k.config(k.Nv,"timedTextSimpleFallbackThreshold")],b.prototype,"yI",null);c.__decorate([k.config(k.X1,"timedTextProfiles")],b.prototype,"Jv",null);return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ei)),c.__param(1,g.l(p.OD))],b);}();b.gta=d;},function(d,b,a){var g,q,n,k;function c(a,b){return q.CJ.call(this,a,b)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.Txa=void 0;g=a(112);q=a(419);n=a(77);k=a(130);ca(c,q.CJ);c.prototype.Xwb=function(a){var b,c;b=this;a=S(g.ps(function(a){return a.dc&&0<a.dc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.oq});});a=c.map(function(a){var c;c=a.Lm;c={type:n.Dg.video,cb:a.oq,wB:a.$ma,Lm:k.JT[c.toLowerCase()]||k.Ym.ND,uP:c,dc:[],Tg:{},HH:a.HH};c.dc=b.wTa(a.dc,c);b.log.trace("Transformed video track",{StreamCount:c.dc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.Twb=function(a){var b;b=a.map(function(a){return a.HH;}).filter(Boolean);b=[].concat.apply([],[].concat(fa(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.Qca;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};b.Txa=c;},function(d,b,a){var g,q,n,k,p;function c(a,b,c,d){a=q.CJ.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.woa=void 0;g=a(445);q=a(419);n=a(112);k=a(77);p=a(130);ca(c,q.CJ);c.prototype.Jwb=function(a,b,c){var d,f,h;d=this;a=S(n.ps(function(a){return a.dc&&0<a.dc.length;},a));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.LIa(a));});h=this.config.Cma;a=S(n.ps(function(a){return 0===h.length||0<=h.indexOf(a.Lm);},f));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.LIa(a));});a=f.map(function(a){var f;f=a.Lm;f={type:k.Dg.audio,cb:a.oq,wB:a.$ma,Lm:p.JT[f.toLowerCase()]||p.Ym.ND,uP:f,bl:a.language,displayName:a.SZ,Ao:a.Ao,gRb:a.Ao,fRb:Number(a.Ao[0]),Ik:d.skb(a.oq,b,c),Tg:{Bcp47:a.language,TrackId:a.oq},dc:[],isNative:a.isNative};f.dc=d.wTa(a.dc,f);d.log.trace("Transformed audio track",f,{StreamCount:f.dc.length,AllowedTimedTextTracks:f.Ik.length});f.bcb=g.Y2[f.dc[0].Qf];return f;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.x$a=function(a){var b,c;b=this;c=this.config.Zda;if(c){if(a=S(a.filter(function(a){return a.bl==c||a.cb==c;})).next().value)return a;}else if(this.j.MX&&(a=S(a.filter(function(a){return a.cb==b.j.MX;})).next().value))return a;};c.prototype.LIa=function(a){return{language:a.SZ,bcp47:a.language,type:a.Lm};};c.prototype.skb=function(a,b,c){return b.filter(function(b){return b.zl.AUDIO===a;}).map(function(a){return a.zl.J7;}).map(function(a){return c.find(function(b){return b.cb===a;});}).filter(Boolean);};b.woa=c;},function(d,b){function a(a,b,d){this.log=a;this.j=b;this.ena=d;}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=void 0;a.prototype.Wwb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.me&&0<a.me.length;}).map(function(a){return b.ena(b.j,a.id,a.height,a.width,a.Exb,a.Fxb,a.size,{unknown:a.me[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.yxa=a;},function(d,b){function a(a,b,d,g,k){this.$aa=a;this.SSa=b;this.xGb=d;this.gCa=g;this.CUa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.ita=void 0;a.prototype.Bja=function(a){var b,c,d,g,p,h,f,m,r,u,D,J,F,L,H;b=a.Pf;a=this.$aa.ZNa(b.Bq,b.lm,!0);c=this.SSa.Vwb(b.RFb);d=this.xGb.Wwb(b.AGb);g=this.gCa.Jwb(b.iCa,b.media,c);p=this.CUa.Xwb(b.Pv);h=this.Swb(b,g,c);f=h[0];m=p[0];r=this.gCa.x$a(g)||f.jd||g[0];f=this.SSa.OFb(r.Ik)||f.tc||r.Ik[0];u=this.CUa.Twb(b.Pv);D=b.ig;J=b.Vbb;F=b.VY;L=b.jk;H=b.iCa.findIndex(function(a){return a.oq==r.cb;});b=b.Pv.findIndex(function(a){return a.oq==m.cb;});return{vq:u,qj:a,tn:g,Mm:p,Ik:c,Mv:d,ig:D,QCb:J,Su:F,jk:L,GEa:H,MEa:b,z0:h,tca:m,MW:r,sca:f};};a.prototype.Swb=function(a,b,d){var c,g;c=[];g=a.LEa[0];c.push({jd:b.find(function(a){return a.wB===g.zA;}),tc:d.find(function(a){return a.wB===g.eFb;}),NUb:0});return c;};b.ita=a;},function(d,b,a){var g,q,n,k;function c(a,b,c,d,g){this.log=a;this.config=b;this.j=c;this.$aa=d;this.Uja=g;}Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;g=a(61);q=a(10);n=a(130);k=a(234);c.prototype.Vwb=function(a){var b;b=this;a=a.map(function(a){var c,d,f;c=b.mGb(a);!1!==a.Nga||c.length||b.log.error("track without downloadables",b.VHa(a));!0!==a.Jga||c.length||b.log.error("forced track without downloadables",b.VHa(a));d={};f=[];if(0<c.length){d=c[0];f=d.profile;if(f==g.Ok.GD||f==g.Ok.QS)d=b.pCb(c);f=b.$aa.ZNa(a.obb,void 0,!1);}a=b.Uja(b.j,a.oq,a.id,d.ld,d.me||{},f,a.language,a.SZ,n.JT[a.Lm.toLowerCase()]||n.Ym.ND,a.uP.toUpperCase(),d.profile,b.omb(d)||{},a.Nga,a.Jga,a.IZ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.OFb=function(a){var b,c;b=this;c=this.config.aea;if(c){if(a=S(a.filter(function(a){return a.bl==c||a.cb==c;})).next().value)return a;}else if(this.j.NX&&(a=S(a.filter(function(a){return a.cb==b.j.NX;})).next().value))return a;};c.prototype.mGb=function(a){var b,c,d;b=this;c=a.EGb;d=a.hhb;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{ld:d[a],profile:a,size:f.size||0,ie:b.vlb(a,f),offset:f.y_||0,xxb:f.width,yOa:f.height,me:f.tu};});a.sort(function(a,b){return a.ie-b.ie;});return a;};c.prototype.vlb=function(a,b){var c,d;c=this.config.Jv.indexOf(a);b=b.size;d=this.config.yI;return a===g.Ok.E3&&0<d&&b>d?this.config.Jv.length+1:0<=c?c:this.config.Jv.length;};c.prototype.omb=function(a){if(a.profile===g.Ok.GD||a.profile===g.Ok.QS)return{offset:a.offset,length:a.size,wQa:{width:a.xxb,height:a.yOa}};};c.prototype.pCb=function(a){var b,c;b=this.config.kga||k.GT.jfa();c=S(a.filter(function(a){return a.profile===g.Ok.GD||a.profile===g.Ok.QS;}).filter(function(a){return a.yOa===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:q.Xq.height,intendedResolution:b});return a[0];};c.prototype.VHa=function(a){return{isNone:a.Nga,isForced:a.Jga,bcp47:a.language,id:a.oq};};b.ixa=c;},function(d){d.P=function(b){return function(){return!b.apply(this,arguments);};};},function(d,b,a){var c,g;c=a(923);b=a(51);g=a(426);a=b(function(a,b){return g(c(a),b);});d.P=a;},function(d,b,a){b=a(168);a=a(236);a=b(a);d.P=a;},function(d,b,a){b=a(51)(function(a,b){for(var c=0;c<a.length;){if(null==b)return;b=b[a[c]];c+=1;}return b;});d.P=b;},function(d,b,a){var c;b=a(51);c=a(926);a=b(function(a,b){return c([a],b);});d.P=a;},function(d,b,a){var c,g;b=a(51);c=a(423);g=function(){function a(a,b){this.kR=b;this.XM=a;}a.prototype["@@transducer/init"]=c.Db;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.kR["@@transducer/step"](a,this.XM(b));};return a;}();a=b(function(a,b){return new g(a,b);});d.P=a;},function(d,b,a){var c,g,q,n,k,p;b=a(51);c=a(425);g=a(421);q=a(236);n=a(928);k=a(420);p=a(422);a=b(c(["fantasy-land/map","map"],n,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return k(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return q(function(c,d){c[d]=a(b[d]);return c;},{},p(b));default:return g(a,b);}}));d.P=a;},function(d,b,a){var c,g;b=a(51);c=a(929);g=a(927);a=b(function(a,b){return c(g(a),b);});d.P=a;},function(d,b,a){b=a(51)(function(a,b){return b>a?b:a;});d.P=b;},function(d,b,a){var g,q;function c(a,b,d){return function(){var p;for(var h=[],f=0,k=a,l=0;l<b.length||f<arguments.length;){l<b.length&&(!q(b[l])||f>=arguments.length)?p=b[l]:(p=arguments[f],f+=1);h[l]=p;q(p)||--k;l+=1;}return 0>=k?d.apply(this,h):g(k,c(a,h,d));};}g=a(235);q=a(167);d.P=c;},function(d,b,a){var c,g,q,n,k;b=a(51);c=a(421);g=a(420);q=a(931);n=a(930);k=a(925);a=b(function(a,b){return g(k(q,0,n("length",b)),function(){var d,g;d=arguments;g=this;return a.apply(g,c(function(a){return a.apply(g,d);},b));});});d.P=a;},function(d,b,a){var c;b=a(111);c=a(933);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});d.P=a;},function(d,b,a){var c,g;c=a(237);g=Object.prototype.toString;d.P=function(){return"[object Arguments]"===g.call(arguments)?function(a){return"[object Arguments]"===g.call(a);}:function(a){return c("callee",a);};};},function(d,b,a){var c,g;b=a(51);c=a(423);g=function(){function a(a,b){this.kR=b;this.XM=a;}a.prototype["@@transducer/init"]=c.Db;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.XM(b)?this.kR["@@transducer/step"](a,b):a;};return a;}();a=b(function(a,b){return new g(a,b);});d.P=a;},function(d,b,a){var c;c=a(235);b=a(51)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});d.P=b;},function(d){var b;b=function(){function a(a){this.XM=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.XM(a,b);};return a;}();d.P=function(a){return new b(a);};},function(d){d.P=function(b){return"[object String]"===Object.prototype.toString.call(b);};},function(d,b,a){var c,g;b=a(111);c=a(424);g=a(939);a=b(function(a){return c(a)?!0:!a||"object"!==typeof a||g(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});d.P=a;},function(d){d.P=function(b,a){for(var c=0,d=a.length,g=[];c<d;)b(a[c])&&(g[g.length]=a[c]),c+=1;return g;};},function(d){d.P=function(b){return"function"===typeof b["@@transducer/step"];};},function(d,b,a){var c;b=a(426);c=a(934);a=a(924);a=c([b,a]);d.P=a;},function(d,b,a){var c;b=a(168);c=a(237);a=b(function(a,b,d){var g,l;g={};for(l in b)c(l,b)&&(g[l]=c(l,d)?a(l,b[l],d[l]):b[l]);for(l in d)c(l,d)&&!c(l,g)&&(g[l]=d[l]);return g;});d.P=a;},function(d,b,a){var c,g;b=a(168);c=a(427);g=a(944);a=b(function n(a,b,d){return g(function(b,d,g){return c(d)&&c(g)?n(a,d,g):a(b,d,g);},b,d);});d.P=a;},function(d,b,a){var c;b=a(168);c=a(945);a=b(function(a,b,d){return c(function(b,c,d){return a(c,d);},b,d);});d.P=a;},function(d,b,a){var g;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.ipa=void 0;g=a(112);c.prototype.ZNa=function(a,b,c){var d,h,f,k,l;d=this;h=this.config.Zaa;f=this.config.Yaa;a=S(g.ps(function(a){return(!h.length||0<=h.indexOf(a.id))&&0>f.indexOf(a.id);},a||[]));k=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});l=k.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,Sf:a.Sf,type:a.type,Bha:a.key,hTb:a.pLa,location:{id:c.key,Sf:c.Sf,level:c.level,weight:c.weight,qj:[]}};});l.sort(function(a,b){return a.Sf-b.Sf;});l.forEach(function(a){return a.location.qj=l.filter(function(b){return b.Bha===a.Bha;});});this.log.trace("Transformed cdns",{Count:l.length});if(c&&!l.length)throw Error("no valid cdns");return l;};b.ipa=c;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J;Object.defineProperty(b,"__esModule",{value:!0});b.hta=void 0;c=a(0);g=a(1);q=a(8);n=a(428);k=a(947);p=a(922);h=a(921);f=a(920);m=a(919);r=a(918);u=a(418);D=a(417);J=a(416);d=function(){var b;function a(a,b,c,d,f){this.Df=a;this.config=b;this.Uja=c;this.ena=d;this.h2=f;}a.prototype.create=function(a){var b,c;b=this.Df.yb("ManifestParser",a);c=new k.ipa(b,this.config);return new h.ita(c,new p.ixa(b,this.config,a,c,this.Uja),new f.yxa(b,a,this.ena),new m.woa(b,this.config,a,this.h2),new r.Txa(b,this.h2));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Bb)),c.__param(1,g.l(n.A5)),c.__param(2,g.l(u.b7)),c.__param(3,g.l(J.S7)),c.__param(4,g.l(D.P7))],b);}();b.hta=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;d=a(1);c=a(429);g=a(948);q=a(428);n=a(917);k=a(418);p=a(417);h=a(415);f=a(916);m=a(414);r=a(915);u=a(166);D=a(914);J=a(412);F=a(913);b.ALa=new d.Cc(function(b){b(q.A5).to(n.gta).$();b(c.B5).to(g.hta).$();b(k.b7).Sh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(233).Lz;return new(Function.prototype.bind.apply(d,[null].concat(fa(c))))();});b(p.P7).Sh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(355).bpa;return new(Function.prototype.bind.apply(d,[null].concat(fa(c))))();});b(h.D5).nf(function(){return function(a){return new f.kta(a);};});b(m.C5).to(r.jta).$();b(u.CD).to(D.fta).$();b(J.y5).to(F.eta).$();});},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Roa=void 0;c=a(0);g=a(1);q=a(14);n=a(8);k=a(131);p=a(238);h=a(89);f=a(260);d=function(){var b;function a(a,b,c,d,f,g){this.config=a;this.ky=c;this.profile=d;this.j2=f;this.Waa=g;this.log=b.yb("CDMAttestedDescriptor");this.eHa();}a.prototype.eHa=function(){var a;a=this;return this.j2.xna?this.config().Hhb?this.cHa().then(function(b){if(b)return Promise.resolve(void 0);a.PKa||(a.PKa=a.Waa.sIa());return a.PKa;})["catch"](function(b){a.log.error("Failed to generate challenge",b);}).then(function(a){null===a||void 0===a?void 0:a.sb.close().subscribe();return null===a||void 0===a?void 0:a.bDa;}).then(function(b){return Promise.all([Promise.resolve(b),a.cHa()]);}).then(function(a){var b;a=S(a);b=a.next().value;if(!a.next().value)return b;}):this.ky().then(function(a){a.IO.removeServiceToken("cad");}):Promise.resolve(void 0);};a.prototype.cHa=function(){var a;a=this;return this.ky().then(function(b){return(b=b.IO.getServiceTokens(a.profile))&&b.find(function(a){return"cad"===a.name;});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.fd)),c.__param(1,g.l(n.Bb)),c.__param(2,g.l(k.FD)),c.__param(3,g.l(h.TD)),c.__param(4,g.l(p.$J)),c.__param(5,g.l(f.IR))],b);}();b.Roa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;d=a(1);c=a(430);g=a(950);b.QCa=new d.Cc(function(a){a(c.o3).to(g.Roa).$();});},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Foa=void 0;c=a(0);g=a(1);q=a(23);n=a(3);d=function(){var b;function a(a){this.Ga=a;}a.prototype.TEb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ga.jh(c)?d=Math.round(c*b.ba(n.ia)/100):(a=parseInt(a),this.Ga.qr(a)&&(d=a));return n.Ib(Math.min(d,b.ba(n.ia)));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Je))],b);}();b.Foa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Eoa=void 0;c=a(0);g=a(1);q=a(14);d=function(){var b;function a(a){this.config=a;}a.prototype.Jea=function(){return this.Gx().jab;};a.prototype.Kea=function(){return this.Gx().kab;};a.prototype.Slb=function(){return this.Gx().lab;};a.prototype.uea=function(){return this.Gx().yCa;};a.prototype.Gx=function(){return this.config();};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.fd))],b);}();b.Eoa=d;},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Goa=void 0;c=a(0);g=a(1);q=a(432);n=a(431);k=a(8);p=a(23);h=a(3);f=a(14);d=function(){var b;function a(a,b,c,d,f){this.WV=b;this.Ga=c;this.iab=d;this.config=f;this.ja=a.yb("Bookmark");}a.prototype.wBa=function(a){var b,c;b=a.Oa.playbackState&&a.Oa.playbackState.currentTime;c=this.alb(a.u);b=this.Ga.SA(b)?h.Ib(b):c;if(this.Ga.Td(b))this.ja.info("Overriding bookmark",{From:a.YC.ba(h.ia),To:b.ba(h.ia)}),a=Object.assign({},a,{YC:b});else if(this.mpb(a))return this.ja.trace("Ignoring bookmark because it's too close to beginning"),h.ah(0);return this.lpb(a)?(this.ja.trace("Ignoring bookmark because it's too close to end"),h.ah(0)):this.kpb(a)?(this.ja.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.ah(0)):a.YC;};a.prototype.mpb=function(a){return 0>a.YC.fl(this.Jea(a));};a.prototype.Jea=function(a){return this.zCa(this.WV.Jea(),a.fP);};a.prototype.lpb=function(a){return 0<a.YC.fl(this.Kea(a));};a.prototype.Kea=function(a){var b;b=a.Oa.Si?this.WV.Slb():this.WV.Kea();return a.fP.Mb(this.zCa(b,a.fP));};a.prototype.kpb=function(a){return 0<a.YC.fl(this.Clb(a));};a.prototype.Clb=function(a){var b;b=a.Oa.Si?this.config().KNa:this.config().c0;return a.fP.Mb(h.Ib(b));};a.prototype.alb=function(a){var b;a=this.WV.uea()[a];b=-1;this.Ga.nn(a)?b=parseInt(a):this.Ga.jh(a)&&(b=a);if(this.Ga.qr(b))return h.Ib(b);};a.prototype.zCa=function(a,b){return this.iab.TEb(a,b);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(k.Bb)),c.__param(1,g.l(q.i3)),c.__param(2,g.l(p.Je)),c.__param(3,g.l(n.h3)),c.__param(4,g.l(f.fd))],b);}();b.Goa=d;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.dx=void 0;d=a(1);c=a(239);g=a(432);q=a(431);n=a(954);k=a(953);p=a(952);b.dx=new d.Cc(function(a){a(c.wR).to(n.Goa).$();a(g.i3).to(k.Eoa).$();a(q.h3).to(p.Foa).$();});},function(d,b,a){var g,q,n,k;function c(a,b,c){var d;d=this;this.ja=a;this.valid=!0;this.uj=!1;this.context=c.context;this.size=c.size;this.ml=b.create().then(function(a){d.storage=a;return a.gO("mediacache").then(function(a){d.keys=a;});});}Object.defineProperty(b,"__esModule",{value:!0});b.fYa=b.aqa=void 0;g=a(0);q=a(1);n=a(8);k=a(71);d=function(){var b;function a(a,b){this.Df=a;this.Lj=b;this.MF={};}a.prototype.xW=function(a){this.MF[a.context]=new c(this.Df.yb("DiskStorageContext"),this.Lj,a);return this.MF[a.context];};a.prototype.VEa=function(a){delete this.MF[a.context];};b=a;return b=g.__decorate([q.N(),g.__param(0,q.l(n.Bb)),g.__param(1,q.l(k.Kq))],b);}();b.aqa=d;c.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.ml.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ja.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.AY(a,b));});})["catch"](function(c){f.ja.trace("create failed",c);d(f.Ix(a,b,c));});};c.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ja.trace("append "+c);d(this.Ix(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.ml.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ja.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.AY(a,b));});c(d.AY(a,b));})["catch"](function(f){d.ja.trace("remove failed",f);c(d.Ix(a,b,f));});};c.prototype.read=function(a,b,c,d,g){var f,h,k;f=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?g(this.Ix(a,b,"byteStart/byteEnd combination is not supported")):this.ml.then(function(){if(f.keys.hasOwnProperty(h))return f.storage.load(h).then(function(l){f.ja.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");g(Object.assign(f.AY(a,b),{value:l.value,JQb:c,end:d}));});g(f.Ix(a,b,"Item doesn't exist"));})["catch"](function(c){f.ja.trace("read failed",c);g(f.Ix(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.ja.trace("info ");this.ml.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Aja(c);a[c.zM]||(a[c.zM]={});a[c.zM][c.Wx]={size:0};return a;},{}),total:b.size,iWb:0};a(c);})["catch"](function(c){b.ja.trace("info failed",c);a(b.Ix(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.ml.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.Aja(b).Wx]={size:0};return a;},{});d.ja.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ja.trace("query failed",a);c({});});};c.prototype.Iq=function(a){var b;b=this;this.ja.trace("validate");this.ml.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Aja(c).Wx]={size:0};return a;},{});a(c);})["catch"](function(c){b.ja.trace("validate failed",c);a(b.Ix(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};c.prototype.AY=function(a,b){return{da:!0,zM:void 0===a?"":a,key:void 0===b?"":b,SHb:0,wj:this.size};};c.prototype.Ix=function(a,b,c){return{da:!1,error:c,zM:void 0===a?"":a,key:void 0===b?"":b,SHb:0,wj:this.size};};c.prototype.Aja=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{zM:a,Wx:b};};b.fYa=c;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Cta=void 0;c=a(0);g=a(1);q=a(2);n=a(8);d=function(){var b;function a(a){this.Df=a;this.fv={};this.ja=this.Df.yb("MemoryStorage");}a.prototype.load=function(a){var b;if(this.fv.hasOwnProperty(a)){b=this.fv[a];this.ja.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ja.debug("Storage entry not found",{key:a});return Promise.reject({ga:q.I.pw});};a.prototype.save=function(a,b,c){if(c&&this.fv.hasOwnProperty(a))return Promise.resolve(!1);this.fv[a]=b;return Promise.resolve(!0);};a.prototype.remove=function(a){delete this.fv[a];return Promise.resolve();};a.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.fv).map(function(b){return{key:b,value:a.fv[b]};});return Promise.resolve(b);};a.prototype.gO=function(a){var b;b=Object.keys(this.fv).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};a.prototype.removeAll=function(){this.fv={};return Promise.resolve();};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Bb))],b);}();b.Cta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Epa=void 0;b.Epa="__default_rule_key__";},function(d,b,a){var g,q,n,k,p,h,f,m;function c(a,b,c,d){this.ja=a;this.config=b;this.ipb=c;this.Dia=d;this.nx={mem:{storage:this.Dia,key:"mem"}};this.Gy=this.config.Gy;}Object.defineProperty(b,"__esModule",{value:!0});b.Q2=b.$na=void 0;g=a(0);q=a(1);n=a(2);k=a(169);p=a(8);h=a(434);f=a(958);m=a(30);d=function(){var b;function a(a,b,c,d){this.Df=a;this.Lj=b;this.Dia=c;this.config=d;}a.prototype.create=function(){this.wM||(this.wM=this.wF());return this.wM;};a.prototype.wF=function(){this.G9a=new c(this.Df.yb("AppStorage"),this.config,this.Lj,this.Dia);return this.G9a.create();};b=a;return b=g.__decorate([q.N(),g.__param(0,q.l(p.Bb)),g.__param(1,q.l(k.DS)),g.__param(2,q.l(h.N5)),g.__param(3,q.l(m.Qj))],b);}();b.$na=d;c.prototype.create=function(){var a;a=this;return this.Qeb().then(function(b){if(!a.cbb(b,a.config.iZ))throw a.kvb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.jN(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.jN(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.jN(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.YPa("mem").then(function(){return a.YPa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ja.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.VKa("mem").then(function(c){b=b.concat(c);return a.VKa("idb");})["catch"](function(b){a.Rqb(b)||a.ja.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ja.error("load all failed",b);throw b;});};c.prototype.gO=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.nx.idb;f?f.storage.gO(a).then(function(a){c(a);})["catch"](function(a){b.ja.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};c.prototype.Qeb=function(){var a;a=this;return this.ipb.create().then(function(b){a.nx.idb={storage:b,key:"idb"};})["catch"](function(b){a.ja.error("idb failed to load",b);return b||{ga:n.I.Pk};});};c.prototype.cbb=function(a,b){return!a||a&&b?!0:!1;};c.prototype.kvb=function(a){var b;b="";a&&(b+=a.ga);return{ga:b};};c.prototype.YPa=function(a){return(a=this.nx[a])?a.storage.removeAll():Promise.resolve();};c.prototype.VKa=function(a){return(a=this.nx[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.mjb=function(a){for(var b in this.Gy)if(a.startsWith(b))return this.Gy[b];return this.Gy[f.Epa];};c.prototype.jN=function(a){var b,c;b=this;this.mjb(a).every(function(a){return b.nx[a]?(c=b.nx[a],!1):!0;});c||(this.ja.error("component not found for storageKey",{JEb:a,DQb:Object.keys(this.nx),rules:this.Gy}),c=this.nx.mem);this.ja.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.Rqb=function(a){return(a&&(a.ga||a.errorSubCode))===n.I.pw;};b.Q2=c;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Apa=void 0;c=a(0);g=a(1);q=a(30);d=function(){var b;function a(a){this.config=a;}na.Object.defineProperties(a.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.vma;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.RSa;}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Qj))],b);}();b.Apa=d;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.bsa=void 0;c=a(0);g=a(1);q=a(37);n=a(41);k=a(30);p=a(28);d=function(){var b;function a(a,b){a=n.$d.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.XB="namedatapairs";return a;}ca(a,n.$d);na.Object.defineProperties(a.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Ir?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.vma;}},NV:{configurable:!0,enumerable:!0,get:function(){return this.config.NV;}},gma:{configurable:!0,enumerable:!0,get:function(){return 0;}},jQ:{configurable:!0,enumerable:!0,get:function(){return 0;}},uGa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([q.config(q.Nv,"simulateIdbOpenError")],b.prototype,"gma",null);c.__decorate([q.config(q.Nv,"simulateIdbLoadAllError")],b.prototype,"jQ",null);c.__decorate([q.config(q.kd,"fixInvalidDatabase")],b.prototype,"uGa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(p.Ei)),c.__param(1,g.l(k.Qj))],b);}();b.bsa=d;},function(d,b,a){var q,n,k;function c(a,b,c){this.config=a;this.Dk=b;this.sv=c;}function g(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.$ra=b.Tva=void 0;q=a(2);n=a(64);(function(a){a[a.d6=0]="NoData";a[a.Error=1]="Error";a[a.Mz=2]="Timeout";}(k=b.Tva||(b.Tva={})));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.vX("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=q.I.kwa;switch(a.reason){case k.d6:b=q.I.pw;break;case k.Mz:b=q.I.Y1a;}d({ga:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.vX(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=q.I.lwa;switch(a.reason){case k.Mz:b=q.I.a2a;}g({ga:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.vX("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=q.I.u7;switch(a.reason){case k.Mz:b=q.I.jwa;}d({ga:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.vX("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=q.I.u7;switch(a.reason){case k.Mz:b=q.I.jwa;}c({ga:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.Dk.Am(this.config.timeout,new Promise(function(b,c){var d,f,h;if(a.config.jQ)c(new g(a.config.jQ));else{d=[];f=a.sv.transaction(a.config.XB,"readonly");h=f.objectStore(a.config.XB).openCursor();f.onerror=function(){c(new g(k.Error,h.error));};h.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(J){c(new g(k.Error,J));}else b(d);};h.onerror=function(){c(new g(k.Error,h.error));};}}))["catch"](function(a){return a instanceof n.Xm?Promise.reject(new g(k.Mz,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(k.Error,a));});};c.prototype.gO=function(a){var b;b=this;return this.Dk.Am(this.config.timeout,new Promise(function(c,d){var f,h,l;if(b.config.jQ)d(new g(b.config.jQ));else{f={};h=b.sv.transaction(b.config.XB,"readonly");l=h.objectStore(b.config.XB).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);h.onerror=function(){d(new g(k.Error,l.error));};l.onsuccess=function(b){var h,l;try{h=b.target.result;if(h){l=h.key;a&&0!==l.indexOf(a)?c(f):(f[l]=void 0,h["continue"]());}else c(f);}catch(H){d(new g(k.Error,H));}};l.onerror=function(){d(new g(k.Error,l.error));};}}))["catch"](function(a){return a instanceof n.Xm?Promise.reject(new g(k.Mz,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(k.Error,a));});};c.prototype.vX=function(a,b,c){var d;d=this;return this.Dk.Am(this.config.timeout,new Promise(function(f,h){var l,p;l=d.sv.transaction(d.config.XB,b?"readwrite":"readonly");p=l.objectStore(d.config.XB)[a](c);l.onerror=function(){h(new g(k.Error,p.error));};p.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?f(c.data):h(new g(k.d6));}catch(H){h(new g(k.d6,H));}else f();};p.onerror=function(){h(new g(k.Error,p.error));};}))["catch"](function(a){return a instanceof n.Xm?Promise.reject(new g(k.Mz,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(k.Error,a));});};b.$ra=c;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J;Object.defineProperty(b,"__esModule",{value:!0});b.dsa=b.csa=b.yra=void 0;c=a(0);g=a(1);q=a(8);n=a(962);k=a(170);p=a(2);h=a(437);f=a(438);m=a(64);r=a(71);u=a(69);D=a(169);J=a(52);d=function(){var b;function a(a,b,c,d,f){this.config=b;this.Kv=c;this.bj=f;this.ja=a.yb(h.DT);this.AM=new Promise(function(a,b){var c;try{c=d();c?a(c):b({ga:p.I.zra});}catch(da){b({ga:p.I.CS,cause:da});}});}a.prototype.create=function(){this.gca||(this.gca=this.wF());return this.gca;};a.prototype.An=function(a){var b;b=this;this.gca=null;return this.Kv.Am(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof m.Xm?Promise.reject({ga:p.I.CS}):a.ga?Promise.reject(a):Promise.reject({ga:p.I.CS,cause:a});});};a.prototype["delete"]=function(a){var b;b=this;return this.Kv.Am(this.config.timeout,new Promise(function(c,d){b.AM.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({ga:p.I.CS,cause:f.error});};})["catch"](function(a){d(a);});}));};a.prototype.wF=function(){var a,b;a=this;return this.Kv.Am(this.config.timeout,new Promise(function(c,d){if(a.config.gma)return d({ga:a.config.gma});a.AM.then(function(f){a.bj.mark(J.ai.rZa);b=f.open(a.config.name,a.config.version);if(!b)return d({ga:p.I.Ara});b.onblocked=function(){a.bj.mark(J.ai.oZa);d({ga:p.I.kZa});};b.onupgradeneeded=function(){var c;a.bj.mark(J.ai.yZa);c=b.result;try{c.createObjectStore(a.config.XB,{keyPath:"name"});}catch(T){a.ja.error("Exception while creating object store",T);}};b.onsuccess=function(g){var h,k;a.bj.mark(J.ai.xZa);try{h=g.target.result;k=h.objectStoreNames.length;a.ja.trace("objectstorenames length ",k);if(0===k){a.ja.error("invalid indexedDb state, deleting");a.bj.mark(J.ai.qZa);try{h.close();}catch(da){}f.deleteDatabase(a.config.name);setTimeout(function(){d({ga:p.I.jZa});},1);return;}}catch(da){a.ja.error("Exception while inspecting indexedDb objectstorenames",da);}c(b.result);};b.onerror=function(){a.bj.mark(J.ai.pZa);a.ja.error("IndexedDB open error",b.error);d({ga:p.I.lZa,cause:b.error});};})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof m.Xm){try{b&&b.readyState&&a.bj.mark("readyState-"+b.readyState);}catch(aa){}if(a.config.NV&&b&&"done"===b.readyState){if(a.aIb(b))return a.bj.mark(J.ai.vZa),Promise.resolve(b.result);a.bj.mark(J.ai.uZa);}a.bj.mark(J.ai.tZa);return Promise.reject({ga:p.I.nZa});}if(c.ga)return Promise.reject(c);a.bj.mark(J.ai.sZa);a.ja.error("IndexedDB open exception occurred",c);return Promise.reject({ga:p.I.mZa,cause:c});});};a.prototype.aIb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(U){this.bj.mark(J.ai.wZa);this.ja.error("failed to check open request state",U);}return!1;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Bb)),c.__param(1,g.l(f.yJ)),c.__param(2,g.l(m.nw)),c.__param(3,g.l(k.S4)),c.__param(4,g.l(u.tw))],b);}();b.yra=d;d=function(){var b;function a(a,b){this.config=a;this.Kv=b;}a.prototype.create=function(a){return Promise.resolve(new n.$ra(this.config,this.Kv,a));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(f.yJ)),c.__param(1,g.l(m.nw))],b);}();b.csa=d;d=function(){var b;function a(a,b,c,d,f,g){this.config=b;this.AM=c;this.Lj=d;this.eIb=f;this.bj=g;this.ja=a.yb(h.DT);}a.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.wM||(this.wM=this.wF(this.eIb));return this.wM;};a.prototype.wF=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.bj.mark(J.ai.X1a);b.AM.create().then(function(f){b.Lj.create(f).then(function(g){Promise.all(a.map(function(a){return a.Iq(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ja.debug("DB validation failed, cause: "+a);b.config.uGa?(b.ja.debug("Fixing corrupt DB"),b.AM.An(f).then(function(){b.ja.error("Invalid database deleted, creating new database.");b.wF().then(function(a){b.ja.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ja.error("Couldn't delete invalid database.");d(a);})):(b.ja.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Bb)),c.__param(1,g.l(f.yJ)),c.__param(2,g.l(D.R4)),c.__param(3,g.l(D.X4)),c.__param(4,g.TB(r.G7)),c.__param(5,g.l(u.tw))],b);}();b.dsa=d;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Asa=void 0;c=a(0);g=a(1);q=a(2);n=a(170);d=function(){var b;function a(a){this.sv=a;}a.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.sv.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(J){}c({key:a,value:g});}else d({ga:q.I.pw});}catch(J){d({ga:q.I.kwa,cause:J});}});};a.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.sv.getItem(a))f(!1);else try{"string"===typeof b?d.sv.setItem(a,b):d.sv.setItem(a,JSON.stringify(b));f(!0);}catch(J){g({ga:q.I.lwa,cause:J});}});};a.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.sv.removeItem(a);c();}catch(G){d({ga:q.I.u7,cause:G});}});};a.prototype.loadAll=function(){return Promise.reject("Not supported");};a.prototype.gO=function(){return Promise.reject("Not supported");};a.prototype.removeAll=function(){return Promise.reject("Not supported");};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ota))],b);}();b.Asa=d;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.zpa=void 0;c=a(0);g=a(1);q=a(8);n=a(64);k=a(437);p=a(436);d=function(){var b;function a(a,b,c){this.Dk=b;this.config=c;this.ja=a.yb(k.DT);}a.prototype.Iq=function(a){return this.config.enabled?this.config.timeout?this.Dk.Am(this.config.timeout,this.gFa(a)):this.gFa(a):Promise.resolve();};a.prototype.gFa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ja.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ja.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Bb)),c.__param(1,g.l(n.nw)),c.__param(2,g.l(p.x3))],b);}();b.zpa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(1);c=a(438);g=a(71);q=a(170);n=a(965);k=a(435);p=a(964);h=a(436);f=a(169);m=a(963);r=a(961);u=a(960);D=a(959);J=a(71);F=a(434);L=a(957);H=a(433);A=a(956);b.storage=new d.Cc(function(a){a(q.Z5).nf(function(){return function(){return N.localStorage;};});a(q.S4).nf(function(){return function(){return N.indexedDB;};});a(F.N5).to(L.Cta).$();a(J.Kq).to(D.$na).$();a(k.m5).to(p.Asa).$();a(c.yJ).to(r.bsa).$();a(f.X4).to(m.csa).$();a(g.G7).to(n.zpa).$();a(f.R4).to(m.yra).$();a(f.DS).to(m.dsa).$();a(h.x3).to(u.Apa).$();a(H.Q3).to(A.aqa).$();});},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Rqa=void 0;c=a(0);g=a(1);q=a(240);n=a(439);d=function(){var b;function a(a){this.Gyb=a;}a.prototype.Yib=function(){var a,b;a={WM:q.Xv.C2a};b=this.Gyb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.WM=b.value?q.Xv.Dva:q.Xv.Tna;if(a.WM===q.Xv.Tna){c=function(){b.value&&(a.WM=q.Xv.Dva);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.WM=q.Xv.Error;});return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.h7))],b);}();b.Rqa=d;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.pta=void 0;c=a(0);g=a(441);q=a(8);n=a(1);d=function(){var b;function a(a,b){this.bMa=a;this.log=b.yb("MediaCapabilities");}a.prototype.Eda=function(a){var b,c,d;b=this;c={vc:void 0};if(this.bMa.cMa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,O:1E3*a.O,TX:"24"};this.bMa.Eda(d).then(function(a){return c.vc=Object.assign(Object.assign({},a),d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(g.G5)),c.__param(1,n.l(q.Bb))],b);}();b.pta=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.ota=void 0;c=a(0);g=a(1);q=a(29);d=function(){var b;function a(a){this.navigator=a;this.cMa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}a.prototype.Eda=function(a){return this.cMa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.O,framerate:a.TX}}).then(function(a){return{KVb:a.supported,kEb:a.smooth,lyb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.dt))],b);}();b.ota=d;},function(d,b,a){var g,q,n;function c(a,b,c,d,l){a=g.Cl.call(this,a,b,c)||this;a.Ee=d;a.navigator=l;a.type=q.Xj.nwa;a.yUa={};a.yUa=a.ofb();return a;}Object.defineProperty(b,"__esModule",{value:!0});b.pwa=void 0;g=a(132);q=a(32);n=a(61);ca(c,g.Cl);c.prototype.uN=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Ee.vi.toString()});};c.prototype.BX=function(a){var b,c;b=this;c=a.map(function(a){for(var c=S(b.uq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!0);c=S(b.ul);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!1);return b.uia(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.uia=function(a){var b;try{b=this.yUa[a];return!b||this.rqb(b)&&!this.sqb()?Promise.resolve(!1):this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:b}).then(function(a){return!0===a.supported&&!0===a.powerEfficient;})["catch"](function(){return!1;});}catch(h){return Promise.resolve(!1);}};c.prototype.ofb=function(){var a,b,c,d,g,l,q,m,r,u,L,H,A;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};d={width:1920,height:1080};g={width:3840,height:2160};l=Object.assign(Object.assign({},d),{bitrate:3E7,framerate:30});q=Object.assign(Object.assign({},d),{bitrate:5E7,framerate:60});d=Object.assign(Object.assign({},g),{bitrate:1E8,framerate:30});g=Object.assign(Object.assign({},g),{bitrate:16E7,framerate:60});m={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};r={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),l);a[n.V.eS]=u;a[n.V.fS]=u;a[n.V.gS]=u;u=Object.assign(Object.assign({},b),l);L=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),q);H=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),d);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),g);a[n.V.oS]=u;a[n.V.qS]=u;a[n.V.sS]=u;a[n.V.uS]=L;a[n.V.uD]=H;a[n.V.vD]=A;a[n.V.pS]=u;a[n.V.rS]=u;a[n.V.tS]=u;a[n.V.vS]=L;a[n.V.wS]=H;a[n.V.xS]=A;u=Object.assign(Object.assign(Object.assign({},b),l),m);L=Object.assign(Object.assign(Object.assign({},b),q),m);H=Object.assign(Object.assign(Object.assign({},b),d),m);b=Object.assign(Object.assign(Object.assign({},b),g),m);a[n.V.oJ]=u;a[n.V.pJ]=u;a[n.V.tD]=u;a[n.V.qJ]=L;a[n.V.jS]=H;a[n.V.kS]=b;l=Object.assign(Object.assign(Object.assign({},c),l),r);q=Object.assign(Object.assign(Object.assign({},c),q),r);d=Object.assign(Object.assign(Object.assign({},c),d),r);c=Object.assign(Object.assign(Object.assign({},c),g),r);a[n.V.bJ]=l;a[n.V.cJ]=l;a[n.V.iD]=l;a[n.V.dJ]=q;a[n.V.eJ]=d;a[n.V.PR]=c;return a;};c.prototype.rqb=function(a){return!!a.colorGamut||!!a.hdrMetadataType||!!a.transferFunction;};c.prototype.sqb=function(){return N.matchMedia("(dynamic-range: high)").matches;};c.prototype.uQ=function(){return this.config().bda?this.uia(n.V.iD):Promise.resolve(!1);};c.prototype.wQ=function(){return this.config().bda?this.uia(n.V.tD):Promise.resolve(!1);};b.pwa=c;},function(d,b,a){var g,q,n;function c(a,b,c,d,l,n){a=g.Cl.call(this,a,b,c)||this;a.ol=d;a.Zr=l;a.Ja=n;a.type=q.Xj.u3;a.log=a.Zr.yb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.lpa=void 0;g=a(132);q=a(32);n=a(3);ca(c,g.Cl);c.prototype.Fs=function(a){switch(a){case q.Xh.Sq:return this.pFb;default:return Promise.resolve(!1);}};c.prototype.pG=function(){var a;a=this;return this.Fs(q.Xh.Sq).then(function(a){return a?q.Xh.Sq:void 0;}).then(function(b){return a.vM(b);});};c.prototype.N$=function(a){return this.um=a;};c.prototype.TQ=function(){var a;if(this.um){a=this.gJa&&this.hJa&&this.gJa.Mb(this.hJa).ba(n.ia);this.um.itshdcp=JSON.stringify({hdcp1:this.Hu,time1:a});}};na.Object.defineProperties(c.prototype,{pl:{configurable:!0,enumerable:!0,get:function(){this.eMa||(this.eMa=this.ol.lG().then(function(a){return a.createMediaKeys();}));return this.eMa;}},pFb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Ema||(this.config().Mhb?this.Ema=this.pl.then(function(b){if(b&&b.getStatusForPolicy)return a.hJa=a.Ja.ef,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.gJa=a.Ja.ef;a.Hu=b;a.log.trace("hdcpStatus: "+a.Hu);return"usable"===a.Hu;});a.Hu="not available";a.log.trace("hdcpStatus: "+a.Hu);return!1;})["catch"](function(b){a.Hu="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Hu},b);return!1;}).then(function(b){a.TQ();return b;}):(this.Hu="not enabled",this.log.trace("hdcpStatus: "+this.Hu),this.TQ(),this.Ema=Promise.resolve(!1)));return this.Ema;}}});b.lpa=c;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A,R,E;Object.defineProperty(b,"__esModule",{value:!0});b.cta=void 0;c=a(61);g=a(132);q=a(32);d=a(97);n=a(139);k=a(135);p=a(3);h=a(251);f=a(133);m=a(241);r="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");u="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");D="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");J="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");F="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");L="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");H=["hdcp=1"];A=["hdcp=2"];R=new d.qw();E=new h.uR();a=function(){function a(a,b,c,d,f,h,k){a=g.Cl.call(this,a,b,c)||this;a.ta=d;a.Ja=f;a.Zr=h;a.mc=k;a.type=q.Xj.zz;a.$I="hvc1";a.CWa="avc1";a.zOa={};a.log=a.Zr.yb("MicrosoftVideoCapabilityDetector");a.uEb();a.vQ&&a.config().$tb?a.lhb=a.Keb():(a.lhb=Promise.resolve(""),a.config().bub?a.Peb():a.config().aub&&a.Oeb());return a;}ca(a,g.Cl);a.prototype.iG=function(a){return a===q.vd.Ss&&this.config().HHb?f.Bd.mJ:g.Cl.prototype.iG.call(this,a);};a.prototype.Fs=function(a){switch(a){case q.Xh.Sq:return this.HSa();case q.Xh.rz:return this.mP;default:return Promise.resolve(!1);}};a.prototype.kG=function(){return this.vQ?this.hpb?this.HSa().then(function(a){return Promise.resolve(a?n.ob.Cd:n.ob.QJ);}):Promise.resolve(n.ob.QJ):this.qFb?Promise.resolve(n.ob.QJ):Promise.resolve(n.ob.Yq);};a.prototype.wQ=function(){return Promise.resolve(this.GSa());};a.prototype.xQ=function(){return this.vQ&&this.JSa()?this.mP:Promise.resolve(!1);};a.prototype.uQ=function(){return Promise.resolve(this.FSa());};a.prototype.N$=function(a){this.um=a;Object.assign(this.um,this.zOa);a.itshwdrm=this.vQ;a.itsqhd=this.ISa();a.itshevc=this.JSa();a.itshdr=this.GSa();a.itsdv=this.FSa();return a;};a.prototype.zL=function(a,b){(this.um?this.um:this.zOa)[a]=b;};a.prototype.pG=function(){var a;a=this;return this.Fs(q.Xh.rz).then(function(b){return b?a.vM(q.Xh.rz):a.Fs(q.Xh.Sq).then(function(b){return b?a.vM(q.Xh.Sq):a.vM(void 0);});});};a.prototype.uN=function(){return this.kG().then(function(a){return a===n.ob.Cd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};a.prototype.BX=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=S(b.uq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=S(b.ul);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.mka[a];c=[];f=n.ob.Yq;if(a)return b.is.nn(a)?d=a:(c=a.yd,d=a.Oe,f=a.Te),b.kx(f,d,c);});return Promise.resolve(a);};a.prototype.NA=function(){var a;a=g.Cl.prototype.NA.call(this);a[c.V.eK]="vp09.00.11.08.02";a[c.V.fK]="vp09.00.11.08.02";a[c.V.gK]="vp09.00.11.08.02";a[c.V.oS]={Oe:"hev1.2.6.L90.B0",Te:n.ob.Cd,yd:r};a[c.V.qS]={Oe:"hev1.2.6.L93.B0",Te:n.ob.Cd,yd:r};a[c.V.sS]={Oe:"hev1.2.6.L120.B0",Te:n.ob.Cd,yd:r};a[c.V.uS]={Oe:"hev1.2.6.L123.B0",Te:n.ob.Cd,yd:r};a[c.V.uD]={Oe:"hev1.2.6.L150.B0",Te:n.ob.Cd,yd:r};a[c.V.vD]={Oe:"hev1.2.6.L153.B0",Te:n.ob.Cd,yd:r};a[c.V.pS]={Oe:"hev1.2.6.L90.B0",Te:n.ob.Cd,yd:r};a[c.V.rS]={Oe:"hev1.2.6.L93.B0",Te:n.ob.Cd,yd:r};a[c.V.tS]={Oe:"hev1.2.6.L120.B0",Te:n.ob.Cd,yd:r};a[c.V.vS]={Oe:"hev1.2.6.L123.B0",Te:n.ob.Cd,yd:r};a[c.V.wS]={Oe:"hev1.2.6.L150.B0",Te:n.ob.Cd,yd:r};a[c.V.xS]={Oe:"hev1.2.6.L153.B0",Te:n.ob.Cd,yd:r};a[c.V.oJ]={Oe:"hev1.2.6.L90.B0",Te:n.ob.Cd,yd:D};a[c.V.pJ]={Oe:"hev1.2.6.L93.B0",Te:n.ob.Cd,yd:D};a[c.V.tD]={Oe:"hev1.2.6.L120.B0",Te:n.ob.Cd,yd:D};a[c.V.qJ]={Oe:"hev1.2.6.L123.B0",Te:n.ob.Cd,yd:J};a[c.V.jS]={Oe:"hev1.2.6.L150.B0",Te:n.ob.Cd,yd:J};a[c.V.kS]={Oe:"hev1.2.6.L153.B0",Te:n.ob.Cd,yd:J};a[c.V.bJ]={Oe:"hev1.2.6.L90.B0",Te:n.ob.Cd,yd:F};a[c.V.cJ]={Oe:"hev1.2.6.L93.B0",Te:n.ob.Cd,yd:F};a[c.V.iD]={Oe:"hev1.2.6.L120.B0",Te:n.ob.Cd,yd:F};a[c.V.dJ]={Oe:"hev1.2.6.L123.B0",Te:n.ob.Cd,yd:L};a[c.V.eJ]={Oe:"hev1.2.6.L150.B0",Te:n.ob.Cd,yd:L};a[c.V.PR]={Oe:"hev1.2.6.L153.B0",Te:n.ob.Cd,yd:L};return a;};a.prototype.kx=function(a,b,c){a=m.hw.yW(a,b,c);return this.eu(a);};a.prototype.ISa=function(){return this.kx(n.ob.Cd,this.$I,r);};a.prototype.GSa=function(){return this.kx(n.ob.Cd,this.$I,D);};a.prototype.FSa=function(){return this.kx(n.ob.Cd,this.$I,F);};a.prototype.JSa=function(){return this.kx(n.ob.Cd,this.$I,u);};a.prototype.HSa=function(){var a;a=this;return this.mP.then(function(b){return b?Promise.resolve(b):a.iPa;});};a.prototype.TQ=function(){this.um&&(this.um.itshdcp=JSON.stringify({hdcp1:this.eJa,time1:this.$Sa-this.iSa,hdcp2:this.fJa,time2:this.aTa-this.jSa}));};a.prototype.uEb=function(){var a;a=this;this.vQ?(this.Vja=new k.Vm(),this.Wja=new k.Vm(),this.iPa=k.mb.from(this.Vja).JQ().then(function(a){return"probably"===a;}),this.mP=k.mb.from(this.Wja).JQ().then(function(a){return"probably"===a;}),this.ORa(this.Wja,this.config().dub),this.LOa(this.Olb.bind(this),this.Wja),this.mP.then(function(b){b||(a.ORa(a.Vja,a.config().cub),a.LOa(a.Nlb.bind(a),a.Vja));})):(this.iPa=Promise.resolve(!0),this.mP=Promise.resolve(!1));};a.prototype.LOa=function(a,b){k.mb.Kv(0,this.config().eub).map(function(){return a();}).kQ(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).FQ(k.mb.from(b)).JQ();};a.prototype.ORa=function(a,b){this.ta.uh(p.Ib(b),function(){a.next("timeout");a.complete();});};a.prototype.Nlb=function(){var a;a=m.hw.yW(n.ob.QJ,this.CWa,H).split("|");this.eJa=m.hw.Dma(a[0],a[1]);this.$Sa=this.Ja.ef.ba(p.ia);this.iSa=this.iSa||this.$Sa;this.TQ();return this.eJa;};a.prototype.Olb=function(){var a;a=m.hw.yW(n.ob.Cd,this.$I,A).split("|");this.fJa=m.hw.Dma(a[0],a[1]);this.aTa=this.Ja.ef.ba(p.ia);this.jSa=this.jSa||this.aTa;this.TQ();return this.fJa;};a.prototype.Keb=function(){var a;a=this;return this.Sba(n.ob.Cd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.zL("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};a.prototype.Oeb=function(){var a;a=this;this.Sba(n.ob.Yq,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.mc.decode(b));a.zL("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.zL("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};a.prototype.Peb=function(){var a;a=this;this.Sba(n.ob.Yq,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.mc.decode(b));a.zL("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.zL("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};a.prototype.Sba=function(a,b){var c;c=this;return new Promise(function(d,f){var q,m,t;function g(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x"+E.dN(a&&a.target&&a.target.error&&a.target.error.NVb||0,4));}catch(Ga){l(a.target,Ga);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.Ada(a.message,"PlayReadyKeyMessage","Challenge");n(a.target);d(b);}catch(la){l(a.target,la);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});n(a);f(d);}function n(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{m=new Uint8Array(R.SEb(b));t=new N.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),m);t.addEventListener("mskeymessage",k);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);q=c.ta.uh(p.Ib(1E3),function(){l(t,Error("timeout"));});}catch(Fa){f(Fa);}});};a.prototype.Ada=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};na.Object.defineProperties(a.prototype,{hpb:{configurable:!0,enumerable:!0,get:function(){return this.config().Lhb&&(!this.config().fub||this.ISa());}},vQ:{configurable:!0,enumerable:!0,get:function(){try{return this.eu(n.ob.Cd+'|video/mp4;codecs="'+f.Bd.rD+'"');}catch(y){return!1;}}},qFb:{configurable:!0,enumerable:!0,get:function(){try{return this.eu(n.ob.QJ);}catch(y){return!1;}}}});a.CI='video/mp4;codecs="{0},mp4a";';return a;}();b.cta=a;},function(d,b,a){var g,q,n,k,p;function c(a,b,c,d){a=k.RR.call(this,a,b)||this;a.is=c;a.platform=d;a.type=g.Tv.zz;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Eta=void 0;g=a(32);q=a(61);n=a(139);k=a(442);p=a(241);ca(c,k.RR);c.prototype.tQ=function(){return Promise.resolve(this.config().PM&&this.kx(n.ob.Yq,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.NA=function(){var a;a={};a[q.Wh.lS]="mp4a.40.2";a[q.Wh.z4]="mp4a.40.5";a[q.Wh.mS]="mp4a.40.2";"browser"===this.platform.Egb?this.config().PM&&(a[q.Wh.NR]={Oe:"avc1",Te:n.ob.Yq,yd:["audio-endpoint-codec=DD+JOC"]},a[q.Wh.OR]={Oe:"avc1",Te:n.ob.Yq,yd:["audio-endpoint-codec=DD+JOC"]}):(this.config().$ca&&(a[q.Wh.NR]="ec-3"),this.config().Zca&&(a[q.Wh.B3]="ec-3"),this.config().PM&&(a[q.Wh.OR]={Oe:"avc1",Te:n.ob.Yq,yd:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.BX=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=S(b.uq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=S(b.ul);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.mka[a];c=[];f=n.ob.Yq;if(a)return b.is.nn(a)?d=a:(c=a.yd,d=a.Oe,f=a.Te),b.kx(f,d,c);});return Promise.resolve(a);};c.prototype.kx=function(a,b,c){a=p.hw.yW(a,b,c);return this.eu(a);};b.Eta=c;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A,R,E,Q,y;Object.defineProperty(b,"__esModule",{value:!0});b.dpa=void 0;c=a(0);g=a(1);q=a(32);n=a(243);k=a(171);p=a(242);h=a(973);f=a(972);m=a(132);r=a(442);u=a(36);D=a(40);J=a(23);F=a(971);L=a(100);H=a(8);A=a(970);R=a(53);E=a(33);Q=a(44);y=a(29);d=function(){var b;function a(a,b,c,d,f,g,h,k,l,p,n,q){this.uKa=a;this.cast=b;this.config=c;this.ta=d;this.Ja=f;this.is=g;this.ol=h;this.Zr=k;this.Ee=l;this.platform=p;this.mc=n;this.navigator=q;}a.prototype.teb=function(a){var b;b=this.uKa.hEa();switch(a){case q.Tv.zz:return new h.Eta(this.config,b,this.is,this.platform);default:return new r.RR(this.config,b);}};a.prototype.pfb=function(a){var b;b=this.uKa.hEa();switch(a){case q.Xj.r3:a=new p.s3(this.config,b,this.is,this.cast);break;case q.Xj.u3:a=new F.lpa(this.config,b,this.is,this.ol,this.Zr,this.Ja);break;case q.Xj.zz:a=new f.cta(this.config,b,this.is,this.ta,this.Ja,this.Zr,this.mc);break;case q.Xj.nwa:a=new A.pwa(this.config,b,this.is,this.Ee,this.navigator);break;default:a=new m.Cl(this.config,b,this.is);}return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.b5)),c.__param(1,g.l(p.JR)),c.__param(2,g.l(k.gJ)),c.__param(3,g.l(u.Hg)),c.__param(4,g.l(D.Bi)),c.__param(5,g.l(J.Je)),c.__param(6,g.l(L.Ys)),c.__param(7,g.l(H.Bb)),c.__param(8,g.l(R.Dl)),c.__param(9,g.l(E.Wj)),c.__param(10,g.l(Q.cj)),c.__param(11,g.l(y.dt))],b);}();b.dpa=d;},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.isa=void 0;c=a(0);g=a(1);q=a(243);n=a(171);k=a(32);p=a(242);h=a(241);d=function(){var b;function a(a,b,c){this.config=a;this.IEa=b;this.cast=c;}a.prototype.hEa=function(){switch(this.config().C2){case k.Xj.r3:return p.s3.Oba(this.IEa,this.cast);case k.Xj.zz:return h.hw.Oba(this.config);default:return this.IEa;}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.gJ)),c.__param(1,g.l(q.N6)),c.__param(2,g.l(p.JR))],b);}();b.isa=d;},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Hwa=void 0;c=a(0);g=a(32);q=a(1);n=a(133);k=a(23);p=a(467);h=a(445);f=a(9);d=function(){var b,d;function a(a,b,c){this.IM=a;this.Ga=b;this.zSa=c;this.k8a="video/mp4;codecs={0}";this.j3a="audio/mp4;codecs={0}";a=this.IM.iG(g.vd.Ss);this.j8a=n.Bd.mEa(a);}a.prototype.xM=function(a){a=this.IM.Qlb(a);a=this.Ga.SA(a)?a:g.vd.VJ;return this.zSa.format(this.k8a,this.j8a[a]);};a.prototype.sM=function(a){if(0===a.length)return this.zSa.format(this.j3a,n.Bd.lR);a=h.Y2[a[0].Qf];return a===b.oVa?f.gw:a===b.pVa?f.Xsa:f.Wsa;};d=b=a;d.oVa="AAC";d.pVa="XHEAAC";return d=b=c.__decorate([q.N(),c.__param(0,q.l(g.SR)),c.__param(1,q.l(k.Je)),c.__param(2,q.l(p.H7))],d);}();b.Hwa=d;},function(d,b,a){var c,g,q,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.Vpa=void 0;c=a(0);g=a(32);q=a(171);n=a(1);k=a(61);p=a(447);h=a(446);d=function(){var b;function a(a,b,c){this.config=a;this.WCa=b;this.Gxb=c;this.azb=this.gfb();}a.prototype.Anb=function(){return this.UGa().CIa();};a.prototype.Bnb=function(){return this.Sr().CIa();};a.prototype.UGa=function(){this.qaa&&this.qaa.type==this.config().raa||(this.qaa=this.WCa.teb(this.config().raa));return this.qaa;};a.prototype.Sr=function(){this.B2&&this.B2.type==this.config().C2||(this.B2=this.WCa.pfb(this.config().C2),this.B2.N$(this.Gxb.Flb()));return this.B2;};a.prototype.Qlb=function(a){var d;if(!a||!a.length)return g.vd.iS;a=this.rjb(a);for(var b=[g.vd.VJ,g.vd.iS,g.vd.LT,g.vd.Us,g.vd.Ss,g.vd.cD,g.vd.vw,g.vd.zi],c=b.length;c--;){d=b[c];if((0,this.azb[d])(a))return d;}return g.vd.VJ;};a.prototype.Fs=function(a){return this.Sr().Fs(a);};a.prototype.eu=function(a){return this.Sr().eu(a);};a.prototype.kG=function(){return this.Sr().kG();};a.prototype.wQ=function(){return this.Sr().wQ();};a.prototype.tQ=function(){return this.UGa().tQ();};a.prototype.uQ=function(){return this.Sr().uQ();};a.prototype.xQ=function(){return this.Sr().xQ();};a.prototype.iG=function(a){return this.Sr().iG(a);};a.prototype.pG=function(){return this.Sr().pG();};a.prototype.uN=function(){return this.Sr().uN();};a.prototype.rjb=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Qf]="";});return Object.keys(b);};a.prototype.gfb=function(){var a;a={};a[g.vd.zi]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[g.vd.cD]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[g.vd.vw]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[g.vd.Ss]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[g.vd.Us]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[g.vd.LT]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[g.vd.iS]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=S(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[k.V.sD]);a[g.vd.VJ]=function(){return!0;};return a;};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(q.gJ)),c.__param(1,n.l(h.q3)),c.__param(2,n.l(p.m4))],b);}();b.Vpa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A,R,E,Q,y;Object.defineProperty(b,"__esModule",{value:!0});b.IM=void 0;d=a(1);c=a(32);g=a(14);q=a(977);n=a(171);k=a(113);p=a(976);h=a(243);f=a(975);m=a(447);r=a(446);u=a(974);D=a(242);J=a(10);F=a(441);L=a(969);H=a(440);A=a(968);R=a(240);E=a(967);Q=a(439);y=a(29);b.IM=new d.Cc(function(a){a(k.Jz).to(p.Hwa).$();a(c.SR).to(q.Vpa).$();a(h.b5).to(f.isa).$();a(r.q3).to(u.dpa).$();a(h.N6).Sh({isTypeSupported:J.ID&&J.ID.isTypeSupported});a(D.JR).Sh("undefined"!==typeof cast?cast:null);a(m.m4).Qy(function(a){return{Flb:function(){return a.kb.get(y.PD);}};});a(n.gJ).Qy(function(a){return a.kb.get(g.fd);});a(F.G5).to(L.ota).$();a(H.F5).to(A.pta).$();a(R.l4).to(E.Rqa).$();a(Q.h7).Sh(N);});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.kxa=void 0;c=a(0);g=a(1);d=function(){function a(a){this.ehb=void 0===a?10:a;}return a=c.__decorate([g.N()],a);}();b.kxa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.jpa=void 0;c=a(0);g=a(1);q=a(244);d=function(){var b;function a(a){this.jGb=a;this.c2={};}a.prototype.Xkb=function(){var a,b,c;a=[];for(b in this.c2){c=this.c2[b];a.push({lx:Number(b),OC:c.hm().OC,Mca:c.hm().Mca});}return a;};a.prototype.EV=function(a){var b,c;b=a.lx;c=this.c2[b];c||(c=this.jGb(),this.c2[b]=c);c.EV(a);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.IT))],b);}();b.jpa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;c=a(0);g=a(1);q=a(48);n=a(3);k=a(449);d=function(){var b;function a(a){this.config=a;this.jma=q.sd;this.jI=[];}a.prototype.hm=function(){var b;for(var a;0<this.jI.length;)a=this.jI.shift(),this.eBa(a);a=void 0===this.LM||void 0===this.VA?n.sd:this.VA.Mb(this.LM);b=a.xKa()?0:this.jma.ba(q.cz)/a.ba(n.ia);return{OC:Math.floor(b),Mca:a.ba(n.ia)};};a.prototype.EV=function(a){this.jma=this.jma.add(a.size);this.jI.push(a.dhb);for(this.jI.sort(function(a,b){return a.start.fl(b.start);});this.jI.length>this.config.ehb;)a=this.jI.shift(),this.eBa(a);};a.prototype.eBa=function(a){void 0===this.LM&&(this.LM=a.start);void 0!==this.VA&&0>this.VA.fl(a.start)&&(this.LM=this.LM.add(a.start.Mb(this.VA)));if(void 0===this.VA||0>this.VA.fl(a.end))this.VA=a.end;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(k.L7))],b);}();b.lxa=d;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Py=void 0;d=a(1);c=a(981);g=a(980);q=a(979);n=a(448);k=a(449);p=a(244);b.Py=new d.Cc(function(a){a(p.M7).to(c.lxa);a(n.t3).to(g.jpa).$();a(k.L7).Sh(new q.kxa());a(p.IT).nf(function(a){return function(){return a.kb.get(p.M7);};});});},function(d,b,a){var g,q,n,k,p,h;function c(a,b,c,d,g,h,k,l,p,n,m,r,u){var f;f=this;this.Sc=a;this.Ga=b;this.Jb=d;this.pq=h;this.kM=k;this.kkb=l;this.config=n;this.he=r;this.ca=u;this.j=m.create(u.u,u.Ak,p,u.fb,u.id);this.j.background=!0;this.j.ya=u.ya;this.log=c.yb("VideoPlayer",this.j);this.tOa=[];this.ended=!1;this.hR();this.j.state.addListener(function(a){a.newValue===q.nb.ud&&f.Vd(q.wb.Qga,{movieId:u.u});});this.j.Oa.Si&&(this.jF=g.veb(this,this.j,this.he),this.j.addEventListener(q.U.n1,function(a){f.Vd(q.wb.nCb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.hsa=void 0;g=a(2);q=a(13);n=a(3);k=a(10);p=a(78);h=a(20);c.prototype.isReady=function(){return this.j.state.value===q.nb.ud;};c.prototype.rmb=function(){return this.j.u;};c.prototype.GY=function(){return this.j.ha;};c.prototype.Omb=function(){return this.j.pPa;};c.prototype.Fn=function(){return this.j.If;};c.prototype.Qr=function(){return this.j;};c.prototype.Vx=function(){return this.j.rq.value;};c.prototype.Cqb=function(){return this.j.paused.value;};c.prototype.nqb=function(){return this.ended;};c.prototype.kk=function(){var a;a=this.j.Oaa.value;return a?{networkStalled:!!a.L1,stalled:!!a.L1,progress:a.Nh,progressRollback:!!a.ezb}:null;};c.prototype.getError=function(){var a;a=this.j.Oi;return a?a.Xma():null;};c.prototype.Okb=function(){var a;a=(this.fY()||0)+this.j.ZGa();return Math.min(a,this.iHa());};c.prototype.fY=function(){return this.j.pB();};c.prototype.iHa=function(){return this.j.Er.ba(n.ia);};c.prototype.Znb=function(){return this.j.KI?{width:this.j.KI.width,height:this.j.KI.height}:null;};c.prototype.Bea=function(){var g;if(this.j.Mm){for(var a,b=0;b<this.j.Mm.length;b++)for(var c=this.j.Mm[b],d=0;d<c.dc.length;d++){g=c.dc[d];this.Ga.jh(g.Yba)&&this.Ga.jh(g.DW)&&this.Ga.jh(g.BW)&&this.Ga.jh(g.AW)&&0<g.DW&&(g=g.AW/g.BW,a=this.Ga.jh(a)?Math.min(a,g):g);}return a;}};c.prototype.dlb=function(){return this.j.Bea();};c.prototype.jkb=function(a){var b,c;c=null===(b=this.j.Oa)||void 0===b?void 0:b.rl;return c?this.kkb.ff(this.log,Object.assign({packageId:c},a)):Promise.reject("Unknown packageId");};c.prototype.mlb=function(){return this.nlb(this.j.Cca);};c.prototype.xkb=function(){var a;a=this;return this.j.tn?this.j.tn.map(function(b){return a.qB(b);}).filter(function(a){return null!==a;}):[];};c.prototype.FIa=function(a){var b,c;b=this;c=a&&this.j.tn.find(function(c){return b.qB(c)===a;})||this.j.jd.value;return null===c?[]:c.Ik.map(function(a){return b.qB(a);}).filter(function(a){return null!==a;});};c.prototype.zqb=function(){return this.j.muted.value;};c.prototype.aob=function(){return this.j.volume.value;};c.prototype.wkb=function(){return this.qB(this.j.jd.value);};c.prototype.EIa=function(){return this.qB(this.j.tc.value);};c.prototype.dqb=function(){return!!this.j.background;};c.prototype.kDb=function(a){this.j.muted.set(!!a);};c.prototype.CDb=function(a){this.j.volume.set(this.rNa(a,1));};c.prototype.pDb=function(a){this.j.playbackRate.set(this.rNa(a,2));};c.prototype.kIa=function(){return this.j.playbackRate.value;};c.prototype.TCb=function(a){var b,c;b=this;c=this.j.tn.find(function(c){return b.qB(c)===a;});c?this.j.jd.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.ERa=function(a){var d;if(null!==this.j.jd.value){for(var b=this.j.jd.value.Ik,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.tc.set(null);return;}if(this.qB(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.tc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.qRa=function(a){this.j.background=a;};c.prototype.mQ=function(){this.j.mQ();};c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.wv=function(){};c.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Vd(q.wb.wsb,void 0,!0);b.ya&&(b.ya.Pf.KUa&&a.Vd(q.wb.AIb,b.ya.Pf.KUa,!0),b.ya.Pf.iu&&a.Vd(q.wb.mCb,{segmentMap:b.ya.Pf.iu},!0));c({da:!0});}catch(G){c({ga:g.I.Ah,rb:a.Sc.Fe(G)});}}));};c.prototype.close=function(a){var b;b=this;this.wDa||(this.wDa=new Promise(function(c){a?b.j.Sd(a,c):b.j.close(c);}));return this.wDa;};c.prototype.play=function(){this.j.ck?this.j.fireEvent(q.U.JQa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(q.U.sUa)));};c.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(q.U.VHb));};c.prototype.seek=function(a,b,c,d){this.j.Ti?this.j.Ti.seek(a,b,c,d):this.j.CA=a;};c.prototype.Lxb=function(a){return this.jF?(this.log.trace("Playing a segment",a),this.jF.play(a)):Promise.resolve();};c.prototype.uzb=function(a){return this.jF?(this.log.trace("Queueing a segment",a),this.jF.Ek(a)):Promise.resolve();};c.prototype.qp=function(a,b){return this.jF?(this.log.trace("Updating next segment weights",a,b),this.jF.qp(a,b)):Promise.resolve();};c.prototype.NQ=function(){this.j.NQ();};c.prototype.BY=function(){var a;a=this.j.Wn.BY();return{bounds:a.VL,margins:a.Wo,size:a.size,visibility:a.visibility};};c.prototype.fQ=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.IQ&&(b&&this.j.IQ.Vla(b),c&&this.j.IQ.Wla(c),"boolean"===typeof a&&this.j.IQ.Xla(a));this.j.Wn&&d&&this.j.Wn.wDb(d);};c.prototype.HRa=function(a){this.j.Jk=a;};c.prototype.Mnb=function(a){return this.j.Lv&&this.j.Lv.Llb(a)||null;};c.prototype.pkb=function(){return this.Sc.fH({playerver:this.config.version,jssid:this.config.hrb,groupName:this.config.Mlb(),xid:this.j.ha,pbi:this.j.index},this.config.Hxb,{prefix:"pi_"});};c.prototype.Epb=function(a){this.j.Sd(this.he(g.J.zYa,g.I.Pk,a));};c.prototype.jsb=function(a,b,c,d){if(!this.Ga.HBa(a))throw Error("invalid url");this.tOa.push({url:a,name:b,D$a:c,options:d});this.fPa();};c.prototype.uIa=function(){var a,b,c,d,g,k,l,p;a={};b=this.j.mSa;try{if(this.j.Oi&&(a.errorCode=this.j.Oi.WW,a.errorType=b?"endplay":"startplay"),a.playdelay=h.dm(this.j.Uaa()),a.xid=this.j.ha,this.j.ya&&this.Ga.nn(this.j.ya.Pf.rl)&&(a.packageId=Number(this.j.ya.Pf.rl)),a.auth=this.j.zkb(),b){a.totaltime=this.j.vm?this.Au(this.j.vm.xN()):0;a.abrdel=this.j.vm?this.j.vm.VGa():0;c=this.j.Ti;d=c?c.nB():null;this.Ga.jh(d)&&(a.totdfr=d);d=c?c.kN():null;this.Ga.jh(d)&&(a.totcfr=d);g=c?c.Wlb():null;g&&(a.rbfrs_decoder=g.Yfb,a.rbfrs_network=g.avb);a.rbfrs_delay=this.j.vm?this.j.vm.Gga:0;a.init_vbr=this.j.tZ;k=this.vN();this.Ga.SA(k)&&(a.pdltime=k);l=this.j.kf.value;p=l&&l.stream;p&&(a.vbr=p.O,a.vdlid=p.ld);a.bufferedTime=this.j.ZGa();}}catch(H){this.log.error("error capturing session summary",H);}return a;};c.prototype.UM=function(a){return this.Ga.jh(this.j.$b.value)?(a=Object.assign(Object.assign({},this.pq.create(this.j)),{action:a}),this.kM(p.El.UM).Jo(this.log,this.j.ya.Bj,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.cd,errorExternalCode:a.ph,errorData:a.data,errorDetails:a.JF};})):Promise.resolve({success:!1});};c.prototype.nlb=function(a){return{register:a.register.bind(a),notifyUpdated:a.lNa.bind(a),getModel:a.pmb.bind(a),getGroups:a.mY.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.qB=function(a){var b;if(null!==a){b=a.kzb=a.kzb||{trackId:a.cb,bcp47:a.bl,displayName:a.displayName,trackType:a.Lm,channels:a.Ao};a.Kn&&(b.isImageBased=!0);this.Eqb(a)&&(b.isNative=a.isNative);this.Fqb(a)&&(b.isNoneTrack=a.JZ(),b.isForcedNarrative=a.EZ());return b;}return null;};c.prototype.Eqb=function(a){return"undefined"!==typeof a.isNative;};c.prototype.Fqb=function(a){return"undefined"!==typeof a.JZ&&"undefined"!==typeof a.EZ;};c.prototype.rNa=function(a,b){return 0<=a?a<=b?a:b:0;};c.prototype.Au=function(a){return this.Ga.jh(a)?(a/1E3).toFixed(0):"";};c.prototype.Vd=function(a,b,c){b=b||{};b.target=this;this.Jb.Vb(a,b,!c);};c.prototype.hR=function(){var a;a=this;this.j.addEventListener(q.U.Nma,function(){a.Vd(q.wb.Fo);});this.j.addEventListener(q.U.u_,function(){a.Vd(q.wb.GCa);});this.j.addEventListener(q.U.gp,function(){a.Vd(q.wb.GCa);});this.j.addEventListener(q.U.BG,function(b){a.Vd(q.wb.BG,{errorCode:b});});this.j.addEventListener(q.U.vaa,function(b){a.Vd(q.wb.E$a,b.j);});this.j.addEventListener(q.U.ck,function(b){a.Vd(q.wb.F$a,b);});this.j.rq.addListener(function(){a.Vd(q.wb.dyb);});this.j.paused.addListener(function(){a.Vd(q.wb.dxb);});this.j.muted.addListener(function(){a.Vd(q.wb.Tub);});this.j.volume.addListener(function(){a.Vd(q.wb.uIb);});this.j.Ob.addListener(function(){a.XTa();});this.j.state.addListener(function(){a.XTa();});this.j.Oaa.addListener(function(b){a.ssb||a.j.state.value!=q.nb.ud||b.newValue||(a.ssb=!0,a.Vd(q.wb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.uIa());}));a.Vd(q.wb.Paa);});this.j.jd.addListener(function(b){a.Vd(q.wb.LL);b.oldValue&&b.newValue&&b.oldValue.Ik==b.newValue.Ik||a.Vd(q.wb.RC);setTimeout(function(){var b;if(null!==a.j.jd.value&&null!==a.j.tc.value){b=a.j.jd.value.Ik;0<=b.indexOf(a.j.tc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.tc.set(b[0]));}},0);});this.j.tc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.cb==b.newValue.cb||a.Vd(q.wb.zI);});this.j.addEventListener(q.U.RC,function(){a.Vd(q.wb.RC);});this.j.addEventListener(q.U.LQ,function(){a.Vd(q.wb.LQ);});this.j.state.addListener(function(b){switch(b.newValue){case q.nb.ud:a.Vd(q.wb.whb);a.Vd(q.wb.oIb);a.Vd(q.wb.eCa);a.Vd(q.wb.RC);a.Vd(q.wb.usb);a.fPa();a.FIb();break;case q.nb.CLOSING:a.j.Oi&&a.Vd(q.wb.error,a.j.Oi.Xma());break;case q.nb.CLOSED:a.Vd(q.wb.closed),a.Jb.sg();}});};c.prototype.FIb=function(){var a;a=this;this.j.Wn.addEventListener("showsubtitle",function(b){a.Vd(q.wb.aEb,b,!0);});this.j.Wn.addEventListener("removesubtitle",function(b){a.Vd(q.wb.KAb,b,!0);});};c.prototype.fPa=function(){if(this.j.state.value==q.nb.ud){for(var a,b,c;b=this.tOa.shift();)a=this.j.Wn.M$(b.url,b.name,b.options),b.D$a&&(c=a);c&&this.j.tc.set(c);}};c.prototype.XTa=function(){var a;a=this.j.state.value==q.nb.ud&&this.j.Ob.value==q.jb.Pq;this.ended!==a&&(this.ended=a,this.j.vo("Ended changed: "+a),(a||this.j.state.value===q.nb.CLOSING)&&this.Vd(q.wb.jib));};c.prototype.vN=function(){var a,b;try{a=/playercore.*js/;b=k.Wq.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(z){}};b.hsa=c;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J;Object.defineProperty(b,"__esModule",{value:!0});b.Oxa=void 0;c=a(0);g=a(1);q=a(89);n=a(26);k=a(23);p=a(8);h=a(68);f=a(246);m=a(451);r=a(983);u=a(245);D=a(78);J=a(450);d=function(){var b;function a(a){this.Zc=a;}a.prototype.afb=function(a,b,c,d){return new r.hsa(this.Zc.get(n.tf),this.Zc.get(k.Je),this.Zc.get(p.Bb),this.Zc.get(h.$R),this.Zc.get(f.CT),this.Zc.get(u.gT),this.Zc.get(D.ZR),this.Zc.get(J.z6),this.Zc.get(m.P3),a,b,c,d);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Y4))],b);}();b.Oxa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.zUa=void 0;d=a(1);c=a(453);g=a(984);b.zUa=new d.Cc(function(a){a(c.c8).to(g.Oxa).$();});},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;c=a(0);g=a(1);q=a(14);d=function(){var b;function a(a){this.config=a;}a.prototype.$yb=function(a,b,c){var d,f;if(this.config().CCb){d=a.metrics;if(void 0!==d){f=a.playlistSegment||void 0;b.Wu.transition({isBranching:void 0===f||void 0,isPlaygraph:f,mid:b.u,xid:b.ha,srcxid:c.ha,srcmid:c.u,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard});}}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.fd))],b);}();b.uxa=d;},function(d,b,a){var g,q,n;function c(a,b,c,d,g){this.debug=a;this.version=b;this.hrb=c;this.Hxb=d;this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;g=a(0);q=a(1);n=a(3);c.prototype.Mlb=function(){return this.config().Px;};c.prototype.uea=function(){return this.config().yCa;};c.prototype.ifa=function(){return n.Ib(this.config().fyb);};c.prototype.UHa=function(){return this.config().rsb;};c.prototype.XHa=function(){return this.config().itb;};d=function(){var b;function a(){}a.prototype.Gx=function(a,b,d,g,k){return new c(a,b,d,g,k);};b=a;return b=g.__decorate([q.N()],b);}();b.wwa=d;},function(d,b,a){var n,k,p,h;function c(a,b,c,d,g,h,k){var f;f=this;this.W=b;this.j=c;this.jy=d;this.ta=g;this.FL=h;this.he=k;this.nF=function(){f.my&&(f.my.cancel(),f.my=void 0);};this.log=a.yb("SegmentManager",this.j);this.Va=new Map();this.j.Oa.Si&&(this.j.addEventListener(p.U.n1,function(a){return f.uja(a);}),this.j.addEventListener(p.U.closed,this.nF));}function g(a,b){this.id=a;this.gba=b;}function q(a,b,c,d){return k.Bc.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.Loa=void 0;n=a(2);k=a(47);p=a(13);h=a(3);ca(q,k.Bc);q.prototype.toString=function(){return this.code+"-"+this.cd+" : "+this.message+"\n"+JSON.stringify(this.data);};g.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.mf,contentEndPts:this.tg};};na.Object.defineProperties(g.prototype,{mf:{configurable:!0,enumerable:!0,get:function(){return this.gba.startTimeMs;}},tg:{configurable:!0,enumerable:!0,get:function(){return this.gba.endTimeMs;}},Q_:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.gba.next);}}});c.prototype.uja=function(a){var b,c;b=this;if(0===this.Va.size){c=this.j.eY();Object.keys(c).forEach(function(a){b.Va.set(a,new g(a,c[a]));});}this.fa=this.Va.get(a.segmentId);};c.prototype.play=function(a){this.MH&&(this.MH=void 0);this.nF();this.log.trace("Playing segment",a);return this.fKa(a)?this.Kxb(a):this.q0(a);};c.prototype.Ek=function(a){this.log.trace("Queueing segment",a);return this.fKa(a)?this.tzb(a):this.vzb(a);};c.prototype.qp=function(a,b){var c,d;c=this;d=this.j.Gb;if(!d)return Promise.reject(this.getError(n.J.Aoa,"ASE session manager is not yet initialized",n.I.a3,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.n2(a,b);c.j.fireEvent(p.U.qp,{Na:a,uHb:b});f();}catch(F){g(c.getError(n.J.Aoa,"updateNextSegmentWeights threw an exception",n.I.UVa,{segmentId:a,updates:b,error:F}));}});};c.prototype.fKa=function(a){return this.fa?void 0!==this.j.eY()[this.fa.id].next[a]:!1;};c.prototype.lIa=function(){if(this.j.Gb)return this.j.Gb.sY().te;};c.prototype.Smb=function(){if(this.j.Gb)return this.j.Gb.sY().id;};c.prototype.Zkb=function(a){if(this.j.Gb)return(a=this.j.Gb.dY(a))&&a.de;};c.prototype.Kxb=function(a){var b,c,d;b=this;c=this.j.Gb;if(!c)return Promise.reject(this.getError(n.J.WI,"ASE session manager is not yet initialized",n.I.a3,{id:a}));if(this.fa&&1===this.fa.Q_.length)return this.q0(a);if(!this.j.Ti)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(n.J.WI,"MediaPresenter is not initialized",n.I.RVa,{id:a}));d=this.Zkb(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.q0(a)):new Promise(function(f,g){var r,t,u,z,G,D;function k(){!u&&t&&r&&(D.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:t,repositioned:r,completed:u}),c.ju(a,!1,!0)?(f(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.q0(a).then(f)["catch"](g)));}function l(){r=!0;b.log.trace("Player is repositioned",{id:a,stopped:t,repositioned:r,completed:u});b.j.removeEventListener(p.U.gp,l);k();}function q(){b.j.removeEventListener(p.U.ys,q);c.stop();}function m(){t=!0;b.log.trace("ASE is stopped",{id:a,stopped:t,repositioned:r,completed:u});c.removeEventListener("stop",m);k();}r=!1;t=!1;u=!1;z=b.Va.get(a);G=z.mf+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:G,currentSegment:b.fa,nextSegment:z},null,"  "));b.j.fireEvent(p.U.P_,{rg:b.fa&&b.fa.id,MO:a});c.addEventListener("stop",m);b.j.addEventListener(p.U.ys,q);b.j.addEventListener(p.U.gp,l);D=b.ta.uh(h.ah(10),function(){u=!0;D.cancel();g(b.getError(n.J.WI,"Timed out waiting for the player to be repositioned and ASE to be stopped",n.I.QVa,{id:a,stopped:t,repositioned:r,completed:u}));});b.W.seek(G,p.Ae.Gz);});};c.prototype.q0=function(a){var b;b=this.Va.get(a);return b?this.OP(b,n.J.WI):Promise.reject(this.getError(n.J.WI,"Unable to find the separated segment",n.I.zoa,{id:a}));};c.prototype.tzb=function(a){var b;b=this.j.Gb;if(!b)return Promise.reject(this.getError(n.J.eD,"ASE session manager is not yet initialized",n.I.a3,{id:a}));if(b.ju(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(n.J.eD,"ASE chooseNextSegment failed",n.I.OVa,{id:a}));};c.prototype.vzb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.Smb()});if(this.MH)return Promise.reject(this.getError(n.J.eD,"Unable to queue a non-next segment because there is currently already a segment queued",n.I.TVa,{currentSegment:this.fa?this.fa.id:void 0,queuedSegment:this.MH.id,failedSegment:a}));if(!this.fa)return Promise.reject(this.getError(n.J.eD,"Unable to queue a non-next segment because there is no currently playing segment",n.I.PVa,{nextSegmentid:a}));c=this.Va.get(a);if(!c)return Promise.reject(this.getError(n.J.eD,"Unable to find the separated segment",n.I.zoa,{nextSegmentid:a,currentSegmentId:this.fa.id}));this.MH={id:a,rs:new Promise(function(d,f){var g;b.my=b.jy.Rba({ifa:function(){return h.Ib(100);}},function(){return b.W.j.$b.value||0;});g=b.lIa()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:g});b.my.observe(g,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.fa.id,playerEndPts:b.lIa(),pts:g});b.MH=void 0;b.nF();b.OP(c,n.J.eD).then(d)["catch"](f);});})};this.MH.rs["catch"](function(a){b.j.Sd(b.he(a.code,a));});return Promise.resolve();};c.prototype.OP=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.W.seek(a.mf,p.Ae.ft);d();}catch(J){f(c.getError(b,"Seek threw an exception",n.I.SVa,{id:a.id,error:J}));}});};c.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new q(a,b,c,d);};b.Loa=c;},function(d,b,a){var k,p,h,f;function c(a,b,c,d,g,h,l,n,q){var m;m=this;this.qa=a;this.jy=c;this.Qja=d;this.config=g;this.he=h;this.gP=l;this.ed=n;this.zib=Object.keys(p.wb).map(function(a){return{event:p.wb[a],OY:function(b){return m.Jb.Vb(p.wb[a],b);}};});this.Jb=q.create();this.nC=[];this.log=b.yb("SegmentManager");new k.Vm();this.Vda=!0;this.If=this.ed.createElement("div",f.k7);}function g(a,b,c,d,f,g,h,l,p){var n;n=this;this.log=a;this.config=b;this.Qvb=c;this.Qja=d;this.he=f;this.gP=g;this.Aq=h;this.ca=l;this.If=p;this.nF=function(){n.my&&(n.my.cancel(),n.my=void 0);};this.Kfa=function(a){n.log.trace("Received the transition event",{movieId:a.u});n.Kzb();};this.log.debug("Constructing session data",q(l));this.zha=new k.Vm();this.VFb=new Promise(function(a){n.Kzb=a;});}function q(a){return{movieId:a.u};}function n(a){return JSON.stringify({movieId:a.u,startPts:a.T,logicalEnd:a.On,params:a.fb?{trackingId:a.fb.Uh,authParams:a.fb.ML,sessionParams:a.fb.Un,disableTrackStickiness:a.fb.Gca,uiPlayStartTime:a.fb.m2,loadImmediately:a.fb.d_,playbackState:a.fb.playbackState?{currentTime:a.fb.playbackState.currentTime,volume:a.fb.playbackState.volume,muted:a.fb.playbackState.muted,playbackRate:a.fb.playbackState.playbackRate}:void 0,pin:a.fb.wOa,heartbeatCooldown:a.fb.Ufa,uiLabel:a.fb.le}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;k=a(135);p=a(13);h=a(3);f=a(9);g.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",q(this.ca));this.W=this.Qja.afb(this.config,this.gP,this.he,this.ca);this.W.addEventListener(p.wb.BG,function(a){b.log.trace("Segment is inactive",q(b.ca));b.Aq.close(b.he(a.errorCode));});this.W.addEventListener(p.wb.closed,this.nF);if(a)this.log.debug("Pausing background segment",q(this.ca)),this.W.addEventListener(p.wb.Qga,this.Kfa),this.W.pause();else{this.If.appendChild(this.W.Fn());c=function(a){b.Kfa(a);b.W.removeEventListener(p.wb.loaded,c);};this.W.addEventListener(p.wb.loaded,c);}};g.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",n(this.ca));if(this.my)this.log.trace("Segment is currently observing",q(this.ca));else if(this.ca.fb&&this.ca.fb.d_)this.zha.next(this);else{b=this.Qvb.Rba(this.config,function(){var b;if(a.W){b=a.W.j.$b.value;if(b)return b;}return 0;});c=this.Sab(this.ca);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",q(a.ca));a.zha.next(a);a.nF();});}};g.prototype.close=function(a){this.log.info("Closing segment",{segment:n(this.ca),error:a});return this.W?(this.W.removeEventListener(p.wb.Qga,this.Kfa),this.W.close(a)):Promise.resolve();};g.prototype.Sab=function(a){var b,c;b=a.On;a=a.fb?a.fb.d_:!1;c=0;b&&!a&&(c=b-this.config.UHa(),c<this.config.XHa()&&(a=b-this.config.XHa(),c=b-a/2));return c;};c.prototype.Zmb=function(){return this.De&&this.De.W?this.De.W.isReady():!1;};c.prototype.Fn=function(){return this.If;};c.prototype.Ih=function(){if(!this.De||!this.De.W)throw Error("Player not ready");return this.De.W;};c.prototype.iHb=function(a){var b,c;c=this.Jda(a);c?this.bUa(c,a):(this.log.L$("xid",null===(b=this.De.W)||void 0===b?void 0:b.GY()),this.log.error("Tried to update a non-existent segment",{segment:n(a),currentMovieId:this.De.ca.u,queuedMovieIds:this.nC.map(function(a){return a.ca.u;})}));};c.prototype.Hp=function(a){var b;this.log.info("Adding segment",n(a));this.Vda?(this.log.trace("First segment, loading",q(a)),b=this.YKa(a),this.Vda=!1):(this.log.trace("Subsequent segment, caching",q(a)),(b=this.Jda(a))?this.bUa(b,a):(b=this.yn(a),this.nC.push(b),this.De.observe()));return b?b.VFb:null;};c.prototype.transition=function(a){var b;if(this.hv&&this.hv.W){b=this.hv;this.hv=void 0;this.log.info("Transitioning segment",n(b.ca));b&&b.W&&b.W.HRa(this.qa.Zb().ba(h.ia));return this.yTa(b,a);}return Promise.resolve();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(q(this.De.ca)),nextSession:this.hv?JSON.stringify(q(this.hv.ca)):void 0});a=[this.De.close(a)];this.hv&&a.push(this.hv.close());return Promise.all(a).then(function(){b.hv=void 0;b.nC=[];b.Vda=!0;});};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.bUa=function(a,b){this.Hwb(a.ca,b);this.log.trace("Overwrote existing segment data",n(a.ca));};c.prototype.YKa=function(a){var b,c;b=this;this.log.info("Loading the next episode",q(a));this.De?(this.config.uea()[a.u]=a.T,c=this.Jda(a)):c=this.yn(a);if(c)return this.log.trace("Found the next session",q(a)),c.zha.subscribe(function(a){b.KFb(a);}),this.De?(this.log.trace("Subsequent playback, caching player and pausing",q(a)),this.hv=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",q(a)),c.load(!1),this.yTa(c)),c;this.log.warn("Unable to find the session, make sure to add it before loading",q(a));};c.prototype.yTa=function(a,b){var c,d;b=void 0===b?{}:b;this.log.trace("Playing episode",q(a.ca));c=this.De;this.De=a;if(this.De.W&&(this.De.W.qRa(!1),this.hR(this.De.W,c?c.W:void 0),c&&c.W)){d=c.W.Fn();a=this.De.W.Fn();d.style.display="none";c=c.close();this.If.appendChild(a);this.De.W&&(a.style.display="block",this.De.W.getError()?this.De.W.close():(this.De.W.Qr().dHb(b),this.De.W.mQ(),this.De.W.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};c.prototype.KFb=function(a){var b,c,d,f;if(this.nC.length&&a.W){a=a.W.j.$b.value;b=this.nC[0];c=this.De.ca.On;d=this.De.ca.fb?this.De.ca.fb.d_:!1;if(c||d){d?f=0:c&&(f=c-this.config.UHa());null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",q(b.ca)),this.YKa(b.ca),this.nC.splice(0,1));}}};c.prototype.Jda=function(a){return this.De.ca.u===a.u?this.De:this.nC.find(function(b){return b.ca.u===a.u;});};c.prototype.Hwb=function(a,b){a.T=b.T||a.T;a.On=b.On||a.On;a.fb=b.fb||a.fb;a.ya=b.ya||a.ya;};c.prototype.yn=function(a){return new g(this.log,this.config,this.jy,this.Qja,this.he,this.gP,this,a,this.If);};c.prototype.hR=function(a,b){this.zib.forEach(function(c){b&&b.removeEventListener(c.event,c.OY);a.addEventListener(c.event,c.OY);});this.Jb.Vb(p.Dz.RP);};b.ywa=c;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F;Object.defineProperty(b,"__esModule",{value:!0});b.xwa=void 0;c=a(0);g=a(1);q=a(25);n=a(8);k=a(247);p=a(60);h=a(454);f=a(453);m=a(989);r=a(988);u=a(84);D=a(36);J=a(458);F=a(26);d=function(){var b;function a(a,b,c,d,f,g,h,k,l,p){this.qa=a;this.Df=b;this.jy=c;this.nIb=d;this.gP=f;this.ta=g;this.FL=h;this.he=k;this.tda=l;this.ed=p;}a.prototype.Veb=function(a){return new m.ywa(this.qa,this.Df,this.jy,this.nIb,a,this.he,this.gP,this.ed,this.tda);};a.prototype.veb=function(a,b,c){c=void 0===c?this.he:c;return new r.Loa(this.Df,a,b,this.jy,this.ta,this.FL,c);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ue)),c.__param(1,g.l(n.Bb)),c.__param(2,g.l(k.KS)),c.__param(3,g.l(f.c8)),c.__param(4,g.l(h.X6)),c.__param(5,g.l(D.Hg)),c.__param(6,g.l(u.TI)),c.__param(7,g.l(p.Nk)),c.__param(8,g.l(J.pD)),c.__param(9,g.l(F.tf))],b);}();b.xwa=d;},function(d,b,a){var c,g,q,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.Va=void 0;d=a(1);c=a(246);g=a(455);q=a(990);n=a(987);k=a(452);p=a(986);b.Va=new d.Cc(function(a){a(c.CT).to(q.xwa).$();a(g.x7).to(n.wwa).$();a(k.Q7).to(p.uxa).$();});},function(d,b){function a(a,b,d){this.ta=a;this.config=b;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Hta=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.Oh=this.ta.nla(this.config.ifa(),function(){c.getTime()>=a&&(c.cancel(),b());});};a.prototype.cancel=function(){this.Oh&&(this.Oh.cancel(),this.Oh=void 0);};b.Hta=a;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Gta=void 0;c=a(0);g=a(1);q=a(992);n=a(36);d=function(){var b;function a(a){this.ta=a;}a.prototype.Rba=function(a,b){return new q.Hta(this.ta,a,b);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Hg))],b);}();b.Gta=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;d=a(1);c=a(247);g=a(993);b.uMa=new d.Cc(function(a){a(c.KS).to(g.Gta).$();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(d,b,a){var r,u,D,J,F;function c(a){return m.call(this,a,function(a){return{Details:a};})||this;}function g(a){return m.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function q(a,b){b=m.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.mc=a;return b;}function n(a,b){b=m.call(this,b,function(a){return a();})||this;b.Sc=a;return b;}function k(a,b){return h.call(this,a,b,function(a){var b;b=D.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.dcb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function p(a){return m.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function h(a,b,c){b=m.call(this,b,c)||this;b.Sc=a;return b;}function f(a){return m.call(this,a,function(a){return{Details:a};})||this;}function m(a,b){this.xq=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.Gsa=b.BYa=void 0;r=a(0);u=a(1);D=a(995);J=a(26);F=a(44);m.prototype.VM=function(a){return this.xq===a;};ca(f,m);f.prototype.SC=function(a,b){return b?"":"\r\n"+this.xq;};ca(h,m);h.prototype.SC=function(){var a;a="";this.Sc.yx(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(R){try{a+=", "+b+": "+JSON.stringify(c);}catch(aa){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ca(p,m);p.prototype.SC=function(a){var b;b="\r\n"+this.xq.message;a||(b+="\r\n"+this.xq.stack);return b;};ca(k,h);k.dcb=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};b.BYa=k;ca(n,m);n.prototype.SC=function(){var a;a="";this.Sc.yx(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ca(q,m);q.prototype.SC=function(a,b){return this.xq&&!b?"\r\n"+this.mc.encode(this.xq):"";};ca(g,m);g.prototype.SC=function(){return this.xq?this.xq.toJSON():"";};ca(c,m);c.prototype.SC=function(){return", "+(this.xq.toString?""+this.xq.toString():"");};d=function(){var b;function a(a,b){this.mc=a;this.Sc=b;this.zd=[];}a.prototype.h9a=function(a){this.zd.push(new f(a));};a.prototype.X8a=function(a){this.zd.push(new h(this.Sc,a));};a.prototype.L8a=function(a){this.zd.push(new p(a));};a.prototype.J8a=function(a){this.zd.push(new k(this.Sc,a));};a.prototype.O8a=function(a){this.zd.push(new n(this.Sc,a));};a.prototype.i9a=function(a){this.zd.push(new q(this.mc,a));};a.prototype.V8a=function(a){this.zd.push(new g(a));};a.prototype.j9a=function(a){this.zd.push(new c(a));};a.prototype.dk=function(){return this.zd;};b=a;return b=r.__decorate([u.N(),r.__param(0,u.l(F.cj)),r.__param(1,u.l(J.tf))],b);}();b.Gsa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Fsa=void 0;c=a(0);g=a(1);q=a(996);n=a(44);k=a(26);d=function(){var b;function a(a,b){this.mc=a;this.Sc=b;}a.prototype.dmb=function(){return new q.Gsa(this.mc,this.Sc);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.cj)),c.__param(1,g.l(k.tf))],b);}();b.Fsa=d;},function(d,b,a){var g,q;function c(a,b,c,d,f,g,l){this.level=a;this.Wl=b;this.timestamp=c;this.message=d;this.zd=f;this.prefix=g;this.index=void 0===l?0:l;}Object.defineProperty(b,"__esModule",{value:!0});b.ioa=void 0;g=a(3);q={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.e2=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.WEb(!!a));return(this.timestamp.ba(g.ia)/1E3).toFixed(3)+"|"+this.index+"|"+(q[this.level]||this.level)+"|"+this.Wl+"| "+a;};c.prototype.WEb=function(a){var f;for(var b=this.zd.length,c="",d=0;d<b;++d){f=this.zd[d].xq;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.VEb(f,a);else try{c+=JSON.stringify(f);}catch(t){c+=this.UEb(f);}else c+=f;}return c;};c.prototype.VEb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};c.prototype.UEb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};b.ioa=c;},function(d,b,a){var g,q;function c(a,b,c,d,f,l){a=g.zD.call(this,a,b,c,d)||this;a.Ifa=f;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.joa=void 0;g=a(248);q=a(998);ca(c,g.zD);c.prototype.Xw=function(a,b,c){a=new q.ioa(a,this.Wl,this.qa.Zb(),b,c,this.prefix);b=S(this.yl.yl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.Tba=function(a){return new c(this.qa,this.bu,this.yl,a,this.Ifa,this.prefix);};b.joa=c;},function(d,b,a){var g,q,n;function c(a,b,c,d,l){a=n.zD.call(this,a,b,c,l)||this;a.j=d;g.om(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;g=a(54);q=a(456);n=a(248);ca(c,n.zD);c.prototype.Tba=function(a){return new c(this.qa,this.bu,this.yl,this.j,a);};c.prototype.Xw=function(a,b,c){a=new q.q5(a,this.Wl,this.qa.Zb(),b,c,this.j.index);b=S(this.yl.yl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};b.fva=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,d,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.FA=void 0;c=a(1001);b.FA=function(a,b){var g;a=a.dmb();for(var d=0;d<b.length;++d){g=b[d];void 0!=g&&null!=g&&(g.Tg&&(g=g.Tg),g.constructor===Uint8Array?a.i9a(g):"MediaRequest"===g.constructor.name?a.V8a(g):"string"===typeof g?a.h9a(g):"function"===typeof g?a.O8a(g):g instanceof Error?a.L8a(g):g instanceof c.EnumeratedErrorBase?a.J8a(g):g instanceof Object?a.X8a(g):a.j9a(g));}return a.dk();};},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Nsa=void 0;c=a(0);g=a(248);q=a(1);n=a(1E3);k=a(25);p=a(95);h=a(8);f=a(999);d=function(){var b;function a(a,b,c){this.qa=a;this.yl=b;this.Gha=c;}a.prototype.yb=function(a,b,c,d,h){c=void 0===c?this.yl:c;return b?new n.fva(this.qa,this.Gha,c,b,a):h?new f.joa(this.qa,this.Gha,c,a,d||"",h):new g.zD(this.qa,this.Gha,c,a);};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(k.Ue)),c.__param(1,q.l(p.tz)),c.__param(2,q.l(h.r5))],b);}();b.Nsa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Osa=void 0;c=a(0);g=a(1);d=function(){var b;function a(){this.ima={};this.yl=[];}a.prototype.P0=function(a,b){var c;c=this;b&&(this.ima[a]=b,this.yl=Object.keys(this.ima).map(function(a){return c.ima[a];}));};b=a;return b=c.__decorate([g.N()],b);}();b.Osa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;c=a(1004);g=a(1003);d=a(1);q=a(95);n=a(8);k=a(997);b.hLa=new d.Cc(function(a){a(n.Bb).to(g.Nsa).$();a(q.tz).to(c.Osa).$();a(n.r5).to(k.Fsa).$();});},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Jqa=void 0;c=a(0);g=a(1);q=a(249);d=function(){var b;function a(){}a.prototype.VF=function(a,b){var c;c=this;a&&Object.keys(b).forEach(function(d){var f,g,h;f=b[d];if(c.jqb(f)){g=S(f);f=g.next().value;h=g.next().value;g=a[f];Array.isArray(g)?(c.vca(a,d,f),g.forEach(function(a){c.VF(a,h);})):f===q.ww?Object.keys(a).forEach(function(b){c.VF(a[b],h);}):(c.vca(a,d,f),"object"===typeof g&&c.VF(g,h));}else c.vca(a,d,f);});};a.prototype.jqb=function(a){return Array.isArray(a);};a.prototype.vca=function(a,b,c){a.hasOwnProperty(b)||b===c||Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};b=a;return b=c.__decorate([g.N()],b);}();b.Jqa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Ppa=void 0;c=a(0);g=a(1);q=a(36);d=function(){var b;function a(a,b){this.ta=a;this.uW=b;}a.prototype.Kc=function(a){this.sg();this.Oh=this.ta.uh(this.uW,a);};a.prototype.sg=function(){this.Oh&&this.Oh.cancel();this.Oh=void 0;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Hg))],b);}();b.Ppa=d;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;c=a(0);g=a(36);q=a(1);n=a(3);d=function(){var b;function a(a,b,c){this.ta=a;this.TFb=b;this.OY=c;}a.prototype.bB=function(){this.Oh||(this.Oh=this.ta.uh(n.Ib(this.TFb),this.OY));};a.prototype.wi=function(){this.Oh&&this.Oh.cancel();this.Oh=void 0;};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(g.Hg))],b);}();b.rxa=d;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=b.Moa=void 0;c=a(0);g=a(1);q=a(30);d=function(){var b;function a(a){this.config=a;}a.prototype.Wnb=function(a,b){var c;b=this.Xnb(b);if(b)switch(a){case n.sLa:c=0<b.length?Number(b[0]):0;break;case n.Gub:c=1<b.length?Number(b[1]):0;break;case n.$wb:c=2<b.length?Number(b[2]):0;break;case n.c1:c=3<b.length?Number(b[3]):0;}return void 0===c||isNaN(c)?0:c;};a.prototype.Xnb=function(a){return null===a||void 0===a?void 0:a.split(".");};na.Object.defineProperties(a.prototype,{hqb:{configurable:!0,enumerable:!0,get:function(){return"chrome"===this.config.cl.name;}},sab:{configurable:!0,enumerable:!0,get:function(){return this.Wnb(n.sLa,this.config.cl.version);}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Qj))],b);}();b.Moa=d;(function(a){a[a.sLa=0]="major";a[a.Gub=1]="minor";a[a.$wb=2]="patch";a[a.c1=3]="revision";}(n=b.Lxa||(b.Lxa={})));},function(d,b){function a(){this.searchParams={};}function c(b){this.un=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.Bxa=void 0;c.prototype.toString=function(){return this.href;};na.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.un+this.searchParams.toString();}}});b.Bxa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gva=b.Fva=b.pT=void 0;b.pT="PrioritizedSetOfListsSymbol";b.Fva="PrioritizedSetOfListsFactorySymbol";b.Gva="PrioritizedSetOfSetsFactorySymbol";},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.jxa=void 0;c=a(0);g=a(1);q=a(25);n=a(3);k=a(36);d=function(){var b;function a(a,b,c){var d;d=this;this.app=a;this.ta=b;this.uW=c;this.kv=function(a){d.Oh=void 0;d.CGb(a||d.uW);};this.HKa=n.Ib(-this.uW.ba(n.ia));}a.prototype.Kc=function(a){this.pla=a;this.Oh=this.Oh||this.oc(this.kv);};a.prototype.sg=function(){this.Oh&&this.Oh.cancel();this.Oh=void 0;};a.prototype.CGb=function(a){var b,c;b=this.app.Zb();if(this.pla){c=a.Mb(b.Mb(this.HKa));0>=c.fl(n.sd)?(a=this.pla,this.pla=void 0,this.HKa=b,a()):this.Oh=this.Oh||this.ta.uh(c,this.kv.bind(this,a));}};a.prototype.oc=function(a){return this.ta.uh(n.sd,a);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ue)),c.__param(1,g.l(k.Hg))],b);}();b.jxa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m;Object.defineProperty(b,"__esModule",{value:!0});b.Tpa=void 0;c=a(0);g=a(1);q=a(25);n=a(47);k=a(2);p=a(13);h=a(3);f=a(10);m=a(464);d=function(){var b,d;function a(a,b){this.qa=a;this.config=b;}a.prototype.Hgb=function(a){var c,d,f,g,l,q,m,r,t,u;c=this;q=a.$b.value;m=a.yo.value;r=a.Ob.value;t=a.state.value;l={segmentId:a.gfa(),mediaTime:q,segmentTime:a.pB(),bufferingState:b.zab[m],presentingState:b.Kyb[r],playbackState:b.Sxb[t],mseBuffersBusy:this.rnb(a),intBuffersBusy:this.Vlb(a),tabVisible:this.wFb(),decodedFrameCount:this.Xfb(a),videoElementInDom:this.kIb(a),lastVideoSync:this.qa.Zb().Mb(h.Ib(a.AQ)).ba(h.ia)};u=r===p.jb.Xf?a.Oa.Si?this.config.MNa:this.config.LNa:this.config.rMa;m!==p.We.ud?(f=k.I.eXa,this.CCa(l.mseBuffersBusy,l.intBuffersBusy)&&(g=b.Boa)):r!==p.jb.Nc&&(f=k.I.fXa,(m=a.Ti)&&m.Hb.sourceBuffers.forEach(function(a){var d,f;d=b.OB[a.M];l[d+"Ranges"]=a.cY();try{f=a.buffered();}catch(O){f=void 0;}f&&0!==f.length?(a=1E3*f.end(0)-q,l[d+"Undecoded"]=a,1<f.length&&(g=b.WVa),q<1E3*f.start(0)||q>1E3*f.end(0)?g=b.XVa:a<u.ba(h.ia)?g=b.YVa:c.CCa(l.mseBuffersBusy,l.intBuffersBusy)&&(g=b.Boa)):(l[d+"Undecoded"]=0,g=b.VVa);}));a=a.V0.BIa();m=q===(null===(d=a.repositionTrace)||void 0===d?void 0:d[0].newMediaTime);l.lastRepositionCausedTimeout=m;Object.assign(l,a);d="";try{d=JSON.stringify(l);}catch(da){d="Cannot stringify details: "+da;}return new n.Bc(k.J.lua,f,g,void 0,void 0,void 0,d,void 0);};a.prototype.rnb=function(a){var b;if(a.Hb){b={};a.Hb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};a.prototype.Vlb=function(a){var b;if(a.Hb){b={};a.Hb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.kk()};});return b;}};a.prototype.wFb=function(){return!f.ne.hidden;};a.prototype.Xfb=function(a){return(a=a.Ti)&&(a=a.Hb.eb)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};a.prototype.kIb=function(a){if(a=a.Ti)if(a=a.Hb.eb)return f.ne.body.contains(a);return!1;};a.prototype.CCa=function(a,b){var c,d,f,g;return!((null===(c=a.audio)||void 0===c?void 0:c.updating)===(null===(d=b.audio)||void 0===d?void 0:d.updating)&&(null===(f=a.video)||void 0===f?void 0:f.updating)===(null===(g=b.video)||void 0===g?void 0:g.updating));};d=b=a;d.VVa="1";d.WVa="2";d.XVa="3";d.Boa="4";d.YVa="5";d.OB=["Audio","Video"];d.zab=["","NORMAL","BUFFERING","STALLED"];d.Kyb=["","WAITING","PLAYING ","PAUSED","ENDED"];d.Sxb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];return d=b=c.__decorate([g.N(),c.__param(0,g.l(q.Ue)),c.__param(1,g.l(m.U5))],d);}();b.Tpa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.N7=void 0;c=a(0);g=a(1);q=a(25);n=a(3);k=a(8);d=function(){var b;function a(a,b){this.qa=a;this.entries=new Set();this.ja=b.yb("TimingApi");}a.prototype.mark=function(a,b,c){a={name:a,Hs:this.qa.Zb()};b&&(a.ha=b);c&&(a.gk=c);this.entries.add(a);return a;};a.prototype.Wea=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};a.prototype.YHa=function(a){return this.Wea().filter(function(b){return b.ha===a;});};a.prototype.WHa=function(){var a;a={};try{a=this.Wea().filter(function(a){return!a.ha;}).reduce(function(a,b){a[b.name]=b.Hs.ba(n.ia);return a;},{});}catch(t){this.ja.error(" getMapOfCommonMarks exception",t);}return a;};a.prototype.$Pa=function(a){var b;b=this;this.Wea().forEach(function(c){c.ha===a&&b.entries["delete"](c);});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ue)),c.__param(1,g.l(k.Bb))],b);}();b.N7=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.opa=void 0;c=a(0);g=a(37);q=a(41);n=a(1);k=a(28);d=function(){var b;function a(a){return q.XI.call(this,a,"ClockConfigImpl")||this;}ca(a,q.XI);na.Object.defineProperties(a.prototype,{nUa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([g.config(g.kd,"usePerformanceApi")],b.prototype,"nUa",null);return b=c.__decorate([n.N(),c.__param(0,n.l(k.LR))],b);}();b.opa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Qpa=void 0;c=a(0);g=a(37);q=a(41);n=a(1);k=a(28);d=function(){var b;function a(a){a=q.XI.call(this,a,"DebugConfigImpl")||this;a.ARb=function(){debugger;};return a;}ca(a,q.XI);na.Object.defineProperties(a.prototype,{rab:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([g.config(g.kd,"breakOnError")],b.prototype,"rab",null);return b=c.__decorate([n.N(),c.__param(0,n.l(k.LR))],b);}();b.Qpa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Rpa=void 0;c=a(0);g=a(1);q=a(23);n=a(86);k=a(8);d=function(){var b;function a(a,b,c){this.config=a;this.Ga=b;this.ja=c.yb("General");}a.prototype.assert=function(){};a.prototype.Z9a=function(a,b){this.assert(this.Ga.SA(a),b);};a.prototype.$9a=function(a,b){this.assert(this.Ga.Td(a),b);};a.prototype.e$a=function(a,b){this.assert(this.Ga.nn(a),b);};a.prototype.h$a=function(a,b){this.assert(this.Ga.Ql(a),b);};a.prototype.f$a=function(a,b){this.assert(this.Ga.nn(a)||null===a||void 0===a,b);};a.prototype.c$a=function(a,b){this.assert(this.Ga.jh(a),b);};a.prototype.b$a=function(a,b){this.assert(this.Ga.caa(a),b);};a.prototype.g$a=function(a,b){this.assert(this.Ga.qr(a),b);};a.prototype.d$a=function(a,b){this.assert(this.Ga.uL(a),b);};a.prototype.Y9a=function(a,b){this.assert(this.Ga.tL(a),b);};a.prototype.a$a=function(a,b){this.assert(this.Ga.CV(a),b);};a.prototype.$pb=function(){this.assert(!1,"invalid operation, this method should not be called");};a.HSb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(z){return z.stack;}};};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.I3)),c.__param(1,g.l(q.Je)),c.__param(2,g.l(k.Bb))],b);}();b.Rpa=d;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Cpa=void 0;c=a(0);g=a(1);q=a(23);n=a(26);d=function(){var b,d;function a(a,b){this.is=a;this.Sc=b;}a.prototype.encode=function(a){var b,c;b=this;c="";this.Sc.yx(a,function(a,d){a=b.GFa(a)+"="+b.GFa(d);c=c?c+(","+a):a;});return c;};a.prototype.GFa=function(a){return this.is.SA(a)?this.is.jh(a)?""+a:this.is.nn(a)?(a=a.replace(b.Jka,this.aia.bind(this)),!b.xzb.test(a)&&b.Vub.test(a)&&(a='"'+a+'"'),a):this.is.tL(a)?""+a:this.is.D$(a)?"NaN":"":"";};a.prototype.aia=function(a){return b.map[a];};d=b=a;d.map={'"':'""',"\r":"","\n":" "};d.Jka=/(?!^.+)["\r\n](?=.+$)/g;d.xzb=/["].*["]/g;d.Vub=/[", ]/;return d=b=c.__decorate([g.N(),c.__param(0,g.l(q.Je)),c.__param(1,g.l(n.tf))],d);}();b.Cpa=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.aoa=void 0;c=a(0);g=a(1);q=a(40);n=a(3);k=a(114);d=function(){var b;function a(a,b){this.Ja=a;this.YX=this.Ja.ef.ba(n.ia)-1;this.Isb=this.WZ=0;this.id=""+b.MA();}a.prototype.Zb=function(){var a,b;a=this.Ja.ef.ba(n.ia)-this.YX;if(a<this.WZ){b=this.WZ+1;this.YX-=b-a;a=b;}this.WZ=a;return n.Ib(this.WZ);};a.prototype.emb=function(){return this.Isb++;};na.Object.defineProperties(a.prototype,{GB:{configurable:!0,enumerable:!0,get:function(){return n.Ib(this.YX);}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Bi)),c.__param(1,g.l(k.pz))],b);}();b.aoa=d;},function(d){d.P="function"===typeof Object.create?function(b,a){b.mFb=a;b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});}:function(b,a){function c(){}b.mFb=a;c.prototype=a.prototype;b.prototype=new c();b.prototype.constructor=b;};},function(d){d.P=function(b){return b&&"object"===typeof b&&"function"===typeof b.Do&&"function"===typeof b.fill&&"function"===typeof b.WUb;};},function(d,b,a){var g;function c(a){this.okb=a;this.RY=!1;this.gZ=this.Vf=this.vI=0;this.KN=!1;this.hZ=0;}Object.defineProperty(b,"__esModule",{value:!0});b.bua=void 0;g=a(468);c.prototype.Y8a=function(a){a<this.vI&&(this.Vf+=this.vI);this.vI=a;this.RY=!0;};c.prototype.clb=function(){if(this.RY)return this.KN?this.hZ-this.gZ:this.Vf+this.vI-this.gZ;};c.prototype.refresh=function(){var a;a=this.okb();g.la(a)&&this.Y8a(a);};c.prototype.pEb=function(){this.KN||(this.RY&&(this.hZ=this.Vf+this.vI),this.KN=!0);};c.prototype.EEb=function(){this.KN&&(this.RY&&(this.gZ+=this.Vf+this.vI-this.hZ),this.hZ=0,this.KN=!1);};b.bua=c;},function(d,b,a){var c,g,q,n;Object.defineProperty(b,"__esModule",{value:!0});b.Kva=void 0;c=a(0);g=a(1);q=a(36);n=a(64);d=function(){var b;function a(a){this.ta=a;}a.prototype.Am=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ta.uh(a,function(){f(new n.Xm(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Hg))],b);}();b.Kva=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;c=a(0);g=a(1);d=function(){var b,d;function a(){}a.prototype.encode=function(a){return b.dda(a);};a.prototype.decode=function(a){return b.oca(a);};a.dda=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,g="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};a.oca=function(a){var b,c,d,g,k;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)k=a.charCodeAt(d),128>k?c++:c=2048>k?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)k=a.charCodeAt(d),128>k?c[g++]=k:(2048>k?c[g++]=192|k>>>6:(c[g++]=224|k>>>12,c[g++]=128|k>>>6&63),c[g++]=128|k&63);return c;};d=b=a;return d=b=c.__decorate([g.N()],d);}();b.Cxa=d;},function(d,b,a){var c,g,q,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.ppa=void 0;c=a(0);g=a(54);q=a(3);n=a(1);k=a(29);p=a(473);h=a(68);f=a(13);d=function(){var b;function a(a,b,c,d){var h;h=this;this.config=a;this.Bfb=b;this.Jb=c;this.performance=d;this.qwb=function(a){h.iRa=a.Mb(h.ef);};g.om(this,"date");g.om(this,"performance");this.E9a=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.iRa=q.sd;this.Jb.addListener(f.a5.kRa,this.qwb);}na.Object.defineProperties(a.prototype,{ef:{configurable:!0,enumerable:!0,get:function(){return this.xMa?q.timestamp(this.performance.timing.navigationStart+this.performance.now()):q.Ib(this.Bfb.now());}},v1:{configurable:!0,enumerable:!0,get:function(){return this.ef.add(this.iRa);}},xMa:{configurable:!0,enumerable:!0,get:function(){return this.config.nUa&&this.E9a;}}});b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(p.w3)),c.__param(1,n.l(k.G3)),c.__param(2,n.l(h.dS)),c.__param(3,n.l(k.hT)),c.__param(3,n.optional())],b);}();b.ppa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;c=a(0);g=a(1);q=a(134);d=function(){var b;function a(a){this.vFb=a;}a.prototype.random=function(){return this.vFb.random();};a.prototype.uPa=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.I7))],b);}();b.Sva=d;},function(d,b,a){var c,g,q,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Yra=void 0;c=a(0);g=a(1);q=a(3);n=a(40);k=a(134);d=function(){var b,d;function a(a,b){this.Ja=a;this.random=b;}a.prototype.MA=function(){return this.Ja.ef.ba(q.Il)*b.Voa+Math.floor(this.random.random()*b.Voa);};d=b=a;d.Voa=1E4;return d=b=c.__decorate([g.N(),c.__param(0,g.l(n.Bi)),c.__param(1,g.l(k.SJ))],d);}();b.Yra=d;},function(d,b,a){var g,q,n,k,p;function c(a,b){this.AI=a;this.ebb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;g=a(0);q=a(1);n=a(54);k=a(29);p=a(3);c.prototype.cancel=function(){this.ebb(this.AI);};d=function(){var b;function a(a){this.AI=a;n.om(this,"timers");}a.prototype.Kc=function(a){return this.uh(p.sd,a);};a.prototype.uh=function(a,b){var d;d=this.AI.setTimeout(b,a.ba(p.ia));return new c(this.AI,function(a){a.clearTimeout(d);});};a.prototype.nla=function(a,b){var d;d=this.AI.setInterval(b,a.ba(p.ia));return new c(this.AI,function(a){a.clearInterval(d);});};b=a;return b=g.__decorate([q.N(),g.__param(0,q.l(k.f8))],b);}();b.rwa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A,E,aa,Q,y,T,S,da,W,V,O,Y,ca,ea,P,fa,ga,Fa,Ga,la,ha,ia,ja,ma,na,pa,sa,ra,ua,wa,ya,ba,Da,Ha,Ka,Ma,Na,Ra,Sa,Ua,Va,Wa,Ya,Za,ab,bb,cb;Object.defineProperty(b,"__esModule",{value:!0});b.lu=void 0;d=a(1);c=a(29);g=a(40);q=a(36);n=a(114);k=a(134);p=a(1028);h=a(1027);f=a(1026);m=a(1025);r=a(98);u=a(99);D=a(44);J=a(26);F=a(23);L=a(68);H=a(64);A=a(472);E=a(1024);aa=a(251);Q=a(471);y=a(470);T=a(1023);S=a(142);da=a(469);W=a(1022);V=a(467);O=a(97);Y=a(1019);ca=a(25);ea=a(466);P=a(1018);fa=a(1017);ga=a(86);Fa=a(1016);Ga=a(8);la=a(473);ha=a(1015);ia=a(69);ja=a(1014);ma=a(465);na=a(1013);pa=a(1012);sa=a(96);ra=a(10);ua=a(1011);wa=a(463);ya=a(462);ba=a(1010);Da=a(461);Ha=a(14);Ka=a(33);Ma=a(60);Na=a(460);Ra=a(501);Sa=a(1009);Ua=a(459);Va=a(458);Wa=a(172);Ya=a(1008);Za=a(457);ab=a(1007);bb=a(249);cb=a(1006);b.lu=new d.Cc(function(a){a(c.PD).Qy(function(){return{};}).$();a(c.cw).Sh(JSON);a(c.f8).Sh(N);a(k.I7).Sh(Math);a(c.n5).Sh(ra.TS);a(c.hT).Sh(ra.Wq);a(c.Y7).Sh(ra.Hl);a(c.G3).Sh(Date);a(c.dt).Sh(ra.Di);a(c.zta).Sh(ra.ID);a(la.w3).to(ha.opa).$();a(ca.Ue).to(Y.aoa).$();a(g.Bi).to(m.ppa).$();a(q.Hg).to(p.rwa).$();a(n.pz).to(h.Yra).$();a(H.nw).to(T.Kva).$();a(k.SJ).to(f.Sva).$();a(ga.Nq).to(fa.Rpa).$();a(ga.I3).to(Fa.Qpa).$();a(r.uw).to(E.Cxa).$();a(u.Uv).to(aa.uR).$();a(D.cj).to(Q.c3).$();a(J.tf).to(y.Z7).$();a(F.Je).Sh(S.Vs);a(Ua.pD).to(Va.Pqa).$();a(L.$R).to(da.dj).mga();a(L.kD).to(da.dj).$();a(L.O3).to(da.dj).$();a(L.dS).to(da.dj).$();a(V.H7).to(O.qw).$();a(ea.A3).to(P.Cpa).$();a(ia.tw).to(ja.N7).$();a(ia.ED).to(ja.N7).$();a("Factory<LoggerFactory>").XFb(Ga.Bb);a(ma.K3).to(na.Tpa).$();a(sa.Kz).nf(function(a){return function(b){return new pa.jxa(a.kb.get(ca.Ue),a.kb.get(q.Hg),b);};});a(Za.H3).nf(function(a){return function(b){return new ab.Ppa(a.kb.get(q.Hg),b);};});a(ua.pT).ZFb(wa.i7);a(ua.Fva).nf(function(a){var b;b=a.kb.get(ua.pT);return function(){return new b(!1);};});a(ua.Gva).nf(function(a){var b;b=a.kb.get(ua.pT);return function(){return new b(!0);};});a(ya.X7).nf(function(){return function(a){return new ba.Bxa(a);};});a(Ma.Nk).nf(function(a){return function(b,c,d){var f,g,h;f=a.kb.get(ga.Nq);g=a.kb.get(Ha.fd);h=a.kb.get(Ka.Wj);return new Da.lva(f,g,h,Na.H5,b,c,d);};});a(A.f6).nf(function(){return function(a){return new W.bua(a);};});a(Ra.m3).to(Sa.Moa);a(Wa.ZJ).nf(function(a){return function(b,c){return new Ya.rxa(a.kb.get(q.Hg),b,c);};});a(bb.i4).to(cb.Jqa).$();});},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A,E,aa,Q,y,T,N,da,W,S,O,V,Y,ca,P,ea;Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;c=a(1029);g=a(1005);q=a(994);n=a(991);k=a(985);p=a(982);h=a(978);f=a(966);m=a(955);r=a(951);u=a(949);D=a(707);J=a(705);F=a(701);L=a(689);H=a(682);A=a(675);E=a(672);aa=a(666);Q=a(263);y=a(658);T=a(656);N=a(649);da=a(645);W=a(637);S=a(635);O=a(628);V=a(602);Y=a(582);ca=a(578);P=a(574);ea=a(560);b.WKa=function(a){a.load(c.lu,p.Py,g.hLa,h.IM,q.uMa,n.Va,k.zUa,f.storage,m.dx,r.QCa,u.ALa,D.ky,J.mh,F.gLa,L.MMa,H.MGa,A.lPa,E.gC,aa.rFa,Q.eme,y.crypto,T.Sc,N.Ac,da.$f,W.AMa,S.rOa,O.j,V.EDa,Y.CTa,ca.Aj,P.Ff,ea.aCa);};},function(d,b,a){var q,n;function c(a,b,c,d,g){this.qa=a;this.config=b;this.ta=c;this.kv=d;this.name=g;}function g(a,b,c,d){var f;f=this;this.qa=a;this.ta=b;this.timeout=c;this.SFb=d;this.zob=function(){f.Np=!0;f.CB.cancel();f.SFb();};this.startTime=this.qa.Zb();this.CB=this.ta.uh(this.timeout,function(){f.zob();});this.Np=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Dqa=void 0;q=a(2);n=a(88);g.prototype.stop=function(){this.Np||(this.P1=this.qa.Zb(),this.CB.cancel());};na.Object.defineProperties(g.prototype,{hX:{configurable:!0,enumerable:!0,get:function(){if(this.P1&&this.startTime)return this.P1.Mb(this.startTime);}}});c.prototype.kbb=function(){var a;a=this;this.oF=new g(this.qa,this.ta,this.config.lga,function(){a.kv(new n.Kf(q.J.dwa,q.I.vYa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.lga+"ms"));});};c.prototype.jbb=function(){this.oF&&this.oF.stop();};c.prototype.LCb=function(){this.YP=this.qa.Zb();};c.prototype.lbb=function(){var a;a=this;this.s2=new g(this.qa,this.ta,this.config.ula,function(){a.kv(new n.Kf(q.J.dwa,q.I.uYa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.ula+"ms"));});};c.prototype.XCa=function(){this.s2&&this.s2.stop();};na.Object.defineProperties(c.prototype,{pd:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.oF){b=this.oF.hX;b&&(a.gMa=b);this.YP&&this.oF.P1&&(a.YP=this.YP.Mb(this.oF.P1));}this.s2&&(b=this.s2.hX)&&(a.JDa=b);return a;}}});b.Dqa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bqa=void 0;b.Bqa="EmeApiSymbol";},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u,D,J,F,L,H,A,E,aa,Q,y;Object.defineProperty(b,"__esModule",{value:!0});b.Fqa=void 0;c=a(0);g=a(1);q=a(135);n=a(3);k=a(2);p=a(25);h=a(8);f=a(44);m=a(36);r=a(53);u=a(87);D=a(475);d=a(474);J=a(138);F=a(253);L=a(1032);H=a(88);A=a(1031);E=a(64);aa=a(47);(function(a){a[a.LGb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.pi=3]="license";a[a.pC=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(Q||(Q={})));y={usable:{status:d.$n.una},expired:{status:d.$n.Gib,error:k.J.mua},released:{status:d.$n.uAb},"output-not-allowed":{status:d.$n.QNa,error:k.J.nua},"output-restricted":{status:d.$n.QNa,error:k.J.n6},"output-downscaled":{status:d.$n.Fwb},"status-pending":{status:d.$n.oSa},"internal-error":{status:d.$n.Upb,error:k.J.T0a}};a=function(){var b;function a(a,b,c,d,f,g,h,l,p){var m;m=this;this.qa=b;this.Yt=c;this.config=d;this.Zf=f;this.Oj=g;this.Gr=h;this.ta=l;this.Dk=p;this.onMessage=function(a){var b,c,d,f;b=m.Oj.Lba(a);c=b.gs;d=b.w_;f=b.sessionId;m.KG=m.KG||b.KG;m.w1(f);m.Tx=m.Oj.Tx(b);m.log.trace("Received "+a.type+" event",{sessionId:f,messageType:d,keyIds:m.KG,isIntermediateChallenge:m.Tx});"license-renewal"===d&&(m.log.trace("Received a renewal request"),m.ri=u.ej.Sm,m.Ef=Q.pC);m.Ef!==Q.pi||m.Tx||(m.vha={Gr:m.Gr,data:c},m.qn(D.zp.LPa));m.Ef===Q.pC&&m.qn(D.zp.MPa);if(m.dO){if(m.Lfa(c)){m.Wr(new aa.Bc(k.J.rYa));return;}m.dO.next({li:c,cDa:d,ri:m.ri});m.ri!==u.ej.Sm||m.Tx||(m.dO.complete(),m.dO=void 0);}m.Ef===Q.stop&&(m.wi.jbb(),m.config.vi&&m.NP&&(m.NP.next({li:c}),m.NP.complete(),m.NP=void 0));};this.CNa=function(a){var b,c,g,h,l,p;b=a.target.keyStatuses;m.w1(a.target.sessionId);m.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{for(var d=S(b),f=d.next();!f.done;f=d.next()){g=S(f.value);h=g.next().value;l=g.next().value;m.log.trace("key status: "+l);p=y[l];m.fha.next({Xr:new Uint8Array(h),value:p.status});m.yB(p.error)&&(c=new H.Kf(p.error),m.$ga(c));}}catch(fb){c=new H.Kf(k.J.U0a);c.HM(fb);}c?m.aha(c):(m.Oj.pW()||m.AKa(),m.ri!==u.ej.dw||m.Oj.uaa()||(m.log.info("Kicking off license renewal",{timeout:m.config.$x}),setTimeout(function(){m.CP();},m.config.$x.ba(n.ia))));};this.sH=function(a){var b;b=m.Oj.Qp(a);m.log.error("Received event: "+a.type,b);m.Wr(b);m.aha(b);m.Pi||m.im||m.$ga(b);};this.Wr=function(a){m.Pi&&m.close().subscribe(void 0,function(b){m.log.error("EmeSession closed with an error.",m.Oj.Qp(b));m.Pi&&(m.Pi.error(a),m.Pi=void 0);},function(){m.log.trace("Issuing a generate challenge error");m.Pi&&(m.Pi.error(a),m.Pi=void 0);});};this.zKa=function(){m.Pi&&(m.Pi.complete(),m.Pi=void 0);};this.aha=function(a){m.im&&(m.log.error("Failed to add license",a),m.close().subscribe(void 0,function(b){m.log.error("EmeSession closed with an error.",m.Oj.Qp(b));m.Ef===Q.pC&&m.qn(D.zp.mBa);m.Pi=void 0;m.im&&(m.im.error(a),m.im=void 0);},function(){m.log.trace("Issuing a license error");m.Pi=void 0;m.im&&(m.im.error(a),m.im=void 0);}));};this.AKa=function(){m.im&&(m.log.info("Successfully added license"),m.Ef===Q.pi?m.qn(D.zp.iBa):m.Ef===Q.pC&&m.qn(D.zp.lBa),m.im.complete(),m.im=void 0);};this.$ga=function(a){m.Tp&&m.close().subscribe(void 0,function(b){m.log.error("EmeSession closed with an error.",m.Oj.Qp(b));m.Pi=void 0;m.im=void 0;m.Tp&&(m.Tp.next(a),m.Tp.complete(),m.Tp=void 0);},function(){m.log.trace("Issuing a CDM error");m.Pi=void 0;m.im=void 0;m.Tp&&(m.Tp.next(a),m.Tp.complete(),m.Tp=void 0);});};this.qn=function(a){m.pd.push({time:m.qa.Zb(),lub:a});};this.log=a.yb("EmeSession");this.dO=new q.Vm();this.config.vi&&(this.NP=new q.Vm());this.fha=new q.A1a();this.Tp=new q.Vm();this.Ef=Q.LGb;this.pd=[];}a.prototype.kG=function(){return this.context.Yd;};a.prototype.Kx=function(){return this.sessionId;};a.prototype.close=function(){var a;a=this;this.fha.complete();this.Ef=Q.closed;this.pd=[];return this.Zf.Oqb()?(this.log.trace("Closing the session"),this.Zf.DAb(this.onMessage),this.Zf.AAb(this.CNa),this.Zf.yAb(this.sH),this.pl=void 0,q.mb.create(function(b){a.Dk.Am(a.config.IBa,a.Zf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Oj.Qp(c);c.code=k.J.W0a;b.error(c);});})):q.mb.empty();};a.prototype.eha=function(){return this.fha.maa();};a.prototype.ZF=function(){return this.Tp?this.Tp.maa():void 0;};a.prototype.Yp=function(){return this.Gr;};a.prototype.Nfa=function(){return void 0!==this.jm;};a.prototype.yn=function(a,b,c,d){var f;f=this;this.ri=d;this.Ef=Q.create;this.context=a;this.qn(D.zp.RKa);return q.mb.create(function(a){(c.aJa()?Promise.resolve():f.Dk.Am(f.config.JBa,f.Zf.Xeb(b)).then(function(a){f.log.trace("Created media keys");c.AC(a);return f.J9a(a);})).then(function(){f.pl=c.pl;try{f.Zf.yn(f.pl,f.Oj.rfa(d));f.Zf.W8a(f.onMessage);f.Zf.Q8a(f.CNa);f.Zf.K8a(f.sH);f.w1(f.Zf.Kx());a.next(f);a.complete();}catch(za){a.error(new H.Kf(k.J.nYa,k.I.Ah,void 0,"Unable to create a persisted key session",za));}})["catch"](function(b){b.code&&b.cd?a.error(b):a.error(new H.Kf(k.J.b4,b instanceof E.Xm?k.I.kJ:k.I.Ah,void 0,"Unable to create MediaKeys. "+b.message,b));});});};a.prototype.oDb=function(a){this.Xg=a;this.log.L$("xid",a.ha);};a.prototype.qsb=function(a){var b;b=this;this.Ef=Q.load;return q.mb.Nr(this.Zf.load(a).then(function(){return b;}));};a.prototype.WX=function(a){var b;b=this;this.Ef=Q.pi;this.log.trace("Generating a license challenge");this.Pi=new q.Vm();if(!a)return this.mW(new H.Kf(k.J.rqa,k.I.d4));if(this.Lfa(a))return this.mW(new H.Kf(k.J.rqa,k.I.c4));this.Dk.Am(this.config.KBa,this.Zf.lea("cenc",a)).then(function(){b.w1(b.Zf.Kx());})["catch"](function(a){var c;c=new H.Kf(k.J.qqa,a instanceof E.Xm?k.I.kJ:k.I.Ah);c.message="Unable to generate request.";c.HM(a);b.log.error("Unable to generate a license request",c);b.Wr(c);});this.log.trace("Returning the challenge subject");return this.Pi;};a.prototype.hBa=function(a){var b;b=this;this.pc=a.pc;a=a.jm.map(function(a){return a.data;});this.Lfa(a)?(this.log.error("The license buffer is empty"),this.Wr(new H.Kf(k.J.sqa,k.I.c4))):this.Tx?this.Dk.Am(this.config.eaa,this.Zf.update(a,this.KG)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.Oj.Qp(a);a.code=k.J.XR;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Wr(a);}):(this.Ef===Q.pi&&(this.qn(D.zp.KPa),this.jm=a,this.zKa()),this.Ef===Q.pC&&(this.qn(D.zp.NPa),this.jm=a,this.jaa()));};a.prototype.T8a=function(a){this.Ef===Q.pC?(this.qn(D.zp.OPa),this.$ga(a)):this.Wr(a);};a.prototype.jaa=function(){var a,b;a=this;if(!this.jm)return this.mW(new H.Kf(k.J.sqa,k.I.d4));this.im=new q.Vm();b=this.jm;this.jm=void 0;this.Dk.Am(this.config.eaa,this.Zf.update(b,this.KG)).then(function(){a.Oj.pW()&&a.AKa();})["catch"](function(b){b=a.Oj.Qp(b);b.code=k.J.qua;b.message="Unable to update the EME";a.log.error(b.message,b);a.aha(b);});return this.im;};a.prototype.OG=function(){return this.dO;};a.prototype.QGa=function(){var a;a=this;if(this.Ef===Q.pi&&this.ri===u.ej.dw)return q.mb.empty();this.Ef=Q.stop;this.log.trace("Generating a secure stop challenge");this.Pi=new q.Vm();this.wi=new A.Dqa(this.qa,this.config,this.ta,function(){a.log.error("got a timeout error");},"non-persisted");this.wi.kbb();this.Zf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.Oj.Qp(b);c.code=k.J.uqa;c.cd=k.I.Ah;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Wr(c);});return this.Pi;};a.prototype.nBa=function(a){a&&a.constructor!==Uint8Array?this.Wr(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Wr(new H.Kf(k.J.tqa,k.I.c4))):(this.log.trace("Secure stop is ready to apply"),this.VQa=a,this.wi.LCb(),this.zKa()):(this.log.error("The secure stop buffer is undefined"),this.Wr(new H.Kf(k.J.tqa,k.I.d4)));};a.prototype.M9a=function(){var a;a=this;if(!this.VQa)return q.mb.from([this]);this.log.trace("Setting the secure stop data");return q.mb.create(function(b){a.wi.lbb();a.Zf.update([a.VQa]).then(function(){a.wi.XCa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.wi.XCa();d=a.Oj.Qp(c);d.code=k.J.XR;d.cd=k.I.Ah;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(d);});});};a.prototype.J9a=function(a){var b,c;b=this;c=this.Oj.yea();return c?(c=this.Yt.decode(c),this.Dk.Am(this.config.MBa,this.Zf.tDb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};a.prototype.w1=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.L$("sessionId",a));};a.prototype.yB=function(a){return a===k.J.n6?this.config.f0:!!a;};a.prototype.CP=function(){var a;a=this;this.log.trace("Initiating a renewal request");this.ri=u.ej.Sm;this.Ef=Q.pC;this.Oj.Ega(this.Zf)["catch"](function(){return a.mW(new aa.Bc(k.J.WR));});};a.prototype.mW=function(a){var b;b=this;return q.mb.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a.prototype.Lfa=function(a){return 0===a.length||a.reduce(function(a,b){return a||0===b.length;},!1);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(h.Bb)),c.__param(1,g.l(p.Ue)),c.__param(2,g.l(f.cj)),c.__param(3,g.l(r.Dl)),c.__param(4,g.l(L.Bqa)),c.__param(5,g.l(F.kqa)),c.__param(6,g.l(J.mqa)),c.__param(7,g.l(m.Hg)),c.__param(8,g.l(E.nw))],b);}();b.Fqa=a;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Eqa=void 0;c=a(0);g=a(1);q=a(8);n=a(25);k=a(44);p=a(53);h=a(36);f=a(64);m=a(1033);r=a(100);d=function(){var b;function a(a,b,c,d,f,g,h){this.Zr=a;this.qa=b;this.mc=c;this.config=d;this.ta=f;this.Dk=g;this.ol=h;}a.prototype.create=function(){var a;a=this;return Promise.all([this.ol.zlb(),this.ol.ylb(),this.ol.Yp()]).then(function(b){var c,d;c=S(b);b=c.next().value;d=c.next().value;c=c.next().value;return new m.Fqa(a.Zr,a.qa,a.mc,a.config,b,d,c,a.ta,a.Dk);});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Bb)),c.__param(1,g.l(n.Ue)),c.__param(2,g.l(k.cj)),c.__param(3,g.l(p.Dl)),c.__param(4,g.l(h.Hg)),c.__param(5,g.l(f.nw)),c.__param(6,g.l(r.Ys))],b);}();b.Eqa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.owa=void 0;c=a(0);g=a(1);q=a(2);n=a(26);k=a(99);p=a(98);h=a(88);f=a(64);m=a(53);r=a(44);u=a(476);d=function(){var b;function a(a,b,c,d,f){this.Sc=a;this.Eh=b;this.mc=c;this.xh=d;this.Ee=f;}a.prototype.pW=function(){return!1;};a.prototype.uaa=function(){return!1;};a.prototype.rfa=function(){return this.Ee.vi?"persistent-usage-record":"temporary";};a.prototype.yea=function(){return u.n4;};a.prototype.mfa=function(){return[{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.Tx=function(a){return this.Sc.Br(a.gs[0],this.xh.decode("certificate"));};a.prototype.Ega=function(a){return a.CP();};a.prototype.Lba=function(a){var b,c,d;b=this;if("license-request"===a.messageType){c=this.xh.encode(new Uint8Array(a.message));d=JSON.parse(c);c=d.map(function(a){return b.mc.decode(a.payload);});d=d.map(function(a){return a.keyID;});return{type:a.type,sessionId:a.target.sessionId,KG:d,gs:c,w_:"license-request"};}return{type:a.type,sessionId:a.target.sessionId,gs:[new Uint8Array(a.message)],w_:a.messageType};};a.prototype.Qp=function(a){var b,c,d,g;c=null===(b=a.target)||void 0===b?void 0:b.error;c&&(d=c.systemCode,g=c.code);b=new h.Kf(q.J.aT,a instanceof f.Xm?q.I.kJ:q.I.nD,d?this.Eh.dN(d,4):g,"",c);b.HM(a);return b;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.tf)),c.__param(1,g.l(k.Uv)),c.__param(2,g.l(r.cj)),c.__param(3,g.l(p.uw)),c.__param(4,g.l(m.Dl))],b);}();b.owa=d;},function(d,b){function a(a,b,d){var c;c=this;this.mc=a;this.ed=b;this.xh=d;this.amb=function(a){var b;a=a.subarray(14,30);a=c.mc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.LYa={yWa:1667591779,jKb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.Vqa=void 0;a.prototype.Ccb=function(a,b){var c;c=this.LYa.yWa;b=b?1:0;a=a.map(function(a){return{pTb:"",mrb:a,RV:a,mEb:a,gIb:[1]};});return this.Vsb(c,b,a);};a.prototype.Usb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.Vha("fpsi",b,[c]);};a.prototype.Tsb=function(a,b,d,g){a=[this.Vha("fkri",0,[a])];b.byteLength&&a.push(this.mO("fkai",[b]));d.byteLength&&a.push(this.mO("fkcx",[d]));g.length&&a.push(this.mO("fkvl",[new Uint8Array(new Uint32Array(g).buffer)]));return this.mO("fpsk",a);};a.prototype.Vsb=function(a,b,d){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.Usb(a,b)];for(var g in d)b=d[g],a.push(this.Tsb(b.mrb,b.RV,b.mEb,b.gIb));d=this.mO("fpsd",a);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,d.byteLength);return this.Vha("pssh",0,[c,g,d]);};a.prototype.Vha=function(a,b,d){var c,g,l;c=0;for(g in d)c+=d[g].byteLength;c=new Uint8Array(12+c);l=new DataView(c.buffer);g=0;l.setUint32(g,c.byteLength);g+=4;c.set(this.xh.decode(a),g);g+=4;l.setUint32(g,0|4095&b);g+=4;for(var h in d)a=d[h],c.set(a,g),g+=a.byteLength;return c;};a.prototype.mO=function(a,b){var c,d;c=0;for(d in b)c+=b[d].byteLength;c=new Uint8Array(8+c);d=0;new DataView(c.buffer).setUint32(d,c.byteLength);d+=4;c.set(this.xh.decode(a),d);d+=4;for(var g in b)a=b[g],c.set(a,d),d+=a.byteLength;return c;};b.Vqa=a;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r;Object.defineProperty(b,"__esModule",{value:!0});b.Wqa=void 0;c=a(0);g=a(1);q=a(252);n=a(1036);k=a(29);p=a(23);h=a(44);f=a(26);m=a(53);r=a(98);d=function(){var b;function a(a,b,c,d,f,g){a=q.$q.call(this,a,b,c,d,f,g)||this;a.mc=c;a.ed=d;a.Ee=f;a.xh=g;a.oJa=new n.Vqa(a.mc,a.ed,a.xh);return a;}ca(a,q.$q);a.prototype.lea=function(a,b){var c,d,f;c=this;try{d=b.map(function(a){return c.oJa.amb(a);});this.FKa=d.map(function(a){return c.mc.encode(a);});f=this.oJa.Ccb(d,this.Ee.vi);return q.$q.prototype.lea.call(this,a,[f]);}catch(R){return Promise.reject(R);}};a.prototype.update=function(a,b){var c,d,f,g;c=this;if(b)try{d=a.map(function(d,f){return{keyID:1===a.length?c.FKa[c.FKa.length-1]:b[f],payload:c.mc.encode(d)};});f=JSON.stringify(d);g=this.xh.decode(f);return q.$q.prototype.update.call(this,[g]);}catch(aa){return Promise.reject(aa);}return q.$q.prototype.update.call(this,a);};a.prototype.CP=function(){return q.$q.prototype.update.call(this,[this.xh.decode("renew")]);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(k.dt)),c.__param(1,g.l(p.Je)),c.__param(2,g.l(h.cj)),c.__param(3,g.l(f.tf)),c.__param(4,g.l(m.Dl)),c.__param(5,g.l(r.uw))],b);}();b.Wqa=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.kpa=void 0;c=a(0);g=a(1);q=a(2);n=a(26);k=a(99);p=a(253);h=a(88);f=a(64);m=a(53);r=a(14);u=a(47);d=function(){var b;function a(a,b,c,d){this.Sc=a;this.Eh=b;this.Ee=c;this.config=d;}a.prototype.pW=function(){return!0;};a.prototype.uaa=function(){return!0;};a.prototype.rfa=function(){return"temporary";};a.prototype.yea=function(){return this.Ee.XP?this.Ee.XP:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};a.prototype.mfa=function(){var a,b;a=[{contentType:p.Tq,robustness:"HW_SECURE_DECODE"},{contentType:p.Tq,robustness:"SW_SECURE_DECODE"},{contentType:p.Tq,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:p.Tq,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:p.gw,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().AGa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};a.prototype.Tx=function(a){return this.Sc.Br(a.gs[0],new Uint8Array([8,4]));};a.prototype.Ega=function(){return Promise.reject(new u.Bc(q.J.WR));};a.prototype.Lba=function(a){return{type:a.type,sessionId:a.target.sessionId,gs:[new Uint8Array(a.message)],w_:a.messageType};};a.prototype.Qp=function(a){var b,c,d;b=new h.Kf(q.J.aT);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.cd=1<=c&&9>=c?q.I.nD+c:q.I.nD):b.cd=a instanceof f.Xm?q.I.kJ:q.I.Ah;try{d=a.message.match(/\((\d*)\)/)[1];b.ph=this.Eh.dN(d,4);}catch(R){}b.HM(a);return b;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.tf)),c.__param(1,g.l(k.Uv)),c.__param(2,g.l(m.Dl)),c.__param(3,g.l(r.fd))],b);}();b.kpa=d;},function(d,b,a){var c,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.zva=void 0;c=a(0);g=a(1);q=a(252);d=function(){var b;function a(a){return q.$q.apply(this,arguments)||this;}ca(a,q.$q);b=a;return b=c.__decorate([g.N()],b);}();b.zva=d;},function(d,b,a){var c,g,q,n,k,p,h,f,m,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.Aqa=void 0;c=a(0);g=a(1);q=a(2);n=a(99);k=a(44);p=a(253);h=a(88);f=a(87);m=a(53);r=a(64);u=a(47);d=function(){var b;function a(a,b,c){this.Eh=a;this.mc=b;this.Ee=c;}a.prototype.pW=function(){return!0;};a.prototype.uaa=function(){return!1;};a.prototype.rfa=function(a){return this.Ee.vi&&a===f.ej.Sm?"persistent-usage-record":"temporary";};a.prototype.yea=function(){if(this.Ee.XP)return this.Ee.XP;};a.prototype.mfa=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:p.gw}],videoCapabilities:[{contentType:p.Tq}],sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.Tx=function(){return!1;};a.prototype.Ega=function(){return Promise.reject(new u.Bc(q.J.WR));};a.prototype.Lba=function(a){var b;b=new Uint8Array(a.message);b=this.Ada(b,"PlayReadyKeyMessage","Challenge");b=this.mc.decode(b);return{type:a.type,sessionId:a.target.sessionId,gs:[b],w_:a.messageType};};a.prototype.Qp=function(a){var b,c;b=new h.Kf(q.J.aT);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.cd=1<=c&&9>=c?q.I.nD+c:q.I.nD):b.cd=a instanceof r.Xm?q.I.kJ:q.I.Ah;try{b.ph=this.Eh.dN(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(U){}b.HM(a);return b;};a.prototype.Ada=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Uv)),c.__param(1,g.l(k.cj)),c.__param(2,g.l(m.Dl))],b);}();b.Aqa=d;},function(d,b,a){var c,g,m,n,k,p,h,f,r,u,G,D,A,F,L,H,E,R,aa,Q,y;Object.defineProperty(b,"__esModule",{value:!0});b.tta=void 0;c=a(0);g=a(1);m=a(2);n=a(8);k=a(88);p=a(138);h=a(1040);f=a(1039);r=a(1038);u=a(252);G=a(26);D=a(99);A=a(44);F=a(23);L=a(29);H=a(1037);E=a(1035);R=a(98);aa=a(14);Q=a(139);y=a(53);d=function(){var b;function a(a,b,c,d,f,g,h,k,l){this.Zr=a;this.Sc=b;this.xh=c;this.Eh=d;this.mc=f;this.is=g;this.JO=h;this.config=k;this.Ee=l;this.log=this.Zr.yb("MediaKeySystemAccessServices");}a.prototype.lG=function(){this.rs||(this.rs=this.FBb());return this.rs;};a.prototype.Seb=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=Q.ob.Dea(a);g=b.yHa(f);f=b.uHa(f);g.ZAb(a,f.mfa()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new k.Kf(m.J.pqa,m.I.Ah,void 0,"Unable to create media keys system access. "+c.message,c));});});};a.prototype.Yp=function(){var a;a=this;return this.lG().then(function(b){return a.vHa(b);});};a.prototype.xlb=function(){var a,b;a=this;b=this.config().GKa||[this.config().Yd];if(1<b.length)return this.lG().then(function(b){return a.vHa(b);}).then(function(a){return Q.ob.tHa(a);});b=Q.ob.Dea(b[0]);return Promise.resolve(Q.ob.tHa(b));};a.prototype.ylb=function(){var a;a=this;return this.Yp().then(function(b){return a.uHa(b);});};a.prototype.zlb=function(){var a;a=this;return this.Yp().then(function(b){return a.yHa(b);});};a.prototype.vHa=function(a){return Q.ob.Dea(a.keySystem);};a.prototype.uHa=function(a){switch(a){case p.Nm.iC:return new h.Aqa(this.Eh,this.mc,this.Ee);case p.Nm.fB:return new E.owa(this.Sc,this.Eh,this.mc,this.xh,this.Ee);default:return new r.kpa(this.Sc,this.Eh,this.Ee,this.config);}};a.prototype.yHa=function(a){switch(a){case p.Nm.iC:return new f.zva(this.JO,this.is,this.mc,this.Sc,this.Ee,this.xh);case p.Nm.fB:return new H.Wqa(this.JO,this.is,this.mc,this.Sc,this.Ee,this.xh);default:return new u.$q(this.JO,this.is,this.mc,this.Sc,this.Ee,this.xh);}};a.prototype.FBb=function(){var a,b;a=this;b=(this.config().GKa||[this.config().Yd]).map(function(b){return function(){return a.Seb(b);};});return this.GBb(b);};a.prototype.GBb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Bb)),c.__param(1,g.l(G.tf)),c.__param(2,g.l(R.uw)),c.__param(3,g.l(D.Uv)),c.__param(4,g.l(A.cj)),c.__param(5,g.l(F.Je)),c.__param(6,g.l(L.dt)),c.__param(7,g.l(aa.fd)),c.__param(8,g.l(y.Dl))],b);}();b.tta=d;},function(d,b,a){d=a(19);a=a(480);d.mb.from=a.from;},function(d,b){b.BZ=function(a){return a instanceof Date&&!isNaN(+a);};},function(d,b,a){d=a(489);a=a(488);b.async=new a.uoa(d.roa);},function(d,b,a){var c;c=a(176);b.Bqb=function(a){return!c.isArray(a)&&0<=a-parseFloat(a)+1;};},function(d,b,a){var c,g,m,n,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(1045);d=a(19);m=a(1044);n=a(255);k=a(1043);a=function(a){function b(b,c,d){void 0===b&&(b=0);a.call(this);this.n0=-1;this.pFa=0;g.Bqb(c)?this.n0=1>Number(c)&&1||Number(c):n.LZ(c)&&(d=c);n.LZ(d)||(d=m.async);this.ta=d;this.pFa=k.BZ(b)?+b-this.ta.now():b;}c(b,a);b.create=function(a,c,d){void 0===a&&(a=0);return new b(a,c,d);};b.oc=function(a){var b,c,d;b=a.index;c=a.n0;d=a.aj;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Kc(a,c);}};b.prototype.Ol=function(a){return this.ta.Kc(b.oc,this.pFa,{index:0,n0:this.n0,aj:a});};return b;}(d.mb);b.s2a=a;},function(d,b,a){d=a(1046);b.Kv=d.s2a.create;},function(d,b,a){d=a(19);a=a(1047);d.mb.Kv=a.Kv;},function(d,b,a){d=a(19);a=a(482);d.mb.of=a.of;},function(d,b,a){var c,g,m,n,k,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(176);m=a(254);d=a(175);n=a(174);b.race=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(1===a.length)if(g.isArray(a[0]))a=a[0];else return a[0];return new m.S2(a).jq(new k());};k=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new p(a));};return a;}();b.vOb=k;p=function(a){function b(b){a.call(this,b);this.Mfa=!1;this.nja=[];this.sQ=[];}c(b,a);b.prototype.Vk=function(a){this.nja.push(a);};b.prototype.Pd=function(){var a,b,d;a=this.nja;b=a.length;if(0===b)this.destination.complete();else{for(var c=0;c<b&&!this.Mfa;c++){d=a[c];d=n.Y1(this,d,d,c);this.sQ&&this.sQ.push(d);this.add(d);}this.nja=null;}};b.prototype.V_=function(a,b,c){var d;if(!this.Mfa){this.Mfa=!0;for(a=0;a<this.sQ.length;a++)if(a!==c){d=this.sQ[a];d.unsubscribe();this.remove(d);}this.sQ=null;}this.destination.next(b);};return b;}(d.ZS);b.wOb=p;},function(d,b,a){d=a(19);a=a(1050);d.mb.race=a.race;},function(d,b,a){d=a(479);b.Nr=d.Jva.create;},function(d,b,a){d=a(19);a=a(1052);d.mb.Nr=a.Nr;},function(d,b,a){d=a(173);b.empty=d.YR.create;},function(d,b,a){d=a(19);a=a(1054);d.mb.empty=a.empty;},function(d,b,a){var c;c=a(484);b.tcb=function(){return c.PB(1);};},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(19);g=a(481);m=a(173);a=function(a){function b(b,c){a.call(this);this.laa=b;(this.ta=c)||1!==b.length||(this.zt=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var d;d=a.length;return 0===d?new m.YR():1===d?new g.qwa(a[0],c):new b(a,c);};b.oc=function(a){var b,c,d;b=a.laa;c=a.index;d=a.aj;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Kc(a)));};b.prototype.Ol=function(a){var c,d,g;c=this.laa;d=this.ta;g=c.length;if(d)return d.Kc(b.oc,0,{laa:c,index:0,length:g,aj:a});for(d=0;d<g&&!a.closed;d++)a.next(c[d]);a.complete();};return b;}(d.mb);b.HVa=a;},function(d,b,a){var c,g,m,n,k,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(85);d=a(19);m=a(256);a=function(a){function b(b,c){a.call(this);this.ta=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[m.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[m.iterator]();}else b=new k(b);else b=new n(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.oc=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.aj;if(a.AN)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Kc(a));}};b.prototype.Ol=function(a){var c,d;c=this.iterator;d=this.ta;if(d)return d.Kc(b.oc,0,{index:0,iterator:c,aj:a});do{d=c.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break;}}while(1);};return b;}(d.mb);b.j_a=a;n=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.Hy=a;this.JN=b;this.uha=c;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){return this.JN<this.uha?{done:!1,value:this.Hy.charAt(this.JN++)}:{done:!0,value:void 0};};return a;}();k=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&g.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>p?p:c;}this.P9a=a;this.JN=b;this.uha=c;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){return this.JN<this.uha?{done:!1,value:this.P9a[this.JN++]}:{done:!0,value:void 0};};return a;}();p=Math.pow(2,53)-1;},function(d,b,a){var c,g,m,n,k,p,h,f,r,u,G,D;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(176);m=a(486);n=a(485);k=a(479);p=a(1058);h=a(254);f=a(1057);r=a(256);u=a(19);G=a(487);D=a(257);d=function(a){function b(b,c){a.call(this,null);this.Zqb=b;this.ta=c;}c(b,a);b.create=function(a,c){if(null!=a){if("function"===typeof a[D.observable])return a instanceof u.mb&&!c?a:new b(a,c);if(g.isArray(a))return new h.S2(a,c);if(n.jKa(a))return new k.Jva(a,c);if("function"===typeof a[r.iterator]||"string"===typeof a)return new p.j_a(a,c);if(m.UJa(a))return new f.HVa(a,c);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};b.prototype.Ol=function(a){var b,c;b=this.Zqb;c=this.ta;return null==c?b[D.observable]().subscribe(a):b[D.observable]().subscribe(new G.aua(a,c,0));};return b;}(u.mb);b.MYa=d;},function(d,b,a){var c,g,m,n;c=a(255);g=a(482);m=a(480);n=a(1056);b.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 1===a.length||2===a.length&&c.LZ(a[1])?m.from(a[0]):n.tcb()(g.of.apply(void 0,a));};},function(d,b,a){d=a(19);a=a(1060);d.mb.concat=a.concat;},function(){},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(175);g=a(174);b.FQ=function(a){return function(b){return b.jq(new m(a));};};m=function(){function a(a){this.Ua=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Ua));};return a;}();n=function(a){function b(b,c){a.call(this,b);this.Ua=c;this.add(g.Y1(this,c));}c(b,a);b.prototype.V_=function(){this.complete();};b.prototype.ls=function(){};return b;}(d.ZS);},function(d,b,a){var c;c=a(1063);b.FQ=function(a){return c.FQ(a)(this);};},function(d,b,a){d=a(19);a=a(1064);d.mb.prototype.FQ=a.FQ;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.CVa=d;},function(d,b,a){var c,g,m,n,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);g=a(1066);m=a(173);b.EQ=function(a){return function(b){return 0===a?new m.YR():b.jq(new n(a));};};n=function(){function a(a){this.total=a;if(0>this.total)throw new g.CVa();}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.total));};return a;}();k=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.Vk=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return b;}(d.Wm);},function(d,b,a){var c;c=a(1067);b.EQ=function(a){return c.EQ(a)(this);};},function(d,b,a){d=a(19);a=a(1068);d.mb.prototype.EQ=a.EQ;},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);b.kQ=function(a){return function(b){return b.jq(new g(a));};};g=function(){function a(a){this.ty=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.ty));};return a;}();m=function(a){function b(b,c){a.call(this,b);this.ty=c;this.nma=!0;this.index=0;}c(b,a);b.prototype.Vk=function(a){var b;b=this.destination;this.nma&&this.BGb(a);this.nma||b.next(a);};b.prototype.BGb=function(a){try{this.nma=!!this.ty(a,this.index++);}catch(h){this.destination.error(h);}};return b;}(d.Wm);},function(d,b,a){var c;c=a(1070);b.kQ=function(a){return c.kQ(a)(this);};},function(d,b,a){d=a(19);a=a(1071);d.mb.prototype.kQ=a.kQ;},function(d,b,a){var c;c=a(483);b.YG=function(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);return c.YG(a,b,d)(this);};},function(d,b,a){d=a(19);a=a(1073);d.mb.prototype.YG=a.YG;d.mb.prototype.Lr=a.YG;},function(d,b){b.jpb=function(a){return a;};},function(d,b,a){var c;c=a(484);b.PB=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.PB(a)(this);};},function(d,b,a){d=a(19);a=a(1076);d.mb.prototype.PB=a.PB;},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);b.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.jq(new g(a,b));};};g=function(){function a(a,b){this.lC=a;this.Lma=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.lC,this.Lma));};return a;}();b.IMb=g;m=function(a){function b(b,c,d){a.call(this,b);this.lC=c;this.count=0;this.Lma=d||this;}c(b,a);b.prototype.Vk=function(a){var b;try{b=this.lC.call(this.Lma,a,this.count++);}catch(f){this.destination.error(f);return;}this.destination.next(b);};return b;}(d.Wm);},function(d,b,a){var c;c=a(1078);b.map=function(a,b){return c.map(a,b)(this);};},function(d,b,a){d=a(19);a=a(1079);d.mb.prototype.map=a.map;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.AYa=d;},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);g=a(1081);b.Sg=function(a,b,c){return function(d){return d.jq(new m(a,b,c,d));};};m=function(){function a(a,b,c,d){this.ty=a;this.As=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.ty,this.As,this.defaultValue,this.source));};return a;}();n=function(a){function b(b,c,d,g,k){a.call(this,b);this.ty=c;this.As=d;this.defaultValue=g;this.source=k;this.yG=!1;this.index=0;"undefined"!==typeof g&&(this.ZZ=g,this.yG=!0);}c(b,a);b.prototype.Vk=function(a){var b;b=this.index++;this.ty?this.Z7a(a,b):this.As?this.SAa(a,b):(this.ZZ=a,this.yG=!0);};b.prototype.Z7a=function(a,b){var c;try{c=this.ty(a,b,this.source);}catch(z){this.destination.error(z);return;}c&&(this.As?this.SAa(a,b):(this.ZZ=a,this.yG=!0));};b.prototype.SAa=function(a,b){var c;try{c=this.As(a,b);}catch(z){this.destination.error(z);return;}this.ZZ=c;this.yG=!0;};b.prototype.Pd=function(){var a;a=this.destination;this.yG?(a.next(this.ZZ),a.complete()):a.error(new g.AYa());};return b;}(d.Wm);},function(d,b,a){var c;c=a(1082);b.Sg=function(a,b,d){return c.Sg(a,b,d)(this);};},function(d,b,a){d=a(19);a=a(1083);d.mb.prototype.Sg=a.Sg;},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(70);b.xFb=function(a,b,c){return function(d){return d.jq(new m(a,b,c));};};m=function(){function a(a,b,c){this.evb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.evb,this.error,this.complete));};return a;}();n=function(a){function b(b,c,d,k){a.call(this,b);b=new g.Wm(c,d,k);b.Hm=!0;this.add(b);this.ila=b;}c(b,a);b.prototype.Vk=function(a){var b;b=this.ila;b.next(a);b.LC?this.destination.error(b.MC):this.destination.next(a);};b.prototype.Ye=function(a){var b;b=this.ila;b.error(a);b.LC?this.destination.error(b.MC):this.destination.error(a);};b.prototype.Pd=function(){var a;a=this.ila;a.complete();a.LC?this.destination.error(a.MC):this.destination.complete();};return b;}(g.Wm);},function(d,b,a){var c;c=a(1085);b.R8=function(a,b,d){return c.xFb(a,b,d)(this);};},function(d,b,a){d=a(19);a=a(1086);d.mb.prototype.JM=a.R8;d.mb.prototype.R8=a.R8;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c,d){a.call(this);this.parent=b;this.Ewb=c;this.Dwb=d;this.index=0;}c(b,a);b.prototype.Vk=function(a){this.parent.V_(this.Ewb,a,this.Dwb,this.index++,this);};b.prototype.Ye=function(a){this.parent.qvb(a);this.unsubscribe();};b.prototype.Pd=function(){this.parent.ls(this);this.unsubscribe();};return b;}(a(70).Wm);b.fsa=d;},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(175);g=a(174);b.hbb=function(a){return function(b){var c;c=new m(a);b=b.jq(c);return c.Xaa=b;};};m=function(){function a(a){this.Dla=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Dla,this.Xaa));};return a;}();n=function(a){function b(b,c,d){a.call(this,b);this.Dla=c;this.Xaa=d;}c(b,a);b.prototype.error=function(b){var c;if(!this.wg){c=void 0;try{c=this.Dla(b,this.Xaa);}catch(t){a.prototype.error.call(this,t);return;}this.b8a();this.add(g.Y1(this,c));}};return b;}(d.ZS);},function(d,b,a){var c;c=a(1089);b.D8=function(a){return c.hbb(a)(this);};},function(d,b,a){d=a(19);a=a(1090);d.mb.prototype["catch"]=a.D8;d.mb.prototype.D8=a.D8;},function(d,b,a){a(19);d=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.yG="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.JM=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.JM(a,b,c);};a.$eb=function(b){return"undefined"!==typeof b?new a("N",b):a.JGb;};a.Leb=function(b){return new a("E",void 0,b);};a.Beb=function(){return a.kcb;};a.kcb=new a("C");a.JGb=new a("N",void 0);return a;}();b.Notification=d;},function(d,b){d=function(){function a(b,d){void 0===d&&(d=a.now);this.d2a=b;this.now=d;}a.prototype.Kc=function(a,b,d){void 0===b&&(b=0);return new this.d2a(this,a).Kc(d,b);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();b.c2a=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);}c(b,a);return b;}(a(488).uoa);b.u1a=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.call(this);}c(b,a);b.prototype.Kc=function(){return this;};return b;}(a(116).rw);b.AVa=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this,b,c);this.ta=b;this.Dna=c;}c(b,a);b.prototype.Kc=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Kc.call(this,b,c);this.il=c;this.state=b;this.ta.flush(this);return this;};b.prototype.ff=function(b,c){return 0<c||this.closed?a.prototype.ff.call(this,b,c):this.Qya(b);};b.prototype.Ska=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.il?a.prototype.Ska.call(this,b,c,d):b.flush(this);};return b;}(a(489).roa);b.s1a=d;},function(d,b,a){d=a(1096);a=a(1094);b.Ek=new a.u1a(d.s1a);},function(d,b,a){var c,g,m,n,k,p,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(492);g=a(1097);m=a(116);n=a(487);k=a(491);p=a(490);a=function(a){function b(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ta=d;this.Yf=[];this.p3a=1>b?1:b;this.n8a=1>c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.dza();this.Yf.push(new h(c,b));this.PAa();a.prototype.next.call(this,b);};b.prototype.Ol=function(a){var b,c,d;b=this.PAa();c=this.ta;if(this.closed)throw new k.LD();this.AN?d=m.rw.EMPTY:this.wg?d=m.rw.EMPTY:(this.jv.push(a),d=new p.Twa(this,a));c&&a.add(a=new n.aua(a,c));for(var c=b.length,f=0;f<c&&!a.closed;f++)a.next(b[f].value);this.AN?a.error(this.Pma):this.wg&&a.complete();return d;};b.prototype.dza=function(){return(this.ta||g.Ek).now();};b.prototype.PAa=function(){for(var a=this.dza(),b=this.p3a,c=this.n8a,d=this.Yf,f=d.length,g=0;g<f&&!(a-d[g].time<c);)g++;f>b&&(g=Math.max(g,f-b));0<g&&d.splice(0,g);return d;};return b;}(d.Vm);b.A1a=a;h=function(){return function(a,b){this.time=a;this.value=b;};}();},function(d,b){b.jvb=function(){};},function(d,b,a){var g;function c(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:g.jvb;}g=a(1099);b.vxb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c(a);};b.wxb=c;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(a){b.call(this);this.ZF=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.MT=d;},function(d,b,a){var g,m;function c(){try{return m.apply(this,arguments);}catch(n){return g.zx.e=n,g.zx;}}g=a(493);b.FTa=function(a){m=a;return c;};},function(d,b,a){var c,g,m;c=a(70);g=a(258);m=a(259);b.aGb=function(a,b,d){if(a){if(a instanceof c.Wm)return a;if(a[g.vC])return a[g.vC]();}return a||b||d?new c.Wm(a,b,d):new c.Wm(m.empty);};},function(d,b,a){var c,g,m,n,k,p,h,f,r,u,G,D,A,F,L,H;Object.defineProperty(b,"__esModule",{value:!0});b.iqa=void 0;c=a(0);g=a(1);m=a(135);n=a(8);k=a(36);p=a(478);h=a(69);f=a(87);r=a(53);u=a(261);G=a(262);D=a(477);A=a(14);F=a(100);L=a(137);H=a(52);d=function(){var b;function a(a,b,c,d,g,h,k,l,n,p){var q;q=this;this.ta=b;this.us=c;this.config=d;this.Wp=g;this.yFa=h;this.lF=k;this.ol=l;this.uO=n;this.zk=p;this.$Eb=function(a,b){q.zk.mark(H.xa.cS,a.Xg.ha,"generate-challenge");b.OG().EQ(1).subscribe(function(c){q.QKa.next({Gr:b.Yp(),data:c.li});q.zk.mark(H.xa.bS,a.Xg.ha,"generate-challenge");});b.OG().map(function(c){return q.qN(a,b,c);}).PB().JM(function(a){return b.hBa(a);}).subscribe(void 0,function(a){b.T8a(a);},function(){q.Hab(b);});};this.cFb=function(a){a.NP.map(function(b){return q.oIa(a,b);}).PB().JM(function(b){return a.nBa(b.response);}).subscribe(void 0,a.nBa);};this.log=a.yb("DrmServices");this.QKa=new m.Vm();this.Wp().sp&&this.lF.BPa().then(function(){q.DEb();})["catch"](function(a){q.log.error("Unable to load the persisted DRM data",a);});this.config.vZ&&this.ol.lG().then(function(a){return q.fEa(a,{Yd:a.keySystem},f.ej.Sm,n()).Lr(function(a){return a.close();}).subscribe();});}a.prototype.wv=function(a,b){var c;c=this;return new Promise(function(d,f){c.pi(a,b).subscribe(d,f);});};a.prototype.fkb=function(a,b){var c;c=this;return new Promise(function(d,f){c.WX(a,b).subscribe(d,f);});};a.prototype.pi=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.SHa(a,a.type));return this.tM(a.context,a.type,b).Lr(function(b){c.vMa(a,b);return c.NDa(b.WX(a.lZ),b);});};a.prototype.vMa=function(a,b){b.oDb(a.Xg);this.$Eb(a,b);};a.prototype.HEb=function(a,b){var c,d;c=this;this.config.vi?(this.log.info("Releasing server license and EME license",this.sfa(a)),this.cFb(a),d=a.QGa()):(this.log.info("Releasing server license",this.sfa(a)),d=this.oIa(a));return this.NDa(d,a).JM(function(){var d;d=Object.assign({Yd:a.context.Yd,pc:[]},a.Xg);c.lF.Nka(d);b.CAb();});};a.prototype.OG=function(){return this.QKa.maa();};a.prototype.SHa=function(a,b){return{movieId:a.Xg.u,xid:a.Xg.ha,type:f.wha(b)};};a.prototype.sfa=function(a){return{movieId:a.Xg?a.Xg.u:void 0,xid:a.Xg?a.Xg.ha:void 0,keySessionId:a.Kx()};};a.prototype.NDa=function(a,b){return m.mb.concat(a,m.mb.of(b)).Sg();};a.prototype.qN=function(a,b,c){this.log.info("Sending license request",this.SHa(a,c.ri));return m.mb.Nr(this.us.pi({ha:a.Xg.ha,ig:a.Xg.ig,bX:[a.Xg.jk],li:[{sessionId:b.Kx()||"session",data:c.li}],ri:c.ri,Gr:b.Yp(),cDa:c.cDa,sO:a.Xg.sO,Bj:a.Xg.Bj}));};a.prototype.oIa=function(a,b){this.log.info("Sending release request",this.sfa(a));return b?m.mb.Nr(this.us.release({ha:a.Xg.ha,pc:a.pc,li:b.li})):m.mb.Nr(this.us.release({ha:a.Xg.ha,pc:a.pc}));};a.prototype.WX=function(a,b){return this.tM(a.context,a.type,b).Lr(function(b){return m.mb.race(b.WX(a.lZ).map(function(){return b;}),b.OG().map(function(){return b;}));});};a.prototype.tM=function(a,b,c){var d;d=this;return m.mb.Nr(this.ol.lG()).Lr(function(f){return d.fEa(f,a,b,c);});};a.prototype.fEa=function(a,b,c,d){return m.mb.Nr(this.yFa.create()).Lr(function(f){return f.yn(b,a,d,c);});};a.prototype.CEb=function(a){var b;b=this;return this.config.vi?m.mb.Nr(this.gsb(a)):m.mb.Nr(this.us.release({ha:a.ha,pc:a.pc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return m.mb.empty();}).map(function(){return a;});};a.prototype.gsb=function(a){var b;b=this;this.ol.lG().then(function(c){b.yFa.create().then(function(d){d.yn({Yd:c.keySystem},c,b.uO(),f.ej.Sm).Lr(function(){return d.qsb(a.pc[0].id);}).Lr(function(){return d.QGa();}).subscribe(void 0,function(a){b.log.error("SecureStop failed.",a);});});});return Promise.resolve(a);};a.prototype.DEb=function(){var a;a=this;this.ta.uh(this.config.Ija,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.lF.cX.length});b=a.lF.cX.filter(function(a){return!a.active;}).map(function(b){return a.CEb(b);});m.mb.concat.apply(m.mb,[].concat(fa(b))).subscribe(function(b){a.lF.Nka(b);});});};a.prototype.Hab=function(a){var b;if(a.Kx()&&a.Xg){b=new G.UR();b.Yd=a.context.Yd;b.pc=a.pc;b.ha=a.Xg.ha;b.u=a.Xg.u;this.lF.fBa(b);}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Bb)),c.__param(1,g.l(k.Hg)),c.__param(2,g.l(p.V3)),c.__param(3,g.l(r.Dl)),c.__param(4,g.l(A.fd)),c.__param(5,g.l(D.g4)),c.__param(6,g.l(u.HR)),c.__param(7,g.l(F.Ys)),c.__param(8,g.l(L.DD)),c.__param(9,g.l(h.ED))],b);}();b.iqa=d;},function(d,b,a){var c,g,m,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;d=a(1);c=a(118);g=a(1104);m=a(100);n=a(1041);k=a(477);p=a(1034);b.wFa=new d.Cc(function(a){a(c.W3).to(g.iqa).$();a(m.Ys).to(n.tta).$();a(k.g4).to(p.Eqa);});},function(d,b,a){var c,g,m,n,k,p;Object.defineProperty(b,"__esModule",{value:!0});b.d3=void 0;c=a(0);g=a(1);m=a(41);n=a(28);k=a(3);p=a(37);d=function(){var b;function a(a,b){return m.$d.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}ca(a,m.$d);na.Object.defineProperties(a.prototype,{vZ:{configurable:!0,enumerable:!0,get:function(){return!1;}},vi:{configurable:!0,enumerable:!0,get:function(){return!1;}},$x:{configurable:!0,enumerable:!0,get:function(){return k.ah(5);}},Ija:{configurable:!0,enumerable:!0,get:function(){return k.ah(10);}},lga:{configurable:!0,enumerable:!0,get:function(){return k.Ib(2E3);}},ula:{configurable:!0,enumerable:!0,get:function(){return k.Ib(1E3);}},txb:{configurable:!0,enumerable:!0,get:function(){return k.Ib(2500);}},NM:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},aN:{configurable:!0,enumerable:!0,get:function(){return!1;}},ep:{configurable:!0,enumerable:!0,get:function(){return!0;}},IBa:{configurable:!0,enumerable:!0,get:function(){return k.ah(30);}},JBa:{configurable:!0,enumerable:!0,get:function(){return k.ah(30);}},MBa:{configurable:!0,enumerable:!0,get:function(){return k.ah(30);}},KBa:{configurable:!0,enumerable:!0,get:function(){return k.ah(30);}},eaa:{configurable:!0,enumerable:!0,get:function(){return k.ah(30);}},XP:{configurable:!0,enumerable:!0,get:function(){return"";}},f0:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([p.config(p.kd,"initializeKeySystemAtStartup")],b.prototype,"vZ",null);c.__decorate([p.config(p.kd,"secureStopEnabled")],b.prototype,"vi",null);c.__decorate([p.config(p.Ug,"licenseRenewalRequestDelay")],b.prototype,"$x",null);c.__decorate([p.config(p.Ug,"persistedReleaseDelay")],b.prototype,"Ija",null);c.__decorate([p.config(p.Ug,"secureStopKeyMessageTimeoutMilliseconds")],b.prototype,"lga",null);c.__decorate([p.config(p.Ug,"secureStopKeyAddedTimeoutMilliseconds")],b.prototype,"ula",null);c.__decorate([p.config(p.Ug,"secureStopPersistedKeyMessageTimeoutMilliseconds")],b.prototype,"txb",null);c.__decorate([p.config(p.string,"drmPersistKey")],b.prototype,"NM",null);c.__decorate([p.config(p.kd,"forceLimitedDurationLicense")],b.prototype,"aN",null);c.__decorate([p.config(p.kd,"prepareCadmium")],b.prototype,"ep",null);c.__decorate([p.config(p.Ug,"apiCloseTimeout")],b.prototype,"IBa",null);c.__decorate([p.config(p.Ug,"apiCreateMediaKeysTimeout")],b.prototype,"JBa",null);c.__decorate([p.config(p.Ug,"apiSetServerCertificateTimeout")],b.prototype,"MBa",null);c.__decorate([p.config(p.Ug,"apiGenerateRequestTimeout")],b.prototype,"KBa",null);c.__decorate([p.config(p.Ug,"apiUpdateTimeout")],b.prototype,"eaa",null);c.__decorate([p.config(p.string,"serverCertificate")],b.prototype,"XP",null);c.__decorate([p.config(p.kd,"outputRestrictedIsFatal")],b.prototype,"f0",null);return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ei)),c.__param(1,g.l(n.ez)),c.__param(1,g.optional())],b);}();b.d3=d;},function(d,b,a){var c,g,m,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Cqa=void 0;c=a(0);g=a(1);m=a(28);n=a(37);k=a(1106);d=function(){var b;function a(a,b){return k.d3.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}ca(a,k.d3);na.Object.defineProperties(a.prototype,{vZ:{configurable:!0,enumerable:!0,get:function(){return!0;}},f0:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([n.config(n.kd,"initializeKeySystemAtStartup")],b.prototype,"vZ",null);c.__decorate([n.config(n.kd,"outputRestrictedIsFatal")],b.prototype,"f0",null);return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ei)),c.__param(1,g.l(m.ez)),c.__param(1,g.optional())],b);}();b.Cqa=d;},function(d,b,a){var c,g,m,n,k,p,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.$qa=void 0;c=a(0);g=a(40);m=a(1);n=a(3);k=a(41);p=a(117);h=a(37);f=a(28);d=function(){var b;function a(a,b,c,d){a=k.$d.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.Zf=b;a.Ja=c;return a;}ca(a,k.$d);na.Object.defineProperties(a.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.jea+(-1===this.jea.indexOf("?")?"?":"&")+"monotonic="+this.Ja.xMa+"&device=web";}},fSa:{configurable:!0,enumerable:!0,get:function(){return n.sd;}},$da:{configurable:!0,enumerable:!0,get:function(){return"";}},jea:{configurable:!0,enumerable:!0,get:function(){return this.Zf.endpoint+"/ftl/probe"+(this.$da?"?force="+this.$da:"");}}});b=a;c.__decorate([h.config(h.kd,"ftlEnabled")],b.prototype,"enabled",null);c.__decorate([h.config(h.Ug,"ftlStartDelay")],b.prototype,"fSa",null);c.__decorate([h.config(h.string,"ftlEndpointForceParam")],b.prototype,"$da",null);c.__decorate([h.config(h.url,"ftlEndpoint")],b.prototype,"jea",null);return b=c.__decorate([m.N(),c.__param(0,m.l(f.Ei)),c.__param(1,m.l(p.Vy)),c.__param(2,m.l(g.Bi)),c.__param(3,m.l(f.ez)),c.__param(3,m.optional())],b);}();b.$qa=d;},function(d,b,a){var c,g,m,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pta=void 0;c=a(0);g=a(1);m=a(37);n=a(41);k=a(28);d=function(){var b;function a(a,b){return n.$d.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}ca(a,n.$d);na.Object.defineProperties(a.prototype,{lUa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([m.config(m.kd,"useNetworkMonitor")],b.prototype,"lUa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(k.Ei)),c.__param(1,g.l(k.ez)),c.__param(1,g.optional())],b);}();b.Pta=d;},function(d,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.h6=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.NNa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};b.h6=a;},function(d,b,a){var c,g,m,n,k,p,h,f,r;Object.defineProperty(b,"__esModule",{value:!0});b.era=b.WF=void 0;c=a(0);g=a(3);m=a(1);n=a(37);k=a(41);p=a(30);h=a(28);f=a(140);r={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.WF=function(a,b){return a.CPa(r[b]||b,p.Ts);};d=function(){var d;function a(a,b,c){a=k.$d.call(this,a,void 0===c?"GeneralConfigImpl":c)||this;a.am=b;return a;}ca(a,k.$d);na.Object.defineProperties(a.prototype,{WF:{configurable:!0,enumerable:!0,get:function(){return p.Ts.q1a;}},vma:{configurable:!0,enumerable:!0,get:function(){return g.ah(8);}},Px:{configurable:!0,enumerable:!0,get:function(){return"";}},mF:{configurable:!0,enumerable:!0,get:function(){return"";}},WC:{configurable:!0,enumerable:!0,get:function(){return"";}},RSa:{configurable:!0,enumerable:!0,get:function(){return!1;}},NV:{configurable:!0,enumerable:!0,get:function(){return!0;}},iZ:{configurable:!0,enumerable:!0,get:function(){return this.am.iZ;}},Dib:{configurable:!0,enumerable:!0,get:function(){return!1;}},cl:{configurable:!0,enumerable:!0,get:function(){return{};}},BQa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Vga:{configurable:!0,enumerable:!0,get:function(){return!1;}},F2:{configurable:!0,enumerable:!0,get:function(){return!1;}},Hq:{configurable:!0,enumerable:!0,get:function(){return!1;}},QM:{configurable:!0,enumerable:!0,get:function(){return!1;}},Gy:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Ir:{configurable:!0,enumerable:!0,get:function(){return 0<=[p.Ts.hxa,p.Ts.gsa].indexOf(this.WF);}}});d=a;c.__decorate([n.config(b.WF,"environment")],d.prototype,"WF",null);c.__decorate([n.config(n.Ug,"storageTimeout")],d.prototype,"vma",null);c.__decorate([n.config(n.string,"groupName")],d.prototype,"Px",null);c.__decorate([n.config(n.string,"canaryGroupName")],d.prototype,"mF",null);c.__decorate([n.config(n.string,"uiGroupName")],d.prototype,"WC",null);c.__decorate([n.config(n.kd,"testIndexDBForCorruptedDatabase")],d.prototype,"RSa",null);c.__decorate([n.config(n.kd,"applyIndexedDbOpenWorkaround")],d.prototype,"NV",null);c.__decorate([n.config(n.kd,"ignoreIdbOpenError")],d.prototype,"iZ",null);c.__decorate([n.config(n.kd,"executeStorageMigration")],d.prototype,"Dib",null);c.__decorate([n.config(n.object(),"browserInfo")],d.prototype,"cl",null);c.__decorate([n.config(n.kd,"retryAllMslRequestsOnError")],d.prototype,"BQa",null);c.__decorate([n.config(n.kd,"isTestAccount")],d.prototype,"Vga",null);c.__decorate([n.config(n.kd,"vuiCommandLogging")],d.prototype,"F2",null);c.__decorate([n.config(n.kd,"useRangeHeader")],d.prototype,"Hq",null);c.__decorate([n.config(n.kd,"enableMilestoneEventList")],d.prototype,"QM",null);c.__decorate([n.config(n.object,"storageRules")],d.prototype,"Gy",null);return d=c.__decorate([m.N(),c.__param(0,m.l(h.Ei)),c.__param(1,m.l(f.OD)),c.__param(2,m.l(h.ez)),c.__param(2,m.optional())],d);}();b.era=d;},function(d,b,a){var c,g,m,n,k,p,h;Object.defineProperty(b,"__esModule",{value:!0});b.esa=b.Kxa=b.spa=void 0;c=a(0);g=a(1);m=a(86);n=a(8);k=a(136);p=a(497);h=a(28);d=function(){function a(a,b,c){this.Ku=a;this.OO=b;this.G0=c;}return a=c.__decorate([g.N(),c.__param(0,g.l(h.zJ)),c.__param(1,g.l(k.FT)),c.__param(2,g.l(p.qT))],a);}();b.spa=d;d=function(){function a(a,b,c,d,f){this.debug=a;this.Ku=b;this.OO=c;this.Df=d;this.G0=f;}return a=c.__decorate([g.N(),c.__param(0,g.l(m.Nq)),c.__param(1,g.l(h.zJ)),c.__param(2,g.l(k.FT)),c.__param(3,g.l(n.Bb)),c.__param(4,g.l(p.qT))],a);}();b.Kxa=d;d=function(){var b;function a(){this.ou={};this.CQa=0;}a.prototype.Wtb=function(a){this.ou=Object.assign({},this.ou,a);this.CQa++;};na.Object.defineProperties(a.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.ou;}},c1:{configurable:!0,enumerable:!0,get:function(){return this.CQa;}}});b=a;return b=c.__decorate([g.N()],b);}();b.esa=d;},function(d,b,a){var c,g,m,n,k,p,h,f,r,u,A;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;d=a(1);c=a(14);g=a(1112);m=a(28);n=a(30);k=a(1111);p=a(496);h=a(1109);f=a(177);r=a(1108);u=a(53);A=a(1107);b.config=new d.Cc(function(a){a(c.fd).nf(function(){return function(){return N._cad_global.config;};});a(m.LR).to(g.spa).$();a(m.Ei).to(g.Kxa).$();a(m.zJ).to(g.esa).$();a(n.Qj).to(k.era).$();a(p.a6).to(h.Pta).$();a(f.r4).to(r.$qa).$();a(u.Dl).to(A.Cqa).$();});},function(d,b,a){var c,g,m,n,k,p,h,f,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.cpa=void 0;c=a(0);g=a(1);m=a(118);n=a(44);k=a(14);p=a(8);h=a(137);f=a(100);r=a(87);u=a(138);d=function(){var b;function a(a,b,c,d,f,g){this.YA=a;this.mc=b;this.config=c;this.uO=f;this.ol=g;this.log=d.yb("CannedChallengeProviderImpl");}a.prototype.sIa=function(){var a;a=this;return Promise.all([this.YA(),this.Tlb()]).then(function(b){var c;c=S(b);b=c.next().value;c=c.next().value;c={type:r.ej.dw,lZ:[c],context:{Yd:a.config().Yd}};return b.fkb(c,a.uO());}).then(function(b){var c;c=b.vha.data.map(function(b){return a.mc.encode(b);});a.log.trace("Challenge generated",c);return{sb:b,bDa:c&&c[0]};});};a.prototype.Tlb=function(){return this.ol.Yp().then(function(a){switch(a){case u.Nm.fB:return"c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return"AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.mc.decode);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.iJ)),c.__param(1,g.l(n.cj)),c.__param(2,g.l(k.fd)),c.__param(3,g.l(p.Bb)),c.__param(4,g.l(h.DD)),c.__param(5,g.l(f.Ys))],b);}();b.cpa=d;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uta=void 0;a.prototype.aJa=function(){return void 0!==this.pl;};a.prototype.AC=function(a){this.pl=a;};a.prototype.CAb=function(){this.aJa()&&(this.pl=void 0);};b.uta=a;},function(d,b,a){var c,g,m,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.kPa=void 0;c=a(2);g=a(88);m=a(118);n=a(263);b.kPa=function(a){n.QF.parent=a.kb;return function(){k||(k=new Promise(function(a,b){try{a(n.QF.get(m.W3));}catch(t){b(new g.Kf(c.J.DZa,c.I.WZa,void 0,"Unable to extract the DRM services from the dependency injector",t));}}));return k;};};},function(d,b,a){var m,n,k,p,h,f,r,u,A;function c(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new f.Bc(p.J.wD,p.I.Vv);return{version:1,drmData:[a]};}function g(a,b){if(a.Tt(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new A.UR({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).Ks();})};throw new f.Bc(p.J.wD,p.I.Vv);}Object.defineProperty(b,"__esModule",{value:!0});b.apa=void 0;m=a(0);n=a(1);k=a(53);p=a(2);h=a(23);f=a(47);r=a(498);u=a(71);A=a(262);d=function(){var b;function a(a,b,d){var h;h=this;this.is=a;this.Lj=b;this.config=d;this.Ks=function(){return{version:h.version,drmData:h.cX.map(function(a){return a.Ks();})};};this.iea=function(a){var b;h.is.Ql(a)&&(a=c(a));1===a.version&&(a=g(h.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new A.UR(a);});}catch(Q){throw new f.Bc(p.J.wD,p.I.Vv,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",Q);}}else{if(!a.version||!h.is.jh(a.version))throw new f.Bc(p.J.wD,p.I.Vv,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new f.Bc(p.J.wD,p.I.Qoa,void 0,void 0,void 0,"Version number is not supported. Version: "+h.getVersion);}return b;};this.np=new r.W4(2,this.config.NM,this.is.Ql(this.config.NM),this.Lj,this.Ks);}a.prototype.BPa=function(){return this.wEb();};a.prototype.fBa=function(a){return this.np.add(a);};a.prototype.Nka=function(a){return this.np.remove(a,function(a,b){return a.ha===b.ha;});};a.prototype.toString=function(){return JSON.stringify(this.Ks(),null,"  ");};a.prototype.wEb=function(){var a;a=this;this.FPa||(this.FPa=new Promise(function(b,c){a.np.load(a.iea).then(function(){b();})["catch"](function(a){a.ga&&a.cause?c(new f.Bc(p.J.wD,a.ga,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.FPa;};na.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.np.version;}},cX:{configurable:!0,enumerable:!0,get:function(){return this.np.zr;}}});b=a;return b=m.__decorate([n.N(),m.__param(0,n.l(h.Je)),m.__param(1,n.l(u.Kq)),m.__param(2,n.l(k.Dl))],b);}();b.apa=d;},function(d,b,a){var c,g,m,n,k;Object.defineProperty(b,"__esModule",{value:!0});b.L6=void 0;c=a(3);g=a(48);m=a(502);n=a(61);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.L6=function(){this.B$a=this.NL=m.VI.jsa;this.Kla=!0;this.KL=[];this.JI=[];this.aP=this.iX=!1;this.Jv=[n.Ok.E3,n.Ok.Q1a,n.Ok.GD];this.Yd=void 0;this.kda=!0;this.pX=!1;this.OV=g.aa(288E4);this.QV=g.aa(335544320);this.m_=c.Ib(15E3);this.vtb=g.aa(6291456);this.QG=1E3;this.Vaa=!0;this.Sma=k;this.yI=g.aa(0);this.f2=c.Ib(0);this.iZ=!0;};},function(d,b,a){var c,g,m,n,k,p,h,f,r,u,A,D,J,F,E,H,N;Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.VWa=b.UWa=b.TWa=void 0;c=a(0);g=a(1);m=a(29);n=a(33);k=a(3);p=a(140);h=a(1118);f=a(61);r=a(139);u=a(32);A=a(501);D=a(500);J=a(264);F=function(){function a(a){var b,c,d;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/Tesla/.test(a);this.version="6.0023.976.011";this.BMa=!0;this.eB=d?"T":b?"C":c?"O":"M";this.Ax=d?"NFCDTS-01-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.VX=!0;this.Aca=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.Egb="browser";this.Lsb="";this.Bca="cadmium";this.y9a=this.WHb=!0;this.vAb=b;}return a=c.__decorate([g.N(),c.__param(0,g.l(m.dt)),c.__param(1,g.l(m.Y7))],a);}();b.TWa=F;E=function(){var b;function a(a){var b;b=h.L6.call(this)||this;a=/CrOS/.test(a.userAgent);b.KL=[f.Wh.lS,f.Wh.mS];b.JI=[f.V.lJ,f.V.sD,f.V.eS,f.V.fS,f.V.eK,f.V.fK];a&&b.JI.push(f.V.hS,f.V.gS,f.V.gK);b.iX=!0;b.aP=!0;b.Yd=r.ob.K2a;b.m_=k.Ib(31E3);return b;}ca(a,h.L6);b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.dt))],b);}();b.UWa=E;H=function(){var b;function a(a){this.cl=a;}a.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:u.Xj.u3,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};this.cl.hqb&&67<=this.cl.sab&&(a=Object.assign(Object.assign({},a),{enableVP9:!0}));return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(A.m3))],b);}();b.VWa=H;N=function(){function a(a){this.wqa=a.Ax;}return a=c.__decorate([g.N(),c.__param(0,g.l(n.Wj))],a);}();b.platform=new g.Cc(function(a){a(n.Wj).to(F);a(p.OD).to(E);a(D.M6).to(H);a(n.Cp).to(N).$();a(J.iT).nf(function(){return function(){return{};};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EMa=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).$Fb(b);});};};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(38);m=a(65);b.NOa=function(){return function(a,b){b=new m.Metadata(g.LJ,b);if(Reflect.Ofa(g.LJ,a.constructor))throw Error(c.S_a);Reflect.uca(g.LJ,b,a.constructor);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(65);m=a(90);b.GQ=function(a){return function(b,d,h){var f;f=new g.Metadata(c.NS,a);m.NC(b,d,h,f);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(65);m=a(90);b.TB=function(a){return function(b,d,h){var f;f=new g.Metadata(c.uz,a);"number"===typeof h?m.NC(b,d,h,f):m.DQ(b,d,f);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(65);m=a(90);b.Vh=function(){return function(a,b,d){var h;h=new g.Metadata(c.aK,!0);m.NC(a,b,d,h);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(65);m=a(90);b.optional=function(){return function(a,b,d){var h;h=new g.Metadata(c.Yta,!0);"number"===typeof d?m.NC(a,b,d,h):m.DQ(a,b,h);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(38);g=a(65);m=a(90);b.HMa=function(a){return function(b,d,h){var f;f=new g.Metadata(c.kw,a);"number"===typeof h?m.NC(b,d,h,f):m.DQ(b,d,f);};};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(65);g=a(90);b.NSa=function(a,b){return function(d,l,h){var f;f=new c.Metadata(a,b);"number"===typeof h?g.NC(d,l,h,f):g.DQ(d,l,f);};};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(38);b.N=function(){return function(a){var b;if(Reflect.Ofa(g.i6,a))throw Error(c.XXa);b=Reflect.getMetadata(g.tXa,a)||[];Reflect.uca(g.i6,b,a);return a;};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);b.Cc=function(){return function(a){this.id=c.id();this.Kka=a;};}();b.toa=function(){return function(a){this.id=c.id();this.Kka=a;};}();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);d=function(){function a(){this.lj=new Map();}a.prototype.add=function(a,b){var d;if(null===a||void 0===a)throw Error(c.FJ);if(null===b||void 0===b)throw Error(c.FJ);d=this.lj.get(a);void 0!==d?(d.push(b),this.lj.set(a,d)):this.lj.set(a,[b]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(c.FJ);a=this.lj.get(a);if(void 0!==a)return a;throw Error(c.ksa);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(c.FJ);if(!this.lj["delete"](a))throw Error(c.ksa);};a.prototype.ZIa=function(a){if(null===a||void 0===a)throw Error(c.FJ);return this.lj.has(a);};a.prototype.clone=function(){var b;b=new a();this.lj.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.sGb=function(a){this.lj.forEach(function(b,c){a(c,b);});};return a;}();b.r_a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(){}a.of=function(b,d){var c;c=new a();c.SL=b;c.hub=d;return c;};return a;}();b.rKb=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);g=a(505);d=function(){function a(a){this.Nb=a;}a.prototype.$=function(){this.Nb.scope=c.xp.A7;return new g.bz(this.Nb);};a.prototype.mga=function(){this.Nb.scope=c.xp.KT;return new g.bz(this.Nb);};return a;}();b.cWa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(1132);g=a(266);m=a(265);d=function(){function a(a){this.Nb=a;this.qK=new m.g3(this.Nb);this.u8=new g.vR(this.Nb);this.lya=new c.cWa(a);}a.prototype.$=function(){return this.lya.$();};a.prototype.mga=function(){return this.lya.mga();};a.prototype.when=function(a){return this.qK.when(a);};a.prototype.gR=function(){return this.qK.gR();};a.prototype.ms=function(a){return this.u8.ms(a);};return a;}();b.Doa=d;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(79);m=a(1133);n=a(505);d=function(){function a(a){this.Nb=a;}a.prototype.to=function(a){this.Nb.type=g.Ai.Z4;this.Nb.qk=a;return new m.Doa(this.Nb);};a.prototype.kTa=function(){if("function"!==typeof this.Nb.lf)throw Error(""+c.ZZa);this.to(this.Nb.lf);};a.prototype.Sh=function(a){this.Nb.type=g.Ai.tpa;this.Nb.cache=a;this.Nb.OF=null;this.Nb.qk=null;new n.bz(this.Nb);};a.prototype.Qy=function(a){this.Nb.type=g.Ai.oqa;this.Nb.cache=null;this.Nb.OF=a;this.Nb.qk=null;return new m.Doa(this.Nb);};a.prototype.ZFb=function(a){this.Nb.type=g.Ai.upa;this.Nb.qk=a;new n.bz(this.Nb);};a.prototype.nf=function(a){this.Nb.type=g.Ai.p4;this.Nb.aG=a;new n.bz(this.Nb);};a.prototype.XFb=function(a){this.Nb.type=g.Ai.p4;this.Nb.aG=function(b){return function(){return b.kb.get(a);};};new n.bz(this.Nb);};a.prototype.KQ=function(a){this.Nb.type=g.Ai.Lva;this.Nb.us=a;new n.bz(this.Nb);};a.prototype.$Fb=function(a){this.Qy(function(b){return b.kb.get(a);});};return a;}();b.dWa=d;},function(d,b,a){var m,n,k;function c(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===n.jt.npa;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function g(a,b){var c;if(Reflect.Iob(k.LJ,a)){c=Reflect.getMetadata(k.LJ,a);try{b[c.value]();}catch(t){throw Error(m.f1a(a.name,t.message));}}}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);n=a(79);k=a(38);b.mBb=function(a,b,d){var f;f=null;0<b.length?(f=b.filter(function(a){return null!==a.target&&a.target.type===n.jt.vpa;}).map(d),f=new(a.bind.apply(a,[void 0].concat(f)))(),f=c(f,b,d)):f=new a();g(a,f);return f;};},function(d,b,a){var m,n,k,p,h;function c(a){return function(b){var d,f,k,l,q;d=b.SL;f=b.fba;k=b.target&&b.target.isArray();l=!b.pv||!b.pv.target||!b.target||!b.pv.target.ntb(b.target.lf);if(k&&l)return f.map(function(b){return c(a)(b);});k=null;if(!b.target.gKa()||0!==d.length){q=d[0];d=q.scope===n.xp.A7;l=q.scope===n.xp.Request;if(d&&q.I$)return q.cache;if(l&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===n.Ai.tpa)k=q.cache;else if(q.type===n.Ai.Function)k=q.cache;else if(q.type===n.Ai.upa)k=q.qk;else if(q.type===n.Ai.oqa&&null!==q.OF)k=g("toDynamicValue",q.lf,function(){return q.OF(b.vH);});else if(q.type===n.Ai.p4&&null!==q.aG)k=g("toFactory",q.lf,function(){return q.aG(b.vH);});else if(q.type===n.Ai.Lva&&null!==q.us)k=g("toProvider",q.lf,function(){return q.us(b.vH);});else if(q.type===n.Ai.Z4&&null!==q.qk)k=h.mBb(q.qk,f,c(a));else throw f=p.rG(b.lf),Error(m.UZa+" "+f);"function"===typeof q.ms&&(k=q.ms(b.vH,k));d&&(q.cache=k,q.I$=!0);l&&null!==a&&!a.has(q.id)&&a.set(q.id,k);return k;}};}function g(a,b,c){try{return c();}catch(G){if(k.qKa(G))throw Error(m.BWa(a,b.toString()));throw G;}}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);n=a(79);k=a(508);p=a(141);h=a(1135);b.resolve=function(a){return c(a.AH.hla.bBb)(a.AH.hla);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=function(){function a(a,b,d,g,h){this.id=c.id();this.lf=a;this.vH=b;this.pv=d;this.target=h;this.fba=[];this.SL=Array.isArray(g)?g:[g];this.bBb=null===d?new Map():null;}a.prototype.dBa=function(b,c,d){b=new a(b,this.vH,this,c,d);this.fba.push(b);return b;};return a;}();b.Request=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.Hy=a;}a.prototype.startsWith=function(a){return 0===this.Hy.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.Hy.split("").reverse().join("");return this.startsWith.call({Hy:a},b);};a.prototype.contains=function(a){return-1!==this.Hy.indexOf(a);};a.prototype.equals=function(a){return this.Hy===a;};a.prototype.value=function(){return this.Hy;};return a;}();b.r1a=d;},function(d,b,a){var k,p,h,f,r,u;function c(a,b,c,d){var f,l,t,y,z,F,A,D,G,E;f=a.hHa(c);l=f.GDa;if(void 0===l)throw Error(p.E_a+" "+b+".");for(var f=f.THb,m=Object.keys(f),q=0===c.length&&0<m.length?m.length:c.length,m=[],r=0;r<q;r++){y=r;z=d;F=b;A=l;t=f[y.toString()]||[];D=n(t);G=!0!==D.Vh;A=A[y];E=D.l||D.TB;A=E?E:A;A instanceof k.j5&&(A=A.PGb());if(G){G=A===Function;G=A===Object||G||void 0===A;if(!z&&G)throw Error(p.F_a+" argument "+y+" in class "+F+".");y=new u.HT(h.jt.vpa,D.GQ,A);y.Ad=t;t=y;}else t=null;null!==t&&m.push(t);}a=g(a,c);return m.concat(a);}function g(a,b){var l,m,p;for(var c=a.Tmb(b),d=[],f=0,k=Object.keys(c);f<k.length;f++){l=k[f];m=c[l];p=n(c[l]);l=new u.HT(h.jt.npa,p.GQ||l,p.l||p.TB);l.Ad=m;d.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=g(a,b),d=d.concat(a));return d;}function m(a,b){var d,g;b=Object.getPrototypeOf(b.prototype).constructor;if(b!==Object){d=r.getFunctionName(b);d=c(a,d,b,!0);g=d.map(function(a){return a.Ad.filter(function(a){return a.key===f.aK;});});g=[].concat.apply([],g).length;d=d.length-g;return 0<d?d:m(a,b);}return 0;}function n(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[f.xJ],TB:b[f.uz],GQ:b[f.NS],Vh:b[f.aK]};}Object.defineProperty(b,"__esModule",{value:!0});k=a(507);p=a(55);h=a(79);f=a(38);r=a(141);b.getFunctionName=r.getFunctionName;u=a(506);b.llb=function(a,b){var d;d=r.getFunctionName(b);return c(a,d,b,!1);};b.Gkb=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o1a=function(){return function(a,b){this.vH=a;this.hla=b;};}();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=function(){function a(a){this.id=c.id();this.kb=a;}a.prototype.Z8a=function(a){this.AH=a;};return a;}();b.wpa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f3={LMb:2,Rta:0,r0a:1};},function(d,b,a){var k,p,h,f,r,u,A,D,E,F,L,H;function c(a,b,c,d,f){var h,l;h=n(c.kb,f.lf);l=[];h.length===k.f3.Rta&&c.kb.options.PL&&"function"===typeof f.lf&&a.hHa(f.lf).GDa&&(c.kb.bind(f.lf).kTa(),h=n(c.kb,f.lf));l=b?h:h.filter(function(a){var b;b=new L.Request(a.lf,c,d,a,f);return a.KA(b);});g(f.lf,l,f,c.kb);return l;}function g(a,b,c,d){switch(b.length){case k.f3.Rta:if(c.gKa())break;a=u.rG(a);b=p.e0a;b+=u.Prb(a,c);b+=u.UKa(d,a,n);throw Error(b);case k.f3.r0a:if(!c.isArray())break;default:if(!c.isArray())throw a=u.rG(a),b=p.bVa+" "+a,b+=u.UKa(d,a,n),Error(b);}}function m(a,b,d,f,g,k){var l;null===g?(b=c(a,b,f,null,k),l=new L.Request(d,f,null,b,k),d=new E.o1a(f,l),f.Z8a(d)):(b=c(a,b,f,g,k),l=g.dBa(k.lf,b,k));b.forEach(function(b){var c,d,g;c=null;if(k.isArray())c=l.dBa(b.lf,b,k);else{if(b.cache)return;c=l;}if(b.type===h.Ai.Z4&&null!==b.qk){d=F.llb(a,b.qk);if(!f.kb.options.EC){g=F.Gkb(a,b.qk);if(d.length<g)throw b=p.cVa(F.getFunctionName(b.qk)),Error(b);}d.forEach(function(b){m(a,!1,b.lf,f,c,b);});}});}function n(a,b){var c,d;c=[];d=a.cE;d.ZIa(b)?c=d.get(b):null!==a.parent&&(c=n(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});k=a(1142);p=a(55);h=a(79);f=a(38);r=a(508);u=a(141);A=a(1141);D=a(65);E=a(1140);F=a(1139);L=a(1137);H=a(506);b.tea=function(a){return a.cE;};b.AH=function(a,b,c,d,g,h,k,l){void 0===l&&(l=!1);b=new A.wpa(b);c=new D.Metadata(c?f.uz:f.xJ,g);d=new H.HT(d,"",g,c);void 0!==h&&(h=new D.Metadata(h,k),d.Ad.push(h));try{return m(a,l,g,b,null,d),b;}catch(W){throw r.qKa(W)&&b.AH&&u.Kbb(b.AH.hla),W;}};b.rRb=function(a,b,c,d){c=new H.HT(h.jt.b8,"",b,new D.Metadata(c,d));a=new A.wpa(a);return new L.Request(b,a,null,[],c);};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);g=a(101);d=function(){function a(a,b){this.id=g.id();this.I$=!1;this.lf=a;this.scope=b;this.type=c.Ai.i_a;this.KA=function(){return!0;};this.OF=this.ms=this.us=this.aG=this.cache=this.qk=null;}a.prototype.clone=function(){var b;b=new a(this.lf,this.scope);b.I$=!1;b.qk=this.qk;b.OF=this.OF;b.scope=this.scope;b.type=this.type;b.aG=this.aG;b.us=this.us;b.KA=this.KA;b.ms=this.ms;b.cache=this.cache;return b;};return a;}();b.bWa=d;},function(d,b,a){var c,l,m,n,k,p,h,f,t,u,A,D;c=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(qa){g(qa);}}function k(a){try{l(d["throw"](a));}catch(qa){g(qa);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};l=this&&this.__generator||function(a,b){var f,h,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(h)throw new TypeError("Generator is already executing.");for(;f;)try{if(h=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.ZB.pop();f.VC.pop();continue;default:if(!(l=f.VC,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.ZB.push(c);else{l[2]&&f.ZB.pop();f.VC.pop();continue;}}c=b.call(a,f);}catch(qa){c=[6,qa];k=0;}finally{h=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,cI:function(){if(l[0]&1)throw l[1];return l[1];},VC:[],ZB:[]};g();g();r();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(b,"__esModule",{value:!0});m=a(1144);n=a(55);k=a(79);a(38);p=a(509);h=a(1143);f=a(1136);t=a(1134);u=a(101);A=a(141);a(1131);D=a(1130);d=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+n.PWa);if(void 0===a.RA)a.RA=k.xp.KT;else if(a.RA!==k.xp.A7&&a.RA!==k.xp.KT&&a.RA!==k.xp.Request)throw Error(""+n.NWa);if(void 0===a.PL)a.PL=!1;else if("boolean"!==typeof a.PL)throw Error(""+n.MWa);if(void 0===a.EC)a.EC=!1;else if("boolean"!==typeof a.EC)throw Error(""+n.OWa);this.options={PL:a.PL,RA:a.RA,EC:a.EC};this.id=u.id();this.cE=new D.r_a();this.D7a=[];this.parent=this.B9=null;this.u5a=new p.Q5();}a.STb=function(b,c){var f,g;function d(a,b){a.sGb(function(a,c){c.forEach(function(a){b.add(a.lf,a.clone());});});}f=new a();g=h.tea(f);b=h.tea(b);c=h.tea(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.$ya(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.Kka(f.tCa,f.LTa,f.yKa,f.IPa);}};a.prototype.fO=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return c(this,void 0,void 0,function(){var b,c,d,f,g;return l(this,function(h){switch(h.label){case 0:b=this.$ya(),c=0,d=a,h.label=1;case 1:if(!(c<d.length))return[3,4];f=d[c];g=b(f.id);return[4,f.Kka(g.tCa,g.LTa,g.yKa,g.IPa)];case 2:h.cI(),h.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new m.bWa(a,this.options.RA||k.xp.KT);this.cE.add(a,b);return new t.dWa(b);};a.prototype.Mzb=function(a){this.KTa(a);return this.bind(a);};a.prototype.KTa=function(a){try{this.cE.remove(a);}catch(L){throw Error(n.xWa+" "+A.rG(a));}};a.prototype.XJa=function(a){var b;b=this.cE.ZIa(a);!b&&this.parent&&(b=this.parent.XJa(a));return b;};a.prototype.restore=function(){var a;a=this.D7a.pop();if(void 0===a)throw Error(n.f0a);this.cE=a.SL;this.B9=a.hub;};a.prototype.yeb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Yya(!1,!1,k.jt.b8,a);};a.prototype.getAll=function(a){return this.Yya(!0,!0,k.jt.b8,a);};a.prototype.resolve=function(a){var b;b=this.yeb();b.bind(a).kTa();return b.get(a);};a.prototype.$ya=function(){var f;function a(a){return function(b){b=f.Mzb.bind(f)(b);b.Nb.Hub=a;return b;};}function b(){return function(a){return f.XJa.bind(f)(a);};}function c(){return function(a){f.KTa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Nb.Hub=a;return b;};}f=this;return function(f){return{tCa:d(f),yKa:b(),IPa:a(f),LTa:c()};};};a.prototype.Yya=function(a,b,c,d){var f;f=null;a={M$a:a,Hcb:function(a){return a;},yqb:b,key:void 0,lf:d,yFb:c,value:void 0};if(this.B9){if(f=this.B9(a),void 0===f||null===f)throw Error(n.XZa);}else f=this.I6a()(a);return f;};a.prototype.I6a=function(){var a;a=this;return function(b){var c;c=h.AH(a.u5a,a,b.yqb,b.yFb,b.lf,b.key,b.value,b.M$a);c=b.Hcb(c);return f.resolve(c);};};return a;}();b.MR=d;},function(d,b,a){var c,g;c=a(511);g=a(514);d.P=function(){var a;a=c();g(Object,{values:a},{values:function(){return Object.values!==a;}});return a;};},function(d,b,a){var c,g,m;c=a(268);b=a(267)("%Function%");g=b.apply;m=b.call;d.P=function(){return c.apply(m,arguments);};d.P.apply=function(){return c.apply(g,arguments);};},function(d,b,a){var c,g,m;c=a(267);g=a(1147);m=g(c("String.prototype.indexOf"));d.P=function(a,b){b=c(a,!!b);return"function"===typeof b&&m(a,".prototype.")?g(b):b;};},function(d){d.P=function(){var b,a,c;g();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;g();r();if("symbol"===typeof Symbol.iterator)return!0;b={};g();a=Symbol("test");c=Object(a);if("string"===typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;b[a]=42;for(a in b)return!1;if("function"===typeof Object.keys&&0!==Object.keys(b).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;c=Object.getOwnPropertySymbols(b);return 1!==c.length||c[0]!==a||!Object.prototype.propertyIsEnumerable.call(b,a)||"function"===typeof Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(b,a),42!==b.value||!0!==b.enumerable)?!1:!0;};},function(d,b,a){(function(b){var c,m;c=b.Symbol;m=a(1149);d.P=function(){if("function"!==typeof c)return!1;g();if("function"!==typeof Symbol||"symbol"!==typeof c("foo"))return!1;g();return"symbol"!==typeof Symbol("bar")?!1:m();};}.call(this,a(143)));},function(d,b,a){var c;c=a(267)("%TypeError%");d.P=function(a,b){if(null==a)throw new c(b||"Cannot call method on "+a);return a;};},function(d,b,a){d.P=a(1151);},function(d){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;d.P=function(c){var d;d=this;if("function"!==typeof d||"[object Function]"!==a.call(d))throw new TypeError("Function.prototype.bind called on incompatible "+d);for(var g=b.call(arguments,1),m,k=Math.max(0,d.length-g.length),p=[],h=0;h<k;h++)p.push("$"+h);m=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(function(){var a;if(this instanceof m){a=d.apply(this,g.concat(b.call(arguments)));return Object(a)===a?a:this;}return d.apply(c,g.concat(b.call(arguments)));});d.prototype&&(k=function(){},k.prototype=d.prototype,m.prototype=new k(),k.prototype=null);return m;};},function(d,b,a){b=a(268);d.P=b.call(Function.call,Object.prototype.hasOwnProperty);},function(d,b,a){var c,g,m,n,k,p,h,f,r,u;if(!Object.keys){g=Object.prototype.hasOwnProperty;m=Object.prototype.toString;n=a(513);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");p=b.call(function(){},"prototype");h="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");f=function(a){var b;b=a.constructor;return b&&b.prototype===a;};r={SIb:!0,TIb:!0,UIb:!0,VIb:!0,WIb:!0,XIb:!0,YIb:!0,ZIb:!0,$Ib:!0,aJb:!0,bJb:!0,cJb:!0,dJb:!0,eJb:!0,fJb:!0,gJb:!0,hJb:!0,iJb:!0,jJb:!0,kJb:!0,lJb:!0,mJb:!0,nJb:!0};u=function(){if("undefined"===typeof N)return!1;for(var a in N)try{!r["$"+a]&&g.call(N,a);}catch(D){return!0;}return!1;}();c=function(a){var b,c,d,l,q,t;b=null!==a&&"object"===typeof a;c="[object Function]"===m.call(a);d=n(a);l=b&&"[object String]"===m.call(a);q=[];if(!b&&!c&&!d)throw new TypeError("Object.keys called on a non-object");b=p&&c;if(l&&0<a.length&&!g.call(a,0))for(l=0;l<a.length;++l)q.push(String(l));if(d&&0<a.length)for(d=0;d<a.length;++d)q.push(String(d));else for(var r in a)b&&"prototype"===r||!g.call(a,r)||q.push(String(r));if(k){if("undefined"!==typeof N&&u)try{t=f(a);}catch(aa){t=!1;}else t=f(a);for(d=0;d<h.length;++d)t&&"constructor"===h[d]||!g.call(a,h[d])||q.push(h[d]);}return q;};}d.P=c;},function(d,b,a){var c,g,m,n,k;c=Array.prototype.slice;g=a(513);m=Object.keys;n=m?function(a){return m(a);}:a(1155);k=Object.keys;n.Gk=function(){Object.keys?function(){var a;a=Object.keys(arguments);return a&&a.length===arguments.length;}(1,2)||(Object.keys=function(a){return g(a)?k(c.call(a)):k(a);}):Object.keys=n;return Object.keys||n;};d.P=n;},function(d,b,a){var c,g,m;b=a(514);c=a(512);g=a(511);a=a(1146);m=g();b(m,{GSb:g,implementation:c,Gk:a});d.P=m;},function(d,b,a){(function(a){var b;(function(b){var ca,W,ea,O,fa,ia,ha,P,ja;function c(a,b,c){var d;d=ja.get(a);if(!d){if(!c)return;d=new ha();ja.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ha();d.set(b,a);}return a;}function d(a,b,c){if(g(a,b,c))return!0;b=E(b);return null!==b?d(a,b,c):!1;}function g(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function h(a,b,c){if(g(a,b,c))return f(a,b,c);b=E(b);return null!==b?h(a,b,c):void 0;}function f(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=m(a,b);a=E(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new P();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return R(a);}function m(a,b){var d;a=c(a,b,!1);d=[];a&&S(a,function(a,b){return d.push(b);});return d;}function q(a){return void 0===a;}function r(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function u(a){return"object"===typeof a?null!==a:"function"===typeof a;}function A(a){return"symbol"===typeof a?a:String(a);}function E(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ia||b!==ia)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function H(a){a=a.next();return a.done?void 0:a;}function S(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=H(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function R(a){var b;b=[];S(a,function(a,c){b.push(c);});return b;}function V(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function Q(){var a;a={};return function(){function b(){this.Fp=[];this.Pt=[];this.YT=a;this.XT=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Fp.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.sU(a,!1);};b.prototype.get=function(a){a=this.sU(a,!1);return 0<=a?this.Pt[a]:void 0;};b.prototype.set=function(a,b){a=this.sU(a,!0);this.Pt[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.sU(b,!1);if(0<=c){b=this.Fp.length;for(c+=1;c<b;c++)this.Fp[c-1]=this.Fp[c],this.Pt[c-1]=this.Pt[c];this.Fp.length--;this.Pt.length--;this.YT=a;this.XT=-2;return!0;}return!1;};b.prototype.clear=function(){this.Fp.length=0;this.Pt.length=0;this.YT=a;this.XT=-2;};b.prototype.keys=function(){return V(this.Fp,void 0,"key");};b.prototype.values=function(){return V(void 0,this.Pt,"value");};b.prototype.entries=function(){return V(this.Fp,this.Pt,"key+value");};b.prototype.sU=function(a,b){var c;if(this.YT===a)return this.XT;c=this.Fp.indexOf(a);0>c&&b&&(c=this.Fp.length,this.Fp.push(a),this.Pt.push(void 0));return this.YT=a,this.XT=c;};return b;}();}function y(){return function(){function a(){this.lj=new ha();}Object.defineProperty(a.prototype,"size",{get:function(){return this.lj.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.lj.has(a);};a.prototype.add=function(a){return this.lj.set(a,a),this;};a.prototype["delete"]=function(a){return this.lj["delete"](a);};a.prototype.clear=function(){this.lj.clear();};a.prototype.keys=function(){return this.lj.keys();};a.prototype.values=function(){return this.lj.values();};a.prototype.entries=function(){return this.lj.entries();};return a;}();}function T(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(fa.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ca.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:O()});}return a[f];}d=O();f=b();return function(){function a(){this.Yz=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?fa.has(a,this.Yz):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?fa.get(a,this.Yz):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.Yz]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.Yz]:!1;};a.prototype.clear=function(){this.Yz=b();};return a;}();}function Y(a){a.WPb=1;delete a.XPb;return a;}ca=Object.prototype.hasOwnProperty;W="function"===typeof Object.create;ea=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();O=W?function(){return Y(Object.create(null));}:ea?function(){return Y({__proto__:null});}:function(){return Y({});};(function(a){var b;b=!W&&!ea;a.has=b?function(a,b){return ca.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ca.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(fa||(fa={})));ia=Object.getPrototypeOf(Function);ha="function"===typeof Map?Map:Q();P="function"===typeof Set?Set:y();ja=new("function"===typeof WeakMap?WeakMap:(T()))();b.rx=function(a,b,c,d){var g;if(q(d)){if(q(c)){if(!r(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!q(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!r(a))throw new TypeError();if(!u(b))throw new TypeError();c=A(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!r(a))throw new TypeError();if(!u(b))throw new TypeError();if(q(c))throw new TypeError();if(!u(d))throw new TypeError();c=A(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!q(g)){if(!u(g))throw new TypeError();d=g;}}return d;}};b.Ad=function(a,b){return function(d,f){if(q(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!u(d))throw new TypeError();f=A(f);c(d,f,!0).set(a,b);}};};b.uca=function(a,b,d){var f;if(!u(d))throw new TypeError();q(f)||(f=A(f));c(d,f,!0).set(a,b);};b.Iob=function(a,b){var c;if(!u(b))throw new TypeError();q(c)||(c=A(c));return d(a,b,c);};b.Ofa=function(a,b){var c;if(!u(b))throw new TypeError();q(c)||(c=A(c));return g(a,b,c);};b.getMetadata=function(a,b,c){if(!u(b))throw new TypeError();q(c)||(c=A(c));return h(a,b,c);};b.DSb=function(a,b,c){if(!u(b))throw new TypeError();q(c)||(c=A(c));return f(a,b,c);};b.CSb=function(a,b){if(!u(a))throw new TypeError();q(b)||(b=A(b));return l(a,b);};b.ESb=function(a,b){if(!u(a))throw new TypeError();q(b)||(b=A(b));return m(a,b);};b.GRb=function(a,b,d){var f;if(!u(b))throw new TypeError();q(d)||(d=A(d));f=c(b,d,!1);if(q(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ja.get(b);a["delete"](d);if(0<a.size)return!0;ja["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ca.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof N?N:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(143)));},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(1158);a(1157);N._cad_global={};N.DEBUG=!1;a(9);a(10);a(15);a(20);a(43);a(91);a(550);a(274);a(59);a(35);a(16);a(76);a(56);a(549);a(184);a(461);a(548);a(182);a(547);a(272);a(202);a(358);a(294);a(288);a(290);a(289);a(271);a(302);a(301);a(299);a(145);a(190);a(546);a(12);a(283);a(545);a(121);a(67);a(293);a(125);a(357);a(356);a(201);a(544);a(543);a(330);a(542);a(541);a(336);a(188);a(340);a(189);a(303);a(540);a(186);a(286);a(148);a(298);a(122);a(80);a(539);a(538);a(537);a(536);a(535);a(533);a(287);a(57);a(532);a(291);a(355);a(292);a(284);a(531);a(530);a(276);a(119);a(529);a(528);a(527);a(526);a(525);a(518);a(515);a(296);},function(d,b,a){d.P=a(1159);}]));}.call(N));}(window));}.call(window));